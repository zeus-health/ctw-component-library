<html>
    <script>
        function getZusAccessToken() {
            return "COPY_TOKEN_HERE";
        }
        
        window.addEventListener('message', ({ data }) => {
            if (data.type === 'zus-ready') {
                document
                    .getElementById('zap')
                    .contentWindow.postMessage(
                        {
                            type: "ZusAggregatedProfileIframeConfig",
                            config: {
                                CTWProviderProps: {
                                    authToken: getZusAccessToken(),
                                    env: "sandbox",
                                    builderId: "2c4ff9df-7f87-4253-b2a7-0e8f4944131e",
                                    theme: {
                                        colors: {
                                            primary: {
                                                main: "#0000ff"
                                            }
                                        }
                                    }
                                },
                                PatientProviderProps: {
                                    patientID: "7a925555-a2e9-46ab-8e67-592f15c67cbf",
                                    systemURL: "https://zusapi.com/fhir/identifier/universal-id"
                                },
                                ZusAggregatedProfileProps: {
                                    // optional specify resources
                                }
                            }
                        },
                        'http://localhost:3000'
                    );
            }
        });
    </script>
    <body>
        <iframe
            id="zap"
            title="zus-aggregated-profile"
            height="600"
            width="1000"
            src="http://localhost:3000/ZAP"
            frameBorder="0"
        ></iframe>        
    </body>
</html>
