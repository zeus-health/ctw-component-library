/* 
  These styles are applied to the entire app.
  NOTE: This is the only file where we can use @apply from tailwind.
*/
@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
  Force supporting browsers to use overlay scrollbar for vertical scrolling.
  This fixes an issue in chrome where the content would shift/jump when
  the scrollbar appears or disappears.
*/
html {
  overflow-y: overlay
}

/* Setup classes within base so that we can overwrite their styles with
   other classes. E.g. "link-primary text-color-900".
 */
@layer base {
  .link-primary {
    @apply cursor-pointer text-primary-900 hover:text-primary-600 hover:underline
  }

  .sidebar-nav-link {
    @apply capitalize hover:text-gray-600 hover:bg-primary-50
  }

  .sidebar-nav-link.active {
    @apply text-white bg-primary-600
  }

  .sidebar-nav-icon {
    @apply text-gray-400 h-6 w-6
  }

  .sidebar-nav-link.active .sidebar-nav-icon {
    @apply text-white
  }

  .sidebar-nav-link:not(.active):hover .sidebar-nav-icon {
    @apply text-primary-600 
  }

  .listbox-button,
  input {
    @apply rounded-md border border-gray-300 py-2 px-3 text-sm shadow-sm
  }

  /* Make sure the floating dropdown get full-width of reference. */
  .listbox-button + div {
    width: 100%;
  }

  button:disabled {
    @apply opacity-70 cursor-not-allowed
  }

  div.error .listbox-button {
    @apply border-alert-300 text-alert-900
  }

  .listbox-button:disabled,
  input:disabled {
    @apply bg-gray-100 opacity-100 cursor-not-allowed
  }

  input.error {
    @apply border-alert-300 pr-10 text-alert-900 focus:border-alert-500 focus:outline-none focus:ring-alert-500 focus:ring-1
  }

  input.dark {
    @apply bg-gray-700 text-gray-100 focus:bg-gray-700 border-0
  }

  input.dark:focus-visible {
    outline-offset: -1px;
    @apply outline-white outline-2
  }
  
  label.error {
    @apply text-alert-600
  }

  /* 
  Setup focus rings.
  We use "focus-visible" so that they only show up when browsers
  think they should (i.e. tabbing but not clicking).
  We setup defaults for our different backgrounds (e.g. navbar).
  */
  button:focus-visible,
  a:focus-visible {
    @apply outline-none ring-2 ring-offset-2 ring-primary-500
  }

  /* Fix outline for inputs where default browser outline was causing
     two outlines to appear. */
  input:focus-visible {
    outline-offset: -1px;
    @apply outline outline-primary-500 outline-2;
  }

  .bg-gray-100 button,
  .bg-gray-100 a {
    @apply focus-visible:ring-offset-gray-100
  }

  .bg-primary-700 button {
    @apply focus-visible:ring-white focus-visible:ring-offset-primary-700
  }

  .bg-gray-800 button,
  .bg-gray-800 a {
    @apply focus-visible:ring-white focus-visible:ring-offset-gray-800
  }

  .btn {
    @apply rounded-md border border-transparent py-2 px-4 text-sm font-medium shadow-sm
  }

  .btn-default {
    @apply btn border-gray-300 bg-white text-gray-700 hover:bg-gray-50

  }

  .btn-primary {
    @apply btn bg-primary-600 text-white hover:bg-primary-700
  }

  .btn-group button {
    @apply rounded-none;
    margin-left: -1px; /* Counteract button borders. */
  }

  .btn-group button:first-child {
    margin-left: 0;
    @apply rounded-l-md;
  }

  .btn-group button:last-child {
    @apply rounded-r-md;
  }

  .toggle-checkbox:checked {
    @apply border-primary-600 right-0;
  }

  .toggle-checkbox {
    @apply p-0.5 z-10;
  }

  .toggle-checkbox:checked + .toggle-span {
    @apply absolute inset-0 pointer-events-none bg-primary-600;
  }

  tr.cursor-pointer:focus-visible td:first-child,
  tr.cursor-pointer:hover td:first-child {
    @apply text-primary-500
  }
}