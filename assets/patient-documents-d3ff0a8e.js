import{R as r,r as D}from"./index-6f814c40.js";import{c as _}from"./index-74f03c09.js";import{b as h,u as f}from"./resource-details-drawer-0824ed1a.js";import{V as y}from"./view-fhir-81c226a4.js";import{w}from"./error-boundary-a8316818.js";import{w as g,s as E,Y as P,u as C}from"./patient-helper-9ca0101c.js";import{T as v}from"./table-6b14d129.js";import"./_baseToString-ba0098b0.js";import"./_equalByTag-3aa7c076.js";import"./_baseClone-7982cf45.js";import"./sortBy-8d97dd92.js";import"./_baseForOwn-2ea4fe61.js";import"./mergeWith-9910f455.js";import{i as N}from"./isEqual-38ff4822.js";import"./_createSet-3c80ad01.js";import{u as b}from"./uniqWith-ade993ae.js";import{o as R}from"./values-e0b170db.js";import{u as T}from"./patient-provider-bbc62e03.js";import{u as I}from"./use-breakpoints-8921c18b.js";const s=(e=!1)=>{const a=[{widthPercent:20,minWidth:100,title:"Date Created",render:t=>r.createElement("div",{className:"group-hover:ctw-underline"},t.dateCreated)},{widthPercent:30,minWidth:200,title:"Title",render:t=>r.createElement("div",null,t.title)},{widthPercent:30,minWidth:200,title:"Managing Organization",render:t=>r.createElement("div",null,t.custodian)}];return e&&a.push({widthPercent:20,minWidth:150,render:t=>r.createElement(y,{name:"Document Resource",resource:t.resource})}),a};try{s.displayName="patientDocumentColumns",s.__docgenInfo={description:"",displayName:"patientDocumentColumns",props:{}}}catch{}const i=e=>{const a=e.map(n=>new h(n));return b(a,(n,o)=>N(m(n),m(o)))},m=e=>[e.dateCreated,e.custodian,e.title];try{i.displayName="applyDocumentFilters",i.__docgenInfo={description:"",displayName:"applyDocumentFilters",props:{}}}catch{}function W(){return T(P,[],g(async(e,a)=>{try{const{bundle:t,resources:n}=await E("DocumentReference",e,{patientUPID:a.UPID});return R(i(n),[o=>o.resource.content[0].attachment.creation||""],["desc"])}catch(t){throw new Error(`Failed fetching document information for patient: ${t}`)}},"req.patient_document"))}function k({className:e}){const a=D.useRef(null),t=I(a),n=W(),{featureFlags:o}=C(),u=f({header:c=>`${c.dateCreated} - ${c.title}`,details:M}),d=n.data??[],{isLoading:p}=n;return r.createElement("div",{ref:a,"data-zus-telemetry-namespace":"Documents",className:_("ctw-patient-documents ctw-scrollable-pass-through-height ctw-bg-white",e,{"ctw-stacked":t.sm})},r.createElement(v,{stacked:t.sm,isLoading:p,records:d,columns:s(o==null?void 0:o.enableViewFhirButton),handleRowClick:u}))}const l=w(k,"PatientDocuments"),M=e=>[{label:"status",value:e.status},{label:"docStatus",value:e.docStatus},{label:"Managing Organization",value:e.custodian},{label:"Section Display",value:e.sectionDisplays&&r.createElement("div",null,e.sectionDisplays.map((a,t)=>r.createElement("div",{key:a+t},a)))}];try{l.displayName="PatientDocuments",l.__docgenInfo={description:"",displayName:"PatientDocuments",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{l as P};
