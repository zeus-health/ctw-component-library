{"version":3,"file":"drawer.stories.676ff9df.js","sources":["../../src/components/core/drawer.stories.tsx"],"sourcesContent":["import { expect } from \"@storybook/jest\";\nimport { Meta, StoryObj } from \"@storybook/react\";\nimport { userEvent, within } from \"@storybook/testing-library\";\nimport { useState } from \"react\";\nimport { Drawer, DrawerProps } from \"@/components/core/drawer\";\n\nexport default {\n  component: Drawer,\n  tags: [\"docsPage\"],\n  // Setup a button to open drawer stories.\n  decorators: [\n    (Story, { args }) => {\n      const [drawerIsOpen, setDrawerIsOpen] = useState(false);\n      return (\n        <div id=\"headlessui-portal-root\">\n          <button\n            type=\"button\"\n            className=\"ctw-btn-primary\"\n            onClick={() => setDrawerIsOpen(true)}\n          >\n            Open\n          </button>\n          <Story\n            args={{\n              ...args,\n              isOpen: drawerIsOpen,\n              onClose: () => setDrawerIsOpen(false),\n            }}\n          />\n        </div>\n      );\n    },\n  ],\n} as Meta<DrawerProps>;\n\nexport const Basic: StoryObj<DrawerProps> = {\n  args: {\n    title: \"My Title\",\n    children: (\n      <>\n        <Drawer.Body>\n          My Body\n          {[...Array(20)].map((_, i) => (\n            // eslint-disable-next-line react/no-array-index-key\n            <p key={i}>scrollable content {i}</p>\n          ))}\n        </Drawer.Body>\n        <Drawer.Footer>My Footer</Drawer.Footer>\n      </>\n    ),\n  },\n};\n\nexport const Test: StoryObj<DrawerProps> = {\n  ...Basic,\n  play: async ({ canvasElement }) => {\n    const canvas = within(canvasElement);\n\n    // Verify drawer doesn't show right away.\n    expect(canvas.queryByText(/my title/i)).toBeNull();\n\n    // Open drawer and verify our three areas appear.\n    userEvent.click(canvas.getByRole(\"button\"));\n    expect(canvas.getByText(/my title/i)).toBeInTheDocument();\n    expect(canvas.getByText(/scrollable content 0/i)).toBeInTheDocument();\n    expect(canvas.getByText(/my footer/i)).toBeInTheDocument();\n    userEvent.click(canvas.getByLabelText(\"close\"));\n  },\n};\n"],"names":["drawer_stories","Drawer","Story","args","drawerIsOpen","setDrawerIsOpen","useState","React","Basic","_","i","Test","canvasElement","canvas","within","expect","userEvent"],"mappings":"0RAMA,MAAeA,EAAA,CACb,UAAWC,EACX,KAAM,CAAC,UAAU,EAEjB,WAAY,CACV,CAACC,EAAO,CAAE,KAAAC,KAAW,CACnB,KAAM,CAACC,EAAcC,CAAe,EAAIC,mBAAS,EAAK,EACtD,OACGC,EAAA,cAAA,MAAA,CAAI,GAAG,wBAAA,EACLA,EAAA,cAAA,SAAA,CACC,KAAK,SACL,UAAU,kBACV,QAAS,IAAMF,EAAgB,EAAI,CACpC,EAAA,MAED,EACCE,EAAA,cAAAL,EAAA,CACC,KAAM,CACJ,GAAGC,EACH,OAAQC,EACR,QAAS,IAAMC,EAAgB,EAAK,CACtC,CACF,CAAA,CACF,CAEJ,CACF,CACF,EAEaG,EAA+B,CAC1C,KAAM,CACJ,MAAO,WACP,SAEID,EAAA,cAAAA,EAAA,SAAA,KAAAA,EAAA,cAACN,EAAO,KAAP,KAAY,UAEV,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,IAAI,CAACQ,EAAGC,IAErBH,EAAA,cAAA,IAAA,CAAE,IAAKG,CAAG,EAAA,sBAAoBA,CAAE,CAClC,CACH,kBACCT,EAAO,OAAP,KAAc,WAAS,CAC1B,CAEJ,CACF,EAEaU,EAA8B,CACzC,GAAGH,EACH,KAAM,MAAO,CAAE,cAAAI,KAAoB,CAC3B,MAAAC,EAASC,EAAOF,CAAa,EAGnCG,EAAOF,EAAO,YAAY,WAAW,CAAC,EAAE,SAAS,EAGjDG,EAAU,MAAMH,EAAO,UAAU,QAAQ,CAAC,EAC1CE,EAAOF,EAAO,UAAU,WAAW,CAAC,EAAE,kBAAkB,EACxDE,EAAOF,EAAO,UAAU,uBAAuB,CAAC,EAAE,kBAAkB,EACpEE,EAAOF,EAAO,UAAU,YAAY,CAAC,EAAE,kBAAkB,EACzDG,EAAU,MAAMH,EAAO,eAAe,OAAO,CAAC,CAChD,CACF"}