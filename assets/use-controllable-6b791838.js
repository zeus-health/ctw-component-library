import{r as l}from"./index-6f814c40.js";import{a as x,b as c,e as g,o as y}from"./use-watch-ad083092.js";function $(e,r){let[t,s]=l.useState(e),u=x(e);return c(()=>s(u.current),[u,s,...r]),t}function p(e){var r;if(e.type)return e.type;let t=(r=e.as)!=null?r:"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function w(e,r){let[t,s]=l.useState(()=>p(e));return c(()=>{s(p(e))},[e.type,e.as]),c(()=>{t||!r.current||r.current instanceof HTMLButtonElement&&!r.current.hasAttribute("type")&&s("button")},[t,r]),t}function D({container:e,accept:r,walk:t,enabled:s=!0}){let u=l.useRef(r),o=l.useRef(t);l.useEffect(()=>{u.current=r,o.current=t},[r,t]),c(()=>{if(!e||!s)return;let n=g(e);if(!n)return;let i=u.current,a=o.current,f=Object.assign(h=>i(h),{acceptNode:i}),d=n.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,f,!1);for(;d.nextNode();)a(d.currentNode)},[e,s,u,o])}function I(e){throw new Error("Unexpected object: "+e)}var N=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(N||{});function L(e,r){let t=r.resolveItems();if(t.length<=0)return null;let s=r.resolveActiveIndex(),u=s??-1,o=(()=>{switch(e.focus){case 0:return t.findIndex(n=>!r.resolveDisabled(n));case 1:{let n=t.slice().reverse().findIndex((i,a,f)=>u!==-1&&f.length-a-1>=u?!1:!r.resolveDisabled(i));return n===-1?n:t.length-1-n}case 2:return t.findIndex((n,i)=>i<=u?!1:!r.resolveDisabled(n));case 3:{let n=t.slice().reverse().findIndex(i=>!r.resolveDisabled(i));return n===-1?n:t.length-1-n}case 4:return t.findIndex(n=>r.resolveId(n)===e.id);case 5:return null;default:I(e)}})();return o===-1?s:o}function S(e={},r=null,t=[]){for(let[s,u]of Object.entries(e))v(t,b(r,s),u);return t}function b(e,r){return e?e+"["+r+"]":r}function v(e,r,t){if(Array.isArray(t))for(let[s,u]of t.entries())v(e,b(r,s.toString()),u);else t instanceof Date?e.push([r,t.toISOString()]):typeof t=="boolean"?e.push([r,t?"1":"0"]):typeof t=="string"?e.push([r,t]):typeof t=="number"?e.push([r,`${t}`]):t==null?e.push([r,""]):S(t,r,e)}function A(e,r,t){let[s,u]=l.useState(t),o=e!==void 0;return[o?e:s,y(n=>(o||u(n),r==null?void 0:r(n)))]}export{D as F,N as a,S as e,$ as i,A as p,w as s,L as x};
