import{r as d,R as e}from"./index-6f814c40.js";import{a as S,u as D,M as g}from"./use-medications-64655112.js";import{w as P}from"./error-boundary-784d2b69.js";import{b as M,S as N}from"./use-filtered-sorted-data-9e5fa73c.js";import{p as T,g as k,t as A,i as u}from"./values-c30f357d.js";import{s as F}from"./sort-b8885781.js";const p=[{display:"Name (A-Z)",sorts:[{key:"display",dir:"asc"}]},{display:"Name (Z-A)",sorts:[{key:"display",dir:"desc"}]},{display:"Status (A-Z)",sorts:[{key:"status",dir:"asc"},{key:"dateAsserted",dir:"desc"}]},{display:"Status (Z-A)",sorts:[{key:"status",dir:"desc"},{key:"dateAsserted",dir:"desc"}]},{display:"Last Fill Date (Oldest to Newest)",sorts:[{key:"lastFillDate",dir:"desc",isDate:!0}]},{display:"Last Fill Date (Newest to Oldest)",sorts:[{key:"lastFillDate",dir:"asc",isDate:!0}]},{display:"Last Prescribed (Old to New)",sorts:[{key:"lastPrescribedDate",isDate:!0,dir:"desc"},{key:"lastPrescriber",dir:"asc"}]},{display:"Last Prescribed (New to Old)",sorts:[{key:"lastPrescribedDate",isDate:!0,dir:"asc"},{key:"lastPrescriber",dir:"asc"}]}],n=p[0],c=P(({showInactive:a=!1,sortColumn:r="display",sortOrder:i="asc",onAfterOpenHistoryDrawer:l,onOpenHistoryDrawer:o})=>{const[m,v]=d.useState([]),{builderMedications:y,isLoading:f}=S(),b=D(),{data:t,setSort:h}=M({defaultFilters:{},defaultSort:n,records:y});function w(s){u(o)&&o(),b({medication:s}),setTimeout(()=>{u(l)&&l()},0)}return d.useEffect(()=>{v(F(a?t:t.filter(s=>s.displayStatus==="Active"),T(k(r),A),i))},[t,r,i,a]),e.createElement(e.Fragment,null,e.createElement("div",{className:"ctw-flex ctw-flex-wrap ctw-gap-x-2"},e.createElement(N,{className:"ctw-my-2",options:p,onChange:h,defaultSort:n})),e.createElement(g,{medicationStatements:m,telemetryNamespace:"ProviderMedsTable",isLoading:f,handleRowClick:w}))},"ProviderMedsTable");try{c.displayName="ProviderMedsTable",c.__docgenInfo={description:`Displays a table of medications that are scoped to the CTWContext builder
and patient. To show medications that aren't scoped to the builder, use the
\`OtherProviderMedsTable\` instead.

The table has a menu to the right side which will pull out the
history for the medication listed in that row.`,displayName:"ProviderMedsTable",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},showInactive:{defaultValue:null,description:"",name:"showInactive",required:!1,type:{name:"boolean"}},sortColumn:{defaultValue:null,description:"",name:"sortColumn",required:!1,type:{name:"enum",value:[{value:'"resourceType"'},{value:'"builderPatientRxNormStatus"'},{value:'"basedOn"'},{value:'"category"'},{value:'"context"'},{value:'"dateAsserted"'},{value:'"derivedFrom"'},{value:'"aggregatedFrom"'},{value:'"display"'},{value:'"dosage"'},{value:'"effectiveStart"'},{value:'"identifier"'},{value:'"informationSource"'},{value:'"medicationReference"'},{value:'"notesDisplay"'},{value:'"partOf"'},{value:'"patientStatus"'},{value:'"rxNorm"'},{value:'"rxNormCodeableConcept"'},{value:'"reason"'},{value:'"reasonReference"'},{value:'"isArchived"'},{value:'"isInactive"'},{value:'"status"'},{value:'"displayStatus"'},{value:'"statusReason"'},{value:'"subject"'},{value:'"subjectID"'},{value:'"patient"'},{value:'"lastFillDate"'},{value:'"quantity"'},{value:'"daysSupply"'},{value:'"refills"'},{value:'"lastPrescriber"'},{value:'"lastPrescribedDate"'},{value:'"resource"'},{value:'"includedResources"'},{value:'"revIncludes"'},{value:'"id"'},{value:'"isSummaryResource"'},{value:'"resourceTypeTitle"'},{value:'"getBasicResourceByAction"'},{value:'"toString"'}]}},sortOrder:{defaultValue:null,description:"",name:"sortOrder",required:!1,type:{name:"enum",value:[{value:'"asc"'},{value:'"desc"'}]}},onOpenHistoryDrawer:{defaultValue:null,description:"",name:"onOpenHistoryDrawer",required:!1,type:{name:"(() => void)"}},onAfterOpenHistoryDrawer:{defaultValue:null,description:"",name:"onAfterOpenHistoryDrawer",required:!1,type:{name:"(() => void)"}}}}}catch{}export{c as P,n as d,p as m};
