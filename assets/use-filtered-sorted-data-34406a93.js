import{r as i,R as w,a as Yr}from"./index-6f814c40.js";import{c as L}from"./index-74f03c09.js";import{u as Xr}from"./use-patient-history-e933dd2e.js";import{w as Qr}from"./error-boundary-a6cc52ac.js";import{Z as Zr,b as Jr,at as eo}from"./patient-provider-3a9f6b01.js";import{T as to}from"./table-21b6246a.js";import{u as no}from"./use-breakpoints-f86f76f5.js";import{F as ne,e as Ln,g as it,h as jt,i as ro,j as oo,k as ao}from"./details-card-505ef9df.js";import{_ as T}from"./extends-98964cd2.js";import{r as Gt,R as co}from"./index-6de6b113.js";import{C as re,y as oe,o as M,b as K,u as G,L as Vn,j as Bn,g as Se,h as io,s as so,F as lo,$ as ae,I as me,p as ke,S as Je,f as qn,e as uo,i as Ce,k as Un,N as Wn,c as O,r as Kn,d as Hn,D as fo,T as cn,l as zn}from"./use-watch-ad083092.js";import{p as po,e as mo,i as jn,s as Gn,a as F,x as Yn,F as vo}from"./use-controllable-6b791838.js";import{n as ho}from"./drawer-10febc18.js";import{s as sn,i as Xn,a as bo,p as ln,u as un,o as dn}from"./values-74d3734a.js";import"./_baseForOwn-bf15a333.js";import"./sortBy-6233a452.js";import{f as go,c as Qn}from"./sortBy-5365e8c3.js";import"./_baseClone-1afc8850.js";import{b as yo,i as wo}from"./_baseIsEqual-bfc35476.js";import{i as Ne}from"./isString-c751f220.js";import"./_createSet-8cf710c5.js";import{u as Zn}from"./uniq-c55c5851.js";import{a as $o}from"./sort-f301cee5.js";var xo=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(xo||{}),Eo=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Eo||{}),Ro=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ro||{}),So=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.SetDisabled=2]="SetDisabled",e[e.SetOrientation=3]="SetOrientation",e[e.GoToOption=4]="GoToOption",e[e.Search=5]="Search",e[e.ClearSearch=6]="ClearSearch",e[e.RegisterOption=7]="RegisterOption",e[e.UnregisterOption=8]="UnregisterOption",e))(So||{});function vt(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=Hn(t(e.options.slice()),a=>a.dataRef.current.domRef.current),o=n?r.indexOf(n):null;return o===-1&&(o=null),{options:r,activeOptionIndex:o}}let Co={[1](e){return e.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},[0](e){if(e.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{value:n,mode:r,compare:o}=e.propsRef.current,a=e.options.findIndex(s=>{let c=s.dataRef.current.value;return G(r,{[1]:()=>n.some(l=>o(l,c)),[0]:()=>o(n,c)})});return a!==-1&&(t=a),{...e,listboxState:0,activeOptionIndex:t}},[2](e,t){return e.disabled===t.disabled?e:{...e,disabled:t.disabled}},[3](e,t){return e.orientation===t.orientation?e:{...e,orientation:t.orientation}},[4](e,t){var n;if(e.disabled||e.listboxState===1)return e;let r=vt(e),o=Yn(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:o,activationTrigger:(n=t.trigger)!=null?n:1}},[5]:(e,t)=>{if(e.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(s=>{var c;return!s.dataRef.current.disabled&&((c=s.dataRef.current.textValue)==null?void 0:c.startsWith(r))}),a=o?e.options.indexOf(o):-1;return a===-1||a===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:a,activationTrigger:1}},[6](e){return e.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},[7]:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=vt(e,o=>[...o,n]);if(e.activeOptionIndex===null){let{value:o,mode:a,compare:s}=e.propsRef.current,c=t.dataRef.current.value;G(a,{[1]:()=>o.some(l=>s(l,c)),[0]:()=>s(o,c)})&&(r.activeOptionIndex=r.options.indexOf(n))}return{...e,...r}},[8]:(e,t)=>{let n=vt(e,r=>{let o=r.findIndex(a=>a.id===t.id);return o!==-1&&r.splice(o,1),r});return{...e,...n,activationTrigger:1}}},Yt=i.createContext(null);Yt.displayName="ListboxContext";function Ve(e){let t=i.useContext(Yt);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ve),n}return t}function _o(e,t){return G(t.type,Co,e,t)}let Po=i.Fragment,Io=re(function(e,t){let{value:n,defaultValue:r,name:o,onChange:a,by:s=(y,x)=>y===x,disabled:c=!1,horizontal:l=!1,multiple:f=!1,...d}=e;const u=l?"horizontal":"vertical";let b=oe(t),[v,m]=po(n,a,r),p=i.useReducer(_o,{listboxState:1,propsRef:{current:{value:v,onChange:m,mode:f?1:0,compare:M(typeof s=="string"?(y,x)=>{let C=s;return(y==null?void 0:y[C])===(x==null?void 0:x[C])}:s)}},labelRef:i.createRef(),buttonRef:i.createRef(),optionsRef:i.createRef(),disabled:c,orientation:u,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1}),[{listboxState:g,propsRef:h,optionsRef:$,buttonRef:E},R]=p;h.current.value=v,h.current.mode=f?1:0,K(()=>{h.current.onChange=y=>G(h.current.mode,{[0](){return m(y)},[1](){let x=h.current.value.slice(),{compare:C}=h.current,I=x.findIndex(A=>C(A,y));return I===-1?x.push(y):x.splice(I,1),m(x)}})},[m,h]),K(()=>R({type:2,disabled:c}),[c]),K(()=>R({type:3,orientation:u}),[u]),Vn([E,$],(y,x)=>{var C;R({type:1}),Un(x,Wn.Loose)||(y.preventDefault(),(C=E.current)==null||C.focus())},g===0);let S=i.useMemo(()=>({open:g===0,disabled:c,value:v}),[g,c,v]),_={ref:b};return w.createElement(Yt.Provider,{value:p},w.createElement(Bn,{value:G(g,{[0]:Se.Open,[1]:Se.Closed})},o!=null&&v!=null&&mo({[o]:v}).map(([y,x])=>w.createElement(io,{features:so.Hidden,...lo({key:y,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:y,value:x})})),ae({ourProps:_,theirProps:d,slot:S,defaultTag:Po,name:"Listbox"})))}),Oo="button",To=re(function(e,t){var n;let[r,o]=Ve("Listbox.Button"),a=oe(r.buttonRef,t),s=`headlessui-listbox-button-${me()}`,c=ke(),l=M(p=>{switch(p.key){case O.Space:case O.Enter:case O.ArrowDown:p.preventDefault(),o({type:0}),c.nextFrame(()=>{r.propsRef.current.value||o({type:4,focus:F.First})});break;case O.ArrowUp:p.preventDefault(),o({type:0}),c.nextFrame(()=>{r.propsRef.current.value||o({type:4,focus:F.Last})});break}}),f=M(p=>{switch(p.key){case O.Space:p.preventDefault();break}}),d=M(p=>{if(Kn(p.currentTarget))return p.preventDefault();r.listboxState===0?(o({type:1}),c.nextFrame(()=>{var g;return(g=r.buttonRef.current)==null?void 0:g.focus({preventScroll:!0})})):(p.preventDefault(),o({type:0}))}),u=jn(()=>{if(r.labelRef.current)return[r.labelRef.current.id,s].join(" ")},[r.labelRef.current,s]),b=i.useMemo(()=>({open:r.listboxState===0,disabled:r.disabled,value:r.propsRef.current.value}),[r]),v=e,m={ref:a,id:s,type:Gn(e,r.buttonRef),"aria-haspopup":!0,"aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.disabled?void 0:r.listboxState===0,"aria-labelledby":u,disabled:r.disabled,onKeyDown:l,onKeyUp:f,onClick:d};return ae({ourProps:m,theirProps:v,slot:b,defaultTag:Oo,name:"Listbox.Button"})}),No="label",Ao=re(function(e,t){let[n]=Ve("Listbox.Label"),r=`headlessui-listbox-label-${me()}`,o=oe(n.labelRef,t),a=M(()=>{var c;return(c=n.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})}),s=i.useMemo(()=>({open:n.listboxState===0,disabled:n.disabled}),[n]);return ae({ourProps:{ref:o,id:r,onClick:a},theirProps:e,slot:s,defaultTag:No,name:"Listbox.Label"})}),ko="ul",Do=Je.RenderStrategy|Je.Static,Mo=re(function(e,t){var n;let[r,o]=Ve("Listbox.Options"),a=oe(r.optionsRef,t),s=`headlessui-listbox-options-${me()}`,c=ke(),l=ke(),f=qn(),d=(()=>f!==null?f===Se.Open:r.listboxState===0)();i.useEffect(()=>{var g;let h=r.optionsRef.current;!h||r.listboxState===0&&h!==((g=uo(h))==null?void 0:g.activeElement)&&h.focus({preventScroll:!0})},[r.listboxState,r.optionsRef]);let u=M(g=>{switch(l.dispose(),g.key){case O.Space:if(r.searchQuery!=="")return g.preventDefault(),g.stopPropagation(),o({type:5,value:g.key});case O.Enter:if(g.preventDefault(),g.stopPropagation(),r.activeOptionIndex!==null){let{dataRef:h}=r.options[r.activeOptionIndex];r.propsRef.current.onChange(h.current.value)}r.propsRef.current.mode===0&&(o({type:1}),Ce().nextFrame(()=>{var h;return(h=r.buttonRef.current)==null?void 0:h.focus({preventScroll:!0})}));break;case G(r.orientation,{vertical:O.ArrowDown,horizontal:O.ArrowRight}):return g.preventDefault(),g.stopPropagation(),o({type:4,focus:F.Next});case G(r.orientation,{vertical:O.ArrowUp,horizontal:O.ArrowLeft}):return g.preventDefault(),g.stopPropagation(),o({type:4,focus:F.Previous});case O.Home:case O.PageUp:return g.preventDefault(),g.stopPropagation(),o({type:4,focus:F.First});case O.End:case O.PageDown:return g.preventDefault(),g.stopPropagation(),o({type:4,focus:F.Last});case O.Escape:return g.preventDefault(),g.stopPropagation(),o({type:1}),c.nextFrame(()=>{var h;return(h=r.buttonRef.current)==null?void 0:h.focus({preventScroll:!0})});case O.Tab:g.preventDefault(),g.stopPropagation();break;default:g.key.length===1&&(o({type:5,value:g.key}),l.setTimeout(()=>o({type:6}),350));break}}),b=jn(()=>{var g,h,$;return($=(g=r.labelRef.current)==null?void 0:g.id)!=null?$:(h=r.buttonRef.current)==null?void 0:h.id},[r.labelRef.current,r.buttonRef.current]),v=i.useMemo(()=>({open:r.listboxState===0}),[r]),m=e,p={"aria-activedescendant":r.activeOptionIndex===null||(n=r.options[r.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":r.propsRef.current.mode===1?!0:void 0,"aria-labelledby":b,"aria-orientation":r.orientation,id:s,onKeyDown:u,role:"listbox",tabIndex:0,ref:a};return ae({ourProps:p,theirProps:m,slot:v,defaultTag:ko,features:Do,visible:d,name:"Listbox.Options"})}),Fo="li",Lo=re(function(e,t){let{disabled:n=!1,value:r,...o}=e,[a,s]=Ve("Listbox.Option"),c=`headlessui-listbox-option-${me()}`,l=a.activeOptionIndex!==null?a.options[a.activeOptionIndex].id===c:!1,{value:f,compare:d}=a.propsRef.current,u=G(a.propsRef.current.mode,{[1]:()=>f.some(S=>d(S,r)),[0]:()=>d(f,r)}),b=i.useRef(null),v=oe(t,b);K(()=>{if(a.listboxState!==0||!l||a.activationTrigger===0)return;let S=Ce();return S.requestAnimationFrame(()=>{var _,y;(y=(_=b.current)==null?void 0:_.scrollIntoView)==null||y.call(_,{block:"nearest"})}),S.dispose},[b,l,a.listboxState,a.activationTrigger,a.activeOptionIndex]);let m=i.useRef({disabled:n,value:r,domRef:b});K(()=>{m.current.disabled=n},[m,n]),K(()=>{m.current.value=r},[m,r]),K(()=>{var S,_;m.current.textValue=(_=(S=b.current)==null?void 0:S.textContent)==null?void 0:_.toLowerCase()},[m,b]);let p=M(()=>a.propsRef.current.onChange(r));K(()=>(s({type:7,id:c,dataRef:m}),()=>s({type:8,id:c})),[m,c]);let g=M(S=>{if(n)return S.preventDefault();p(),a.propsRef.current.mode===0&&(s({type:1}),Ce().nextFrame(()=>{var _;return(_=a.buttonRef.current)==null?void 0:_.focus({preventScroll:!0})}))}),h=M(()=>{if(n)return s({type:4,focus:F.Nothing});s({type:4,focus:F.Specific,id:c})}),$=M(()=>{n||l||s({type:4,focus:F.Specific,id:c,trigger:0})}),E=M(()=>{n||!l||s({type:4,focus:F.Nothing})}),R=i.useMemo(()=>({active:l,selected:u,disabled:n}),[l,u,n]);return ae({ourProps:{id:c,ref:v,role:"option",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,"aria-selected":u,disabled:void 0,onClick:g,onFocus:h,onPointerMove:$,onMouseMove:$,onPointerLeave:E,onMouseLeave:E},theirProps:o,slot:R,defaultTag:Fo,name:"Listbox.Option"})}),He=Object.assign(Io,{Button:To,Label:Ao,Options:Mo,Option:Lo});var Vo=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Vo||{}),Bo=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Bo||{}),qo=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(qo||{});function ht(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=Hn(t(e.items.slice()),a=>a.dataRef.current.domRef.current),o=n?r.indexOf(n):null;return o===-1&&(o=null),{items:r,activeItemIndex:o}}let Uo={[1](e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},[0](e){return e.menuState===0?e:{...e,menuState:0}},[2]:(e,t)=>{var n;let r=ht(e),o=Yn(t,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeItemIndex:o,activationTrigger:(n=t.trigger)!=null?n:1}},[3]:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(s=>{var c;return((c=s.dataRef.current.textValue)==null?void 0:c.startsWith(r))&&!s.dataRef.current.disabled}),a=o?e.items.indexOf(o):-1;return a===-1||a===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:a,activationTrigger:1}},[4](e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},[5]:(e,t)=>{let n=ht(e,r=>[...r,{id:t.id,dataRef:t.dataRef}]);return{...e,...n}},[6]:(e,t)=>{let n=ht(e,r=>{let o=r.findIndex(a=>a.id===t.id);return o!==-1&&r.splice(o,1),r});return{...e,...n,activationTrigger:1}}},Xt=i.createContext(null);Xt.displayName="MenuContext";function st(e){let t=i.useContext(Xt);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,st),n}return t}function Wo(e,t){return G(t.type,Uo,e,t)}let Ko=i.Fragment,Ho=re(function(e,t){let n=i.useReducer(Wo,{menuState:1,buttonRef:i.createRef(),itemsRef:i.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:r,itemsRef:o,buttonRef:a},s]=n,c=oe(t);Vn([a,o],(u,b)=>{var v;s({type:1}),Un(b,Wn.Loose)||(u.preventDefault(),(v=a.current)==null||v.focus())},r===0);let l=i.useMemo(()=>({open:r===0}),[r]),f=e,d={ref:c};return w.createElement(Xt.Provider,{value:n},w.createElement(Bn,{value:G(r,{[0]:Se.Open,[1]:Se.Closed})},ae({ourProps:d,theirProps:f,slot:l,defaultTag:Ko,name:"Menu"})))}),zo="button",jo=re(function(e,t){var n;let[r,o]=st("Menu.Button"),a=oe(r.buttonRef,t),s=`headlessui-menu-button-${me()}`,c=ke(),l=M(m=>{switch(m.key){case O.Space:case O.Enter:case O.ArrowDown:m.preventDefault(),m.stopPropagation(),o({type:0}),c.nextFrame(()=>o({type:2,focus:F.First}));break;case O.ArrowUp:m.preventDefault(),m.stopPropagation(),o({type:0}),c.nextFrame(()=>o({type:2,focus:F.Last}));break}}),f=M(m=>{switch(m.key){case O.Space:m.preventDefault();break}}),d=M(m=>{if(Kn(m.currentTarget))return m.preventDefault();e.disabled||(r.menuState===0?(o({type:1}),c.nextFrame(()=>{var p;return(p=r.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})})):(m.preventDefault(),o({type:0})))}),u=i.useMemo(()=>({open:r.menuState===0}),[r]),b=e,v={ref:a,id:s,type:Gn(e,r.buttonRef),"aria-haspopup":!0,"aria-controls":(n=r.itemsRef.current)==null?void 0:n.id,"aria-expanded":e.disabled?void 0:r.menuState===0,onKeyDown:l,onKeyUp:f,onClick:d};return ae({ourProps:v,theirProps:b,slot:u,defaultTag:zo,name:"Menu.Button"})}),Go="div",Yo=Je.RenderStrategy|Je.Static,Xo=re(function(e,t){var n,r;let[o,a]=st("Menu.Items"),s=oe(o.itemsRef,t),c=ho(o.itemsRef),l=`headlessui-menu-items-${me()}`,f=ke(),d=qn(),u=(()=>d!==null?d===Se.Open:o.menuState===0)();i.useEffect(()=>{let h=o.itemsRef.current;!h||o.menuState===0&&h!==(c==null?void 0:c.activeElement)&&h.focus({preventScroll:!0})},[o.menuState,o.itemsRef,c]),vo({container:o.itemsRef.current,enabled:o.menuState===0,accept(h){return h.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});let b=M(h=>{var $,E;switch(f.dispose(),h.key){case O.Space:if(o.searchQuery!=="")return h.preventDefault(),h.stopPropagation(),a({type:3,value:h.key});case O.Enter:if(h.preventDefault(),h.stopPropagation(),a({type:1}),o.activeItemIndex!==null){let{dataRef:R}=o.items[o.activeItemIndex];(E=($=R.current)==null?void 0:$.domRef.current)==null||E.click()}zn(o.buttonRef.current);break;case O.ArrowDown:return h.preventDefault(),h.stopPropagation(),a({type:2,focus:F.Next});case O.ArrowUp:return h.preventDefault(),h.stopPropagation(),a({type:2,focus:F.Previous});case O.Home:case O.PageUp:return h.preventDefault(),h.stopPropagation(),a({type:2,focus:F.First});case O.End:case O.PageDown:return h.preventDefault(),h.stopPropagation(),a({type:2,focus:F.Last});case O.Escape:h.preventDefault(),h.stopPropagation(),a({type:1}),Ce().nextFrame(()=>{var R;return(R=o.buttonRef.current)==null?void 0:R.focus({preventScroll:!0})});break;case O.Tab:h.preventDefault(),h.stopPropagation(),a({type:1}),Ce().nextFrame(()=>{fo(o.buttonRef.current,h.shiftKey?cn.Previous:cn.Next)});break;default:h.key.length===1&&(a({type:3,value:h.key}),f.setTimeout(()=>a({type:4}),350));break}}),v=M(h=>{switch(h.key){case O.Space:h.preventDefault();break}}),m=i.useMemo(()=>({open:o.menuState===0}),[o]),p=e,g={"aria-activedescendant":o.activeItemIndex===null||(n=o.items[o.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=o.buttonRef.current)==null?void 0:r.id,id:l,onKeyDown:b,onKeyUp:v,role:"menu",tabIndex:0,ref:s};return ae({ourProps:g,theirProps:p,slot:m,defaultTag:Go,features:Yo,visible:u,name:"Menu.Items"})}),Qo=i.Fragment,Zo=re(function(e,t){let{disabled:n=!1,...r}=e,[o,a]=st("Menu.Item"),s=`headlessui-menu-item-${me()}`,c=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===s:!1,l=i.useRef(null),f=oe(t,l);K(()=>{if(o.menuState!==0||!c||o.activationTrigger===0)return;let g=Ce();return g.requestAnimationFrame(()=>{var h,$;($=(h=l.current)==null?void 0:h.scrollIntoView)==null||$.call(h,{block:"nearest"})}),g.dispose},[l,c,o.menuState,o.activationTrigger,o.activeItemIndex]);let d=i.useRef({disabled:n,domRef:l});K(()=>{d.current.disabled=n},[d,n]),K(()=>{var g,h;d.current.textValue=(h=(g=l.current)==null?void 0:g.textContent)==null?void 0:h.toLowerCase()},[d,l]),K(()=>(a({type:5,id:s,dataRef:d}),()=>a({type:6,id:s})),[d,s]);let u=M(g=>{if(n)return g.preventDefault();a({type:1}),zn(o.buttonRef.current)}),b=M(()=>{if(n)return a({type:2,focus:F.Nothing});a({type:2,focus:F.Specific,id:s})}),v=M(()=>{n||c||a({type:2,focus:F.Specific,id:s,trigger:0})}),m=M(()=>{n||!c||a({type:2,focus:F.Nothing})}),p=i.useMemo(()=>({active:c,disabled:n}),[c,n]);return ae({ourProps:{id:s,ref:f,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,disabled:void 0,onClick:u,onFocus:b,onPointerMove:v,onMouseMove:v,onPointerLeave:m,onMouseLeave:m},theirProps:r,slot:p,defaultTag:Qo,name:"Menu.Item"})}),Jo=Object.assign(Ho,{Button:jo,Items:Xo,Item:Zo});const ea=(e,t)=>t?e.filter(n=>{var a;const r=(a=go(t,{key:"isArchived"}))==null?void 0:a.selected,o=!!n.isArchived;return!r&&o?!1:Object.entries(t).every(([s,c])=>{const l=String(n[c.key]);switch(c.type){case"checkbox":if(yo(c.selected))return c.selected.filter(d=>Qn(Zn(e.map(u=>u[c.key]))).includes(d)).includes(l);break;case"select":return l===c.selected}return!0})}):e;function Ds(e,t){return Qn(Zn(e.map(n=>String(n[t]))))}const Ct=Qr(({className:e})=>{const{openHistoryRequestDrawer:t}=Xr();return w.createElement("button",{type:"button",className:L("ctw-btn-clear ctw-link",e),onClick:t,"data-zus-telemetry-click":"Request records"},"Request Records")},"RequestRecordsButton");try{Ct.displayName="RequestRecordsButton",Ct.__docgenInfo={description:"",displayName:"RequestRecordsButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}}}}}catch{}const fn=({className:e,columns:t,data:n,emptyMessage:r,isLoading:o,onRowClick:a,rowActions:s,showTableHead:c})=>{const l=Zr(),f=i.useRef(null),d=no(f),u=typeof c=="boolean"?c:!d.sm,b=l.data?r:w.createElement("div",{className:"ctw-space-y-4"},"Patient not found. Please fill out a short form to"," ",w.createElement(Ct,{className:"ctw-lowercase"}),".");return w.createElement("div",{ref:f,className:L(e,"ctw-scrollable-pass-through-height ctw-resource-table")},w.createElement(to,{getRowClassName:v=>({"ctw-tr-archived":v.isArchived}),showTableHead:u,stacked:d.sm,emptyMessage:b,isLoading:!!l.data&&o,records:n,RowActions:s,columns:t,handleRowClick:a}))};try{fn.displayName="ResourceTable",fn.__docgenInfo={description:"",displayName:"ResourceTable",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<M>[]"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"M[]"}},emptyMessage:{defaultValue:null,description:"",name:"emptyMessage",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},onRowClick:{defaultValue:null,description:"",name:"onRowClick",required:!1,type:{name:"((record: M) => void)"}},rowActions:{defaultValue:null,description:"",name:"rowActions",required:!1,type:{name:"ComponentType<{ record: M; }>"}},showTableHead:{defaultValue:null,description:"",name:"showTableHead",required:!1,type:{name:"boolean"}}}}}catch{}function N(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function ta(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Qt(...e){return t=>e.forEach(n=>ta(n,t))}function H(...e){return i.useCallback(Qt(...e),e)}function Be(e,t=[]){let n=[];function r(a,s){const c=i.createContext(s),l=n.length;n=[...n,s];function f(u){const{scope:b,children:v,...m}=u,p=(b==null?void 0:b[e][l])||c,g=i.useMemo(()=>m,Object.values(m));return i.createElement(p.Provider,{value:g},v)}function d(u,b){const v=(b==null?void 0:b[e][l])||c,m=i.useContext(v);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${u}\` must be used within \`${a}\``)}return f.displayName=a+"Provider",[f,d]}const o=()=>{const a=n.map(s=>i.createContext(s));return function(c){const l=(c==null?void 0:c[e])||a;return i.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return o.scopeName=e,[r,na(o,...t)]}function na(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const s=r.reduce((c,{useScope:l,scopeName:f})=>{const u=l(a)[`__scope${f}`];return{...c,...u}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function Y(e){const t=i.useRef(e);return i.useEffect(()=>{t.current=e}),i.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function Jn({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=ra({defaultProp:t,onChange:n}),a=e!==void 0,s=a?e:r,c=Y(n),l=i.useCallback(f=>{if(a){const u=typeof f=="function"?f(e):f;u!==e&&c(u)}else o(f)},[a,e,o,c]);return[s,l]}function ra({defaultProp:e,onChange:t}){const n=i.useState(e),[r]=n,o=i.useRef(r),a=Y(t);return i.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),n}const De=i.forwardRef((e,t)=>{const{children:n,...r}=e,o=i.Children.toArray(n),a=o.find(aa);if(a){const s=a.props.children,c=o.map(l=>l===a?i.Children.count(s)>1?i.Children.only(null):i.isValidElement(s)?s.props.children:null:l);return i.createElement(_t,T({},r,{ref:t}),i.isValidElement(s)?i.cloneElement(s,void 0,c):null)}return i.createElement(_t,T({},r,{ref:t}),n)});De.displayName="Slot";const _t=i.forwardRef((e,t)=>{const{children:n,...r}=e;return i.isValidElement(n)?i.cloneElement(n,{...ca(r,n.props),ref:Qt(t,n.ref)}):i.Children.count(n)>1?i.Children.only(null):null});_t.displayName="SlotClone";const oa=({children:e})=>i.createElement(i.Fragment,null,e);function aa(e){return i.isValidElement(e)&&e.type===oa}function ca(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...c)=>{a(...c),o(...c)}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}const ia=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],z=ia.reduce((e,t)=>{const n=i.forwardRef((r,o)=>{const{asChild:a,...s}=r,c=a?De:t;return i.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),i.createElement(c,T({},s,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function er(e,t){e&&Gt.flushSync(()=>e.dispatchEvent(t))}function tr(e){const t=e+"CollectionProvider",[n,r]=Be(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=v=>{const{scope:m,children:p}=v,g=w.useRef(null),h=w.useRef(new Map).current;return w.createElement(o,{scope:m,itemMap:h,collectionRef:g},p)},c=e+"CollectionSlot",l=w.forwardRef((v,m)=>{const{scope:p,children:g}=v,h=a(c,p),$=H(m,h.collectionRef);return w.createElement(De,{ref:$},g)}),f=e+"CollectionItemSlot",d="data-radix-collection-item",u=w.forwardRef((v,m)=>{const{scope:p,children:g,...h}=v,$=w.useRef(null),E=H(m,$),R=a(f,p);return w.useEffect(()=>(R.itemMap.set($,{ref:$,...h}),()=>void R.itemMap.delete($))),w.createElement(De,{[d]:"",ref:E},g)});function b(v){const m=a(e+"CollectionConsumer",v);return w.useCallback(()=>{const g=m.collectionRef.current;if(!g)return[];const h=Array.from(g.querySelectorAll(`[${d}]`));return Array.from(m.itemMap.values()).sort((R,S)=>h.indexOf(R.ref.current)-h.indexOf(S.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:s,Slot:l,ItemSlot:u},b,r]}const sa=i.createContext(void 0);function nr(e){const t=i.useContext(sa);return e||t||"ltr"}function la(e,t=globalThis==null?void 0:globalThis.document){const n=Y(e);i.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const Pt="dismissableLayer.update",ua="dismissableLayer.pointerDownOutside",da="dismissableLayer.focusOutside";let pn;const fa=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pa=i.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:c,onDismiss:l,...f}=e,d=i.useContext(fa),[u,b]=i.useState(null),v=(n=u==null?void 0:u.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,m]=i.useState({}),p=H(t,x=>b(x)),g=Array.from(d.layers),[h]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),$=g.indexOf(h),E=u?g.indexOf(u):-1,R=d.layersWithOutsidePointerEventsDisabled.size>0,S=E>=$,_=ma(x=>{const C=x.target,I=[...d.branches].some(A=>A.contains(C));!S||I||(a==null||a(x),c==null||c(x),x.defaultPrevented||l==null||l())},v),y=va(x=>{const C=x.target;[...d.branches].some(A=>A.contains(C))||(s==null||s(x),c==null||c(x),x.defaultPrevented||l==null||l())},v);return la(x=>{E===d.layers.size-1&&(o==null||o(x),!x.defaultPrevented&&l&&(x.preventDefault(),l()))},v),i.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(pn=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),mn(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=pn)}},[u,v,r,d]),i.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),mn())},[u,d]),i.useEffect(()=>{const x=()=>m({});return document.addEventListener(Pt,x),()=>document.removeEventListener(Pt,x)},[]),i.createElement(z.div,T({},f,{ref:p,style:{pointerEvents:R?S?"auto":"none":void 0,...e.style},onFocusCapture:N(e.onFocusCapture,y.onFocusCapture),onBlurCapture:N(e.onBlurCapture,y.onBlurCapture),onPointerDownCapture:N(e.onPointerDownCapture,_.onPointerDownCapture)}))});function ma(e,t=globalThis==null?void 0:globalThis.document){const n=Y(e),r=i.useRef(!1),o=i.useRef(()=>{});return i.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let f=function(){rr(ua,n,l,{discrete:!0})};const l={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function va(e,t=globalThis==null?void 0:globalThis.document){const n=Y(e),r=i.useRef(!1);return i.useEffect(()=>{const o=a=>{a.target&&!r.current&&rr(da,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function mn(){const e=new CustomEvent(Pt);document.dispatchEvent(e)}function rr(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?er(o,a):o.dispatchEvent(a)}let bt=0;function ha(){i.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:vn()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:vn()),bt++,()=>{bt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),bt--}},[])}function vn(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const gt="focusScope.autoFocusOnMount",yt="focusScope.autoFocusOnUnmount",hn={bubbles:!1,cancelable:!0},ba=i.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...s}=e,[c,l]=i.useState(null),f=Y(o),d=Y(a),u=i.useRef(null),b=H(t,p=>l(p)),v=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(r){let p=function(h){if(v.paused||!c)return;const $=h.target;c.contains($)?u.current=$:fe(u.current,{select:!0})},g=function(h){v.paused||!c||c.contains(h.relatedTarget)||fe(u.current,{select:!0})};return document.addEventListener("focusin",p),document.addEventListener("focusout",g),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g)}}},[r,c,v.paused]),i.useEffect(()=>{if(c){gn.add(v);const p=document.activeElement;if(!c.contains(p)){const h=new CustomEvent(gt,hn);c.addEventListener(gt,f),c.dispatchEvent(h),h.defaultPrevented||(ga(Ea(or(c)),{select:!0}),document.activeElement===p&&fe(c))}return()=>{c.removeEventListener(gt,f),setTimeout(()=>{const h=new CustomEvent(yt,hn);c.addEventListener(yt,d),c.dispatchEvent(h),h.defaultPrevented||fe(p??document.body,{select:!0}),c.removeEventListener(yt,d),gn.remove(v)},0)}}},[c,f,d,v]);const m=i.useCallback(p=>{if(!n&&!r||v.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,h=document.activeElement;if(g&&h){const $=p.currentTarget,[E,R]=ya($);E&&R?!p.shiftKey&&h===R?(p.preventDefault(),n&&fe(E,{select:!0})):p.shiftKey&&h===E&&(p.preventDefault(),n&&fe(R,{select:!0})):h===$&&p.preventDefault()}},[n,r,v.paused]);return i.createElement(z.div,T({tabIndex:-1},s,{ref:b,onKeyDown:m}))});function ga(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(fe(r,{select:t}),document.activeElement!==n)return}function ya(e){const t=or(e),n=bn(t,e),r=bn(t.reverse(),e);return[n,r]}function or(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function bn(e,t){for(const n of e)if(!wa(n,{upTo:t}))return n}function wa(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function $a(e){return e instanceof HTMLInputElement&&"select"in e}function fe(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&$a(e)&&t&&e.select()}}const gn=xa();function xa(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=yn(e,t),e.unshift(t)},remove(t){var n;e=yn(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function yn(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Ea(e){return e.filter(t=>t.tagName!=="A")}const ie=globalThis!=null&&globalThis.document?i.useLayoutEffect:()=>{},Ra=Yr["useId".toString()]||(()=>{});let Sa=0;function It(e){const[t,n]=i.useState(Ra());return ie(()=>{e||n(r=>r??String(Sa++))},[e]),e||(t?`radix-${t}`:"")}function ve(e){return e.split("-")[0]}function qe(e){return e.split("-")[1]}function _e(e){return["top","bottom"].includes(ve(e))?"x":"y"}function Zt(e){return e==="y"?"height":"width"}function wn(e,t,n){let{reference:r,floating:o}=e;const a=r.x+r.width/2-o.width/2,s=r.y+r.height/2-o.height/2,c=_e(t),l=Zt(c),f=r[l]/2-o[l]/2,d=c==="x";let u;switch(ve(t)){case"top":u={x:a,y:r.y-o.height};break;case"bottom":u={x:a,y:r.y+r.height};break;case"right":u={x:r.x+r.width,y:s};break;case"left":u={x:r.x-o.width,y:s};break;default:u={x:r.x,y:r.y}}switch(qe(t)){case"start":u[c]-=f*(n&&d?-1:1);break;case"end":u[c]+=f*(n&&d?-1:1)}return u}const Ca=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:s}=n,c=await(s.isRTL==null?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:d}=wn(l,r,c),u=r,b={},v=0;for(let m=0;m<a.length;m++){const{name:p,fn:g}=a[m],{x:h,y:$,data:E,reset:R}=await g({x:f,y:d,initialPlacement:r,placement:u,strategy:o,middlewareData:b,rects:l,platform:s,elements:{reference:e,floating:t}});f=h??f,d=$??d,b={...b,[p]:{...b[p],...E}},R&&v<=50&&(v++,typeof R=="object"&&(R.placement&&(u=R.placement),R.rects&&(l=R.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):R.rects),{x:f,y:d}=wn(l,u,c)),m=-1)}return{x:f,y:d,placement:u,strategy:o,middlewareData:b}};function ar(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function et(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Me(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:s,elements:c,strategy:l}=e,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:b=!1,padding:v=0}=t,m=ar(v),p=c[b?u==="floating"?"reference":"floating":u],g=et(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(p)))==null||n?p:p.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:d,strategy:l})),h=et(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:u==="floating"?{...s.floating,x:r,y:o}:s.reference,offsetParent:await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),strategy:l}):s[u]);return{top:g.top-h.top+m.top,bottom:h.bottom-g.bottom+m.bottom,left:g.left-h.left+m.left,right:h.right-g.right+m.right}}const _a=Math.min,pe=Math.max;function Ot(e,t,n){return pe(e,_a(t,n))}const $n=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e??{},{x:o,y:a,placement:s,rects:c,platform:l}=t;if(n==null)return{};const f=ar(r),d={x:o,y:a},u=_e(s),b=qe(s),v=Zt(u),m=await l.getDimensions(n),p=u==="y"?"top":"left",g=u==="y"?"bottom":"right",h=c.reference[v]+c.reference[u]-d[u]-c.floating[v],$=d[u]-c.reference[u],E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(n));let R=E?u==="y"?E.clientHeight||0:E.clientWidth||0:0;R===0&&(R=c.floating[v]);const S=h/2-$/2,_=f[p],y=R-m[v]-f[g],x=R/2-m[v]/2+S,C=Ot(_,x,y),I=(b==="start"?f[p]:f[g])>0&&x!==C&&c.reference[v]<=c.floating[v];return{[u]:d[u]-(I?x<_?_-x:y-x:0),data:{[u]:C,centerOffset:x-C}}}}),Pa={left:"right",right:"left",bottom:"top",top:"bottom"};function tt(e){return e.replace(/left|right|bottom|top/g,t=>Pa[t])}function Ia(e,t,n){n===void 0&&(n=!1);const r=qe(e),o=_e(e),a=Zt(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=tt(s)),{main:s,cross:tt(s)}}const Oa={start:"end",end:"start"};function xn(e){return e.replace(/start|end/g,t=>Oa[t])}const cr=["top","right","bottom","left"];cr.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const Ta=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:o,rects:a,initialPlacement:s,platform:c,elements:l}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:u,fallbackStrategy:b="bestFit",flipAlignment:v=!0,...m}=e,p=ve(r),g=u||(p===s||!v?[tt(s)]:function(x){const C=tt(x);return[xn(x),C,xn(C)]}(s)),h=[s,...g],$=await Me(t,m),E=[];let R=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&E.push($[p]),d){const{main:x,cross:C}=Ia(r,a,await(c.isRTL==null?void 0:c.isRTL(l.floating)));E.push($[x],$[C])}if(R=[...R,{placement:r,overflows:E}],!E.every(x=>x<=0)){var S,_;const x=((S=(_=o.flip)==null?void 0:_.index)!=null?S:0)+1,C=h[x];if(C)return{data:{index:x,overflows:R},reset:{placement:C}};let I="bottom";switch(b){case"bestFit":{var y;const A=(y=R.map(V=>[V,V.overflows.filter(D=>D>0).reduce((D,Q)=>D+Q,0)]).sort((V,D)=>V[1]-D[1])[0])==null?void 0:y[0].placement;A&&(I=A);break}case"initialPlacement":I=s}if(r!==I)return{reset:{placement:I}}}return{}}}};function En(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Rn(e){return cr.some(t=>e[t]>=0)}const Na=function(e){let{strategy:t="referenceHidden",...n}=e===void 0?{}:e;return{name:"hide",async fn(r){const{rects:o}=r;switch(t){case"referenceHidden":{const a=En(await Me(r,{...n,elementContext:"reference"}),o.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Rn(a)}}}case"escaped":{const a=En(await Me(r,{...n,altBoundary:!0}),o.floating);return{data:{escapedOffsets:a,escaped:Rn(a)}}}default:return{}}}}},Aa=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await async function(a,s){const{placement:c,platform:l,elements:f}=a,d=await(l.isRTL==null?void 0:l.isRTL(f.floating)),u=ve(c),b=qe(c),v=_e(c)==="x",m=["left","top"].includes(u)?-1:1,p=d&&v?-1:1,g=typeof s=="function"?s(a):s;let{mainAxis:h,crossAxis:$,alignmentAxis:E}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...g};return b&&typeof E=="number"&&($=b==="end"?-1*E:E),v?{x:$*p,y:h*m}:{x:h*m,y:$*p}}(t,e);return{x:n+o.x,y:r+o.y,data:o}}}};function ir(e){return e==="x"?"y":"x"}const ka=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:c={fn:g=>{let{x:h,y:$}=g;return{x:h,y:$}}},...l}=e,f={x:n,y:r},d=await Me(t,l),u=_e(ve(o)),b=ir(u);let v=f[u],m=f[b];if(a){const g=u==="y"?"bottom":"right";v=Ot(v+d[u==="y"?"top":"left"],v,v-d[g])}if(s){const g=b==="y"?"bottom":"right";m=Ot(m+d[b==="y"?"top":"left"],m,m-d[g])}const p=c.fn({...t,[u]:v,[b]:m});return{...p,data:{x:p.x-n,y:p.y-r}}}}},Da=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:s}=t,{offset:c=0,mainAxis:l=!0,crossAxis:f=!0}=e,d={x:n,y:r},u=_e(o),b=ir(u);let v=d[u],m=d[b];const p=typeof c=="function"?c({...a,placement:o}):c,g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const S=u==="y"?"height":"width",_=a.reference[u]-a.floating[S]+g.mainAxis,y=a.reference[u]+a.reference[S]-g.mainAxis;v<_?v=_:v>y&&(v=y)}if(f){var h,$,E,R;const S=u==="y"?"width":"height",_=["top","left"].includes(ve(o)),y=a.reference[b]-a.floating[S]+(_&&(h=($=s.offset)==null?void 0:$[b])!=null?h:0)+(_?0:g.crossAxis),x=a.reference[b]+a.reference[S]+(_?0:(E=(R=s.offset)==null?void 0:R[b])!=null?E:0)-(_?g.crossAxis:0);m<y?m=y:m>x&&(m=x)}return{[u]:v,[b]:m}}}},Ma=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:a}=t,{apply:s,...c}=e,l=await Me(t,c),f=ve(n),d=qe(n);let u,b;f==="top"||f==="bottom"?(u=f,b=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=f,u=d==="end"?"top":"bottom");const v=pe(l.left,0),m=pe(l.right,0),p=pe(l.top,0),g=pe(l.bottom,0),h={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(p!==0||g!==0?p+g:pe(l.top,l.bottom)):l[u]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(v!==0||m!==0?v+m:pe(l.left,l.right)):l[b])},$=await o.getDimensions(a.floating);s==null||s({...t,...h});const E=await o.getDimensions(a.floating);return $.width!==E.width||$.height!==E.height?{reset:{rects:!0}}:{}}}};function sr(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function ce(e){if(e==null)return window;if(!sr(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ue(e){return ce(e).getComputedStyle(e)}function ee(e){return sr(e)?"":e?(e.nodeName||"").toLowerCase():""}function lr(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function X(e){return e instanceof ce(e).HTMLElement}function ue(e){return e instanceof ce(e).Element}function Jt(e){return typeof ShadowRoot>"u"?!1:e instanceof ce(e).ShadowRoot||e instanceof ShadowRoot}function lt(e){const{overflow:t,overflowX:n,overflowY:r}=Ue(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function Fa(e){return["table","td","th"].includes(ee(e))}function Sn(e){const t=/firefox/i.test(lr()),n=Ue(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"}function ur(){return!/^((?!chrome|android).)*safari/i.test(lr())}const Cn=Math.min,Ae=Math.max,nt=Math.round;function te(e,t,n){var r,o,a,s;t===void 0&&(t=!1),n===void 0&&(n=!1);const c=e.getBoundingClientRect();let l=1,f=1;t&&X(e)&&(l=e.offsetWidth>0&&nt(c.width)/e.offsetWidth||1,f=e.offsetHeight>0&&nt(c.height)/e.offsetHeight||1);const d=ue(e)?ce(e):window,u=!ur()&&n,b=(c.left+(u&&(r=(o=d.visualViewport)==null?void 0:o.offsetLeft)!=null?r:0))/l,v=(c.top+(u&&(a=(s=d.visualViewport)==null?void 0:s.offsetTop)!=null?a:0))/f,m=c.width/l,p=c.height/f;return{width:m,height:p,top:v,right:b+m,bottom:v+p,left:b,x:b,y:v}}function se(e){return(t=e,(t instanceof ce(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function ut(e){return ue(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function dr(e){return te(se(e)).left+ut(e).scrollLeft}function La(e,t,n){const r=X(t),o=se(t),a=te(e,r&&function(l){const f=te(l);return nt(f.width)!==l.offsetWidth||nt(f.height)!==l.offsetHeight}(t),n==="fixed");let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(r||!r&&n!=="fixed")if((ee(t)!=="body"||lt(o))&&(s=ut(t)),X(t)){const l=te(t,!0);c.x=l.x+t.clientLeft,c.y=l.y+t.clientTop}else o&&(c.x=dr(o));return{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function fr(e){return ee(e)==="html"?e:e.assignedSlot||e.parentNode||(Jt(e)?e.host:null)||se(e)}function _n(e){return X(e)&&getComputedStyle(e).position!=="fixed"?e.offsetParent:null}function Tt(e){const t=ce(e);let n=_n(e);for(;n&&Fa(n)&&getComputedStyle(n).position==="static";)n=_n(n);return n&&(ee(n)==="html"||ee(n)==="body"&&getComputedStyle(n).position==="static"&&!Sn(n))?t:n||function(r){let o=fr(r);for(Jt(o)&&(o=o.host);X(o)&&!["html","body"].includes(ee(o));){if(Sn(o))return o;o=o.parentNode}return null}(e)||t}function Pn(e){if(X(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=te(e);return{width:t.width,height:t.height}}function pr(e){const t=fr(e);return["html","body","#document"].includes(ee(t))?e.ownerDocument.body:X(t)&&lt(t)?t:pr(t)}function rt(e,t){var n;t===void 0&&(t=[]);const r=pr(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),a=ce(r),s=o?[a].concat(a.visualViewport||[],lt(r)?r:[]):r,c=t.concat(s);return o?c:c.concat(rt(s))}function In(e,t,n){return t==="viewport"?et(function(r,o){const a=ce(r),s=se(r),c=a.visualViewport;let l=s.clientWidth,f=s.clientHeight,d=0,u=0;if(c){l=c.width,f=c.height;const b=ur();(b||!b&&o==="fixed")&&(d=c.offsetLeft,u=c.offsetTop)}return{width:l,height:f,x:d,y:u}}(e,n)):ue(t)?function(r,o){const a=te(r,!1,o==="fixed"),s=a.top+r.clientTop,c=a.left+r.clientLeft;return{top:s,left:c,x:c,y:s,right:c+r.clientWidth,bottom:s+r.clientHeight,width:r.clientWidth,height:r.clientHeight}}(t,n):et(function(r){var o;const a=se(r),s=ut(r),c=(o=r.ownerDocument)==null?void 0:o.body,l=Ae(a.scrollWidth,a.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),f=Ae(a.scrollHeight,a.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0);let d=-s.scrollLeft+dr(r);const u=-s.scrollTop;return Ue(c||a).direction==="rtl"&&(d+=Ae(a.clientWidth,c?c.clientWidth:0)-l),{width:l,height:f,x:d,y:u}}(se(e)))}function Va(e){const t=rt(e),n=["absolute","fixed"].includes(Ue(e).position)&&X(e)?Tt(e):e;return ue(n)?t.filter(r=>ue(r)&&function(o,a){const s=a.getRootNode==null?void 0:a.getRootNode();if(o.contains(a))return!0;if(s&&Jt(s)){let c=a;do{if(c&&o===c)return!0;c=c.parentNode||c.host}while(c)}return!1}(r,n)&&ee(r)!=="body"):[]}const Ba={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?Va(t):[].concat(n),r],s=a[0],c=a.reduce((l,f)=>{const d=In(t,f,o);return l.top=Ae(d.top,l.top),l.right=Cn(d.right,l.right),l.bottom=Cn(d.bottom,l.bottom),l.left=Ae(d.left,l.left),l},In(t,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=X(n),a=se(n);if(n===a)return t;let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((o||!o&&r!=="fixed")&&((ee(n)!=="body"||lt(a))&&(s=ut(n)),X(n))){const l=te(n,!0);c.x=l.x+n.clientLeft,c.y=l.y+n.clientTop}return{...t,x:t.x-s.scrollLeft+c.x,y:t.y-s.scrollTop+c.y}},isElement:ue,getDimensions:Pn,getOffsetParent:Tt,getDocumentElement:se,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:La(t,Tt(n),r),floating:{...Pn(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Ue(e).direction==="rtl"};function qa(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:s=!0,animationFrame:c=!1}=r,l=o&&!c,f=a&&!c,d=l||f?[...ue(e)?rt(e):[],...rt(t)]:[];d.forEach(m=>{l&&m.addEventListener("scroll",n,{passive:!0}),f&&m.addEventListener("resize",n)});let u,b=null;if(s){let m=!0;b=new ResizeObserver(()=>{m||n(),m=!1}),ue(e)&&!c&&b.observe(e),b.observe(t)}let v=c?te(e):null;return c&&function m(){const p=te(e);!v||p.x===v.x&&p.y===v.y&&p.width===v.width&&p.height===v.height||n(),v=p,u=requestAnimationFrame(m)}(),n(),()=>{var m;d.forEach(p=>{l&&p.removeEventListener("scroll",n),f&&p.removeEventListener("resize",n)}),(m=b)==null||m.disconnect(),b=null,c&&cancelAnimationFrame(u)}}const Ua=(e,t,n)=>Ca(e,t,{platform:Ba,...n});var Nt=typeof document<"u"?i.useLayoutEffect:i.useEffect;function At(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!At(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!At(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Wa(e){const t=i.useRef(e);return Nt(()=>{t.current=e}),t}function Ka(e){let{middleware:t,placement:n="bottom",strategy:r="absolute",whileElementsMounted:o}=e===void 0?{}:e;const a=i.useRef(null),s=i.useRef(null),c=Wa(o),l=i.useRef(null),[f,d]=i.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[u,b]=i.useState(t);At(u==null?void 0:u.map(E=>{let{options:R}=E;return R}),t==null?void 0:t.map(E=>{let{options:R}=E;return R}))||b(t);const v=i.useCallback(()=>{!a.current||!s.current||Ua(a.current,s.current,{middleware:u,placement:n,strategy:r}).then(E=>{m.current&&Gt.flushSync(()=>{d(E)})})},[u,n,r]);Nt(()=>{m.current&&v()},[v]);const m=i.useRef(!1);Nt(()=>(m.current=!0,()=>{m.current=!1}),[]);const p=i.useCallback(()=>{if(typeof l.current=="function"&&(l.current(),l.current=null),a.current&&s.current)if(c.current){const E=c.current(a.current,s.current,v);l.current=E}else v()},[v,c]),g=i.useCallback(E=>{a.current=E,p()},[p]),h=i.useCallback(E=>{s.current=E,p()},[p]),$=i.useMemo(()=>({reference:a,floating:s}),[]);return i.useMemo(()=>({...f,update:v,refs:$,reference:g,floating:h}),[f,v,$,g,h])}const Ha=e=>{const{element:t,padding:n}=e;function r(o){return Object.prototype.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return r(t)?t.current!=null?$n({element:t.current,padding:n}).fn(o):{}:t?$n({element:t,padding:n}).fn(o):{}}}};function za(e){const[t,n]=i.useState(void 0);return ie(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let s,c;if("borderBoxSize"in a){const l=a.borderBoxSize,f=Array.isArray(l)?l[0]:l;s=f.inlineSize,c=f.blockSize}else s=e.offsetWidth,c=e.offsetHeight;n({width:s,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const mr="Popper",[en,vr]=Be(mr),[ja,hr]=en(mr),Ga=e=>{const{__scopePopper:t,children:n}=e,[r,o]=i.useState(null);return i.createElement(ja,{scope:t,anchor:r,onAnchorChange:o},n)},Ya="PopperAnchor",Xa=i.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,a=hr(Ya,n),s=i.useRef(null),c=H(t,s);return i.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:i.createElement(z.div,T({},o,{ref:c}))}),ot="PopperContent",[Qa,Ms]=en(ot),[Za,Ja]=en(ot,{hasParent:!1,positionUpdateFns:new Set}),ec=i.forwardRef((e,t)=>{var n,r,o,a,s,c,l,f;const{__scopePopper:d,side:u="bottom",sideOffset:b=0,align:v="center",alignOffset:m=0,arrowPadding:p=0,collisionBoundary:g=[],collisionPadding:h=0,sticky:$="partial",hideWhenDetached:E=!1,avoidCollisions:R=!0,onPlaced:S,..._}=e,y=hr(ot,d),[x,C]=i.useState(null),I=H(t,$e=>C($e)),[A,V]=i.useState(null),D=za(A),Q=(n=D==null?void 0:D.width)!==null&&n!==void 0?n:0,U=(r=D==null?void 0:D.height)!==null&&r!==void 0?r:0,pt=u+(v!=="center"?"-"+v:""),mt=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},Z=Array.isArray(g)?g:[g],P=Z.length>0,k={padding:mt,boundary:Z.filter(nc),altBoundary:P},{reference:q,floating:J,strategy:de,x:be,y:Ie,placement:ge,middlewareData:W,update:ye}=Ka({strategy:"fixed",placement:pt,whileElementsMounted:qa,middleware:[rc(),Aa({mainAxis:b+U,alignmentAxis:m}),R?ka({mainAxis:!0,crossAxis:!1,limiter:$==="partial"?Da():void 0,...k}):void 0,A?Ha({element:A,padding:p}):void 0,R?Ta({...k}):void 0,Ma({...k,apply:({elements:$e,availableWidth:jr,availableHeight:Gr})=>{$e.floating.style.setProperty("--radix-popper-available-width",`${jr}px`),$e.floating.style.setProperty("--radix-popper-available-height",`${Gr}px`)}}),oc({arrowWidth:Q,arrowHeight:U}),E?Na({strategy:"referenceHidden"}):void 0].filter(tc)});ie(()=>{q(y.anchor)},[q,y.anchor]);const B=be!==null&&Ie!==null,[Oe,Br]=br(ge),Ke=Y(S);ie(()=>{B&&(Ke==null||Ke())},[B,Ke]);const qr=(o=W.arrow)===null||o===void 0?void 0:o.x,Ur=(a=W.arrow)===null||a===void 0?void 0:a.y,Wr=((s=W.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[Kr,Hr]=i.useState();ie(()=>{x&&Hr(window.getComputedStyle(x).zIndex)},[x]);const{hasParent:zr,positionUpdateFns:we}=Ja(ot,d),Te=!zr;i.useLayoutEffect(()=>{if(!Te)return we.add(ye),()=>{we.delete(ye)}},[Te,we,ye]),ie(()=>{Te&&B&&Array.from(we).reverse().forEach($e=>requestAnimationFrame($e))},[Te,B,we]);const an={"data-side":Oe,"data-align":Br,..._,ref:I,style:{..._.style,animation:B?void 0:"none",opacity:(c=W.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}};return i.createElement("div",{ref:J,"data-radix-popper-content-wrapper":"",style:{position:de,left:0,top:0,transform:B?`translate3d(${Math.round(be)}px, ${Math.round(Ie)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:Kr,["--radix-popper-transform-origin"]:[(l=W.transformOrigin)===null||l===void 0?void 0:l.x,(f=W.transformOrigin)===null||f===void 0?void 0:f.y].join(" ")},dir:e.dir},i.createElement(Qa,{scope:d,placedSide:Oe,onArrowChange:V,arrowX:qr,arrowY:Ur,shouldHideArrow:Wr},Te?i.createElement(Za,{scope:d,hasParent:!0,positionUpdateFns:we},i.createElement(z.div,an)):i.createElement(z.div,an)))});function tc(e){return e!==void 0}function nc(e){return e!==null}const rc=()=>({name:"anchorCssProperties",fn(e){const{rects:t,elements:n}=e,{width:r,height:o}=t.reference;return n.floating.style.setProperty("--radix-popper-anchor-width",`${r}px`),n.floating.style.setProperty("--radix-popper-anchor-height",`${o}px`),{}}}),oc=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,a,s;const{placement:c,rects:l,middlewareData:f}=t,u=((n=f.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,b=u?0:e.arrowWidth,v=u?0:e.arrowHeight,[m,p]=br(c),g={start:"0%",center:"50%",end:"100%"}[p],h=((r=(o=f.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+b/2,$=((a=(s=f.arrow)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0)+v/2;let E="",R="";return m==="bottom"?(E=u?g:`${h}px`,R=`${-v}px`):m==="top"?(E=u?g:`${h}px`,R=`${l.floating.height+v}px`):m==="right"?(E=`${-v}px`,R=u?g:`${$}px`):m==="left"&&(E=`${l.floating.width+v}px`,R=u?g:`${$}px`),{data:{x:E,y:R}}}});function br(e){const[t,n="center"]=e.split("-");return[t,n]}const ac=Ga,cc=Xa,ic=ec,sc=i.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=e;return r?co.createPortal(i.createElement(z.div,T({},o,{ref:t})),r):null});function lc(e,t){return i.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const tn=e=>{const{present:t,children:n}=e,r=uc(t),o=typeof n=="function"?n({present:r.isPresent}):i.Children.only(n),a=H(r.ref,o.ref);return typeof n=="function"||r.isPresent?i.cloneElement(o,{ref:a}):null};tn.displayName="Presence";function uc(e){const[t,n]=i.useState(),r=i.useRef({}),o=i.useRef(e),a=i.useRef("none"),s=e?"mounted":"unmounted",[c,l]=lc(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const f=ze(r.current);a.current=c==="mounted"?f:"none"},[c]),ie(()=>{const f=r.current,d=o.current;if(d!==e){const b=a.current,v=ze(f);e?l("MOUNT"):v==="none"||(f==null?void 0:f.display)==="none"?l("UNMOUNT"):l(d&&b!==v?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),ie(()=>{if(t){const f=u=>{const v=ze(r.current).includes(u.animationName);u.target===t&&v&&Gt.flushSync(()=>l("ANIMATION_END"))},d=u=>{u.target===t&&(a.current=ze(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:i.useCallback(f=>{f&&(r.current=getComputedStyle(f)),n(f)},[])}}function ze(e){return(e==null?void 0:e.animationName)||"none"}const wt="rovingFocusGroup.onEntryFocus",dc={bubbles:!1,cancelable:!0},nn="RovingFocusGroup",[kt,gr,fc]=tr(nn),[pc,yr]=Be(nn,[fc]),[mc,vc]=pc(nn),hc=i.forwardRef((e,t)=>i.createElement(kt.Provider,{scope:e.__scopeRovingFocusGroup},i.createElement(kt.Slot,{scope:e.__scopeRovingFocusGroup},i.createElement(bc,T({},e,{ref:t}))))),bc=i.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:f,...d}=e,u=i.useRef(null),b=H(t,u),v=nr(a),[m=null,p]=Jn({prop:s,defaultProp:c,onChange:l}),[g,h]=i.useState(!1),$=Y(f),E=gr(n),R=i.useRef(!1),[S,_]=i.useState(0);return i.useEffect(()=>{const y=u.current;if(y)return y.addEventListener(wt,$),()=>y.removeEventListener(wt,$)},[$]),i.createElement(mc,{scope:n,orientation:r,dir:v,loop:o,currentTabStopId:m,onItemFocus:i.useCallback(y=>p(y),[p]),onItemShiftTab:i.useCallback(()=>h(!0),[]),onFocusableItemAdd:i.useCallback(()=>_(y=>y+1),[]),onFocusableItemRemove:i.useCallback(()=>_(y=>y-1),[])},i.createElement(z.div,T({tabIndex:g||S===0?-1:0,"data-orientation":r},d,{ref:b,style:{outline:"none",...e.style},onMouseDown:N(e.onMouseDown,()=>{R.current=!0}),onFocus:N(e.onFocus,y=>{const x=!R.current;if(y.target===y.currentTarget&&x&&!g){const C=new CustomEvent(wt,dc);if(y.currentTarget.dispatchEvent(C),!C.defaultPrevented){const I=E().filter(U=>U.focusable),A=I.find(U=>U.active),V=I.find(U=>U.id===m),Q=[A,V,...I].filter(Boolean).map(U=>U.ref.current);wr(Q)}}R.current=!1}),onBlur:N(e.onBlur,()=>h(!1))})))}),gc="RovingFocusGroupItem",yc=i.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:a,...s}=e,c=It(),l=a||c,f=vc(gc,n),d=f.currentTabStopId===l,u=gr(n),{onFocusableItemAdd:b,onFocusableItemRemove:v}=f;return i.useEffect(()=>{if(r)return b(),()=>v()},[r,b,v]),i.createElement(kt.ItemSlot,{scope:n,id:l,focusable:r,active:o},i.createElement(z.span,T({tabIndex:d?0:-1,"data-orientation":f.orientation},s,{ref:t,onMouseDown:N(e.onMouseDown,m=>{r?f.onItemFocus(l):m.preventDefault()}),onFocus:N(e.onFocus,()=>f.onItemFocus(l)),onKeyDown:N(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){f.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const p=xc(m,f.orientation,f.dir);if(p!==void 0){m.preventDefault();let h=u().filter($=>$.focusable).map($=>$.ref.current);if(p==="last")h.reverse();else if(p==="prev"||p==="next"){p==="prev"&&h.reverse();const $=h.indexOf(m.currentTarget);h=f.loop?Ec(h,$+1):h.slice($+1)}setTimeout(()=>wr(h))}})})))}),wc={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $c(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function xc(e,t,n){const r=$c(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return wc[r]}function wr(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Ec(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const Rc=hc,Sc=yc;var Cc=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},xe=new WeakMap,je=new WeakMap,Ge={},$t=0,$r=function(e){return e&&(e.host||$r(e.parentNode))},_c=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=$r(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Pc=function(e,t,n,r){var o=_c(t,Array.isArray(e)?e:[e]);Ge[n]||(Ge[n]=new WeakMap);var a=Ge[n],s=[],c=new Set,l=new Set(o),f=function(u){!u||c.has(u)||(c.add(u),f(u.parentNode))};o.forEach(f);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(b){if(c.has(b))d(b);else{var v=b.getAttribute(r),m=v!==null&&v!=="false",p=(xe.get(b)||0)+1,g=(a.get(b)||0)+1;xe.set(b,p),a.set(b,g),s.push(b),p===1&&m&&je.set(b,!0),g===1&&b.setAttribute(n,"true"),m||b.setAttribute(r,"true")}})};return d(t),c.clear(),$t++,function(){s.forEach(function(u){var b=xe.get(u)-1,v=a.get(u)-1;xe.set(u,b),a.set(u,v),b||(je.has(u)||u.removeAttribute(r),je.delete(u)),v||u.removeAttribute(n)}),$t--,$t||(xe=new WeakMap,xe=new WeakMap,je=new WeakMap,Ge={})}},Ic=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||Cc(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),Pc(r,o,n,"aria-hidden")):function(){return null}},j=function(){return j=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},j.apply(this,arguments)};function xr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Oc(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Qe="right-scroll-bar-position",Ze="width-before-scroll-bar",Tc="with-scroll-bars-hidden",Nc="--removed-body-scroll-bar-size";function Ac(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function kc(e,t){var n=i.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function Dc(e,t){return kc(t||null,function(n){return e.forEach(function(r){return Ac(r,n)})})}function Mc(e){return e}function Fc(e,t){t===void 0&&(t=Mc);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var s=t(a,r);return n.push(s),function(){n=n.filter(function(c){return c!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var c=n;n=[],c.forEach(a),s=n}var l=function(){var d=s;s=[],d.forEach(a)},f=function(){return Promise.resolve().then(l)};f(),n={push:function(d){s.push(d),f()},filter:function(d){return s=s.filter(d),n}}}};return o}function Lc(e){e===void 0&&(e={});var t=Fc(null);return t.options=j({async:!0,ssr:!1},e),t}var Er=function(e){var t=e.sideCar,n=xr(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return i.createElement(r,j({},n))};Er.isSideCarExport=!0;function Vc(e,t){return e.useMedium(t),Er}var Rr=Lc(),xt=function(){},dt=i.forwardRef(function(e,t){var n=i.useRef(null),r=i.useState({onScrollCapture:xt,onWheelCapture:xt,onTouchMoveCapture:xt}),o=r[0],a=r[1],s=e.forwardProps,c=e.children,l=e.className,f=e.removeScrollBar,d=e.enabled,u=e.shards,b=e.sideCar,v=e.noIsolation,m=e.inert,p=e.allowPinchZoom,g=e.as,h=g===void 0?"div":g,$=xr(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),E=b,R=Dc([n,t]),S=j(j({},$),o);return i.createElement(i.Fragment,null,d&&i.createElement(E,{sideCar:Rr,removeScrollBar:f,shards:u,noIsolation:v,inert:m,setCallbacks:a,allowPinchZoom:!!p,lockRef:n}),s?i.cloneElement(i.Children.only(c),j(j({},S),{ref:R})):i.createElement(h,j({},S,{className:l,ref:R}),c))});dt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dt.classNames={fullWidth:Ze,zeroRight:Qe};var On,Bc=function(){if(On)return On;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qc(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Bc();return t&&e.setAttribute("nonce",t),e}function Uc(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Wc(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Kc=function(){var e=0,t=null;return{add:function(n){e==0&&(t=qc())&&(Uc(t,n),Wc(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Hc=function(){var e=Kc();return function(t,n){i.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Sr=function(){var e=Hc(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},zc={left:0,top:0,right:0,gap:0},Et=function(e){return parseInt(e||"",10)||0},jc=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Et(n),Et(r),Et(o)]},Gc=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return zc;var t=jc(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Yc=Sr(),Xc=function(e,t,n,r){var o=e.left,a=e.top,s=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Tc,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qe,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Ze,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Qe," .").concat(Qe,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ze," .").concat(Ze,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(Nc,": ").concat(c,`px;
  }
`)},Qc=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r,a=i.useMemo(function(){return Gc(o)},[o]);return i.createElement(Yc,{styles:Xc(a,!t,o,n?"":"!important")})},Dt=!1;if(typeof window<"u")try{var Ye=Object.defineProperty({},"passive",{get:function(){return Dt=!0,!0}});window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch{Dt=!1}var Ee=Dt?{passive:!1}:!1,Zc=function(e){return e.tagName==="TEXTAREA"},Cr=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Zc(e)&&n[t]==="visible")},Jc=function(e){return Cr(e,"overflowY")},ei=function(e){return Cr(e,"overflowX")},Tn=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=_r(e,n);if(r){var o=Pr(e,n),a=o[1],s=o[2];if(a>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},ti=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ni=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},_r=function(e,t){return e==="v"?Jc(t):ei(t)},Pr=function(e,t){return e==="v"?ti(t):ni(t)},ri=function(e,t){return e==="h"&&t==="rtl"?-1:1},oi=function(e,t,n,r,o){var a=ri(e,window.getComputedStyle(t).direction),s=a*r,c=n.target,l=t.contains(c),f=!1,d=s>0,u=0,b=0;do{var v=Pr(e,c),m=v[0],p=v[1],g=v[2],h=p-g-a*m;(m||h)&&_r(e,c)&&(u+=h,b+=m),c=c.parentNode}while(!l&&c!==document.body||l&&(t.contains(c)||t===c));return(d&&(o&&u===0||!o&&s>u)||!d&&(o&&b===0||!o&&-s>b))&&(f=!0),f},Xe=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Nn=function(e){return[e.deltaX,e.deltaY]},An=function(e){return e&&"current"in e?e.current:e},ai=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ci=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ii=0,Re=[];function si(e){var t=i.useRef([]),n=i.useRef([0,0]),r=i.useRef(),o=i.useState(ii++)[0],a=i.useState(function(){return Sr()})[0],s=i.useRef(e);i.useEffect(function(){s.current=e},[e]),i.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var p=Oc([e.lockRef.current],(e.shards||[]).map(An),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var c=i.useCallback(function(p,g){if("touches"in p&&p.touches.length===2)return!s.current.allowPinchZoom;var h=Xe(p),$=n.current,E="deltaX"in p?p.deltaX:$[0]-h[0],R="deltaY"in p?p.deltaY:$[1]-h[1],S,_=p.target,y=Math.abs(E)>Math.abs(R)?"h":"v";if("touches"in p&&y==="h"&&_.type==="range")return!1;var x=Tn(y,_);if(!x)return!0;if(x?S=y:(S=y==="v"?"h":"v",x=Tn(y,_)),!x)return!1;if(!r.current&&"changedTouches"in p&&(E||R)&&(r.current=S),!S)return!0;var C=r.current||S;return oi(C,g,p,C==="h"?E:R,!0)},[]),l=i.useCallback(function(p){var g=p;if(!(!Re.length||Re[Re.length-1]!==a)){var h="deltaY"in g?Nn(g):Xe(g),$=t.current.filter(function(S){return S.name===g.type&&S.target===g.target&&ai(S.delta,h)})[0];if($&&$.should){g.cancelable&&g.preventDefault();return}if(!$){var E=(s.current.shards||[]).map(An).filter(Boolean).filter(function(S){return S.contains(g.target)}),R=E.length>0?c(g,E[0]):!s.current.noIsolation;R&&g.cancelable&&g.preventDefault()}}},[]),f=i.useCallback(function(p,g,h,$){var E={name:p,delta:g,target:h,should:$};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(R){return R!==E})},1)},[]),d=i.useCallback(function(p){n.current=Xe(p),r.current=void 0},[]),u=i.useCallback(function(p){f(p.type,Nn(p),p.target,c(p,e.lockRef.current))},[]),b=i.useCallback(function(p){f(p.type,Xe(p),p.target,c(p,e.lockRef.current))},[]);i.useEffect(function(){return Re.push(a),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:b}),document.addEventListener("wheel",l,Ee),document.addEventListener("touchmove",l,Ee),document.addEventListener("touchstart",d,Ee),function(){Re=Re.filter(function(p){return p!==a}),document.removeEventListener("wheel",l,Ee),document.removeEventListener("touchmove",l,Ee),document.removeEventListener("touchstart",d,Ee)}},[]);var v=e.removeScrollBar,m=e.inert;return i.createElement(i.Fragment,null,m?i.createElement(a,{styles:ci(o)}):null,v?i.createElement(Qc,{gapMode:"margin"}):null)}const li=Vc(Rr,si);var Ir=i.forwardRef(function(e,t){return i.createElement(dt,j({},e,{ref:t,sideCar:li}))});Ir.classNames=dt.classNames;const ui=Ir,di=["Enter"," "],fi=["ArrowDown","PageUp","Home"],Or=["ArrowUp","PageDown","End"],pi=[...fi,...Or],ft="Menu",[Mt,mi,vi]=tr(ft),[he,Tr]=Be(ft,[vi,vr,yr]),rn=vr(),Nr=yr(),[hi,We]=he(ft),[bi,on]=he(ft),gi=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:a,modal:s=!0}=e,c=rn(t),[l,f]=i.useState(null),d=i.useRef(!1),u=Y(a),b=nr(o);return i.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),i.createElement(ac,c,i.createElement(hi,{scope:t,open:n,onOpenChange:u,content:l,onContentChange:f},i.createElement(bi,{scope:t,onClose:i.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:b,modal:s},r)))},yi=i.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=rn(n);return i.createElement(cc,T({},o,r,{ref:t}))}),Ar="MenuPortal",[wi,$i]=he(Ar,{forceMount:void 0}),xi=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,a=We(Ar,t);return i.createElement(wi,{scope:t,forceMount:n},i.createElement(tn,{present:n||a.open},i.createElement(sc,{asChild:!0,container:o},r)))},le="MenuContent",[Ei,kr]=he(le),Ri=i.forwardRef((e,t)=>{const n=$i(le,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,a=We(le,e.__scopeMenu),s=on(le,e.__scopeMenu);return i.createElement(Mt.Provider,{scope:e.__scopeMenu},i.createElement(tn,{present:r||a.open},i.createElement(Mt.Slot,{scope:e.__scopeMenu},s.modal?i.createElement(Si,T({},o,{ref:t})):i.createElement(Ci,T({},o,{ref:t})))))}),Si=i.forwardRef((e,t)=>{const n=We(le,e.__scopeMenu),r=i.useRef(null),o=H(t,r);return i.useEffect(()=>{const a=r.current;if(a)return Ic(a)},[]),i.createElement(Dr,T({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:N(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),Ci=i.forwardRef((e,t)=>{const n=We(le,e.__scopeMenu);return i.createElement(Dr,T({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),Dr=i.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:c,onEntryFocus:l,onEscapeKeyDown:f,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:b,onDismiss:v,disableOutsideScroll:m,...p}=e,g=We(le,n),h=on(le,n),$=rn(n),E=Nr(n),R=mi(n),[S,_]=i.useState(null),y=i.useRef(null),x=H(t,y,g.onContentChange),C=i.useRef(0),I=i.useRef(""),A=i.useRef(0),V=i.useRef(null),D=i.useRef("right"),Q=i.useRef(0),U=m?ui:i.Fragment,pt=m?{as:De,allowPinchZoom:!0}:void 0,mt=P=>{var k,q;const J=I.current+P,de=R().filter(B=>!B.disabled),be=document.activeElement,Ie=(k=de.find(B=>B.ref.current===be))===null||k===void 0?void 0:k.textValue,ge=de.map(B=>B.textValue),W=Mi(ge,J,Ie),ye=(q=de.find(B=>B.textValue===W))===null||q===void 0?void 0:q.ref.current;(function B(Oe){I.current=Oe,window.clearTimeout(C.current),Oe!==""&&(C.current=window.setTimeout(()=>B(""),1e3))})(J),ye&&setTimeout(()=>ye.focus())};i.useEffect(()=>()=>window.clearTimeout(C.current),[]),ha();const Z=i.useCallback(P=>{var k,q;return D.current===((k=V.current)===null||k===void 0?void 0:k.side)&&Li(P,(q=V.current)===null||q===void 0?void 0:q.area)},[]);return i.createElement(Ei,{scope:n,searchRef:I,onItemEnter:i.useCallback(P=>{Z(P)&&P.preventDefault()},[Z]),onItemLeave:i.useCallback(P=>{var k;Z(P)||((k=y.current)===null||k===void 0||k.focus(),_(null))},[Z]),onTriggerLeave:i.useCallback(P=>{Z(P)&&P.preventDefault()},[Z]),pointerGraceTimerRef:A,onPointerGraceIntentChange:i.useCallback(P=>{V.current=P},[])},i.createElement(U,pt,i.createElement(ba,{asChild:!0,trapped:o,onMountAutoFocus:N(a,P=>{var k;P.preventDefault(),(k=y.current)===null||k===void 0||k.focus()}),onUnmountAutoFocus:s},i.createElement(pa,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:b,onDismiss:v},i.createElement(Rc,T({asChild:!0},E,{dir:h.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:_,onEntryFocus:N(l,P=>{h.isUsingKeyboardRef.current||P.preventDefault()})}),i.createElement(ic,T({role:"menu","aria-orientation":"vertical","data-state":Ai(g.open),"data-radix-menu-content":"",dir:h.dir},$,p,{ref:x,style:{outline:"none",...p.style},onKeyDown:N(p.onKeyDown,P=>{const q=P.target.closest("[data-radix-menu-content]")===P.currentTarget,J=P.ctrlKey||P.altKey||P.metaKey,de=P.key.length===1;q&&(P.key==="Tab"&&P.preventDefault(),!J&&de&&mt(P.key));const be=y.current;if(P.target!==be||!pi.includes(P.key))return;P.preventDefault();const ge=R().filter(W=>!W.disabled).map(W=>W.ref.current);Or.includes(P.key)&&ge.reverse(),ki(ge)}),onBlur:N(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(C.current),I.current="")}),onPointerMove:N(e.onPointerMove,Lt(P=>{const k=P.target,q=Q.current!==P.clientX;if(P.currentTarget.contains(k)&&q){const J=P.clientX>Q.current?"right":"left";D.current=J,Q.current=P.clientX}}))})))))))}),Ft="MenuItem",kn="menu.itemSelect",_i=i.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,a=i.useRef(null),s=on(Ft,e.__scopeMenu),c=kr(Ft,e.__scopeMenu),l=H(t,a),f=i.useRef(!1),d=()=>{const u=a.current;if(!n&&u){const b=new CustomEvent(kn,{bubbles:!0,cancelable:!0});u.addEventListener(kn,v=>r==null?void 0:r(v),{once:!0}),er(u,b),b.defaultPrevented?f.current=!1:s.onClose()}};return i.createElement(Pi,T({},o,{ref:l,disabled:n,onClick:N(e.onClick,d),onPointerDown:u=>{var b;(b=e.onPointerDown)===null||b===void 0||b.call(e,u),f.current=!0},onPointerUp:N(e.onPointerUp,u=>{var b;f.current||(b=u.currentTarget)===null||b===void 0||b.click()}),onKeyDown:N(e.onKeyDown,u=>{const b=c.searchRef.current!=="";n||b&&u.key===" "||di.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})}))}),Pi=i.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...a}=e,s=kr(Ft,n),c=Nr(n),l=i.useRef(null),f=H(t,l),[d,u]=i.useState(!1),[b,v]=i.useState("");return i.useEffect(()=>{const m=l.current;if(m){var p;v(((p=m.textContent)!==null&&p!==void 0?p:"").trim())}},[a.children]),i.createElement(Mt.ItemSlot,{scope:n,disabled:r,textValue:o??b},i.createElement(Sc,T({asChild:!0},c,{focusable:!r}),i.createElement(z.div,T({role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},a,{ref:f,onPointerMove:N(e.onPointerMove,Lt(m=>{r?s.onItemLeave(m):(s.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus())})),onPointerLeave:N(e.onPointerLeave,Lt(m=>s.onItemLeave(m))),onFocus:N(e.onFocus,()=>u(!0)),onBlur:N(e.onBlur,()=>u(!1))}))))}),Ii="MenuRadioGroup";he(Ii,{value:void 0,onValueChange:()=>{}});const Oi="MenuItemIndicator";he(Oi,{checked:!1});const Ti=i.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.createElement(z.div,T({role:"separator","aria-orientation":"horizontal"},r,{ref:t}))}),Ni="MenuSub";he(Ni);function Ai(e){return e?"open":"closed"}function ki(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Di(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Mi(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let s=Di(e,Math.max(a,0));o.length===1&&(s=s.filter(f=>f!==n));const l=s.find(f=>f.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function Fi(e,t){const{x:n,y:r}=e;let o=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const c=t[a].x,l=t[a].y,f=t[s].x,d=t[s].y;l>r!=d>r&&n<(f-c)*(r-l)/(d-l)+c&&(o=!o)}return o}function Li(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Fi(n,t)}function Lt(e){return t=>t.pointerType==="mouse"?e(t):void 0}const Vi=gi,Bi=yi,qi=xi,Ui=Ri,Wi=_i,Ki=Ti,Mr="DropdownMenu",[Hi,Fs]=Be(Mr,[Tr]),Pe=Tr(),[zi,Fr]=Hi(Mr),ji=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:a,onOpenChange:s,modal:c=!0}=e,l=Pe(t),f=i.useRef(null),[d=!1,u]=Jn({prop:o,defaultProp:a,onChange:s});return i.createElement(zi,{scope:t,triggerId:It(),triggerRef:f,contentId:It(),open:d,onOpenChange:u,onOpenToggle:i.useCallback(()=>u(b=>!b),[u]),modal:c},i.createElement(Vi,T({},l,{open:d,onOpenChange:u,dir:r,modal:c}),n))},Gi="DropdownMenuTrigger",Yi=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,a=Fr(Gi,n),s=Pe(n);return i.createElement(Bi,T({asChild:!0},s),i.createElement(z.button,T({type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},o,{ref:Qt(t,a.triggerRef),onPointerDown:N(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:N(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})))}),Xi=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Pe(t);return i.createElement(qi,T({},r,n))},Qi="DropdownMenuContent",Zi=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Fr(Qi,n),a=Pe(n),s=i.useRef(!1);return i.createElement(Ui,T({id:o.contentId,"aria-labelledby":o.triggerId},a,r,{ref:t,onCloseAutoFocus:N(e.onCloseAutoFocus,c=>{var l;s.current||(l=o.triggerRef.current)===null||l===void 0||l.focus(),s.current=!1,c.preventDefault()}),onInteractOutside:N(e.onInteractOutside,c=>{const l=c.detail.originalEvent,f=l.button===0&&l.ctrlKey===!0,d=l.button===2||f;(!o.modal||d)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),Ji=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Pe(n);return i.createElement(Wi,T({},o,r,{ref:t}))}),es=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Pe(n);return i.createElement(Ki,T({},o,r,{ref:t}))}),ts=ji,ns=Yi,rs=Xi,os=Zi,Dn=Ji,as=es;function Fe({children:e,icon:t}){return w.createElement("div",{className:"ctw-flex ctw-items-center ctw-space-x-3"},t&&w.createElement(ne,{icon:t,className:"ctw-mb-[2px] ctw-w-4 ctw-text-content-lighter"}),w.createElement("div",null,e))}try{Fe.displayName="MenuItem",Fe.__docgenInfo={description:"",displayName:"MenuItem",props:{icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"IconDefinition"}}}}}catch{}function Le({children:e,items:t,onItemSelect:n,type:r,buttonClassName:o,pinnedActions:a=[],isOpen:s}){const{ctwProviderRef:c}=Jr(),[l,f]=i.useState(s);return w.createElement(Jo,null,w.createElement(ts,{modal:!1,open:l,onOpenChange:d=>f(d)},w.createElement(ns,{className:L(o),"aria-label":"dropdown"},e),w.createElement(rs,{container:c.current},w.createElement(os,{align:"start",onFocusOutside:d=>d.preventDefault(),className:"ctw-dropdown-action-menu",collisionPadding:10},t.map(d=>w.createElement(Dn,{key:d.key,className:L("ctw-dropdown-action-menu-item ctw-bg-bg-white"),onClick:u=>{r==="checkbox"&&u.preventDefault(),n({key:d.key,name:d.name,value:!d.isSelected})}},w.createElement(cs,{inputType:r,menuItem:d,onClick:n}))),a.length>0&&w.createElement(w.Fragment,null,w.createElement(as,{className:"ctw-dropdown-separator"}),a.map(d=>w.createElement(Dn,{onClick:()=>d.action(),key:d.name,className:L(d.className,"ctw-dropdown-action-menu-item")},w.createElement(Fe,{icon:d.icon},d.name))))))))}const cs=({inputType:e,menuItem:t,onClick:n})=>{switch(e){case"checkbox":return w.createElement("div",null,w.createElement("label",{htmlFor:t.name,className:"ctw-flex ctw-cursor-pointer ctw-items-center ctw-space-x-3"},w.createElement("input",{type:"checkbox",className:"ctw-m-0 ctw-mb-px ctw-w-4",name:t.name,onClick:r=>{n({key:t.key,name:t.name,value:!t.isSelected}),r.stopPropagation()},checked:t.isSelected,onChange:r=>{r.stopPropagation()}}),w.createElement("span",null,t.name)));case"select":return w.createElement("div",{className:"ctw-flex ctw-w-full ctw-justify-between"},w.createElement("span",{className:L({"ctw-font-semibold":t.isSelected})},t.name),t.isSelected&&w.createElement(ne,{icon:Ln,className:"ctw-inline-block ctw-h-4 ctw-stroke-0 ctw-align-middle ctw-text-primary-dark"}));default:return w.createElement("div",null,t.name)}};try{Le.displayName="DropdownMenuAction",Le.__docgenInfo={description:"",displayName:"DropdownMenuAction",props:{buttonClassName:{defaultValue:null,description:"",name:"buttonClassName",required:!1,type:{name:"Argument"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"OptionsItem[]"}},onItemSelect:{defaultValue:null,description:"",name:"onItemSelect",required:!0,type:{name:"(clickedItem: { key: string; name: string; value: boolean; }) => void"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"select"'}]}},customOptionRender:{defaultValue:null,description:"",name:"customOptionRender",required:!1,type:{name:"((optionsItem: OptionsItem) => Element)"}},pinnedActions:{defaultValue:{value:"[]"},description:"",name:"pinnedActions",required:!1,type:{name:"MenuItem[]"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!1,type:{name:"boolean"}}}}}catch{}const Vt=({className:e,defaultView:t,onChange:n,options:r})=>{const[o,a]=i.useState(t);return w.createElement(Le,{type:"select",buttonClassName:L(e,"ctw-bg-transparent ctw-border-none ctw-p-0"),onItemSelect:s=>{const c=r.filter(l=>l.display===s.key)[0];n(c),a(c)},items:r.map(s=>({key:s.display,name:s.display,isSelected:o.display===s.display}))},w.createElement("div",{className:"ctw-btn-default ctw-flex ctw-items-center ctw-space-x-2"},w.createElement("span",null,w.createElement("span",{className:"ctw-font-normal"},o.display)," "),w.createElement(ne,{icon:it,className:"ctw-w-2"})))};try{Vt.displayName="ViewButton",Vt.__docgenInfo={description:"",displayName:"ViewButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}},defaultView:{defaultValue:null,description:"",name:"defaultView",required:!0,type:{name:"ViewOption"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(view: ViewOption) => void"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ViewOption[]"}}}}}catch{}function Lr({display:e},t){return w.createElement(w.Fragment,null,Xn(e)?e(t):e)}function Rt(e,t,n){return t.reduce((r,o)=>{const a=e.find(s=>s.key===o);return{...r,[a.key]:{key:a.key,type:a.type,selected:a.type==="tag"?!0:n[a.key]}}},{})}function at(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];if(typeof r<"u"){const{type:o}=r;return o==="tag"?sn(n,[],t):sn(n,r.selected,t)}return t},{})}try{at.displayName="filterChangeEventToValuesRecord",at.__docgenInfo={description:"",displayName:"filterChangeEventToValuesRecord",props:{}}}catch{}const is="ctw-flex ctw-items-center ctw-max-w-[15rem] ctw-space-x-2 ctw-capitalize ctw-text-content-black ctw-bg-bg-dark ctw-text-sm ctw-rounded ctw-py-2 ctw-px-3 ctw-relative ctw-cursor-pointer ctw-border-0 ctw-border-transparent  ctw-whitespace-nowrap";function Bt({filter:e,filterValues:t,isOpen:n,onRemove:r,onChange:o}){const a=e.key in t?t[e.key]:[],s=e.values.map(l=>({key:Ne(l)?l:l.key,name:Ne(l)?l:l.display,isSelected:a.includes(Ne(l)?l:l.key)})),c=s.filter(l=>l.isSelected).map(l=>l.key);return w.createElement(Le,{isOpen:n,items:s,type:"checkbox",pinnedActions:bo([r?{icon:jt,name:"Remove Filter",action:r}:null]),buttonClassName:L(e.className,is),onItemSelect:l=>o(l.key,l.value)},w.createElement("div",{className:"ctw-truncate ctw-font-medium ctw-text-content-black"},Lr(e,{active:!0}),c.length>0&&w.createElement("span",{className:"ctw-font-normal"},": ",c.join(", "))),w.createElement(ne,{icon:it,className:"ctw-w-2"}))}try{Bt.displayName="FilterBarCheckboxPill",Bt.__docgenInfo={description:"",displayName:"FilterBarCheckboxPill",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterOptionCheckbox"}},filterValues:{defaultValue:null,description:"",name:"filterValues",required:!0,type:{name:"FilterValuesRecord"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(key: string, isSelected: boolean) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"(() => void)"}}}}}catch{}function ct({useBasicStyles:e=!1,btnClassName:t,children:n,optionsClassName:r,items:o,defaultIndex:a=0,onChange:s}){const[c,l]=i.useState(a),f=o[c]??{display:"Choose a selection"};return w.createElement("div",{className:"ctw-relative ctw-inline-block"},w.createElement(He,{value:c,onChange:d=>{const u=o[d];u.divider||(s(d,u),l(d))}},w.createElement(He.Button,{className:L(t,!e&&"after:ctw-bg-content-black",!e&&"focus-visible:ctw-outline-primary-dark","ctw-relative ctw-cursor-pointer ctw-justify-between ctw-space-x-2 ctw-border-0 ctw-border-transparent")},n||Mn(f,{listView:!1}),!e&&w.createElement(ne,{icon:it,className:"ctw-w-2"})),w.createElement(He.Options,{className:L(r,"ctw-list-box")},o.map((d,u)=>d.divider?w.createElement("div",{key:"divider",className:"ctw-border-top"}):w.createElement(He.Option,{key:d.key,value:u,as:i.Fragment},({active:b,selected:v})=>w.createElement("li",{className:L("ctw-flex ctw-cursor-pointer ctw-justify-between ctw-px-3 ctw-py-2","hover:ctw-bg-bg-lighter",d.className,{"ctw-text-medium":b||v,"ctw-text-content-black":!(b||v),"ctw-bg-bg-lighter":b})},w.createElement("span",{className:L("ctw-inline-flex ctw-align-middle",{"ctw-font-semibold":v&&!e})},Mn(d,{active:b,selected:v,listView:!0})),!e&&v&&!d.key.startsWith("_")&&w.createElement("span",{className:"ctw-inline-flex ctw-pb-0.5"},w.createElement(ne,{icon:Ln,className:"ctw-inline-block ctw-h-4 ctw-stroke-0 ctw-align-middle ctw-text-primary-dark"}))))))))}function Mn(e,t){return e.divider?null:w.createElement(Fe,{icon:e.icon},wo(e.display)?e.display(t):e.display)}try{ct.displayName="ListBox",ct.__docgenInfo={description:"",displayName:"ListBox",props:{btnClassName:{defaultValue:null,description:"",name:"btnClassName",required:!1,type:{name:"Argument"}},defaultIndex:{defaultValue:{value:"0"},description:"",name:"defaultIndex",required:!1,type:{name:"number"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"MinListBoxItem[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(index: number, item: ListBoxItem) => void"}},optionsClassName:{defaultValue:null,description:"",name:"optionsClassName",required:!1,type:{name:"Argument"}},useBasicStyles:{defaultValue:{value:"false"},description:"",name:"useBasicStyles",required:!1,type:{name:"boolean"}}}}}catch{}const ss="ctw-flex ctw-items-center ctw-capitalize ctw-text-content-black ctw-bg-bg-dark ctw-text-sm ctw-rounded ctw-py-2 ctw-px-3 ctw-relative ctw-cursor-pointer ctw-border-0 ctw-border-transparent",Vr=e=>Xn(e)?e({active:!1}):e,ls=(e,t,n)=>({key:t,display:({listView:r,filter:o})=>r?w.createElement(Fe,{icon:n},e):o&&Vr(o.display)}),St=ls("remove filter","_remove",jt);function qt({filter:e,onChange:t,onRemove:n}){const o=[...e.values.map(a=>Ne(a)?a:a.display),St];return w.createElement(ct,{defaultIndex:o.length-1,btnClassName:ss,optionsClassName:"ctw-capitalize",items:o.map(a=>({display:({listView:s})=>a===St?a.display({listView:s,filter:e}):s?w.createElement("span",{className:"ctw-whitespace-nowrap"},a):w.createElement("div",{className:"ctw-truncate ctw-font-medium ctw-text-content-black"},Vr(e.display),w.createElement("span",{className:"ctw-font-normal"},": ",a)),key:Ne(a)?a:a.key,className:L("ctw-capitalize",{"ctw-border ctw-capitalize ctw-border-solid ctw-border-divider-light ctw-border-0 ctw-border-t":a===St})})),onChange:(a,s)=>{s.key==="_remove"?n():s.key==="_reset"?t("",!1):t(s.key,!0)}})}try{qt.displayName="FilterBarSelectPill",qt.__docgenInfo={description:"",displayName:"FilterBarSelectPill",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterOptionSelect"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(key: string, isSelected: boolean) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"() => void"}}}}}catch{}const us="ctw-flex ctw-items-center ctw-max-w-[15rem] ctw-capitalize ctw-text-content-black ctw-bg-bg-dark ctw-text-sm ctw-rounded ctw-py-2 ctw-px-3 ctw-relative ctw-cursor-pointer ctw-border-0 ctw-border-transparent";function Ut({filter:e,onRemove:t}){return w.createElement("button",{key:e.key,type:"button",className:L(us,e.className,"ctw-space-x-2"),onClick:t},w.createElement("div",null,Lr(e,{active:!0})),w.createElement(ne,{icon:ro,className:"ctw-w-2 ctw-text-content-light"}))}try{Ut.displayName="FilterBarTagPill",Ut.__docgenInfo={description:"",displayName:"FilterBarTagPill",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterItem"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"() => void"}}}}}catch{}function Wt({onRemove:e,filter:t,filterValues:n,isOpen:r,updateSelectedFilterValues:o}){const a=()=>e(t.key);switch(t.type){case"tag":return w.createElement(Ut,{filter:t,onRemove:a});case"select":return w.createElement(qt,{filter:t,onRemove:a,onChange:o});case"checkbox":return w.createElement(Bt,{isOpen:r,filter:t,filterValues:n,onRemove:a,onChange:o});default:throw new Error("ActiveFilterItem has invalid filter type")}}try{Wt.displayName="FilterBarPill",Wt.__docgenInfo={description:`Filter pill component that can render any pill type. It abstracts the various
pill types (located in ./filter-bar-pills folder). In practice this component
will only be used by the FilterBar component.`,displayName:"FilterBarPill",props:{onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"(key: string) => void"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterItem"}},filterValues:{defaultValue:null,description:"",name:"filterValues",required:!0,type:{name:"FilterValuesRecord"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},updateSelectedFilterValues:{defaultValue:null,description:"",name:"updateSelectedFilterValues",required:!0,type:{name:"(valueKey: string, isSelected: boolean) => void"}}}}}catch{}const Kt=["_remove","_reset"],ds=e=>e.filter(t=>!Kt.includes(t)),Ht=({className:e,onChange:t,filters:n,defaultState:r={}})=>{const[o,a]=i.useState(),[s,c]=i.useState(Object.keys(r)),[l,f]=i.useState(at(r)),[d]=i.useState(at(r));i.useEffect(()=>{if(n.some(({key:y})=>Kt.includes(y)))throw new Error(`Filters should not use keys ${Kt.join(", ")}`)},[n]);const u=()=>{c([]),f({}),t({})},b=()=>{f(d),c(Object.keys(d)),t(Rt(n,Object.keys(d),d))},v=y=>{const x=s.includes(y);x||a(y);const C=ds(x?s.filter(A=>A!==y):un(s.concat(y)));c(C);let I;x&&y in l&&(I=dn(y,l),f(I)),x||y in l||(I={...l,[y]:[]},f(I)),t(Rt(n,C,l))},m=(y,x,C)=>{let I;const A=n.find(D=>D.key===y),V=l[y];C?I={...l,[y]:(A==null?void 0:A.type)==="checkbox"?un(V.concat(x)):x}:Array.isArray(V)?I={...l,[y]:V.filter(D=>D!==x)}:I=dn(y,l),f(I),t(Rt(n,s,I))},p=y=>{const x=s.includes(y.key);return{display:x&&y.toggleDisplay?y.toggleDisplay:y.display,icon:x&&y.toggleIcon?y.toggleIcon:y.icon,key:y.key,className:L("ctw-capitalize",y.className)}},[g,h]=ln(({key:y})=>s.includes(y),n),$=g.filter(y=>y.toggleDisplay),[E,R]=ln(y=>!y.belowDivider,[...h,...$]);eo(d)||R.push({display:"reset filters",icon:oo,key:"_reset",type:"tag"}),R.push({display:"remove all filters",icon:jt,key:"_remove",type:"tag"});const S=E.length&&R.length?[{divider:!0}]:[],_=[...E.map(p),...S,...R.map(p)];return w.createElement("div",{className:L(e,"ctw-relative ctw-flex ctw-items-center ctw-space-x-2")},g.map(y=>w.createElement(Wt,{isOpen:o===y.key,key:y.key,filter:y,filterValues:l,onRemove:v,updateSelectedFilterValues:(x,C)=>m(y.key,x,C)})),w.createElement(ct,{useBasicStyles:!0,btnClassName:"!ctw-text-content-light ctw-btn-clear !ctw-font-normal !ctw-py-2",items:_,onChange:(y,x)=>{switch(x.key){case"_remove":return u();case"_reset":return b();default:return v(x.key)}}},w.createElement("div",{className:"ctw-space-x-1"},w.createElement(ne,{icon:ao,className:"ctw-w-4"}),w.createElement("span",null,"Add Filters"))))};try{Ht.displayName="FilterBar",Ht.__docgenInfo={description:`FilterBar - A configurable filter bar with base menu and pills to control
which filters are active.

Use the defaultState param to pre-set filters on mount.

example:
\`\`\`
<FilterBar
  defaultState={{
    "furry-things": {
      type: "checkbox",
      selected: ["cats", "dogs", "dice"],
    },
   "who-called-shotgun": {
      type: "select",
      selected: "Kristen",
    },
    dismissed: {
      type: "tag",
      selected: true,
    },
  }}
  filters={filters}
  onChange={handleOnChange}
/>
\`\`\``,displayName:"FilterBar",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(filters: FilterChangeEvent) => void"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterItem[]"}},defaultState:{defaultValue:{value:"{}"},description:"",name:"defaultState",required:!1,type:{name:"FilterChangeEvent"}}}}}catch{}const zt=({className:e,defaultSort:t,onChange:n,options:r})=>{const[o,a]=i.useState(t);return w.createElement(Le,{type:"select",buttonClassName:L(e,"ctw-bg-transparent ctw-border-none ctw-p-0"),onItemSelect:s=>{const c=r.filter(l=>l.display===s.key)[0];n(c),a(c)},items:r.map(s=>({key:s.display,name:s.display,isSelected:o.display===s.display}))},w.createElement("div",{className:"ctw-btn-default ctw-flex ctw-items-center ctw-space-x-2"},w.createElement("span",null,"Sort: ",w.createElement("span",{className:"ctw-font-normal"},o.display)," "),w.createElement(ne,{icon:it,className:"ctw-w-2"})))};try{zt.displayName="SortButton",zt.__docgenInfo={description:"",displayName:"SortButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}},defaultSort:{defaultValue:null,description:"",name:"defaultSort",required:!0,type:{name:"SortOption<T>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(sort: SortOption<T>) => void"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"SortOption<T>[]"}}}}}catch{}const Fn=({action:e,className:t,filterOptions:n,sortOptions:r,viewOptions:o})=>!o&&!r&&!n&&!e?null:w.createElement("div",{className:L(t,"ctw-flex ctw-flex-wrap ctw-items-center ctw-justify-between ctw-py-2 sm:ctw-pt-1.5")},w.createElement("div",{className:"ctw-flex ctw-flex-wrap ctw-gap-x-2"},o&&w.createElement(Vt,{...o}),r&&w.createElement(zt,{...r}),n&&n.filters.length>0&&w.createElement(Ht,{...n})),e);try{Fn.displayName="ResourceTableActions",Fn.__docgenInfo={description:"",displayName:"ResourceTableActions",props:{action:{defaultValue:null,description:"",name:"action",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},filterOptions:{defaultValue:null,description:"",name:"filterOptions",required:!1,type:{name:"FilterBarProps"}},sortOptions:{defaultValue:null,description:"",name:"sortOptions",required:!1,type:{name:"SortButtonProps<T>"}},viewOptions:{defaultValue:null,description:"",name:"viewOptions",required:!1,type:{name:"ViewButtonProps"}}}}}catch{}function Ls({defaultFilters:e={},defaultSort:t,defaultView:n,records:r}){const[o,a]=i.useState(n),[s,c]=i.useState(e),[l,f]=i.useState(t),[d,u]=i.useState(r??[]);return i.useEffect(()=>{const b=ea(r??[],[...Object.values(s),...(o==null?void 0:o.filters)??[]]),v=$o(b,l.sorts);u(v)},[s,l,r,o]),{setFilters:c,setSort:f,setViewOption:a,data:d,filters:s,sortOption:l}}export{ct as L,Fn as R,fn as a,Ds as b,Ct as c,Ls as u};
