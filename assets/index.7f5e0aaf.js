var Fy=Object.defineProperty;var ky=(e,t,r)=>t in e?Fy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Rr=(e,t,r)=>(ky(e,typeof t!="symbol"?t+"":t,r),r);import{r as y,R as p,a as By}from"./index.9f56b196.js";import{c as it}from"./index.d3b8680b.js";import{l as G,T as il,i as Ly}from"./table.e8870acf.js";import{S as Uy,s as Jl,n as qy,i as ef,a as tf,t as Vy,f as jy,c as Hy,b as rf,d as zy,e as On,p as Wy,g as kp,C as Yy,q as Mr,h as Ii,j as Gy,r as Qy}from"./index.7dcc3bb2.js";import{c as ga}from"./_commonjsHelpers.712cc82f.js";import{c as Zy,_ as Ge}from"./extends.bed14d96.js";import{s as Bp,a as Et,e as Xy,o as Qe,C as nr,y as yr,I as Or,p as Mi,m as Ky,$ as ar,S as co,b as Lp,c as tn,d as Pn,u as _r,L as Up,f as qp,h as Jy,g as ev,F as tv,i as We,r as Vp,j as jp,n as rv,k as nv,N as av,D as ov,T as nf,l as Hp,q as ir,W as ts,t as af,X as iv}from"./drawer.0ebe46ba.js";import{S as sl}from"./spinner.51ecf2bb.js";import{r as ul,R as sv}from"./index.f2b75861.js";import{D as uv,e as cv}from"./data-list.6d7c3503.js";import{f as Ee}from"./action-list.8d2557fc.js";class lv extends Uy{constructor(t,r){super(),this.client=t,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),of(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return Ps(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ps(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,r){const n=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),Jl(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();const o=this.hasListeners();o&&sf(this.currentQuery,a,this.options,n)&&this.executeFetch(),this.updateResult(r),o&&(this.currentQuery!==a||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();const s=this.computeRefetchInterval();o&&(this.currentQuery!==a||this.options.enabled!==n.enabled||s!==this.currentRefetchInterval)&&this.updateRefetchInterval(s)}getOptimisticResult(t){const r=this.client.getQueryCache().build(this.client,t);return this.createResult(r,t)}getCurrentResult(){return this.currentResult}trackResult(t){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),t[n])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...r}={}){return this.fetch({...r,meta:{refetchPage:t}})}fetchOptimistic(t){const r=this.client.defaultQueryOptions(t),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(t){var r;return this.executeFetch({...t,cancelRefetch:(r=t.cancelRefetch)!=null?r:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let r=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(qy)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),ef||this.currentResult.isStale||!tf(this.options.staleTime))return;const r=Vy(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(ef||this.options.enabled===!1||!tf(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||jy.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,r){const n=this.currentQuery,a=this.options,o=this.currentResult,s=this.currentResultState,u=this.currentResultOptions,c=t!==n,l=c?t.state:this.currentQueryInitialState,h=c?this.currentResult:this.previousQueryResult,{state:g}=t;let{dataUpdatedAt:N,error:O,errorUpdatedAt:w,fetchStatus:_,status:C}=g,v=!1,S=!1,A;if(r._optimisticResults){const L=this.hasListeners(),P=!L&&of(t,r),j=L&&sf(t,n,r,a);(P||j)&&(_=Hy(t.options.networkMode)?"fetching":"paused",N||(C="loading")),r._optimisticResults==="isRestoring"&&(_="idle")}if(r.keepPreviousData&&!g.dataUpdateCount&&h!=null&&h.isSuccess&&C!=="error")A=h.data,N=h.dataUpdatedAt,C=h.status,v=!0;else if(r.select&&typeof g.data<"u")if(o&&g.data===(s==null?void 0:s.data)&&r.select===this.selectFn)A=this.selectResult;else try{this.selectFn=r.select,A=r.select(g.data),A=rf(o==null?void 0:o.data,A,r),this.selectResult=A,this.selectError=null}catch(L){this.selectError=L}else A=g.data;if(typeof r.placeholderData<"u"&&typeof A>"u"&&C==="loading"){let L;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(u==null?void 0:u.placeholderData))L=o.data;else if(L=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof L<"u")try{L=r.select(L),L=rf(o==null?void 0:o.data,L,r),this.selectError=null}catch(P){this.selectError=P}typeof L<"u"&&(C="success",A=L,S=!0)}this.selectError&&(O=this.selectError,A=this.selectResult,w=Date.now(),C="error");const R=_==="fetching",$=C==="loading",I=C==="error";return{status:C,fetchStatus:_,isLoading:$,isSuccess:C==="success",isError:I,isInitialLoading:$&&R,data:A,dataUpdatedAt:N,error:O,errorUpdatedAt:w,failureCount:g.fetchFailureCount,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>l.dataUpdateCount||g.errorUpdateCount>l.errorUpdateCount,isFetching:R,isRefetching:R&&!$,isLoadingError:I&&g.dataUpdatedAt===0,isPaused:_==="paused",isPlaceholderData:S,isPreviousData:v,isRefetchError:I&&g.dataUpdatedAt!==0,isStale:cl(t,r),refetch:this.refetch,remove:this.remove}}updateResult(t){const r=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Jl(n,r))return;this.currentResult=n;const a={cache:!0},o=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options;if(s==="all"||!s&&!this.trackedProps.size)return!0;const u=new Set(s!=null?s:this.trackedProps);return this.options.useErrorBoundary&&u.add("error"),Object.keys(this.currentResult).some(c=>{const l=c;return this.currentResult[l]!==r[l]&&u.has(l)})};(t==null?void 0:t.listeners)!==!1&&o()&&(a.listeners=!0),this.notify({...a,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const r={};t.type==="success"?r.onSuccess=!t.manual:t.type==="error"&&!zy(t.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(t){On.batch(()=>{if(t.onSuccess){var r,n,a,o;(r=(n=this.options).onSuccess)==null||r.call(n,this.currentResult.data),(a=(o=this.options).onSettled)==null||a.call(o,this.currentResult.data,null)}else if(t.onError){var s,u,c,l;(s=(u=this.options).onError)==null||s.call(u,this.currentResult.error),(c=(l=this.options).onSettled)==null||c.call(l,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(h=>{h(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function fv(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function of(e,t){return fv(e,t)||e.state.dataUpdatedAt>0&&Ps(e,t,t.refetchOnMount)}function Ps(e,t,r){if(t.enabled!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&cl(e,t)}return!1}function sf(e,t,r,n){return r.enabled!==!1&&(e!==t||n.enabled===!1)&&(!r.suspense||e.state.status!=="error")&&cl(e,r)}function cl(e,t){return e.isStaleByTime(t.staleTime)}var zp={exports:{}},Wp={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rn=y.exports;function dv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pv=typeof Object.is=="function"?Object.is:dv,mv=rn.useState,hv=rn.useEffect,yv=rn.useLayoutEffect,vv=rn.useDebugValue;function gv(e,t){var r=t(),n=mv({inst:{value:r,getSnapshot:t}}),a=n[0].inst,o=n[1];return yv(function(){a.value=r,a.getSnapshot=t,rs(a)&&o({inst:a})},[e,r,t]),hv(function(){return rs(a)&&o({inst:a}),e(function(){rs(a)&&o({inst:a})})},[e]),vv(r),r}function rs(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pv(e,r)}catch{return!0}}function bv(e,t){return t()}var wv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?bv:gv;Wp.useSyncExternalStore=rn.useSyncExternalStore!==void 0?rn.useSyncExternalStore:wv;(function(e){e.exports=Wp})(zp);const xv=zp.exports.useSyncExternalStore,uf=y.exports.createContext(void 0),Yp=y.exports.createContext(!1);function Gp(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=uf),window.ReactQueryClientContext):uf)}const _v=({context:e}={})=>{const t=y.exports.useContext(Gp(e,y.exports.useContext(Yp)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Ev=({client:e,children:t,context:r,contextSharing:n=!1})=>{y.exports.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const a=Gp(r,n);return y.exports.createElement(Yp.Provider,{value:!r&&n},y.exports.createElement(a.Provider,{value:e},t))},Qp=y.exports.createContext(!1),Sv=()=>y.exports.useContext(Qp);Qp.Provider;function Tv(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const Ov=y.exports.createContext(Tv()),Cv=()=>y.exports.useContext(Ov);function Rv(e,t){return typeof e=="function"?e(...t):!!e}const Nv=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},Av=e=>{y.exports.useEffect(()=>{e.clearReset()},[e])},Pv=({result:e,errorResetBoundary:t,useErrorBoundary:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&Rv(r,[e.error,n]);function Dv(e,t){const r=_v({context:e.context}),n=Sv(),a=Cv(),o=r.defaultQueryOptions(e);o._optimisticResults=n?"isRestoring":"optimistic",o.onError&&(o.onError=On.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=On.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=On.batchCalls(o.onSettled)),o.suspense&&typeof o.staleTime!="number"&&(o.staleTime=1e3),Nv(o,a),Av(a);const[s]=y.exports.useState(()=>new t(r,o)),u=s.getOptimisticResult(o);if(xv(y.exports.useCallback(c=>n?()=>{}:s.subscribe(On.batchCalls(c)),[s,n]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),y.exports.useEffect(()=>{s.setOptions(o,{listeners:!1})},[o,s]),o.suspense&&u.isLoading&&u.isFetching&&!n)throw s.fetchOptimistic(o).then(({data:c})=>{o.onSuccess==null||o.onSuccess(c),o.onSettled==null||o.onSettled(c,null)}).catch(c=>{a.clearReset(),o.onError==null||o.onError(c),o.onSettled==null||o.onSettled(void 0,c)});if(Pv({result:u,errorResetBoundary:a,useErrorBoundary:o.useErrorBoundary,query:s.getCurrentQuery()}))throw u.error;return o.notifyOnChangeProps?u:s.trackResult(u)}function ll(e,t,r){const n=Wy(e,t,r);return Dv(n,lv)}const $v="0.36.0",Zp=y.exports.createContext(void 0);var ra={exports:{}},fl={},Iv=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Xp="%[a-f0-9]{2}",cf=new RegExp("("+Xp+")|([^%]+?)","gi"),lf=new RegExp("("+Xp+")+","gi");function Ds(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],Ds(r),Ds(n))}function Mv(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(cf)||[],r=1;r<t.length;r++)e=Ds(t,r).join(""),t=e.match(cf)||[];return e}}function Fv(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=lf.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var n=Mv(r[0]);n!==r[0]&&(t[r[0]]=n)}r=lf.exec(e)}t["%C2"]="\uFFFD";for(var a=Object.keys(t),o=0;o<a.length;o++){var s=a[o];e=e.replace(new RegExp(s,"g"),t[s])}return e}var kv=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return Fv(e)}},Bv=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]},Lv=function(e,t){for(var r={},n=Object.keys(e),a=Array.isArray(t),o=0;o<n.length;o++){var s=n[o],u=e[s];(a?t.indexOf(s)!==-1:t(s,u,e))&&(r[s]=u)}return r};(function(e){const t=Iv,r=kv,n=Bv,a=Lv,o=S=>S==null,s=Symbol("encodeFragmentIdentifier");function u(S){switch(S.arrayFormat){case"index":return A=>(R,$)=>{const I=R.length;return $===void 0||S.skipNull&&$===null||S.skipEmptyString&&$===""?R:$===null?[...R,[h(A,S),"[",I,"]"].join("")]:[...R,[h(A,S),"[",h(I,S),"]=",h($,S)].join("")]};case"bracket":return A=>(R,$)=>$===void 0||S.skipNull&&$===null||S.skipEmptyString&&$===""?R:$===null?[...R,[h(A,S),"[]"].join("")]:[...R,[h(A,S),"[]=",h($,S)].join("")];case"colon-list-separator":return A=>(R,$)=>$===void 0||S.skipNull&&$===null||S.skipEmptyString&&$===""?R:$===null?[...R,[h(A,S),":list="].join("")]:[...R,[h(A,S),":list=",h($,S)].join("")];case"comma":case"separator":case"bracket-separator":{const A=S.arrayFormat==="bracket-separator"?"[]=":"=";return R=>($,I)=>I===void 0||S.skipNull&&I===null||S.skipEmptyString&&I===""?$:(I=I===null?"":I,$.length===0?[[h(R,S),A,h(I,S)].join("")]:[[$,h(I,S)].join(S.arrayFormatSeparator)])}default:return A=>(R,$)=>$===void 0||S.skipNull&&$===null||S.skipEmptyString&&$===""?R:$===null?[...R,h(A,S)]:[...R,[h(A,S),"=",h($,S)].join("")]}}function c(S){let A;switch(S.arrayFormat){case"index":return(R,$,I)=>{if(A=/\[(\d*)\]$/.exec(R),R=R.replace(/\[\d*\]$/,""),!A){I[R]=$;return}I[R]===void 0&&(I[R]={}),I[R][A[1]]=$};case"bracket":return(R,$,I)=>{if(A=/(\[\])$/.exec(R),R=R.replace(/\[\]$/,""),!A){I[R]=$;return}if(I[R]===void 0){I[R]=[$];return}I[R]=[].concat(I[R],$)};case"colon-list-separator":return(R,$,I)=>{if(A=/(:list)$/.exec(R),R=R.replace(/:list$/,""),!A){I[R]=$;return}if(I[R]===void 0){I[R]=[$];return}I[R]=[].concat(I[R],$)};case"comma":case"separator":return(R,$,I)=>{const V=typeof $=="string"&&$.includes(S.arrayFormatSeparator),L=typeof $=="string"&&!V&&g($,S).includes(S.arrayFormatSeparator);$=L?g($,S):$;const P=V||L?$.split(S.arrayFormatSeparator).map(j=>g(j,S)):$===null?$:g($,S);I[R]=P};case"bracket-separator":return(R,$,I)=>{const V=/(\[\])$/.test(R);if(R=R.replace(/\[\]$/,""),!V){I[R]=$&&g($,S);return}const L=$===null?[]:$.split(S.arrayFormatSeparator).map(P=>g(P,S));if(I[R]===void 0){I[R]=L;return}I[R]=[].concat(I[R],L)};default:return(R,$,I)=>{if(I[R]===void 0){I[R]=$;return}I[R]=[].concat(I[R],$)}}}function l(S){if(typeof S!="string"||S.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function h(S,A){return A.encode?A.strict?t(S):encodeURIComponent(S):S}function g(S,A){return A.decode?r(S):S}function N(S){return Array.isArray(S)?S.sort():typeof S=="object"?N(Object.keys(S)).sort((A,R)=>Number(A)-Number(R)).map(A=>S[A]):S}function O(S){const A=S.indexOf("#");return A!==-1&&(S=S.slice(0,A)),S}function w(S){let A="";const R=S.indexOf("#");return R!==-1&&(A=S.slice(R)),A}function _(S){S=O(S);const A=S.indexOf("?");return A===-1?"":S.slice(A+1)}function C(S,A){return A.parseNumbers&&!Number.isNaN(Number(S))&&typeof S=="string"&&S.trim()!==""?S=Number(S):A.parseBooleans&&S!==null&&(S.toLowerCase()==="true"||S.toLowerCase()==="false")&&(S=S.toLowerCase()==="true"),S}function v(S,A){A=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},A),l(A.arrayFormatSeparator);const R=c(A),$=Object.create(null);if(typeof S!="string"||(S=S.trim().replace(/^[?#&]/,""),!S))return $;for(const I of S.split("&")){if(I==="")continue;let[V,L]=n(A.decode?I.replace(/\+/g," "):I,"=");L=L===void 0?null:["comma","separator","bracket-separator"].includes(A.arrayFormat)?L:g(L,A),R(g(V,A),L,$)}for(const I of Object.keys($)){const V=$[I];if(typeof V=="object"&&V!==null)for(const L of Object.keys(V))V[L]=C(V[L],A);else $[I]=C(V,A)}return A.sort===!1?$:(A.sort===!0?Object.keys($).sort():Object.keys($).sort(A.sort)).reduce((I,V)=>{const L=$[V];return Boolean(L)&&typeof L=="object"&&!Array.isArray(L)?I[V]=N(L):I[V]=L,I},Object.create(null))}e.extract=_,e.parse=v,e.stringify=(S,A)=>{if(!S)return"";A=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},A),l(A.arrayFormatSeparator);const R=L=>A.skipNull&&o(S[L])||A.skipEmptyString&&S[L]==="",$=u(A),I={};for(const L of Object.keys(S))R(L)||(I[L]=S[L]);const V=Object.keys(I);return A.sort!==!1&&V.sort(A.sort),V.map(L=>{const P=S[L];return P===void 0?"":P===null?h(L,A):Array.isArray(P)?P.length===0&&A.arrayFormat==="bracket-separator"?h(L,A)+"[]":P.reduce($(L),[]).join("&"):h(L,A)+"="+h(P,A)}).filter(L=>L.length>0).join("&")},e.parseUrl=(S,A)=>{A=Object.assign({decode:!0},A);const[R,$]=n(S,"#");return Object.assign({url:R.split("?")[0]||"",query:v(_(S),A)},A&&A.parseFragmentIdentifier&&$?{fragmentIdentifier:g($,A)}:{})},e.stringifyUrl=(S,A)=>{A=Object.assign({encode:!0,strict:!0,[s]:!0},A);const R=O(S.url).split("?")[0]||"",$=e.extract(S.url),I=e.parse($,{sort:!1}),V=Object.assign(I,S.query);let L=e.stringify(V,A);L&&(L=`?${L}`);let P=w(S.url);return S.fragmentIdentifier&&(P=`#${A[s]?h(S.fragmentIdentifier,A):S.fragmentIdentifier}`),`${R}${L}${P}`},e.pick=(S,A,R)=>{R=Object.assign({parseFragmentIdentifier:!0,[s]:!1},R);const{url:$,query:I,fragmentIdentifier:V}=e.parseUrl(S,R);return e.stringifyUrl({url:$,query:a(I,A),fragmentIdentifier:V},R)},e.exclude=(S,A,R)=>{const $=Array.isArray(A)?I=>!A.includes(I):(I,V)=>!A(I,V);return e.pick(S,$,R)}})(fl);var $s={exports:{}};(function(e,t){t=e.exports=r,t.getSerialize=n;function r(a,o,s,u){return JSON.stringify(a,n(o,u),s)}function n(a,o){var s=[],u=[];return o==null&&(o=function(c,l){return s[0]===l?"[Circular ~]":"[Circular ~."+u.slice(0,s.indexOf(l)).join(".")+"]"}),function(c,l){if(s.length>0){var h=s.indexOf(this);~h?s.splice(h+1):s.push(this),~h?u.splice(h,1/0,c):u.push(c),~s.indexOf(l)&&(l=o.call(this,c,l))}else s.push(l);return a==null?l:a.call(this,c,l)}}})($s,$s.exports);const Uv=$s.exports,or=kp()("fhir-kit-client:error"),Kr=kp()("fhir-kit-client:info");function lo(e){return Uv(e)}function Kp(e){return e.raw&&typeof e.raw=="function"?lo(e.raw()):lo(e)}function qv(e){!or.enabled||(or("!!! Error"),e.response&&or(`    Status: ${e.response.status}`),e.config&&(or(`    ${e.config.method.toUpperCase()}: ${e.config.url}`),or(`    Headers: ${Kp(e.config.headers)}`)),e.response&&e.response.data&&or(lo(e.response.data)),or("!!! Request Error"))}function Vv(e,t,r){!Kr.enabled||(t&&Kr(`Request: ${e.toUpperCase()} ${t.toString()}`),Kr(`Request Headers: ${Kp(r)}`))}function jv(e){!Kr.enabled||(Kr(`Response: ${e.status}`),e.data&&Kr(lo(e.data)))}function Hv(e){!or.enabled||or(e)}var Jp={logRequestError:qv,logRequestInfo:Vv,logResponseInfo:jv,logError:Hv};const zv="http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris",{logError:Wv}=Jp;function Yv(e){const t={};try{return e.rest.forEach(r=>{r.security.extension.find(a=>a.url===zv).extension.forEach(a=>{switch(a.url){case"authorize":t.authorizeUrl=new URL(a.valueUri);break;case"token":t.tokenUrl=new URL(a.valueUri);break;case"register":t.registerUrl=new URL(a.valueUri);break;case"manage":t.manageUrl=new URL(a.valueUri);break;default:}})}),t}catch(r){return Wv(r),t}}function Gv(e){const{authorization_endpoint:t,token_endpoint:r,registration_endpoint:n}=e;return{authorizeUrl:t&&new URL(t),tokenUrl:r&&new URL(r),registerUrl:n&&new URL(n)}}var Qv={authFromCapability:Yv,authFromWellKnown:Gv},em={exports:{}};/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(e,t){(function(r,n){e.exports=n()})(ga,function(){function r(B){var z=typeof B;return B!==null&&(z==="object"||z==="function")}function n(B){return typeof B=="function"}var a=void 0;Array.isArray?a=Array.isArray:a=function(B){return Object.prototype.toString.call(B)==="[object Array]"};var o=a,s=0,u=void 0,c=void 0,l=function(z,U){I[s]=z,I[s+1]=U,s+=2,s===2&&(c?c(V):P())};function h(B){c=B}function g(B){l=B}var N=typeof window<"u"?window:void 0,O=N||{},w=O.MutationObserver||O.WebKitMutationObserver,_=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",C=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function v(){return function(){return process.nextTick(V)}}function S(){return typeof u<"u"?function(){u(V)}:$()}function A(){var B=0,z=new w(V),U=document.createTextNode("");return z.observe(U,{characterData:!0}),function(){U.data=B=++B%2}}function R(){var B=new MessageChannel;return B.port1.onmessage=V,function(){return B.port2.postMessage(0)}}function $(){var B=setTimeout;return function(){return B(V,1)}}var I=new Array(1e3);function V(){for(var B=0;B<s;B+=2){var z=I[B],U=I[B+1];z(U),I[B]=void 0,I[B+1]=void 0}s=0}function L(){try{var B=Function("return this")().require("vertx");return u=B.runOnLoop||B.runOnContext,S()}catch{return $()}}var P=void 0;_?P=v():w?P=A():C?P=R():N===void 0&&typeof Zy=="function"?P=L():P=$();function j(B,z){var U=this,H=new this.constructor(ae);H[ce]===void 0&&ee(H);var ie=U._state;if(ie){var ve=arguments[ie-1];l(function(){return re(ie,H,ve,U._result)})}else Q(U,H,B,z);return H}function K(B){var z=this;if(B&&typeof B=="object"&&B.constructor===z)return B;var U=new z(ae);return Ze(U,B),U}var ce=Math.random().toString(36).substring(2);function ae(){}var le=void 0,ge=1,xe=2;function Ce(){return new TypeError("You cannot resolve a promise with itself")}function ye(){return new TypeError("A promises callback cannot return that same promise.")}function Re(B,z,U,H){try{B.call(z,U,H)}catch(ie){return ie}}function pe(B,z,U){l(function(H){var ie=!1,ve=Re(U,z,function(Ue){ie||(ie=!0,z!==Ue?Ze(H,Ue):ze(H,Ue))},function(Ue){ie||(ie=!0,me(H,Ue))},"Settle: "+(H._label||" unknown promise"));!ie&&ve&&(ie=!0,me(H,ve))},B)}function oe(B,z){z._state===ge?ze(B,z._result):z._state===xe?me(B,z._result):Q(z,void 0,function(U){return Ze(B,U)},function(U){return me(B,U)})}function X(B,z,U){z.constructor===B.constructor&&U===j&&z.constructor.resolve===K?oe(B,z):U===void 0?ze(B,z):n(U)?pe(B,z,U):ze(B,z)}function Ze(B,z){if(B===z)me(B,Ce());else if(r(z)){var U=void 0;try{U=z.then}catch(H){me(B,H);return}X(B,z,U)}else ze(B,z)}function $e(B){B._onerror&&B._onerror(B._result),Y(B)}function ze(B,z){B._state===le&&(B._result=z,B._state=ge,B._subscribers.length!==0&&l(Y,B))}function me(B,z){B._state===le&&(B._state=xe,B._result=z,l($e,B))}function Q(B,z,U,H){var ie=B._subscribers,ve=ie.length;B._onerror=null,ie[ve]=z,ie[ve+ge]=U,ie[ve+xe]=H,ve===0&&B._state&&l(Y,B)}function Y(B){var z=B._subscribers,U=B._state;if(z.length!==0){for(var H=void 0,ie=void 0,ve=B._result,Ue=0;Ue<z.length;Ue+=3)H=z[Ue],ie=z[Ue+U],H?re(U,H,ie,ve):ie(ve);B._subscribers.length=0}}function re(B,z,U,H){var ie=n(U),ve=void 0,Ue=void 0,ut=!0;if(ie){try{ve=U(H)}catch(Se){ut=!1,Ue=Se}if(z===ve){me(z,ye());return}}else ve=H;z._state!==le||(ie&&ut?Ze(z,ve):ut===!1?me(z,Ue):B===ge?ze(z,ve):B===xe&&me(z,ve))}function Ae(B,z){try{z(function(H){Ze(B,H)},function(H){me(B,H)})}catch(U){me(B,U)}}var Te=0;function ne(){return Te++}function ee(B){B[ce]=Te++,B._state=void 0,B._result=void 0,B._subscribers=[]}function ft(){return new Error("Array Methods must be provided an Array")}var Nt=function(){function B(z,U){this._instanceConstructor=z,this.promise=new z(ae),this.promise[ce]||ee(this.promise),o(U)?(this.length=U.length,this._remaining=U.length,this._result=new Array(this.length),this.length===0?ze(this.promise,this._result):(this.length=this.length||0,this._enumerate(U),this._remaining===0&&ze(this.promise,this._result))):me(this.promise,ft())}return B.prototype._enumerate=function(U){for(var H=0;this._state===le&&H<U.length;H++)this._eachEntry(U[H],H)},B.prototype._eachEntry=function(U,H){var ie=this._instanceConstructor,ve=ie.resolve;if(ve===K){var Ue=void 0,ut=void 0,Se=!1;try{Ue=U.then}catch(ht){Se=!0,ut=ht}if(Ue===j&&U._state!==le)this._settledAt(U._state,H,U._result);else if(typeof Ue!="function")this._remaining--,this._result[H]=U;else if(ie===W){var kt=new ie(ae);Se?me(kt,ut):X(kt,U,Ue),this._willSettleAt(kt,H)}else this._willSettleAt(new ie(function(ht){return ht(U)}),H)}else this._willSettleAt(ve(U),H)},B.prototype._settledAt=function(U,H,ie){var ve=this.promise;ve._state===le&&(this._remaining--,U===xe?me(ve,ie):this._result[H]=ie),this._remaining===0&&ze(ve,this._result)},B.prototype._willSettleAt=function(U,H){var ie=this;Q(U,void 0,function(ve){return ie._settledAt(ge,H,ve)},function(ve){return ie._settledAt(xe,H,ve)})},B}();function b(B){return new Nt(this,B).promise}function d(B){var z=this;return o(B)?new z(function(U,H){for(var ie=B.length,ve=0;ve<ie;ve++)z.resolve(B[ve]).then(U,H)}):new z(function(U,H){return H(new TypeError("You must pass an array to race."))})}function m(B){var z=this,U=new z(ae);return me(U,B),U}function x(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function k(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var W=function(){function B(z){this[ce]=ne(),this._result=this._state=void 0,this._subscribers=[],ae!==z&&(typeof z!="function"&&x(),this instanceof B?Ae(this,z):k())}return B.prototype.catch=function(U){return this.then(null,U)},B.prototype.finally=function(U){var H=this,ie=H.constructor;return n(U)?H.then(function(ve){return ie.resolve(U()).then(function(){return ve})},function(ve){return ie.resolve(U()).then(function(){throw ve})}):H.then(U,U)},B}();W.prototype.then=j,W.all=b,W.race=d,W.resolve=K,W.reject=m,W._setScheduler=h,W._setAsap=g,W._asap=l;function Z(){var B=void 0;if(typeof ga<"u")B=ga;else if(typeof self<"u")B=self;else try{B=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var z=B.Promise;if(z){var U=null;try{U=Object.prototype.toString.call(z.resolve())}catch{}if(U==="[object Promise]"&&!z.cast)return}B.Promise=W}return W.polyfill=Z,W.Promise=W,W})})(em);(function(){(function(e){(function(t){var r={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};function n(P){return P&&DataView.prototype.isPrototypeOf(P)}if(r.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(P){return P&&a.indexOf(Object.prototype.toString.call(P))>-1};function s(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(P))throw new TypeError("Invalid character in header field name");return P.toLowerCase()}function u(P){return typeof P!="string"&&(P=String(P)),P}function c(P){var j={next:function(){var K=P.shift();return{done:K===void 0,value:K}}};return r.iterable&&(j[Symbol.iterator]=function(){return j}),j}function l(P){this.map={},P instanceof l?P.forEach(function(j,K){this.append(K,j)},this):Array.isArray(P)?P.forEach(function(j){this.append(j[0],j[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(j){this.append(j,P[j])},this)}l.prototype.append=function(P,j){P=s(P),j=u(j);var K=this.map[P];this.map[P]=K?K+", "+j:j},l.prototype.delete=function(P){delete this.map[s(P)]},l.prototype.get=function(P){return P=s(P),this.has(P)?this.map[P]:null},l.prototype.has=function(P){return this.map.hasOwnProperty(s(P))},l.prototype.set=function(P,j){this.map[s(P)]=u(j)},l.prototype.forEach=function(P,j){for(var K in this.map)this.map.hasOwnProperty(K)&&P.call(j,this.map[K],K,this)},l.prototype.keys=function(){var P=[];return this.forEach(function(j,K){P.push(K)}),c(P)},l.prototype.values=function(){var P=[];return this.forEach(function(j){P.push(j)}),c(P)},l.prototype.entries=function(){var P=[];return this.forEach(function(j,K){P.push([K,j])}),c(P)},r.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);function h(P){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}function g(P){return new Promise(function(j,K){P.onload=function(){j(P.result)},P.onerror=function(){K(P.error)}})}function N(P){var j=new FileReader,K=g(j);return j.readAsArrayBuffer(P),K}function O(P){var j=new FileReader,K=g(j);return j.readAsText(P),K}function w(P){for(var j=new Uint8Array(P),K=new Array(j.length),ce=0;ce<j.length;ce++)K[ce]=String.fromCharCode(j[ce]);return K.join("")}function _(P){if(P.slice)return P.slice(0);var j=new Uint8Array(P.byteLength);return j.set(new Uint8Array(P)),j.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(P){this._bodyInit=P,P?typeof P=="string"?this._bodyText=P:r.blob&&Blob.prototype.isPrototypeOf(P)?this._bodyBlob=P:r.formData&&FormData.prototype.isPrototypeOf(P)?this._bodyFormData=P:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)?this._bodyText=P.toString():r.arrayBuffer&&r.blob&&n(P)?(this._bodyArrayBuffer=_(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(P)||o(P))?this._bodyArrayBuffer=_(P):this._bodyText=P=Object.prototype.toString.call(P):this._bodyText="",this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var P=h(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(N)}),this.text=function(){var P=h(this);if(P)return P;if(this._bodyBlob)return O(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(R)}),this.json=function(){return this.text().then(JSON.parse)},this}var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function S(P){var j=P.toUpperCase();return v.indexOf(j)>-1?j:P}function A(P,j){j=j||{};var K=j.body;if(P instanceof A){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,j.headers||(this.headers=new l(P.headers)),this.method=P.method,this.mode=P.mode,this.signal=P.signal,!K&&P._bodyInit!=null&&(K=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=j.credentials||this.credentials||"same-origin",(j.headers||!this.headers)&&(this.headers=new l(j.headers)),this.method=S(j.method||this.method||"GET"),this.mode=j.mode||this.mode||null,this.signal=j.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&K)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(K)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function R(P){var j=new FormData;return P.trim().split("&").forEach(function(K){if(K){var ce=K.split("="),ae=ce.shift().replace(/\+/g," "),le=ce.join("=").replace(/\+/g," ");j.append(decodeURIComponent(ae),decodeURIComponent(le))}}),j}function $(P){var j=new l,K=P.replace(/\r?\n[\t ]+/g," ");return K.split(/\r?\n/).forEach(function(ce){var ae=ce.split(":"),le=ae.shift().trim();if(le){var ge=ae.join(":").trim();j.append(le,ge)}}),j}C.call(A.prototype);function I(P,j){j||(j={}),this.type="default",this.status=j.status===void 0?200:j.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in j?j.statusText:"OK",this.headers=new l(j.headers),this.url=j.url||"",this._initBody(P)}C.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},I.error=function(){var P=new I(null,{status:0,statusText:""});return P.type="error",P};var V=[301,302,303,307,308];I.redirect=function(P,j){if(V.indexOf(j)===-1)throw new RangeError("Invalid status code");return new I(null,{status:j,headers:{location:P}})},t.DOMException=e.DOMException;try{new t.DOMException}catch{t.DOMException=function(j,K){this.message=j,this.name=K;var ce=Error(j);this.stack=ce.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function L(P,j){return new Promise(function(K,ce){var ae=new A(P,j);if(ae.signal&&ae.signal.aborted)return ce(new t.DOMException("Aborted","AbortError"));var le=new XMLHttpRequest;function ge(){le.abort()}le.onload=function(){var xe={status:le.status,statusText:le.statusText,headers:$(le.getAllResponseHeaders()||"")};xe.url="responseURL"in le?le.responseURL:xe.headers.get("X-Request-URL");var Ce="response"in le?le.response:le.responseText;K(new I(Ce,xe))},le.onerror=function(){ce(new TypeError("Network request failed"))},le.ontimeout=function(){ce(new TypeError("Network request failed"))},le.onabort=function(){ce(new t.DOMException("Aborted","AbortError"))},le.open(ae.method,ae.url,!0),ae.credentials==="include"?le.withCredentials=!0:ae.credentials==="omit"&&(le.withCredentials=!1),"responseType"in le&&r.blob&&(le.responseType="blob"),ae.headers.forEach(function(xe,Ce){le.setRequestHeader(Ce,xe)}),ae.signal&&(ae.signal.addEventListener("abort",ge),le.onreadystatechange=function(){le.readyState===4&&ae.signal.removeEventListener("abort",ge)}),le.send(typeof ae._bodyInit>"u"?null:ae._bodyInit)})}return L.polyfill=!0,e.fetch||(e.fetch=L,e.Headers=l,e.Request=A,e.Response=I),t.Headers=l,t.Request=A,t.Response=I,t.fetch=L,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:ga)})();var na={exports:{}},ff;function df(){if(ff)return na.exports;ff=1,na.exports=e,na.exports.HttpsAgent=e;function e(){}return na.exports}em.exports.polyfill();const{logRequestError:Zv,logRequestInfo:tm,logResponseInfo:Xv}=Jp,Kv={accept:"application/fhir+json"},pf="__response",mf="__request";let dl=!1,rm,nm;try{rm=df(),nm=df().HttpsAgent,dl=!0}catch{tm("HTTP Agent is not available")}const bn=new WeakMap;function Jv(e,t={}){const r={baseUrl:e,agentOptions:t};return dl?(bn.get(r)||(e.startsWith("https")?bn.set(r,{agent:new nm(t)}):bn.set(r,{agent:new rm(t)})),bn.get(r)):{}}function hf({status:e,data:t,method:r,headers:n,url:a}){const o={response:{status:e,data:t},config:{method:r,url:a,headers:n}};return Zv(o),o}function eg(e){return typeof e=="string"?e:JSON.stringify(e)}var tg=class ba{static lcKeys(t){return t&&Object.keys(t).reduce((r,n)=>(r[n.toLowerCase()]=t[n],r),{})}constructor({baseUrl:t,customHeaders:r={},requestOptions:n={},requestSigner:a=void 0}){this.baseUrl=t,this.customHeaders=r,this.baseRequestOptions=n,this.requestSigner=a}set baseUrl(t){if(!t)throw new Error("baseUrl cannot be blank");if(typeof t!="string")throw new Error("baseUrl must be a string");this.baseUrlValue=t}get baseUrl(){return this.baseUrlValue}static responseFor(t){return t[pf]}static requestFor(t){return t[mf]}set bearerToken(t){const r=`Bearer ${t}`;this.authHeader={authorization:r}}requestBuilder(t,r,n,a){const o={...this.baseRequestOptions,...n,method:t,body:eg(a)};let s={};return dl||(s={keepalive:Object.prototype.hasOwnProperty.call(o,"keepalive")?o.keepalive:!0}),Object.assign(o,s,{headers:new Headers(this.mergeHeaders(n.headers))},Jv(this.baseUrl,o)),this.requestSigner&&this.requestSigner(r,o),new Request(r,o)}async request(t,r,n={},a){const o=this.expandUrl(r),s=this.requestBuilder(t,o,n,a);tm(t,o,s.headers);const u=await fetch(s),{status:c,headers:l}=u;Xv({status:c,response:u});const h=await u.text();let g={};if(h)try{g=JSON.parse(h)}catch{throw g=h,hf({status:c,data:g,method:t,headers:l,url:o})}if(!u.ok)throw hf({status:c,data:g,method:t,headers:l,url:o});return Object.defineProperty(g,pf,{writable:!1,enumerable:!1,value:u}),Object.defineProperty(g,mf,{writable:!1,enumerable:!1,value:s}),g}async get(t,r){return this.request("GET",t,r)}async delete(t,r){return this.request("DELETE",t,r)}async put(t,r,n={}){const a={"content-type":"application/fhir+json",...ba.lcKeys(n.headers)},o={...n,headers:a};return this.request("PUT",t,o,r)}async post(t,r,n={}){const a={"content-type":"application/fhir+json",...ba.lcKeys(n.headers)},o={...n,headers:a};return this.request("POST",t,o,r)}async patch(t,r,n){return this.request("PATCH",t,n,r)}expandUrl(t=""){return t.toLowerCase().startsWith("http")?t:this.baseUrl.endsWith("/")&&t.startsWith("/")?this.baseUrl+t.slice(1):this.baseUrl.endsWith("/")||t.startsWith("/")?this.baseUrl+t:`${this.baseUrl}/${t}`}mergeHeaders(t){const{lcKeys:r}=ba;return{...r(Kv),...r(this.authHeader),...r(this.customHeaders),...r(t)}}},rg={fhirReferenceRegEx:/^((http|https):\/\/([A-Za-z0-9\\.:%$]*\/)*)?(Account|ActivityDefinition|AdverseEvent|AllergyIntolerance|Appointment|AppointmentResponse|AuditEvent|Basic|Binary|BiologicallyDerivedProduct|BodySite|BodyStructure|Bundle|CapabilityStatement|CarePlan|CareTeam|CatalogEntry|ChargeItem|ChargeItemDefinition|Claim|ClaimResponse|ClinicalImpression|CodeSystem|Communication|CommunicationRequest|CompartmentDefinition|Composition|ConceptMap|Condition|Conformance|Consent|Contract|Coverage|CoverageEligibilityRequest|CoverageEligibilityResponse|DataElement|DecisionSupportRule|DecisionSupportServiceModule|DetectedIssue|Device|DeviceComponent|DeviceDefinition|DeviceMetric|DeviceRequest|DeviceUseRequest|DeviceUseStatement|DiagnosticOrder|DiagnosticReport|DiagnosticRequest|DocumentManifest|DocumentReference|EffectEvidenceSynthesis|EligibilityRequest|EligibilityResponse|Encounter|Endpoint|EnrollmentRequest|EnrollmentResponse|EntryDefinition|EpisodeOfCare|EventDefinition|Evidence|EvidenceVariable|ExampleScenario|ExpansionProfile|ExplanationOfBenefit|FamilyMemberHistory|Flag|Goal|GraphDefinition|Group|GuidanceRequest|GuidanceResponse|HealthcareService|ImagingExcerpt|ImagingManifest|ImagingObjectSelection|ImagingStudy|Immunization|ImmunizationEvaluation|ImmunizationRecommendation|ImplementationGuide|ImplementationGuideInput|ImplementationGuideOutput|InsurancePlan|Invoice|ItemInstance|Library|Linkage|List|Location|Measure|MeasureReport|Media|Medication|MedicationAdministration|MedicationDispense|MedicationKnowledge|MedicationOrder|MedicationRequest|MedicationStatement|MedicinalProduct|MedicinalProductAuthorization|MedicinalProductClinicals|MedicinalProductContraindication|MedicinalProductDeviceSpec|MedicinalProductIndication|MedicinalProductIngredient|MedicinalProductInteraction|MedicinalProductManufactured|MedicinalProductPackaged|MedicinalProductPharmaceutical|MedicinalProductUndesirableEffect|MessageDefinition|MessageHeader|ModuleDefinition|ModuleMetadata|MolecularSequence|NamingSystem|NutritionOrder|NutritionRequest|Observation|ObservationDefinition|OccupationalData|OperationDefinition|OperationOutcome|Order|OrderResponse|OrderSet|Organization|OrganizationAffiliation|OrganizationRole|Patient|PaymentNotice|PaymentReconciliation|Person|PlanDefinition|Practitioner|PractitionerRole|Procedure|ProcedureRequest|ProcessRequest|ProcessResponse|ProductPlan|Protocol|Provenance|Questionnaire|QuestionnaireResponse|ReferralRequest|RelatedPerson|RequestGroup|ResearchDefinition|ResearchElementDefinition|ResearchStudy|ResearchSubject|RiskAssessment|RiskEvidenceSynthesis|Schedule|SearchParameter|Sequence|ServiceDefinition|ServiceRequest|Slot|Specimen|SpecimenDefinition|StructureDefinition|StructureMap|Subscription|Substance|SubstanceNucleicAcid|SubstancePolymer|SubstanceProtein|SubstanceReferenceInformation|SubstanceSourceMaterial|SubstanceSpecification|SupplyDelivery|SupplyRequest|Task|TerminologyCapabilities|TestReport|TestScript|UserSession|ValueSet|VerificationResult|VisionPrescription)\/[A-Za-z0-9\-.]{1,256}(\/_history\/[A-Za-z0-9\-.]{1,256})?$/};const ng=fl,{fhirReferenceRegEx:yf}=rg;function ag(e){if(!e.match(yf))throw new Error(`${e} is not a recognized FHIR reference`);let t,r=e;e.startsWith("http")&&([,t]=yf.exec(e),r=e.slice(t.length),t.endsWith("/")&&(t=t.slice(0,-1)));const[n,a]=r.split("/");return{baseUrl:t,resourceType:n,id:a}}function og(e){return!e.startsWith("/")&&!e.includes(":")&&/\S/.test(e)}function ig(e){if(e instanceof Object&&Object.keys(e).length>0)return ng.stringify(e)}var am={createQueryString:ig,splitReference:ag,validResourceType:og};const sg=(e,t)=>{if(Object.prototype.hasOwnProperty.call(e,"resourceType")){console.warn("WARNING: positional parameters for pagination methods are deprecated and will be removed in the next major version. Call with ({ bundle, options }) rather than (bundle, headers)");const r={bundle:e};return t&&(r.options={headers:t}),r}return e},ug=(e,t)=>t?(console.warn("WARNING: headers is deprecated and will be removed in the next major version. Use options.headers instead."),console.warn(JSON.stringify(t,null,"  ")),{headers:t,...e}):e;var om={deprecateHeaders:ug,deprecatePaginationArgs:sg},ns,vf;function cg(){if(vf)return ns;vf=1;const{splitReference:e}=am,{deprecateHeaders:t}=om;return ns=class{constructor(r){this.client=r}async resolve({reference:r,context:n,headers:a,options:o={}}={}){return n===void 0?r.startsWith("http")?this.resolveAbsoluteReference(r,t(o,a)):this.client.httpClient.get(r,t(o,a)):r.startsWith("#")?this.resolveContainedReference(r,n):this.resolveBundleReference(r,n,t(o,a))}async resolveAbsoluteReference(r,n){if(r.startsWith(this.client.baseUrl))return this.client.httpClient.get(r,n);const{baseUrl:a,resourceType:o,id:s}=e(r),u=um();return new u({baseUrl:a}).read({resourceType:o,id:s,options:n})}resolveContainedReference(r,n){if(n.contained){const a=r.slice(1),o=n.contained.find(s=>s.id===a);if(o)return o}throw new Error(`Unable to resolve contained reference: ${r}`)}async resolveBundleReference(r,n,a){const o=new RegExp(`(^|/)${r}$`),s=n.entry.find(u=>o.test(u.fullUrl));return s?s.resource:this.resolve({reference:r,options:a})}},ns}class lg{constructor(t){this.httpClient=t}nextPage(t,{headers:r}={}){const n=t.link.find(a=>a.relation==="next");return n?this.httpClient.get(n.url,{headers:r}):void 0}prevPage(t,{headers:r}={}){const n=t.link.find(a=>a.relation.match(/^prev(ious)?$/));return n?this.httpClient.get(n.url,{headers:r}):void 0}}var fg=lg,im={};const pl=typeof self<"u"?self:typeof window<"u"?window:void 0;if(!pl)throw new Error("Unable to find global scope. Are you sure this is running in the browser?");if(!pl.AbortController)throw new Error('Could not find "AbortController" in the global scope. You need to polyfill it first');im.AbortController=pl.AbortController;const{AbortController:dg}=im;class sm{constructor(){this.controller=new dg,this.resolving=!1}addSignalOption(t){return{signal:this.controller.signal,...t}}safeAbort(){this.resolving||this.controller.abort()}}class pg{constructor(){this.jobs=[],this.numJobs=0}buildJob(){const t=new sm;return this.numJobs=this.jobs.push(t),t}safeAbortOthers(t){t.resolving=!0;for(let r=0,n=this.numJobs;r<n;r+=1)t!==this.jobs[r]&&this.jobs[r].safeAbort()}}var mg={FetchQueue:pg,FetchJob:sm};class hg{constructor(t){this.capabilityStatement=t}serverCan(t){return this.supportFor({capabilityType:"interaction",where:{code:t}})}resourceCan(t,r){return this.supportFor({resourceType:t,capabilityType:"interaction",where:{code:r}})}serverSearch(t){return this.supportFor({capabilityType:"searchParam",where:{name:t}})}resourceSearch(t,r){return this.supportFor({resourceType:t,capabilityType:"searchParam",where:{name:r}})}supportFor({resourceType:t,capabilityType:r,where:n}={}){let a;if(t?a=this.resourceCapabilities({resourceType:t}):a=this.serverCapabilities(),!a)return!1;const o=a[r];if(n&&o){const s=Object.keys(n)[0];return o.find(c=>c[s]===n[s])!==void 0}return o!==void 0}interactionsFor({resourceType:t}={}){const r=this.resourceCapabilities({resourceType:t});return r===void 0?[]:r.interaction.map(n=>n.code)}searchParamsFor({resourceType:t}={}){const r=this.resourceCapabilities({resourceType:t});return r===void 0?[]:r.searchParam===void 0?[]:r.searchParam.map(n=>n.name)}resourceCapabilities({resourceType:t}={}){return this.serverCapabilities().resource.find(a=>a.type===t)}capabilityContents({resourceType:t,capabilityType:r}={}){const n=this.resourceCapabilities({resourceType:t});if(n!==void 0)return n[r]}serverCapabilities(){return this.capabilityStatement.rest.find(t=>t.mode==="server")}}var yg=hg,gf;function um(){if(gf)return ra.exports;gf=1;const e=fl,{authFromCapability:t,authFromWellKnown:r}=Qv,n=tg,a=cg(),o=fg,{createQueryString:s,validResourceType:u}=am,{FetchQueue:c}=mg,{deprecatePaginationArgs:l,deprecateHeaders:h}=om,g=yg;class N{constructor({baseUrl:w,customHeaders:_,requestOptions:C,requestSigner:v,bearerToken:S}={}){this.httpClient=new n({baseUrl:w,customHeaders:_,requestOptions:C,requestSigner:v}),S&&(this.httpClient.bearerToken=S),this.resolver=new a(this),this.pagination=new o(this.httpClient)}static httpFor(w){return{request:n.requestFor(w),response:n.responseFor(w)}}get baseUrl(){return this.httpClient&&this.httpClient.baseUrl}set baseUrl(w){this.httpClient&&(this.httpClient.baseUrl=w)}get customHeaders(){return this.httpClient.customHeaders}set customHeaders(w){this.httpClient.customHeaders=w}set bearerToken(w){this.httpClient.bearerToken=w}resolve({reference:w,context:_,headers:C,options:v={}}={}){return this.resolver.resolve({reference:w,context:_,options:h(v,C)})}async smartAuthMetadata({headers:w,options:_={}}={}){const C={options:h(_,w)};C.options.headers||(C.options.headers={}),C.options.headers.accept="application/fhir+json,application/json";const v=this.baseUrl.replace(/\/*$/,"/"),S=new c,A=S.buildJob(),R=S.buildJob(),$=S.buildJob(),I=[];return new Promise((V,L)=>{function P(j){I.push(j)===S.numJobs&&L(new Error(I.map(K=>K.message).join("; ")))}this.httpClient.request("GET",`${v}.well-known/smart-configuration`,R.addSignalOption(C)).then(j=>(S.safeAbortOthers(R),V(r(j)))).catch(j=>P(j)),this.capabilityStatement(A.addSignalOption(C)).then(j=>(S.safeAbortOthers(A),V(t(j)))).catch(j=>P(j)),this.httpClient.request("GET",`${v}.well-known/openid-configuration`,$.addSignalOption(C)).then(j=>(S.safeAbortOthers($),V(r(j)))).catch(j=>P(j))})}capabilityStatement({headers:w,options:_={}}={}){return this.metadata||(this.metadata=this.httpClient.get("metadata",h(_,w))),this.metadata}request(w,{method:_="GET",options:C={},body:v}={}){return C.method&&C.method!==_&&console.warn(`WARNING: 'options.method' has been specified: ${C.method} but will be ignored. Use 'method' instead.`),this.httpClient.request(_,w,C,v)}read({resourceType:w,id:_,headers:C,options:v={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);return this.httpClient.get(`${w}/${_}`,h(v,C))}vread({resourceType:w,id:_,version:C,headers:v,options:S={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);return this.httpClient.get(`${w}/${_}/_history/${C}`,h(S,v))}create({resourceType:w,body:_,headers:C,options:v={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);return this.httpClient.post(w,_,h(v,C))}delete({resourceType:w,id:_,headers:C,options:v={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);return this.httpClient.delete(`${w}/${_}`,h(v,C))}update({resourceType:w,id:_,searchParams:C,body:v,headers:S,options:A={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);if(_&&C)throw new Error("Conditional update with search params cannot be with id",w);if(C){const R=s(C);return this.httpClient.put(`${w}?${R}`,v,h(A,S))}return this.httpClient.put(`${w}/${_}`,v,h(A,S))}patch({resourceType:w,id:_,JSONPatch:C,headers:v,options:S={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);const R={...h(S,v).headers||{},"Content-Type":"application/json-patch+json"};return this.httpClient.patch(`${w}/${_}`,C,{...S,headers:R})}batch({body:w,headers:_,options:C={}}={}){return this.httpClient.post("/",w,h(C,_))}transaction({body:w,headers:_,options:C={}}={}){return this.httpClient.post("/",w,h(C,_))}operation({name:w,resourceType:_,id:C,method:v="POST",input:S,options:A={}}={}){const R=["/"];if(_){if(!u(_))throw new Error("Invalid resourceType",_);R.push(`${_}/`)}if(C&&R.push(`${C}/`),R.push(`${w.startsWith("$")?w:`$${w}`}`),v.toUpperCase()==="POST")return this.httpClient.post(R.join(""),S,A);if(v.toUpperCase()==="GET")return S&&R.push(`?${e.stringify(S)}`),this.httpClient.get(R.join(""),A)}nextPage(w,_){const{bundle:C,options:v={}}=l(w,_);return this.pagination.nextPage(C,v)}prevPage(w,_){const{bundle:C,options:v={}}=l(w,_);return this.pagination.prevPage(C,v)}search({resourceType:w,compartment:_,searchParams:C,headers:v,options:S={}}={}){if(w&&!u(w))throw new Error("Invalid resourceType",w);if(_&&w)return this.compartmentSearch({resourceType:w,compartment:_,searchParams:C,options:h(S,v)});if(w)return this.resourceSearch({resourceType:w,searchParams:C,options:h(S,v)});if(C instanceof Object&&Object.keys(C).length>0)return this.systemSearch({searchParams:C,options:h(S,v)});throw new Error("search requires either searchParams or a resourceType")}resourceSearch({resourceType:w,searchParams:_,headers:C,options:v={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);let S=w;return v.postSearch&&(S+="/_search"),this.baseSearch({searchPath:S,searchParams:_,headers:C,options:v})}systemSearch({searchParams:w,headers:_,options:C={}}={}){const v="/_search";return this.baseSearch({searchPath:v,searchParams:w,headers:_,options:C})}compartmentSearch({resourceType:w,compartment:_,searchParams:C,headers:v,options:S={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);const{resourceType:A,id:R}=_;if(!u(A))throw new Error("Invalid compartmentType",A);let $=`/${A}/${R}/${w}`;return S.postSearch&&($+="/_search"),this.baseSearch({searchPath:$,searchParams:C,headers:v,options:S})}baseSearch({searchPath:w,searchParams:_,headers:C,options:v}){const S=s(_),A=h(v,C),R=v.postSearch?"postSearch":"getSearch";return this[R](w,S,A)}postSearch(w,_,C){const S={...{"Content-Type":"application/x-www-form-urlencoded"},...C.headers},A={...C,headers:S};return this.httpClient.post(w,_,A)}getSearch(w,_,C){let v=w;return _&&(v+=`?${_}`),this.httpClient.get(v,C)}history({resourceType:w,id:_,headers:C,options:v={}}={}){if(w&&!u(w))throw new Error("Invalid resourceType",w);return _&&w?this.resourceHistory({resourceType:w,id:_,options:h(v,C)}):w?this.typeHistory({resourceType:w,options:h(v,C)}):this.systemHistory({options:h(v,C)})}resourceHistory({resourceType:w,id:_,headers:C,options:v={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);return this.httpClient.get(`${w}/${_}/_history`,h(v,C))}typeHistory({resourceType:w,headers:_,options:C={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);return this.httpClient.get(`${w}/_history`,h(C,_))}systemHistory({headers:w,options:_={}}={}){return this.httpClient.get("_history",h(_,w))}}return ra.exports=N,ra.exports.CapabilityTool=g,ra.exports}var vg=um();function gg(e,t,r){const n=e==="production"?"https://api.zusapi.com/fhir":`https://api.${e}.zusapi.com/fhir`,a=Yy;return r&&(a["Zus-Account"]=r),new vg({baseUrl:n,bearerToken:t,customHeaders:a})}const Dn=e=>bg(e),bg=e=>{if(Array.isArray(e))return e.length===0?void 0:e.map(Dn);if(e!==null&&typeof e=="object"){const t=e;return Object.entries(t).forEach(([r,n])=>{t[r]=Dn(n)}),t}return e},wg="ctw-",cm={sm:640,md:768,lg:1024},xg={colors:{transparent:"transparent",white:"#fff",black:"#000",primary:{light:"#F3E8FF",main:"#A855F7",dark:"#7E22CE"},icon:{default:"#374151",light:"#D1D5DB",active:"#A855F7"},divider:{main:"#D1D5DB",light:"#E5E7EB"},content:{black:"#111827",light:"#6B7280",lighter:"#9CA3AF"},error:{main:"#EF4444",light:"#FEE2E2",dark:"#7F1D1D",heading:"#991B1B",message:"#B91C1B",bg:"#FEF2F2",icon:"#F97171"},success:{main:"#10B981",light:"#D1FAE5"},caution:{main:"#F59E0B",light:"#FEF3C7",heading:"#92400E",message:"#B45309",bg:"#FFFBEB",icon:"#FBBF24"},info:{main:"#0EA5E9",light:"#E0F2FE"},bg:{white:"#FFFFFF",lighter:"#F9FAFB",light:"#F3F4F6",dark:"#E5E7EB",black:"#111827"}}},_g={"--tw-pan-x":" ","--tw-pan-y":" ","--tw-pinch-zoom":" ","--tw-ordinal":" ","--tw-slashed-zero":" ","--tw-numeric-figure":" ","--tw-numeric-spacing":" ","--tw-numeric-fraction":" ","--tw-ring-inset":" ","--tw-blur":" ","--tw-brightness":" ","--tw-contrast":" ","--tw-grayscale":" ","--tw-hue-rotate":" ","--tw-invert":" ","--tw-saturate":" ","--tw-sepia":" ","--tw-drop-shadow":" ","--tw-backdrop-blur":" ","--tw-backdrop-brightness":" ","--tw-backdrop-contrast":" ","--tw-backdrop-grayscale":" ","--tw-backdrop-hue-rotate":" ","--tw-backdrop-invert":" ","--tw-backdrop-opacity":" ","--tw-backdrop-saturate":" ","--tw-backdrop-sepia":" "},Eg={...xg,breakpoints:cm};function bf(e){return`--${wg}-${e}`}function Sg(e){const t={};return Object.entries(e).forEach(([r,n])=>{typeof n=="string"?t[bf(r)]=wf(n):Object.entries(n).forEach(([a,o])=>{t[bf(`${r}-${a}`)]=wf(o)})}),t}function wf(e,t){if(e.startsWith("#")){const r=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),a=parseInt(e.slice(5,7),16);return t?`rgba(${r}, ${n}, ${a}, ${t})`:`rgb(${r}, ${n}, ${a})`}return e}function Is(e){this.message=e}Is.prototype=new Error,Is.prototype.name="InvalidCharacterError";var xf=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Is("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,a=0,o=0,s="";n=t.charAt(o++);~n&&(r=a%4?64*r+n:n,a++%4)?s+=String.fromCharCode(255&r>>(-2*a&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return s};function Tg(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(r){return decodeURIComponent(xf(r).replace(/(.)/g,function(n,a){var o=a.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}(t)}catch{return xf(t)}}function fo(e){this.message=e}function Og(e,t){if(typeof e!="string")throw new fo("Invalid token specified");var r=(t=t||{}).header===!0?0:1;try{return JSON.parse(Tg(e.split(".")[r]))}catch(n){throw new fo("Invalid token specified: "+n.message)}}fo.prototype=new Error,fo.prototype.name="InvalidTokenError";const Cg="https://zusapi.com/builder_id",Rg="https://zusapi.com/builder_name",Ng="https://zusapi.com/practitioner_id",Ag="https://zusapi.com/email";function Fi(e){try{return Og(e)}catch{return{}}}function Pg(e){return Fi(e)[Cg]}function lm(e){return Fi(e)[Rg]}function Dg(e){return Fi(e)[Ng]}function $g(e){return Fi(e)[Ag]}const Ig=6e4;function _f({theme:e,children:t,...r}){const[n,a]=y.exports.useState(),o=y.exports.useRef(null);y.exports.useEffect(()=>{window.CTWComponentLibrary={version:$v}},[]),y.exports.useEffect(()=>{var h;const c={...Sg((e==null?void 0:e.colors)||{}),..._g},l=Object.entries(c).map(([g,N])=>`${g}:${N}`).join(";");(h=o.current)==null||h.setAttribute("style",l)},[o,e]);const s=y.exports.useCallback(async()=>{if(r.authToken)return r.authToken;const c=await Fg(n,r.authTokenURL,r.headers);return(n==null?void 0:n.accessToken)!==c.accessToken&&a(c),c.accessToken},[n,r]),u=y.exports.useMemo(()=>({...r,theme:G.exports.merge({},Eg,e),token:n,ctwProviderRef:o,actions:{handleAuth:s}}),[r,e,s,n,o]);return p.createElement("div",{ref:o},p.createElement(Zp.Provider,{value:u},p.createElement(Ev,{client:Mr},t)),p.createElement("div",{id:"headlessui-portal-root"},p.createElement("div",null)))}function Wt(){const e=y.exports.useContext(Zp);if(e===void 0||e.theme===void 0)throw new Error("useCTW must be used within a CTWProvider");return{getRequestContext:y.exports.useCallback(async()=>{var a,o;const r=await e.actions.handleAuth();return{env:e.env,authToken:r,builderId:(o=(a=e.builderId)!=null?a:Pg(r))!=null?o:"",contextBuilderId:e.builderId,fhirClient:gg(e.env,r,e.builderId)}},[e]),theme:e.theme,ctwProviderRef:e.ctwProviderRef}}function Mg(e,t,r,n=!0){const{getRequestContext:a}=Wt();return ll([e,...t],async()=>{const o=await a();return r(o,t)},{enabled:n})}async function Fg(e,t,r){if(!e||Date.now()>=e.expiresAt+Ig){const a=await(await Ii(t,{headers:r})).json();return{accessToken:a.access_token,issuedTokenType:a.issued_token_type,tokenType:a.token_type,expiresAt:Date.now()+a.expires_in*1e3}}return e}try{_f.displayName="CTWProvider",_f.__docgenInfo={description:"",displayName:"CTWProvider",props:{env:{defaultValue:null,description:"",name:"env",required:!0,type:{name:"enum",value:[{value:'"dev"'},{value:'"sandbox"'},{value:'"production"'}]}},builderId:{defaultValue:null,description:"",name:"builderId",required:!1,type:{name:"string"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},headers:{defaultValue:null,description:"",name:"headers",required:!1,type:{name:"Record<string, string>"}},authToken:{defaultValue:null,description:"",name:"authToken",required:!1,type:{name:"string"}},authTokenURL:{defaultValue:null,description:"",name:"authTokenURL",required:!1,type:{name:"string"}}}}}catch{}function ml(e,t){let[r,n]=y.exports.useState(e),a=Bp(e);return Et(()=>n(a.current),[a,n,...t]),r}function Ef(e){var t;if(e.type)return e.type;let r=(t=e.as)!=null?t:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function fm(e,t){let[r,n]=y.exports.useState(()=>Ef(e));return Et(()=>{n(Ef(e))},[e.type,e.as]),Et(()=>{r||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&n("button")},[r,t]),r}function dm({container:e,accept:t,walk:r,enabled:n=!0}){let a=y.exports.useRef(t),o=y.exports.useRef(r);y.exports.useEffect(()=>{a.current=t,o.current=r},[t,r]),Et(()=>{if(!e||!n)return;let s=Xy(e);if(!s)return;let u=a.current,c=o.current,l=Object.assign(g=>u(g),{acceptNode:u}),h=s.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,l,!1);for(;h.nextNode();)c(h.currentNode)},[e,n,a,o])}function kg(e){throw new Error("Unexpected object: "+e)}var et=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(et||{});function pm(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),a=n!=null?n:-1,o=(()=>{switch(e.focus){case 0:return r.findIndex(s=>!t.resolveDisabled(s));case 1:{let s=r.slice().reverse().findIndex((u,c,l)=>a!==-1&&l.length-c-1>=a?!1:!t.resolveDisabled(u));return s===-1?s:r.length-1-s}case 2:return r.findIndex((s,u)=>u<=a?!1:!t.resolveDisabled(s));case 3:{let s=r.slice().reverse().findIndex(u=>!t.resolveDisabled(u));return s===-1?s:r.length-1-s}case 4:return r.findIndex(s=>t.resolveId(s)===e.id);case 5:return null;default:kg(e)}})();return o===-1?n:o}function mm(e={},t=null,r=[]){for(let[n,a]of Object.entries(e))ym(r,hm(t,n),a);return r}function hm(e,t){return e?e+"["+t+"]":t}function ym(e,t,r){if(Array.isArray(r))for(let[n,a]of r.entries())ym(e,hm(t,n.toString()),a);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):mm(r,t,e)}function Bg(e,t,r){let[n,a]=y.exports.useState(r),o=e!==void 0;return[o?e:n,Qe(s=>(o||a(s),t==null?void 0:t(s)))]}var Lg=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Lg||{}),Ug=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ug||{}),qg=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(qg||{}),Vg=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e))(Vg||{});function as(e,t=r=>r){let r=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=jp(t(e.options.slice()),o=>o.dataRef.current.domRef.current),a=r?n.indexOf(r):null;return a===-1&&(a=null),{options:n,activeOptionIndex:a}}let jg={[1](e){return e.dataRef.current.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},[0](e){if(e.dataRef.current.disabled||e.comboboxState===0)return e;let t=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,n=e.options.findIndex(a=>r(a.dataRef.current.value));return n!==-1&&(t=n),{...e,comboboxState:0,activeOptionIndex:t}},[2](e,t){var r;if(e.dataRef.current.disabled||e.dataRef.current.optionsRef.current&&!e.dataRef.current.optionsPropsRef.current.static&&e.comboboxState===1)return e;let n=as(e);if(n.activeOptionIndex===null){let o=n.options.findIndex(s=>!s.dataRef.current.disabled);o!==-1&&(n.activeOptionIndex=o)}let a=pm(t,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...e,...n,activeOptionIndex:a,activationTrigger:(r=t.trigger)!=null?r:1}},[3]:(e,t)=>{let r={id:t.id,dataRef:t.dataRef},n=as(e,o=>[...o,r]);e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(r));let a={...e,...n,activationTrigger:1};return e.dataRef.current.__demoMode&&e.dataRef.current.value===void 0&&(a.activeOptionIndex=0),a},[4]:(e,t)=>{let r=as(e,n=>{let a=n.findIndex(o=>o.id===t.id);return a!==-1&&n.splice(a,1),n});return{...e,...r,activationTrigger:1}},[5]:(e,t)=>({...e,labelId:t.id})},hl=y.exports.createContext(null);hl.displayName="ComboboxActionsContext";function zn(e){let t=y.exports.useContext(hl);if(t===null){let r=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,zn),r}return t}let yl=y.exports.createContext(null);yl.displayName="ComboboxDataContext";function dn(e){let t=y.exports.useContext(yl);if(t===null){let r=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,dn),r}return t}function Hg(e,t){return _r(t.type,jg,e,t)}let zg=y.exports.Fragment;function Wg(e,t){let{value:r,defaultValue:n,onChange:a,name:o,by:s=(pe,oe)=>pe===oe,disabled:u=!1,__demoMode:c=!1,nullable:l=!1,multiple:h=!1,...g}=e,[N,O]=Bg(r,a,n),[w,_]=y.exports.useReducer(Hg,{dataRef:y.exports.createRef(),comboboxState:c?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),C=y.exports.useRef(!1),v=y.exports.useRef({static:!1,hold:!1}),S=y.exports.useRef(null),A=y.exports.useRef(null),R=y.exports.useRef(null),$=y.exports.useRef(null),I=Qe(typeof s=="string"?(pe,oe)=>{let X=s;return(pe==null?void 0:pe[X])===(oe==null?void 0:oe[X])}:s),V=y.exports.useCallback(pe=>_r(L.mode,{[1]:()=>N.some(oe=>I(oe,pe)),[0]:()=>I(N,pe)}),[N]),L=y.exports.useMemo(()=>({...w,optionsPropsRef:v,labelRef:S,inputRef:A,buttonRef:R,optionsRef:$,value:N,disabled:u,mode:h?1:0,get activeOptionIndex(){if(C.current&&w.activeOptionIndex===null&&w.options.length>0){let pe=w.options.findIndex(oe=>!oe.dataRef.current.disabled);if(pe!==-1)return pe}return w.activeOptionIndex},compare:I,isSelected:V,nullable:l,__demoMode:c}),[N,u,h,l,c,w]);Et(()=>{w.dataRef.current=L},[L]),Up([L.buttonRef,L.inputRef,L.optionsRef],()=>_({type:1}),L.comboboxState===0);let P=y.exports.useMemo(()=>({open:L.comboboxState===0,disabled:u,activeIndex:L.activeOptionIndex,activeOption:L.activeOptionIndex===null?null:L.options[L.activeOptionIndex].dataRef.current.value,value:N}),[L,u,N]),j=Qe(pe=>{let oe=L.options.find(X=>X.id===pe);!oe||Ce(oe.dataRef.current.value)}),K=Qe(()=>{if(L.activeOptionIndex!==null){let{dataRef:pe,id:oe}=L.options[L.activeOptionIndex];Ce(pe.current.value),_({type:2,focus:et.Specific,id:oe})}}),ce=Qe(()=>{_({type:0}),C.current=!0}),ae=Qe(()=>{_({type:1}),C.current=!1}),le=Qe((pe,oe,X)=>(C.current=!1,pe===et.Specific?_({type:2,focus:et.Specific,id:oe,trigger:X}):_({type:2,focus:pe,trigger:X}))),ge=Qe((pe,oe)=>(_({type:3,id:pe,dataRef:oe}),()=>_({type:4,id:pe}))),xe=Qe(pe=>(_({type:5,id:pe}),()=>_({type:5,id:null}))),Ce=Qe(pe=>_r(L.mode,{[0](){return O==null?void 0:O(pe)},[1](){let oe=L.value.slice(),X=oe.findIndex(Ze=>I(Ze,pe));return X===-1?oe.push(pe):oe.splice(X,1),O==null?void 0:O(oe)}})),ye=y.exports.useMemo(()=>({onChange:Ce,registerOption:ge,registerLabel:xe,goToOption:le,closeCombobox:ae,openCombobox:ce,selectActiveOption:K,selectOption:j}),[]),Re=t===null?{}:{ref:t};return p.createElement(hl.Provider,{value:ye},p.createElement(yl.Provider,{value:L},p.createElement(qp,{value:_r(L.comboboxState,{[0]:tn.Open,[1]:tn.Closed})},o!=null&&N!=null&&mm({[o]:N}).map(([pe,oe])=>p.createElement(Jy,{features:ev.Hidden,...tv({key:pe,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:pe,value:oe})})),ar({ourProps:Re,theirProps:g,slot:P,defaultTag:zg,name:"Combobox"}))))}let Yg=nr(Wg),Gg="input",Qg=nr(function(e,t){var r,n;let{value:a,onChange:o,displayValue:s,type:u="text",...c}=e,l=dn("Combobox.Input"),h=zn("Combobox.Input"),g=yr(l.inputRef,t),N=`headlessui-combobox-input-${Or()}`,O=Mi(),w=y.exports.useMemo(()=>{var R;return typeof s=="function"?(R=s(l.value))!=null?R:"":typeof l.value=="string"?l.value:""},[l.value]);Ky(([R,$],[I,V])=>{!l.inputRef.current||(V===0&&$===1||R!==I)&&(l.inputRef.current.value=R)},[w,l.comboboxState]);let _=Qe(R=>{switch(R.key){case We.Backspace:case We.Delete:if(l.mode!==0||!l.nullable)return;let $=R.currentTarget;O.requestAnimationFrame(()=>{$.value===""&&(h.onChange(null),l.optionsRef.current&&(l.optionsRef.current.scrollTop=0),h.goToOption(et.Nothing))});break;case We.Enter:if(l.comboboxState!==0||R.nativeEvent.isComposing)return;if(R.preventDefault(),R.stopPropagation(),l.activeOptionIndex===null){h.closeCombobox();return}h.selectActiveOption(),l.mode===0&&h.closeCombobox();break;case We.ArrowDown:return R.preventDefault(),R.stopPropagation(),_r(l.comboboxState,{[0]:()=>{h.goToOption(et.Next)},[1]:()=>{h.openCombobox()}});case We.ArrowUp:return R.preventDefault(),R.stopPropagation(),_r(l.comboboxState,{[0]:()=>{h.goToOption(et.Previous)},[1]:()=>{h.openCombobox(),O.nextFrame(()=>{l.value||h.goToOption(et.Last)})}});case We.Home:case We.PageUp:return R.preventDefault(),R.stopPropagation(),h.goToOption(et.First);case We.End:case We.PageDown:return R.preventDefault(),R.stopPropagation(),h.goToOption(et.Last);case We.Escape:return l.comboboxState!==0?void 0:(R.preventDefault(),l.optionsRef.current&&!l.optionsPropsRef.current.static&&R.stopPropagation(),h.closeCombobox());case We.Tab:if(l.comboboxState!==0)return;l.mode===0&&h.selectActiveOption(),h.closeCombobox();break}}),C=Qe(R=>{h.openCombobox(),o==null||o(R)}),v=ml(()=>{if(l.labelId)return[l.labelId].join(" ")},[l.labelId]),S=y.exports.useMemo(()=>({open:l.comboboxState===0,disabled:l.disabled}),[l]),A={ref:g,id:N,role:"combobox",type:u,"aria-controls":(r=l.optionsRef.current)==null?void 0:r.id,"aria-expanded":l.disabled?void 0:l.comboboxState===0,"aria-activedescendant":l.activeOptionIndex===null||(n=l.options[l.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":l.mode===1?!0:void 0,"aria-labelledby":v,disabled:l.disabled,onKeyDown:_,onChange:C};return ar({ourProps:A,theirProps:c,slot:S,defaultTag:Gg,name:"Combobox.Input"})}),Zg="button",Xg=nr(function(e,t){var r;let n=dn("Combobox.Button"),a=zn("Combobox.Button"),o=yr(n.buttonRef,t),s=`headlessui-combobox-button-${Or()}`,u=Mi(),c=Qe(w=>{switch(w.key){case We.ArrowDown:return w.preventDefault(),w.stopPropagation(),n.comboboxState===1&&a.openCombobox(),u.nextFrame(()=>{var _;return(_=n.inputRef.current)==null?void 0:_.focus({preventScroll:!0})});case We.ArrowUp:return w.preventDefault(),w.stopPropagation(),n.comboboxState===1&&(a.openCombobox(),u.nextFrame(()=>{n.value||a.goToOption(et.Last)})),u.nextFrame(()=>{var _;return(_=n.inputRef.current)==null?void 0:_.focus({preventScroll:!0})});case We.Escape:return n.comboboxState!==0?void 0:(w.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&w.stopPropagation(),a.closeCombobox(),u.nextFrame(()=>{var _;return(_=n.inputRef.current)==null?void 0:_.focus({preventScroll:!0})}));default:return}}),l=Qe(w=>{if(Vp(w.currentTarget))return w.preventDefault();n.comboboxState===0?a.closeCombobox():(w.preventDefault(),a.openCombobox()),u.nextFrame(()=>{var _;return(_=n.inputRef.current)==null?void 0:_.focus({preventScroll:!0})})}),h=ml(()=>{if(n.labelId)return[n.labelId,s].join(" ")},[n.labelId,s]),g=y.exports.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled,value:n.value}),[n]),N=e,O={ref:o,id:s,type:fm(e,n.buttonRef),tabIndex:-1,"aria-haspopup":!0,"aria-controls":(r=n.optionsRef.current)==null?void 0:r.id,"aria-expanded":n.disabled?void 0:n.comboboxState===0,"aria-labelledby":h,disabled:n.disabled,onClick:l,onKeyDown:c};return ar({ourProps:O,theirProps:N,slot:g,defaultTag:Zg,name:"Combobox.Button"})}),Kg="label",Jg=nr(function(e,t){let r=dn("Combobox.Label"),n=`headlessui-combobox-label-${Or()}`,a=zn("Combobox.Label"),o=yr(r.labelRef,t);Et(()=>a.registerLabel(n),[n]);let s=Qe(()=>{var c;return(c=r.inputRef.current)==null?void 0:c.focus({preventScroll:!0})}),u=y.exports.useMemo(()=>({open:r.comboboxState===0,disabled:r.disabled}),[r]);return ar({ourProps:{ref:o,id:n,onClick:s},theirProps:e,slot:u,defaultTag:Kg,name:"Combobox.Label"})}),e0="ul",t0=co.RenderStrategy|co.Static,r0=nr(function(e,t){var r;let{hold:n=!1,...a}=e,o=dn("Combobox.Options"),s=yr(o.optionsRef,t),u=`headlessui-combobox-options-${Or()}`,c=Lp(),l=(()=>c!==null?c===tn.Open:o.comboboxState===0)();Et(()=>{var O;o.optionsPropsRef.current.static=(O=e.static)!=null?O:!1},[o.optionsPropsRef,e.static]),Et(()=>{o.optionsPropsRef.current.hold=n},[o.optionsPropsRef,n]),dm({container:o.optionsRef.current,enabled:o.comboboxState===0,accept(O){return O.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:O.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(O){O.setAttribute("role","none")}});let h=ml(()=>{var O,w;return(w=o.labelId)!=null?w:(O=o.buttonRef.current)==null?void 0:O.id},[o.labelId,o.buttonRef.current]),g=y.exports.useMemo(()=>({open:o.comboboxState===0}),[o]),N={"aria-activedescendant":o.activeOptionIndex===null||(r=o.options[o.activeOptionIndex])==null?void 0:r.id,"aria-labelledby":h,role:"listbox",id:u,ref:s};return ar({ourProps:N,theirProps:a,slot:g,defaultTag:e0,features:t0,visible:l,name:"Combobox.Options"})}),n0="li",a0=nr(function(e,t){var r,n;let{disabled:a=!1,value:o,...s}=e,u=dn("Combobox.Option"),c=zn("Combobox.Option"),l=`headlessui-combobox-option-${Or()}`,h=u.activeOptionIndex!==null?u.options[u.activeOptionIndex].id===l:!1,g=u.isSelected(o),N=y.exports.useRef(null),O=Bp({disabled:a,value:o,domRef:N,textValue:(n=(r=N.current)==null?void 0:r.textContent)==null?void 0:n.toLowerCase()}),w=yr(t,N),_=Qe(()=>c.selectOption(l));Et(()=>c.registerOption(l,O),[O,l]);let C=y.exports.useRef(!u.__demoMode);Et(()=>{if(!u.__demoMode)return;let I=Pn();return I.requestAnimationFrame(()=>{C.current=!0}),I.dispose},[]),Et(()=>{if(u.comboboxState!==0||!h||!C.current||u.activationTrigger===0)return;let I=Pn();return I.requestAnimationFrame(()=>{var V,L;(L=(V=N.current)==null?void 0:V.scrollIntoView)==null||L.call(V,{block:"nearest"})}),I.dispose},[N,h,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let v=Qe(I=>{if(a)return I.preventDefault();_(),u.mode===0&&c.closeCombobox()}),S=Qe(()=>{if(a)return c.goToOption(et.Nothing);c.goToOption(et.Specific,l)}),A=Qe(()=>{a||h||c.goToOption(et.Specific,l,0)}),R=Qe(()=>{a||!h||u.optionsPropsRef.current.hold||c.goToOption(et.Nothing)}),$=y.exports.useMemo(()=>({active:h,selected:g,disabled:a}),[h,g,a]);return ar({ourProps:{id:l,ref:w,role:"option",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-selected":g,disabled:void 0,onClick:v,onFocus:S,onPointerMove:A,onMouseMove:A,onPointerLeave:R,onMouseLeave:R},theirProps:s,slot:$,defaultTag:n0,name:"Combobox.Option"})}),Cn=Object.assign(Yg,{Input:Qg,Button:Xg,Label:Jg,Options:r0,Option:a0});var o0=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(o0||{}),i0=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(i0||{}),s0=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(s0||{});function os(e,t=r=>r){let r=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,n=jp(t(e.items.slice()),o=>o.dataRef.current.domRef.current),a=r?n.indexOf(r):null;return a===-1&&(a=null),{items:n,activeItemIndex:a}}let u0={[1](e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},[0](e){return e.menuState===0?e:{...e,menuState:0}},[2]:(e,t)=>{var r;let n=os(e),a=pm(t,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...e,...n,searchQuery:"",activeItemIndex:a,activationTrigger:(r=t.trigger)!=null?r:1}},[3]:(e,t)=>{let r=e.searchQuery!==""?0:1,n=e.searchQuery+t.value.toLowerCase(),a=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(s=>{var u;return((u=s.dataRef.current.textValue)==null?void 0:u.startsWith(n))&&!s.dataRef.current.disabled}),o=a?e.items.indexOf(a):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:o,activationTrigger:1}},[4](e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},[5]:(e,t)=>{let r=os(e,n=>[...n,{id:t.id,dataRef:t.dataRef}]);return{...e,...r}},[6]:(e,t)=>{let r=os(e,n=>{let a=n.findIndex(o=>o.id===t.id);return a!==-1&&n.splice(a,1),n});return{...e,...r,activationTrigger:1}}},vl=y.exports.createContext(null);vl.displayName="MenuContext";function ki(e){let t=y.exports.useContext(vl);if(t===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ki),r}return t}function c0(e,t){return _r(t.type,u0,e,t)}let l0=y.exports.Fragment,f0=nr(function(e,t){let r=y.exports.useReducer(c0,{menuState:1,buttonRef:y.exports.createRef(),itemsRef:y.exports.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:n,itemsRef:a,buttonRef:o},s]=r,u=yr(t);Up([o,a],(g,N)=>{var O;s({type:1}),nv(N,av.Loose)||(g.preventDefault(),(O=o.current)==null||O.focus())},n===0);let c=y.exports.useMemo(()=>({open:n===0}),[n]),l=e,h={ref:u};return p.createElement(vl.Provider,{value:r},p.createElement(qp,{value:_r(n,{[0]:tn.Open,[1]:tn.Closed})},ar({ourProps:h,theirProps:l,slot:c,defaultTag:l0,name:"Menu"})))}),d0="button",p0=nr(function(e,t){var r;let[n,a]=ki("Menu.Button"),o=yr(n.buttonRef,t),s=`headlessui-menu-button-${Or()}`,u=Mi(),c=Qe(w=>{switch(w.key){case We.Space:case We.Enter:case We.ArrowDown:w.preventDefault(),w.stopPropagation(),a({type:0}),u.nextFrame(()=>a({type:2,focus:et.First}));break;case We.ArrowUp:w.preventDefault(),w.stopPropagation(),a({type:0}),u.nextFrame(()=>a({type:2,focus:et.Last}));break}}),l=Qe(w=>{switch(w.key){case We.Space:w.preventDefault();break}}),h=Qe(w=>{if(Vp(w.currentTarget))return w.preventDefault();e.disabled||(n.menuState===0?(a({type:1}),u.nextFrame(()=>{var _;return(_=n.buttonRef.current)==null?void 0:_.focus({preventScroll:!0})})):(w.preventDefault(),a({type:0})))}),g=y.exports.useMemo(()=>({open:n.menuState===0}),[n]),N=e,O={ref:o,id:s,type:fm(e,n.buttonRef),"aria-haspopup":!0,"aria-controls":(r=n.itemsRef.current)==null?void 0:r.id,"aria-expanded":e.disabled?void 0:n.menuState===0,onKeyDown:c,onKeyUp:l,onClick:h};return ar({ourProps:O,theirProps:N,slot:g,defaultTag:d0,name:"Menu.Button"})}),m0="div",h0=co.RenderStrategy|co.Static,y0=nr(function(e,t){var r,n;let[a,o]=ki("Menu.Items"),s=yr(a.itemsRef,t),u=rv(a.itemsRef),c=`headlessui-menu-items-${Or()}`,l=Mi(),h=Lp(),g=(()=>h!==null?h===tn.Open:a.menuState===0)();y.exports.useEffect(()=>{let v=a.itemsRef.current;!v||a.menuState===0&&v!==(u==null?void 0:u.activeElement)&&v.focus({preventScroll:!0})},[a.menuState,a.itemsRef,u]),dm({container:a.itemsRef.current,enabled:a.menuState===0,accept(v){return v.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});let N=Qe(v=>{var S,A;switch(l.dispose(),v.key){case We.Space:if(a.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),o({type:3,value:v.key});case We.Enter:if(v.preventDefault(),v.stopPropagation(),o({type:1}),a.activeItemIndex!==null){let{dataRef:R}=a.items[a.activeItemIndex];(A=(S=R.current)==null?void 0:S.domRef.current)==null||A.click()}Hp(a.buttonRef.current);break;case We.ArrowDown:return v.preventDefault(),v.stopPropagation(),o({type:2,focus:et.Next});case We.ArrowUp:return v.preventDefault(),v.stopPropagation(),o({type:2,focus:et.Previous});case We.Home:case We.PageUp:return v.preventDefault(),v.stopPropagation(),o({type:2,focus:et.First});case We.End:case We.PageDown:return v.preventDefault(),v.stopPropagation(),o({type:2,focus:et.Last});case We.Escape:v.preventDefault(),v.stopPropagation(),o({type:1}),Pn().nextFrame(()=>{var R;return(R=a.buttonRef.current)==null?void 0:R.focus({preventScroll:!0})});break;case We.Tab:v.preventDefault(),v.stopPropagation(),o({type:1}),Pn().nextFrame(()=>{ov(a.buttonRef.current,v.shiftKey?nf.Previous:nf.Next)});break;default:v.key.length===1&&(o({type:3,value:v.key}),l.setTimeout(()=>o({type:4}),350));break}}),O=Qe(v=>{switch(v.key){case We.Space:v.preventDefault();break}}),w=y.exports.useMemo(()=>({open:a.menuState===0}),[a]),_=e,C={"aria-activedescendant":a.activeItemIndex===null||(r=a.items[a.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=a.buttonRef.current)==null?void 0:n.id,id:c,onKeyDown:N,onKeyUp:O,role:"menu",tabIndex:0,ref:s};return ar({ourProps:C,theirProps:_,slot:w,defaultTag:m0,features:h0,visible:g,name:"Menu.Items"})}),v0=y.exports.Fragment,g0=nr(function(e,t){let{disabled:r=!1,...n}=e,[a,o]=ki("Menu.Item"),s=`headlessui-menu-item-${Or()}`,u=a.activeItemIndex!==null?a.items[a.activeItemIndex].id===s:!1,c=y.exports.useRef(null),l=yr(t,c);Et(()=>{if(a.menuState!==0||!u||a.activationTrigger===0)return;let C=Pn();return C.requestAnimationFrame(()=>{var v,S;(S=(v=c.current)==null?void 0:v.scrollIntoView)==null||S.call(v,{block:"nearest"})}),C.dispose},[c,u,a.menuState,a.activationTrigger,a.activeItemIndex]);let h=y.exports.useRef({disabled:r,domRef:c});Et(()=>{h.current.disabled=r},[h,r]),Et(()=>{var C,v;h.current.textValue=(v=(C=c.current)==null?void 0:C.textContent)==null?void 0:v.toLowerCase()},[h,c]),Et(()=>(o({type:5,id:s,dataRef:h}),()=>o({type:6,id:s})),[h,s]);let g=Qe(C=>{if(r)return C.preventDefault();o({type:1}),Hp(a.buttonRef.current)}),N=Qe(()=>{if(r)return o({type:2,focus:et.Nothing});o({type:2,focus:et.Specific,id:s})}),O=Qe(()=>{r||u||o({type:2,focus:et.Specific,id:s,trigger:0})}),w=Qe(()=>{r||!u||o({type:2,focus:et.Nothing})}),_=y.exports.useMemo(()=>({active:u,disabled:r}),[u,r]);return ar({ourProps:{id:s,ref:l,role:"menuitem",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,disabled:void 0,onClick:g,onFocus:N,onPointerMove:O,onMouseMove:O,onPointerLeave:w,onMouseLeave:w},theirProps:n,slot:_,defaultTag:v0,name:"Menu.Item"})}),b0=Object.assign(f0,{Button:p0,Items:y0,Item:g0});function w0(e,t){return y.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),y.exports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"}))}const x0=y.exports.forwardRef(w0),_0=x0;function E0(e,t){return y.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),y.exports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"}))}const S0=y.exports.forwardRef(E0),vm=S0,Ms=({submitting:e})=>p.createElement("button",{type:"submit",disabled:e,className:it("ctw-btn-primary ctw-save-button ctw-w-28 ctw-whitespace-nowrap")},e?"Saving...":"Save",e&&p.createElement(sl,{className:"ctw-ml-2 ctw-text-white"}));try{Ms.displayName="SaveButton",Ms.__docgenInfo={description:"",displayName:"SaveButton",props:{submitting:{defaultValue:null,description:"",name:"submitting",required:!0,type:{name:"boolean"}}}}}catch{}function T0(e,t){return y.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),y.exports.createElement("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"}))}const O0=y.exports.forwardRef(T0),C0=O0;function R0(e,t){return y.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),y.exports.createElement("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}))}const N0=y.exports.forwardRef(R0),A0=N0;function P0(e,t){return y.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),y.exports.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}))}const D0=y.exports.forwardRef(P0),gm=D0;function $0(e,t){return y.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),y.exports.createElement("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}))}const I0=y.exports.forwardRef($0),M0=I0;function F0(e,t){return y.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),y.exports.createElement("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"}))}const k0=y.exports.forwardRef(F0),B0=k0;function L0(e,t){return y.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),y.exports.createElement("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"}))}const U0=y.exports.forwardRef(L0),q0=U0;function V0(e,t){return y.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),y.exports.createElement("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}))}const j0=y.exports.forwardRef(V0),H0=j0,po=({header:e,children:t,className:r})=>p.createElement("div",{className:it("ctw-alert-bg ctw-rounded-md ctw-bg-error-bg",r)},p.createElement(gm,{className:"ctw-h-5 ctw-flex-none ctw-text-error-icon"}),p.createElement("div",{className:"ctw-space-y-2"},p.createElement("div",{className:"ctw-font-medium ctw-text-error-heading"},e),t&&p.createElement("div",{className:"ctw-text-error-message"},t))),Fs=({header:e,children:t,className:r})=>p.createElement("div",{className:it("ctw-alert-bg ctw-rounded-md ctw-bg-caution-bg",r)},p.createElement(M0,{className:"ctw-h-5 ctw-flex-none ctw-text-caution-icon"}),p.createElement("div",{className:"ctw-space-y-2"},p.createElement("div",{className:"ctw-font-medium ctw-text-caution-heading"},e),t&&p.createElement("div",{className:"ctw-text-caution-message"},t)));try{po.displayName="ErrorAlert",po.__docgenInfo={description:"",displayName:"ErrorAlert",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}try{Fs.displayName="CautionAlert",Fs.__docgenInfo={description:"",displayName:"CautionAlert",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}function tt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function z0(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function gl(...e){return t=>e.forEach(r=>z0(r,t))}function It(...e){return y.exports.useCallback(gl(...e),e)}function Wn(e,t=[]){let r=[];function n(o,s){const u=y.exports.createContext(s),c=r.length;r=[...r,s];function l(g){const{scope:N,children:O,...w}=g,_=(N==null?void 0:N[e][c])||u,C=y.exports.useMemo(()=>w,Object.values(w));return y.exports.createElement(_.Provider,{value:C},O)}function h(g,N){const O=(N==null?void 0:N[e][c])||u,w=y.exports.useContext(O);if(w)return w;if(s!==void 0)return s;throw new Error(`\`${g}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,h]}const a=()=>{const o=r.map(s=>y.exports.createContext(s));return function(u){const c=(u==null?void 0:u[e])||o;return y.exports.useMemo(()=>({[`__scope${e}`]:{...u,[e]:c}}),[u,c])}};return a.scopeName=e,[n,W0(a,...t)]}function W0(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const s=n.reduce((u,{useScope:c,scopeName:l})=>{const g=c(o)[`__scope${l}`];return{...u,...g}},{});return y.exports.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function ur(e){const t=y.exports.useRef(e);return y.exports.useEffect(()=>{t.current=e}),y.exports.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function bm({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=Y0({defaultProp:t,onChange:r}),o=e!==void 0,s=o?e:n,u=ur(r),c=y.exports.useCallback(l=>{if(o){const g=typeof l=="function"?l(e):l;g!==e&&u(g)}else a(l)},[o,e,a,u]);return[s,c]}function Y0({defaultProp:e,onChange:t}){const r=y.exports.useState(e),[n]=r,a=y.exports.useRef(n),o=ur(t);return y.exports.useEffect(()=>{a.current!==n&&(o(n),a.current=n)},[n,a,o]),r}const $n=y.exports.forwardRef((e,t)=>{const{children:r,...n}=e,a=y.exports.Children.toArray(r),o=a.find(Q0);if(o){const s=o.props.children,u=a.map(c=>c===o?y.exports.Children.count(s)>1?y.exports.Children.only(null):y.exports.isValidElement(s)?s.props.children:null:c);return y.exports.createElement(ks,Ge({},n,{ref:t}),y.exports.isValidElement(s)?y.exports.cloneElement(s,void 0,u):null)}return y.exports.createElement(ks,Ge({},n,{ref:t}),r)});$n.displayName="Slot";const ks=y.exports.forwardRef((e,t)=>{const{children:r,...n}=e;return y.exports.isValidElement(r)?y.exports.cloneElement(r,{...Z0(n,r.props),ref:gl(t,r.ref)}):y.exports.Children.count(r)>1?y.exports.Children.only(null):null});ks.displayName="SlotClone";const G0=({children:e})=>y.exports.createElement(y.exports.Fragment,null,e);function Q0(e){return y.exports.isValidElement(e)&&e.type===G0}function Z0(e,t){const r={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?r[n]=(...u)=>{o==null||o(...u),a==null||a(...u)}:n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}const X0=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],jt=X0.reduce((e,t)=>{const r=y.exports.forwardRef((n,a)=>{const{asChild:o,...s}=n,u=o?$n:t;return y.exports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),y.exports.createElement(u,Ge({},s,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function wm(e,t){e&&ul.exports.flushSync(()=>e.dispatchEvent(t))}function xm(e){const t=e+"CollectionProvider",[r,n]=Wn(t),[a,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=O=>{const{scope:w,children:_}=O,C=p.useRef(null),v=p.useRef(new Map).current;return p.createElement(a,{scope:w,itemMap:v,collectionRef:C},_)},u=e+"CollectionSlot",c=p.forwardRef((O,w)=>{const{scope:_,children:C}=O,v=o(u,_),S=It(w,v.collectionRef);return p.createElement($n,{ref:S},C)}),l=e+"CollectionItemSlot",h="data-radix-collection-item",g=p.forwardRef((O,w)=>{const{scope:_,children:C,...v}=O,S=p.useRef(null),A=It(w,S),R=o(l,_);return p.useEffect(()=>(R.itemMap.set(S,{ref:S,...v}),()=>void R.itemMap.delete(S))),p.createElement($n,{[h]:"",ref:A},C)});function N(O){const w=o(e+"CollectionConsumer",O);return p.useCallback(()=>{const C=w.collectionRef.current;if(!C)return[];const v=Array.from(C.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((R,$)=>v.indexOf(R.ref.current)-v.indexOf($.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:s,Slot:c,ItemSlot:g},N,n]}const K0=y.exports.createContext(void 0);function _m(e){const t=y.exports.useContext(K0);return e||t||"ltr"}function J0(e){const t=ur(e);y.exports.useEffect(()=>{const r=n=>{n.key==="Escape"&&t(n)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[t])}const Bs="dismissableLayer.update",eb="dismissableLayer.pointerDownOutside",tb="dismissableLayer.focusOutside";let Sf;const rb=y.exports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nb=y.exports.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:s,onDismiss:u,...c}=e,l=y.exports.useContext(rb),[h,g]=y.exports.useState(null),[,N]=y.exports.useState({}),O=It(t,I=>g(I)),w=Array.from(l.layers),[_]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),C=w.indexOf(_),v=h?w.indexOf(h):-1,S=l.layersWithOutsidePointerEventsDisabled.size>0,A=v>=C,R=ab(I=>{const V=I.target,L=[...l.branches].some(P=>P.contains(V));!A||L||(a==null||a(I),s==null||s(I),I.defaultPrevented||u==null||u())}),$=ob(I=>{const V=I.target;[...l.branches].some(P=>P.contains(V))||(o==null||o(I),s==null||s(I),I.defaultPrevented||u==null||u())});return J0(I=>{v===l.layers.size-1&&(n==null||n(I),!I.defaultPrevented&&u&&(I.preventDefault(),u()))}),y.exports.useEffect(()=>{if(!!h)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(Sf=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(h)),l.layers.add(h),Tf(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=Sf)}},[h,r,l]),y.exports.useEffect(()=>()=>{!h||(l.layers.delete(h),l.layersWithOutsidePointerEventsDisabled.delete(h),Tf())},[h,l]),y.exports.useEffect(()=>{const I=()=>N({});return document.addEventListener(Bs,I),()=>document.removeEventListener(Bs,I)},[]),y.exports.createElement(jt.div,Ge({},c,{ref:O,style:{pointerEvents:S?A?"auto":"none":void 0,...e.style},onFocusCapture:tt(e.onFocusCapture,$.onFocusCapture),onBlurCapture:tt(e.onBlurCapture,$.onBlurCapture),onPointerDownCapture:tt(e.onPointerDownCapture,R.onPointerDownCapture)}))});function ab(e){const t=ur(e),r=y.exports.useRef(!1),n=y.exports.useRef(()=>{});return y.exports.useEffect(()=>{const a=s=>{if(s.target&&!r.current){let c=function(){Em(eb,t,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(document.removeEventListener("click",n.current),n.current=c,document.addEventListener("click",n.current,{once:!0})):c()}r.current=!1},o=window.setTimeout(()=>{document.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),document.removeEventListener("pointerdown",a),document.removeEventListener("click",n.current)}},[t]),{onPointerDownCapture:()=>r.current=!0}}function ob(e){const t=ur(e),r=y.exports.useRef(!1);return y.exports.useEffect(()=>{const n=a=>{a.target&&!r.current&&Em(tb,t,{originalEvent:a},{discrete:!1})};return document.addEventListener("focusin",n),()=>document.removeEventListener("focusin",n)},[t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Tf(){const e=new CustomEvent(Bs);document.dispatchEvent(e)}function Em(e,t,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?wm(a,o):a.dispatchEvent(o)}let is=0;function ib(){y.exports.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:Of()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:Of()),is++,()=>{is===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),is--}},[])}function Of(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const ss="focusScope.autoFocusOnMount",us="focusScope.autoFocusOnUnmount",Cf={bubbles:!1,cancelable:!0},sb=y.exports.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...s}=e,[u,c]=y.exports.useState(null),l=ur(a),h=ur(o),g=y.exports.useRef(null),N=It(t,_=>c(_)),O=y.exports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.exports.useEffect(()=>{if(n){let _=function(v){if(O.paused||!u)return;const S=v.target;u.contains(S)?g.current=S:Ar(g.current,{select:!0})},C=function(v){O.paused||!u||u.contains(v.relatedTarget)||Ar(g.current,{select:!0})};return document.addEventListener("focusin",_),document.addEventListener("focusout",C),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",C)}}},[n,u,O.paused]),y.exports.useEffect(()=>{if(u){Nf.add(O);const _=document.activeElement;if(!u.contains(_)){const v=new CustomEvent(ss,Cf);u.addEventListener(ss,l),u.dispatchEvent(v),v.defaultPrevented||(ub(pb(Sm(u)),{select:!0}),document.activeElement===_&&Ar(u))}return()=>{u.removeEventListener(ss,l),setTimeout(()=>{const v=new CustomEvent(us,Cf);u.addEventListener(us,h),u.dispatchEvent(v),v.defaultPrevented||Ar(_!=null?_:document.body,{select:!0}),u.removeEventListener(us,h),Nf.remove(O)},0)}}},[u,l,h,O]);const w=y.exports.useCallback(_=>{if(!r&&!n||O.paused)return;const C=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,v=document.activeElement;if(C&&v){const S=_.currentTarget,[A,R]=cb(S);A&&R?!_.shiftKey&&v===R?(_.preventDefault(),r&&Ar(A,{select:!0})):_.shiftKey&&v===A&&(_.preventDefault(),r&&Ar(R,{select:!0})):v===S&&_.preventDefault()}},[r,n,O.paused]);return y.exports.createElement(jt.div,Ge({tabIndex:-1},s,{ref:N,onKeyDown:w}))});function ub(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ar(n,{select:t}),document.activeElement!==r)return}function cb(e){const t=Sm(e),r=Rf(t,e),n=Rf(t.reverse(),e);return[r,n]}function Sm(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Rf(e,t){for(const r of e)if(!lb(r,{upTo:t}))return r}function lb(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function fb(e){return e instanceof HTMLInputElement&&"select"in e}function Ar(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&fb(e)&&t&&e.select()}}const Nf=db();function db(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Af(e,t),e.unshift(t)},remove(t){var r;e=Af(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function Af(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function pb(e){return e.filter(t=>t.tagName!=="A")}const nn=Boolean(globalThis==null?void 0:globalThis.document)?y.exports.useLayoutEffect:()=>{},mb=By["useId".toString()]||(()=>{});let hb=0;function Ls(e){const[t,r]=y.exports.useState(mb());return nn(()=>{e||r(n=>n!=null?n:String(hb++))},[e]),e||(t?`radix-${t}`:"")}function pn(e){return e.split("-")[0]}function Bi(e){return e.split("-")[1]}function mn(e){return["top","bottom"].includes(pn(e))?"x":"y"}function bl(e){return e==="y"?"height":"width"}function Pf(e,t,r){let{reference:n,floating:a}=e;const o=n.x+n.width/2-a.width/2,s=n.y+n.height/2-a.height/2,u=mn(t),c=bl(u),l=n[c]/2-a[c]/2,h=pn(t),g=u==="x";let N;switch(h){case"top":N={x:o,y:n.y-a.height};break;case"bottom":N={x:o,y:n.y+n.height};break;case"right":N={x:n.x+n.width,y:s};break;case"left":N={x:n.x-a.width,y:s};break;default:N={x:n.x,y:n.y}}switch(Bi(t)){case"start":N[u]-=l*(r&&g?-1:1);break;case"end":N[u]+=l*(r&&g?-1:1);break}return N}const yb=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:s}=r,u=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:l,y:h}=Pf(c,n,u),g=n,N={},O=0;for(let w=0;w<o.length;w++){const{name:_,fn:C}=o[w],{x:v,y:S,data:A,reset:R}=await C({x:l,y:h,initialPlacement:n,placement:g,strategy:a,middlewareData:N,rects:c,platform:s,elements:{reference:e,floating:t}});if(l=v!=null?v:l,h=S!=null?S:h,N={...N,[_]:{...N[_],...A}},R&&O<=50){O++,typeof R=="object"&&(R.placement&&(g=R.placement),R.rects&&(c=R.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):R.rects),{x:l,y:h}=Pf(c,g,u)),w=-1;continue}}return{x:l,y:h,placement:g,strategy:a,middlewareData:N}};function vb(e){return{top:0,right:0,bottom:0,left:0,...e}}function Tm(e){return typeof e!="number"?vb(e):{top:e,right:e,bottom:e,left:e}}function mo(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function ho(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:o,rects:s,elements:u,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:N=!1,padding:O=0}=t,w=Tm(O),C=u[N?g==="floating"?"reference":"floating":g],v=mo(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(C)))==null||r?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:l,rootBoundary:h,strategy:c})),S=mo(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:g==="floating"?{...s.floating,x:n,y:a}:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),strategy:c}):s[g]);return{top:v.top-S.top+w.top,bottom:S.bottom-v.bottom+w.bottom,left:v.left-S.left+w.left,right:S.right-v.right+w.right}}const gb=Math.min,bb=Math.max;function Us(e,t,r){return bb(e,gb(t,r))}const Df=e=>({name:"arrow",options:e,async fn(t){const{element:r,padding:n=0}=e!=null?e:{},{x:a,y:o,placement:s,rects:u,platform:c}=t;if(r==null)return{};const l=Tm(n),h={x:a,y:o},g=mn(s),N=Bi(s),O=bl(g),w=await c.getDimensions(r),_=g==="y"?"top":"left",C=g==="y"?"bottom":"right",v=u.reference[O]+u.reference[g]-h[g]-u.floating[O],S=h[g]-u.reference[g],A=await(c.getOffsetParent==null?void 0:c.getOffsetParent(r));let R=A?g==="y"?A.clientHeight||0:A.clientWidth||0:0;R===0&&(R=u.floating[O]);const $=v/2-S/2,I=l[_],V=R-w[O]-l[C],L=R/2-w[O]/2+$,P=Us(I,L,V),ce=(N==="start"?l[_]:l[C])>0&&L!==P&&u.reference[O]<=u.floating[O]?L<I?I-L:V-L:0;return{[g]:h[g]-ce,data:{[g]:P,centerOffset:L-P}}}}),wb={left:"right",right:"left",bottom:"top",top:"bottom"};function yo(e){return e.replace(/left|right|bottom|top/g,t=>wb[t])}function xb(e,t,r){r===void 0&&(r=!1);const n=Bi(e),a=mn(e),o=bl(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=yo(s)),{main:s,cross:yo(s)}}const _b={start:"end",end:"start"};function $f(e){return e.replace(/start|end/g,t=>_b[t])}const Eb=["top","right","bottom","left"];function Sb(e){const t=yo(e);return[$f(e),t,$f(t)]}const Tb=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r;const{placement:n,middlewareData:a,rects:o,initialPlacement:s,platform:u,elements:c}=t,{mainAxis:l=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:N="bestFit",flipAlignment:O=!0,...w}=e,_=pn(n),v=g||(_===s||!O?[yo(s)]:Sb(s)),S=[s,...v],A=await ho(t,w),R=[];let $=((r=a.flip)==null?void 0:r.overflows)||[];if(l&&R.push(A[_]),h){const{main:P,cross:j}=xb(n,o,await(u.isRTL==null?void 0:u.isRTL(c.floating)));R.push(A[P],A[j])}if($=[...$,{placement:n,overflows:R}],!R.every(P=>P<=0)){var I,V;const P=((I=(V=a.flip)==null?void 0:V.index)!=null?I:0)+1,j=S[P];if(j)return{data:{index:P,overflows:$},reset:{placement:j}};let K="bottom";switch(N){case"bestFit":{var L;const ce=(L=$.map(ae=>[ae,ae.overflows.filter(le=>le>0).reduce((le,ge)=>le+ge,0)]).sort((ae,le)=>ae[1]-le[1])[0])==null?void 0:L[0].placement;ce&&(K=ce);break}case"initialPlacement":K=s;break}if(n!==K)return{reset:{placement:K}}}return{}}}};function If(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Mf(e){return Eb.some(t=>e[t]>=0)}const Ob=function(e){let{strategy:t="referenceHidden",...r}=e===void 0?{}:e;return{name:"hide",async fn(n){const{rects:a}=n;switch(t){case"referenceHidden":{const o=await ho(n,{...r,elementContext:"reference"}),s=If(o,a.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Mf(s)}}}case"escaped":{const o=await ho(n,{...r,altBoundary:!0}),s=If(o,a.floating);return{data:{escapedOffsets:s,escaped:Mf(s)}}}default:return{}}}}};async function Cb(e,t){const{placement:r,platform:n,elements:a}=e,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=pn(r),u=Bi(r),c=mn(r)==="x",l=["left","top"].includes(s)?-1:1,h=o&&c?-1:1,g=typeof t=="function"?t(e):t;let{mainAxis:N,crossAxis:O,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...g};return u&&typeof w=="number"&&(O=u==="end"?w*-1:w),c?{x:O*h,y:N*l}:{x:N*l,y:O*h}}const Rb=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:r,y:n}=t,a=await Cb(t,e);return{x:r+a.x,y:n+a.y,data:a}}}};function Om(e){return e==="x"?"y":"x"}const Nb=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:u={fn:C=>{let{x:v,y:S}=C;return{x:v,y:S}}},...c}=e,l={x:r,y:n},h=await ho(t,c),g=mn(pn(a)),N=Om(g);let O=l[g],w=l[N];if(o){const C=g==="y"?"top":"left",v=g==="y"?"bottom":"right",S=O+h[C],A=O-h[v];O=Us(S,O,A)}if(s){const C=N==="y"?"top":"left",v=N==="y"?"bottom":"right",S=w+h[C],A=w-h[v];w=Us(S,w,A)}const _=u.fn({...t,[g]:O,[N]:w});return{..._,data:{x:_.x-r,y:_.y-n}}}}},Ab=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:o,middlewareData:s}=t,{offset:u=0,mainAxis:c=!0,crossAxis:l=!0}=e,h={x:r,y:n},g=mn(a),N=Om(g);let O=h[g],w=h[N];const _=typeof u=="function"?u({...o,placement:a}):u,C=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(c){const $=g==="y"?"height":"width",I=o.reference[g]-o.floating[$]+C.mainAxis,V=o.reference[g]+o.reference[$]-C.mainAxis;O<I?O=I:O>V&&(O=V)}if(l){var v,S,A,R;const $=g==="y"?"width":"height",I=["top","left"].includes(pn(a)),V=o.reference[N]-o.floating[$]+(I&&(v=(S=s.offset)==null?void 0:S[N])!=null?v:0)+(I?0:C.crossAxis),L=o.reference[N]+o.reference[$]+(I?0:(A=(R=s.offset)==null?void 0:R[N])!=null?A:0)-(I?C.crossAxis:0);w<V?w=V:w>L&&(w=L)}return{[g]:O,[N]:w}}}};function Cm(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function vr(e){if(e==null)return window;if(!Cm(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function Yn(e){return vr(e).getComputedStyle(e)}function cr(e){return Cm(e)?"":e?(e.nodeName||"").toLowerCase():""}function Rm(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function Jt(e){return e instanceof vr(e).HTMLElement}function Tr(e){return e instanceof vr(e).Element}function Pb(e){return e instanceof vr(e).Node}function wl(e){if(typeof ShadowRoot>"u")return!1;const t=vr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Li(e){const{overflow:t,overflowX:r,overflowY:n}=Yn(e);return/auto|scroll|overlay|hidden/.test(t+n+r)}function Db(e){return["table","td","th"].includes(cr(e))}function Nm(e){const t=/firefox/i.test(Rm()),r=Yn(e);return r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].includes(r.willChange)||t&&r.willChange==="filter"||t&&(r.filter?r.filter!=="none":!1)}function Am(){return!/^((?!chrome|android).)*safari/i.test(Rm())}const Ff=Math.min,Rn=Math.max,vo=Math.round;function lr(e,t,r){var n,a,o,s;t===void 0&&(t=!1),r===void 0&&(r=!1);const u=e.getBoundingClientRect();let c=1,l=1;t&&Jt(e)&&(c=e.offsetWidth>0&&vo(u.width)/e.offsetWidth||1,l=e.offsetHeight>0&&vo(u.height)/e.offsetHeight||1);const h=Tr(e)?vr(e):window,g=!Am()&&r,N=(u.left+(g&&(n=(a=h.visualViewport)==null?void 0:a.offsetLeft)!=null?n:0))/c,O=(u.top+(g&&(o=(s=h.visualViewport)==null?void 0:s.offsetTop)!=null?o:0))/l,w=u.width/c,_=u.height/l;return{width:w,height:_,top:O,right:N+w,bottom:O+_,left:N,x:N,y:O}}function Cr(e){return((Pb(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ui(e){return Tr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Pm(e){return lr(Cr(e)).left+Ui(e).scrollLeft}function $b(e){const t=lr(e);return vo(t.width)!==e.offsetWidth||vo(t.height)!==e.offsetHeight}function Ib(e,t,r){const n=Jt(t),a=Cr(t),o=lr(e,n&&$b(t),r==="fixed");let s={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if(n||!n&&r!=="fixed")if((cr(t)!=="body"||Li(a))&&(s=Ui(t)),Jt(t)){const c=lr(t,!0);u.x=c.x+t.clientLeft,u.y=c.y+t.clientTop}else a&&(u.x=Pm(a));return{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function Dm(e){return cr(e)==="html"?e:e.assignedSlot||e.parentNode||(wl(e)?e.host:null)||Cr(e)}function kf(e){return!Jt(e)||getComputedStyle(e).position==="fixed"?null:e.offsetParent}function Mb(e){let t=Dm(e);for(wl(t)&&(t=t.host);Jt(t)&&!["html","body"].includes(cr(t));){if(Nm(t))return t;t=t.parentNode}return null}function qs(e){const t=vr(e);let r=kf(e);for(;r&&Db(r)&&getComputedStyle(r).position==="static";)r=kf(r);return r&&(cr(r)==="html"||cr(r)==="body"&&getComputedStyle(r).position==="static"&&!Nm(r))?t:r||Mb(e)||t}function Bf(e){if(Jt(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=lr(e);return{width:t.width,height:t.height}}function Fb(e){let{rect:t,offsetParent:r,strategy:n}=e;const a=Jt(r),o=Cr(r);if(r===o)return t;let s={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if((a||!a&&n!=="fixed")&&((cr(r)!=="body"||Li(o))&&(s=Ui(r)),Jt(r))){const c=lr(r,!0);u.x=c.x+r.clientLeft,u.y=c.y+r.clientTop}return{...t,x:t.x-s.scrollLeft+u.x,y:t.y-s.scrollTop+u.y}}function kb(e,t){const r=vr(e),n=Cr(e),a=r.visualViewport;let o=n.clientWidth,s=n.clientHeight,u=0,c=0;if(a){o=a.width,s=a.height;const l=Am();(l||!l&&t==="fixed")&&(u=a.offsetLeft,c=a.offsetTop)}return{width:o,height:s,x:u,y:c}}function Bb(e){var t;const r=Cr(e),n=Ui(e),a=(t=e.ownerDocument)==null?void 0:t.body,o=Rn(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=Rn(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let u=-n.scrollLeft+Pm(e);const c=-n.scrollTop;return Yn(a||r).direction==="rtl"&&(u+=Rn(r.clientWidth,a?a.clientWidth:0)-o),{width:o,height:s,x:u,y:c}}function $m(e){const t=Dm(e);return["html","body","#document"].includes(cr(t))?e.ownerDocument.body:Jt(t)&&Li(t)?t:$m(t)}function go(e,t){var r;t===void 0&&(t=[]);const n=$m(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),o=vr(n),s=a?[o].concat(o.visualViewport||[],Li(n)?n:[]):n,u=t.concat(s);return a?u:u.concat(go(s))}function Lb(e,t){const r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&wl(r)){let n=t;do{if(n&&e===n)return!0;n=n.parentNode||n.host}while(n)}return!1}function Ub(e,t){const r=lr(e,!1,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft;return{top:n,left:a,x:a,y:n,right:a+e.clientWidth,bottom:n+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function Lf(e,t,r){return t==="viewport"?mo(kb(e,r)):Tr(t)?Ub(t,r):mo(Bb(Cr(e)))}function qb(e){const t=go(e),n=["absolute","fixed"].includes(Yn(e).position)&&Jt(e)?qs(e):e;return Tr(n)?t.filter(a=>Tr(a)&&Lb(a,n)&&cr(a)!=="body"):[]}function Vb(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[...r==="clippingAncestors"?qb(t):[].concat(r),n],u=s[0],c=s.reduce((l,h)=>{const g=Lf(t,h,a);return l.top=Rn(g.top,l.top),l.right=Ff(g.right,l.right),l.bottom=Ff(g.bottom,l.bottom),l.left=Rn(g.left,l.left),l},Lf(t,u,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}const jb={getClippingRect:Vb,convertOffsetParentRelativeRectToViewportRelativeRect:Fb,isElement:Tr,getDimensions:Bf,getOffsetParent:qs,getDocumentElement:Cr,getElementRects:e=>{let{reference:t,floating:r,strategy:n}=e;return{reference:Ib(t,qs(r),n),floating:{...Bf(r),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Yn(e).direction==="rtl"};function Hb(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:s=!0,animationFrame:u=!1}=n,c=a&&!u,l=o&&!u,h=c||l?[...Tr(e)?go(e):[],...go(t)]:[];h.forEach(_=>{c&&_.addEventListener("scroll",r,{passive:!0}),l&&_.addEventListener("resize",r)});let g=null;if(s){let _=!0;g=new ResizeObserver(()=>{_||r(),_=!1}),Tr(e)&&!u&&g.observe(e),g.observe(t)}let N,O=u?lr(e):null;u&&w();function w(){const _=lr(e);O&&(_.x!==O.x||_.y!==O.y||_.width!==O.width||_.height!==O.height)&&r(),O=_,N=requestAnimationFrame(w)}return r(),()=>{var _;h.forEach(C=>{c&&C.removeEventListener("scroll",r),l&&C.removeEventListener("resize",r)}),(_=g)==null||_.disconnect(),g=null,u&&cancelAnimationFrame(N)}}const zb=(e,t,r)=>yb(e,t,{platform:jb,...r});var Vs=typeof document<"u"?y.exports.useLayoutEffect:y.exports.useEffect;function js(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!js(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const o=a[n];if(!(o==="_owner"&&e.$$typeof)&&!js(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Wb(e){const t=y.exports.useRef(e);return Vs(()=>{t.current=e}),t}function Yb(e){let{middleware:t,placement:r="bottom",strategy:n="absolute",whileElementsMounted:a}=e===void 0?{}:e;const o=y.exports.useRef(null),s=y.exports.useRef(null),u=Wb(a),c=y.exports.useRef(null),[l,h]=y.exports.useState({x:null,y:null,strategy:n,placement:r,middlewareData:{}}),[g,N]=y.exports.useState(t);js(g==null?void 0:g.map(A=>{let{options:R}=A;return R}),t==null?void 0:t.map(A=>{let{options:R}=A;return R}))||N(t);const O=y.exports.useCallback(()=>{!o.current||!s.current||zb(o.current,s.current,{middleware:g,placement:r,strategy:n}).then(A=>{w.current&&ul.exports.flushSync(()=>{h(A)})})},[g,r,n]);Vs(()=>{w.current&&O()},[O]);const w=y.exports.useRef(!1);Vs(()=>(w.current=!0,()=>{w.current=!1}),[]);const _=y.exports.useCallback(()=>{if(typeof c.current=="function"&&(c.current(),c.current=null),o.current&&s.current)if(u.current){const A=u.current(o.current,s.current,O);c.current=A}else O()},[O,u]),C=y.exports.useCallback(A=>{o.current=A,_()},[_]),v=y.exports.useCallback(A=>{s.current=A,_()},[_]),S=y.exports.useMemo(()=>({reference:o,floating:s}),[]);return y.exports.useMemo(()=>({...l,update:O,refs:S,reference:C,floating:v}),[l,O,S,C,v])}const Gb=e=>{const{element:t,padding:r}=e;function n(a){return Object.prototype.hasOwnProperty.call(a,"current")}return{name:"arrow",options:e,fn(a){return n(t)?t.current!=null?Df({element:t.current,padding:r}).fn(a):{}:t?Df({element:t,padding:r}).fn(a):{}}}},Qb=y.exports.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...o}=e;return y.exports.createElement(jt.svg,Ge({},o,{ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?r:y.exports.createElement("polygon",{points:"0,0 30,0 15,10"}))}),Zb=Qb;function Xb(e){const[t,r]=y.exports.useState(void 0);return nn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let s,u;if("borderBoxSize"in o){const c=o.borderBoxSize,l=Array.isArray(c)?c[0]:c;s=l.inlineSize,u=l.blockSize}else s=e.offsetWidth,u=e.offsetHeight;r({width:s,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}const Im="Popper",[xl,Mm]=Wn(Im),[Kb,Fm]=xl(Im),Jb=e=>{const{__scopePopper:t,children:r}=e,[n,a]=y.exports.useState(null);return y.exports.createElement(Kb,{scope:t,anchor:n,onAnchorChange:a},r)},ew="PopperAnchor",tw=y.exports.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,o=Fm(ew,r),s=y.exports.useRef(null),u=It(t,s);return y.exports.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:y.exports.createElement(jt.div,Ge({},a,{ref:u}))}),bo="PopperContent",[rw,nw]=xl(bo),[aw,ow]=xl(bo,{hasParent:!1,positionUpdateFns:new Set}),iw=y.exports.forwardRef((e,t)=>{var r,n,a,o,s,u,c,l;const{__scopePopper:h,side:g="bottom",sideOffset:N=0,align:O="center",alignOffset:w=0,arrowPadding:_=0,collisionBoundary:C=[],collisionPadding:v=0,sticky:S="partial",hideWhenDetached:A=!1,avoidCollisions:R=!0,...$}=e,I=Fm(bo,h),[V,L]=y.exports.useState(null),P=It(t,k=>L(k)),[j,K]=y.exports.useState(null),ce=Xb(j),ae=(r=ce==null?void 0:ce.width)!==null&&r!==void 0?r:0,le=(n=ce==null?void 0:ce.height)!==null&&n!==void 0?n:0,ge=g+(O!=="center"?"-"+O:""),xe=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},Ce=Array.isArray(C)?C:[C],ye=Ce.length>0,Re={padding:xe,boundary:Ce.filter(fw),altBoundary:ye},{reference:pe,floating:oe,strategy:X,x:Ze,y:$e,placement:ze,middlewareData:me,update:Q}=Yb({strategy:"fixed",placement:ge,whileElementsMounted:Hb,middleware:[Rb({mainAxis:N+le,alignmentAxis:w}),R?Nb({mainAxis:!0,crossAxis:!1,limiter:S==="partial"?Ab():void 0,...Re}):void 0,j?Gb({element:j,padding:_}):void 0,R?Tb({...Re}):void 0,dw({arrowWidth:ae,arrowHeight:le}),A?Ob({strategy:"referenceHidden"}):void 0].filter(lw)});nn(()=>{pe(I.anchor)},[pe,I.anchor]);const Y=Ze!==null&&$e!==null,[re,Ae]=km(ze),Te=(a=me.arrow)===null||a===void 0?void 0:a.x,ne=(o=me.arrow)===null||o===void 0?void 0:o.y,ee=((s=me.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[ft,Nt]=y.exports.useState();nn(()=>{V&&Nt(window.getComputedStyle(V).zIndex)},[V]);const{hasParent:b,positionUpdateFns:d}=ow(bo,h),m=!b;y.exports.useLayoutEffect(()=>{if(!m)return d.add(Q),()=>{d.delete(Q)}},[m,d,Q]),y.exports.useLayoutEffect(()=>{m&&Y&&Array.from(d).reverse().forEach(k=>requestAnimationFrame(k))},[m,Y,d]);const x={"data-side":re,"data-align":Ae,...$,ref:P,style:{...$.style,animation:Y?void 0:"none",opacity:(u=me.hide)!==null&&u!==void 0&&u.referenceHidden?0:void 0}};return y.exports.createElement("div",{ref:oe,"data-radix-popper-content-wrapper":"",style:{position:X,left:0,top:0,transform:Y?`translate3d(${Math.round(Ze)}px, ${Math.round($e)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:ft,["--radix-popper-transform-origin"]:[(c=me.transformOrigin)===null||c===void 0?void 0:c.x,(l=me.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")}},y.exports.createElement(rw,{scope:h,placedSide:re,onArrowChange:K,arrowX:Te,arrowY:ne,shouldHideArrow:ee},m?y.exports.createElement(aw,{scope:h,hasParent:!0,positionUpdateFns:d},y.exports.createElement(jt.div,x)):y.exports.createElement(jt.div,x)))}),sw="PopperArrow",uw={top:"bottom",right:"left",bottom:"top",left:"right"},cw=y.exports.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,o=nw(sw,n),s=uw[o.placedSide];return y.exports.createElement("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0}},y.exports.createElement(Zb,Ge({},a,{ref:r,style:{...a.style,display:"block"}})))});function lw(e){return e!==void 0}function fw(e){return e!==null}const dw=e=>({name:"transformOrigin",options:e,fn(t){var r,n,a,o,s;const{placement:u,rects:c,middlewareData:l}=t,g=((r=l.arrow)===null||r===void 0?void 0:r.centerOffset)!==0,N=g?0:e.arrowWidth,O=g?0:e.arrowHeight,[w,_]=km(u),C={start:"0%",center:"50%",end:"100%"}[_],v=((n=(a=l.arrow)===null||a===void 0?void 0:a.x)!==null&&n!==void 0?n:0)+N/2,S=((o=(s=l.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+O/2;let A="",R="";return w==="bottom"?(A=g?C:`${v}px`,R=`${-O}px`):w==="top"?(A=g?C:`${v}px`,R=`${c.floating.height+O}px`):w==="right"?(A=`${-O}px`,R=g?C:`${S}px`):w==="left"&&(A=`${c.floating.width+O}px`,R=g?C:`${S}px`),{data:{x:A,y:R}}}});function km(e){const[t,r="center"]=e.split("-");return[t,r]}const pw=Jb,mw=tw,hw=iw,yw=cw,vw=y.exports.forwardRef((e,t)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...a}=e;return n?sv.createPortal(y.exports.createElement(jt.div,Ge({},a,{ref:t})),n):null});function gw(e,t){return y.exports.useReducer((r,n)=>{const a=t[r][n];return a!=null?a:r},e)}const _l=e=>{const{present:t,children:r}=e,n=bw(t),a=typeof r=="function"?r({present:n.isPresent}):y.exports.Children.only(r),o=It(n.ref,a.ref);return typeof r=="function"||n.isPresent?y.exports.cloneElement(a,{ref:o}):null};_l.displayName="Presence";function bw(e){const[t,r]=y.exports.useState(),n=y.exports.useRef({}),a=y.exports.useRef(e),o=y.exports.useRef("none"),s=e?"mounted":"unmounted",[u,c]=gw(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.exports.useEffect(()=>{const l=aa(n.current);o.current=u==="mounted"?l:"none"},[u]),nn(()=>{const l=n.current,h=a.current;if(h!==e){const N=o.current,O=aa(l);e?c("MOUNT"):O==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(h&&N!==O?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),nn(()=>{if(t){const l=g=>{const O=aa(n.current).includes(g.animationName);g.target===t&&O&&ul.exports.flushSync(()=>c("ANIMATION_END"))},h=g=>{g.target===t&&(o.current=aa(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:y.exports.useCallback(l=>{l&&(n.current=getComputedStyle(l)),r(l)},[])}}function aa(e){return(e==null?void 0:e.animationName)||"none"}const cs="rovingFocusGroup.onEntryFocus",ww={bubbles:!1,cancelable:!0},El="RovingFocusGroup",[Hs,Bm,xw]=xm(El),[_w,Lm]=Wn(El,[xw]),[Ew,Sw]=_w(El),Tw=y.exports.forwardRef((e,t)=>y.exports.createElement(Hs.Provider,{scope:e.__scopeRovingFocusGroup},y.exports.createElement(Hs.Slot,{scope:e.__scopeRovingFocusGroup},y.exports.createElement(Ow,Ge({},e,{ref:t}))))),Ow=y.exports.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:c,onEntryFocus:l,...h}=e,g=y.exports.useRef(null),N=It(t,g),O=_m(o),[w=null,_]=bm({prop:s,defaultProp:u,onChange:c}),[C,v]=y.exports.useState(!1),S=ur(l),A=Bm(r),R=y.exports.useRef(!1);return y.exports.useEffect(()=>{const $=g.current;if($)return $.addEventListener(cs,S),()=>$.removeEventListener(cs,S)},[S]),y.exports.createElement(Ew,{scope:r,orientation:n,dir:O,loop:a,currentTabStopId:w,onItemFocus:y.exports.useCallback($=>_($),[_]),onItemShiftTab:y.exports.useCallback(()=>v(!0),[])},y.exports.createElement(jt.div,Ge({tabIndex:C?-1:0,"data-orientation":n},h,{ref:N,style:{outline:"none",...e.style},onMouseDown:tt(e.onMouseDown,()=>{R.current=!0}),onFocus:tt(e.onFocus,$=>{const I=!R.current;if($.target===$.currentTarget&&I&&!C){const V=new CustomEvent(cs,ww);if($.currentTarget.dispatchEvent(V),!V.defaultPrevented){const L=A().filter(ae=>ae.focusable),P=L.find(ae=>ae.active),j=L.find(ae=>ae.id===w),ce=[P,j,...L].filter(Boolean).map(ae=>ae.ref.current);Um(ce)}}R.current=!1}),onBlur:tt(e.onBlur,()=>v(!1))})))}),Cw="RovingFocusGroupItem",Rw=y.exports.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,...o}=e,s=Ls(),u=Sw(Cw,r),c=u.currentTabStopId===s,l=Bm(r);return y.exports.createElement(Hs.ItemSlot,{scope:r,id:s,focusable:n,active:a},y.exports.createElement(jt.span,Ge({tabIndex:c?0:-1,"data-orientation":u.orientation},o,{ref:t,onMouseDown:tt(e.onMouseDown,h=>{n?u.onItemFocus(s):h.preventDefault()}),onFocus:tt(e.onFocus,()=>u.onItemFocus(s)),onKeyDown:tt(e.onKeyDown,h=>{if(h.key==="Tab"&&h.shiftKey){u.onItemShiftTab();return}if(h.target!==h.currentTarget)return;const g=Pw(h,u.orientation,u.dir);if(g!==void 0){h.preventDefault();let O=l().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")O.reverse();else if(g==="prev"||g==="next"){g==="prev"&&O.reverse();const w=O.indexOf(h.currentTarget);O=u.loop?Dw(O,w+1):O.slice(w+1)}setTimeout(()=>Um(O))}})})))}),Nw={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Aw(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Pw(e,t,r){const n=Aw(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Nw[n]}function Um(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Dw(e,t){return e.map((r,n)=>e[(t+n)%e.length])}const $w=Tw,Iw=Rw;var Mw=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Hr=new WeakMap,oa=new WeakMap,ia={},ls=0,Fw=function(e,t,r,n){var a=Array.isArray(e)?e:[e];ia[r]||(ia[r]=new WeakMap);var o=ia[r],s=[],u=new Set,c=new Set(a),l=function(g){!g||u.has(g)||(u.add(g),l(g.parentNode))};a.forEach(l);var h=function(g){!g||c.has(g)||Array.prototype.forEach.call(g.children,function(N){if(u.has(N))h(N);else{var O=N.getAttribute(n),w=O!==null&&O!=="false",_=(Hr.get(N)||0)+1,C=(o.get(N)||0)+1;Hr.set(N,_),o.set(N,C),s.push(N),_===1&&w&&oa.set(N,!0),C===1&&N.setAttribute(r,"true"),w||N.setAttribute(n,"true")}})};return h(t),u.clear(),ls++,function(){s.forEach(function(g){var N=Hr.get(g)-1,O=o.get(g)-1;Hr.set(g,N),o.set(g,O),N||(oa.has(g)||g.removeAttribute(n),oa.delete(g)),O||g.removeAttribute(r)}),ls--,ls||(Hr=new WeakMap,Hr=new WeakMap,oa=new WeakMap,ia={})}},kw=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||Mw(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Fw(n,a,r,"aria-hidden")):function(){return null}},Qt=function(){return Qt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Qt.apply(this,arguments)};function qm(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Bw(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var wa="right-scroll-bar-position",xa="width-before-scroll-bar",Lw="with-scroll-bars-hidden",Uw="--removed-body-scroll-bar-size";function qw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Vw(e,t){var r=y.exports.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}function jw(e,t){return Vw(t||null,function(r){return e.forEach(function(n){return qw(n,r)})})}function Hw(e){return e}function zw(e,t){t===void 0&&(t=Hw);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var s=t(o,n);return r.push(s),function(){r=r.filter(function(u){return u!==s})}},assignSyncMedium:function(o){for(n=!0;r.length;){var s=r;r=[],s.forEach(o)}r={push:function(u){return o(u)},filter:function(){return r}}},assignMedium:function(o){n=!0;var s=[];if(r.length){var u=r;r=[],u.forEach(o),s=r}var c=function(){var h=s;s=[],h.forEach(o)},l=function(){return Promise.resolve().then(c)};l(),r={push:function(h){s.push(h),l()},filter:function(h){return s=s.filter(h),r}}}};return a}function Ww(e){e===void 0&&(e={});var t=zw(null);return t.options=Qt({async:!0,ssr:!1},e),t}var Vm=function(e){var t=e.sideCar,r=qm(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.exports.createElement(n,Qt({},r))};Vm.isSideCarExport=!0;function Yw(e,t){return e.useMedium(t),Vm}var jm=Ww(),fs=function(){},qi=y.exports.forwardRef(function(e,t){var r=y.exports.useRef(null),n=y.exports.useState({onScrollCapture:fs,onWheelCapture:fs,onTouchMoveCapture:fs}),a=n[0],o=n[1],s=e.forwardProps,u=e.children,c=e.className,l=e.removeScrollBar,h=e.enabled,g=e.shards,N=e.sideCar,O=e.noIsolation,w=e.inert,_=e.allowPinchZoom,C=e.as,v=C===void 0?"div":C,S=qm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),A=N,R=jw([r,t]),$=Qt(Qt({},S),a);return y.exports.createElement(y.exports.Fragment,null,h&&y.exports.createElement(A,{sideCar:jm,removeScrollBar:l,shards:g,noIsolation:O,inert:w,setCallbacks:o,allowPinchZoom:!!_,lockRef:r}),s?y.exports.cloneElement(y.exports.Children.only(u),Qt(Qt({},$),{ref:R})):y.exports.createElement(v,Qt({},$,{className:c,ref:R}),u))});qi.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qi.classNames={fullWidth:xa,zeroRight:wa};var Gw=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Qw(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Gw();return t&&e.setAttribute("nonce",t),e}function Zw(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Xw(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Kw=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Qw())&&(Zw(t,r),Xw(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Jw=function(){var e=Kw();return function(t,r){y.exports.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Hm=function(){var e=Jw(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},ex={left:0,top:0,right:0,gap:0},ds=function(e){return parseInt(e||"",10)||0},tx=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ds(r),ds(n),ds(a)]},rx=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ex;var t=tx(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},nx=Hm(),ax=function(e,t,r,n){var a=e.left,o=e.top,s=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Lw,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wa,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(xa,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(wa," .").concat(wa,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(xa," .").concat(xa,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body {
    `).concat(Uw,": ").concat(u,`px;
  }
`)},ox=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n,o=y.exports.useMemo(function(){return rx(a)},[a]);return y.exports.createElement(nx,{styles:ax(o,!t,a,r?"":"!important")})},zs=!1;if(typeof window<"u")try{var sa=Object.defineProperty({},"passive",{get:function(){return zs=!0,!0}});window.addEventListener("test",sa,sa),window.removeEventListener("test",sa,sa)}catch{zs=!1}var zr=zs?{passive:!1}:!1,ix=function(e){var t=window.getComputedStyle(e);return t.overflowY!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowY==="visible")},sx=function(e){var t=window.getComputedStyle(e);return t.overflowX!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowX==="visible")},Uf=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=zm(e,r);if(n){var a=Wm(e,r),o=a[1],s=a[2];if(o>s)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},ux=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},cx=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},zm=function(e,t){return e==="v"?ix(t):sx(t)},Wm=function(e,t){return e==="v"?ux(t):cx(t)},lx=function(e,t){return e==="h"&&t==="rtl"?-1:1},fx=function(e,t,r,n,a){var o=lx(e,window.getComputedStyle(t).direction),s=o*n,u=r.target,c=t.contains(u),l=!1,h=s>0,g=0,N=0;do{var O=Wm(e,u),w=O[0],_=O[1],C=O[2],v=_-C-o*w;(w||v)&&zm(e,u)&&(g+=v,N+=w),u=u.parentNode}while(!c&&u!==document.body||c&&(t.contains(u)||t===u));return(h&&(a&&g===0||!a&&s>g)||!h&&(a&&N===0||!a&&-s>N))&&(l=!0),l},ua=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qf=function(e){return[e.deltaX,e.deltaY]},Vf=function(e){return e&&"current"in e?e.current:e},dx=function(e,t){return e[0]===t[0]&&e[1]===t[1]},px=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},mx=0,Wr=[];function hx(e){var t=y.exports.useRef([]),r=y.exports.useRef([0,0]),n=y.exports.useRef(),a=y.exports.useState(mx++)[0],o=y.exports.useState(function(){return Hm()})[0],s=y.exports.useRef(e);y.exports.useEffect(function(){s.current=e},[e]),y.exports.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var _=Bw([e.lockRef.current],(e.shards||[]).map(Vf),!0).filter(Boolean);return _.forEach(function(C){return C.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),_.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=y.exports.useCallback(function(_,C){if("touches"in _&&_.touches.length===2)return!s.current.allowPinchZoom;var v=ua(_),S=r.current,A="deltaX"in _?_.deltaX:S[0]-v[0],R="deltaY"in _?_.deltaY:S[1]-v[1],$,I=_.target,V=Math.abs(A)>Math.abs(R)?"h":"v";if("touches"in _&&V==="h"&&I.type==="range")return!1;var L=Uf(V,I);if(!L)return!0;if(L?$=V:($=V==="v"?"h":"v",L=Uf(V,I)),!L)return!1;if(!n.current&&"changedTouches"in _&&(A||R)&&(n.current=$),!$)return!0;var P=n.current||$;return fx(P,C,_,P==="h"?A:R,!0)},[]),c=y.exports.useCallback(function(_){var C=_;if(!(!Wr.length||Wr[Wr.length-1]!==o)){var v="deltaY"in C?qf(C):ua(C),S=t.current.filter(function($){return $.name===C.type&&$.target===C.target&&dx($.delta,v)})[0];if(S&&S.should){C.preventDefault();return}if(!S){var A=(s.current.shards||[]).map(Vf).filter(Boolean).filter(function($){return $.contains(C.target)}),R=A.length>0?u(C,A[0]):!s.current.noIsolation;R&&C.preventDefault()}}},[]),l=y.exports.useCallback(function(_,C,v,S){var A={name:_,delta:C,target:v,should:S};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(R){return R!==A})},1)},[]),h=y.exports.useCallback(function(_){r.current=ua(_),n.current=void 0},[]),g=y.exports.useCallback(function(_){l(_.type,qf(_),_.target,u(_,e.lockRef.current))},[]),N=y.exports.useCallback(function(_){l(_.type,ua(_),_.target,u(_,e.lockRef.current))},[]);y.exports.useEffect(function(){return Wr.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:N}),document.addEventListener("wheel",c,zr),document.addEventListener("touchmove",c,zr),document.addEventListener("touchstart",h,zr),function(){Wr=Wr.filter(function(_){return _!==o}),document.removeEventListener("wheel",c,zr),document.removeEventListener("touchmove",c,zr),document.removeEventListener("touchstart",h,zr)}},[]);var O=e.removeScrollBar,w=e.inert;return y.exports.createElement(y.exports.Fragment,null,w?y.exports.createElement(o,{styles:px(a)}):null,O?y.exports.createElement(ox,{gapMode:"margin"}):null)}const yx=Yw(jm,hx);var Ym=y.exports.forwardRef(function(e,t){return y.exports.createElement(qi,Qt({},e,{ref:t,sideCar:yx}))});Ym.classNames=qi.classNames;const vx=Ym,gx=["Enter"," "],bx=["ArrowDown","PageUp","Home"],Gm=["ArrowUp","PageDown","End"],wx=[...bx,...Gm],Vi="Menu",[Ws,xx,_x]=xm(Vi),[qr,Qm]=Wn(Vi,[_x,Mm,Lm]),ji=Mm(),Zm=Lm(),[Ex,Gn]=qr(Vi),[Sx,Sl]=qr(Vi),Tx=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:o,modal:s=!0}=e,u=ji(t),[c,l]=y.exports.useState(null),h=y.exports.useRef(!1),g=ur(o),N=_m(a);return y.exports.useEffect(()=>{const O=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",O,{capture:!0}),()=>{document.removeEventListener("keydown",O,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),y.exports.createElement(pw,u,y.exports.createElement(Ex,{scope:t,open:r,onOpenChange:g,content:c,onContentChange:l},y.exports.createElement(Sx,{scope:t,onClose:y.exports.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:h,dir:N,modal:s},n)))},Ox=y.exports.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=ji(r);return y.exports.createElement(mw,Ge({},a,n,{ref:t}))}),Xm="MenuPortal",[Cx,Rx]=qr(Xm,{forceMount:void 0}),Nx=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,o=Gn(Xm,t);return y.exports.createElement(Cx,{scope:t,forceMount:r},y.exports.createElement(_l,{present:r||o.open},y.exports.createElement(vw,{asChild:!0,container:a},n)))},Er="MenuContent",[Ax,Km]=qr(Er),Px=y.exports.forwardRef((e,t)=>{const r=Rx(Er,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,o=Gn(Er,e.__scopeMenu),s=Sl(Er,e.__scopeMenu);return y.exports.createElement(Ws.Provider,{scope:e.__scopeMenu},y.exports.createElement(_l,{present:n||o.open},y.exports.createElement(Ws.Slot,{scope:e.__scopeMenu},s.modal?y.exports.createElement(Dx,Ge({},a,{ref:t})):y.exports.createElement($x,Ge({},a,{ref:t})))))}),Dx=y.exports.forwardRef((e,t)=>{const r=Gn(Er,e.__scopeMenu),n=y.exports.useRef(null),a=It(t,n);return y.exports.useEffect(()=>{const o=n.current;if(o)return kw(o)},[]),y.exports.createElement(Jm,Ge({},e,{ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:tt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)}))}),$x=y.exports.forwardRef((e,t)=>{const r=Gn(Er,e.__scopeMenu);return y.exports.createElement(Jm,Ge({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)}))}),Jm=y.exports.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:u,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:h,onInteractOutside:g,onDismiss:N,disableOutsideScroll:O,...w}=e,_=Gn(Er,r),C=Sl(Er,r),v=ji(r),S=Zm(r),A=xx(r),[R,$]=y.exports.useState(null),I=y.exports.useRef(null),V=It(t,I,_.onContentChange),L=y.exports.useRef(0),P=y.exports.useRef(""),j=y.exports.useRef(0),K=y.exports.useRef(null),ce=y.exports.useRef("right"),ae=y.exports.useRef(0),le=O?vx:y.exports.Fragment,ge=O?{as:$n,allowPinchZoom:!0}:void 0,xe=ye=>{var Re,pe;const oe=P.current+ye,X=A().filter(Y=>!Y.disabled),Ze=document.activeElement,$e=(Re=X.find(Y=>Y.ref.current===Ze))===null||Re===void 0?void 0:Re.textValue,ze=X.map(Y=>Y.textValue),me=jx(ze,oe,$e),Q=(pe=X.find(Y=>Y.textValue===me))===null||pe===void 0?void 0:pe.ref.current;(function Y(re){P.current=re,window.clearTimeout(L.current),re!==""&&(L.current=window.setTimeout(()=>Y(""),1e3))})(oe),Q&&setTimeout(()=>Q.focus())};y.exports.useEffect(()=>()=>window.clearTimeout(L.current),[]),ib();const Ce=y.exports.useCallback(ye=>{var Re,pe;return ce.current===((Re=K.current)===null||Re===void 0?void 0:Re.side)&&zx(ye,(pe=K.current)===null||pe===void 0?void 0:pe.area)},[]);return y.exports.createElement(Ax,{scope:r,searchRef:P,onItemEnter:y.exports.useCallback(ye=>{Ce(ye)&&ye.preventDefault()},[Ce]),onItemLeave:y.exports.useCallback(ye=>{var Re;Ce(ye)||((Re=I.current)===null||Re===void 0||Re.focus(),$(null))},[Ce]),onTriggerLeave:y.exports.useCallback(ye=>{Ce(ye)&&ye.preventDefault()},[Ce]),pointerGraceTimerRef:j,onPointerGraceIntentChange:y.exports.useCallback(ye=>{K.current=ye},[])},y.exports.createElement(le,ge,y.exports.createElement(sb,{asChild:!0,trapped:a,onMountAutoFocus:tt(o,ye=>{var Re;ye.preventDefault(),(Re=I.current)===null||Re===void 0||Re.focus()}),onUnmountAutoFocus:s},y.exports.createElement(nb,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:h,onInteractOutside:g,onDismiss:N},y.exports.createElement($w,Ge({asChild:!0},S,{dir:C.dir,orientation:"vertical",loop:n,currentTabStopId:R,onCurrentTabStopIdChange:$,onEntryFocus:ye=>{C.isUsingKeyboardRef.current||ye.preventDefault()}}),y.exports.createElement(hw,Ge({role:"menu","aria-orientation":"vertical","data-state":Ux(_.open),dir:C.dir},v,w,{ref:V,style:{outline:"none",...w.style},onKeyDown:tt(w.onKeyDown,ye=>{const pe=ye.target.closest('[role="menu"]')===ye.currentTarget,oe=ye.ctrlKey||ye.altKey||ye.metaKey,X=ye.key.length===1;pe&&(ye.key==="Tab"&&ye.preventDefault(),!oe&&X&&xe(ye.key));const Ze=I.current;if(ye.target!==Ze||!wx.includes(ye.key))return;ye.preventDefault();const ze=A().filter(me=>!me.disabled).map(me=>me.ref.current);Gm.includes(ye.key)&&ze.reverse(),qx(ze)}),onBlur:tt(e.onBlur,ye=>{ye.currentTarget.contains(ye.target)||(window.clearTimeout(L.current),P.current="")}),onPointerMove:tt(e.onPointerMove,Gs(ye=>{const Re=ye.target,pe=ae.current!==ye.clientX;if(ye.currentTarget.contains(Re)&&pe){const oe=ye.clientX>ae.current?"right":"left";ce.current=oe,ae.current=ye.clientX}}))})))))))}),Ys="MenuItem",jf="menu.itemSelect",Ix=y.exports.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,o=y.exports.useRef(null),s=Sl(Ys,e.__scopeMenu),u=Km(Ys,e.__scopeMenu),c=It(t,o),l=y.exports.useRef(!1),h=()=>{const g=o.current;if(!r&&g){const N=new CustomEvent(jf,{bubbles:!0,cancelable:!0});g.addEventListener(jf,O=>n==null?void 0:n(O),{once:!0}),wm(g,N),N.defaultPrevented?l.current=!1:s.onClose()}};return y.exports.createElement(Mx,Ge({},a,{ref:c,disabled:r,onClick:tt(e.onClick,h),onPointerDown:g=>{var N;(N=e.onPointerDown)===null||N===void 0||N.call(e,g),l.current=!0},onPointerUp:tt(e.onPointerUp,g=>{var N;l.current||(N=g.currentTarget)===null||N===void 0||N.click()}),onKeyDown:tt(e.onKeyDown,g=>{const N=u.searchRef.current!=="";r||N&&g.key===" "||gx.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})}))}),Mx=y.exports.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...o}=e,s=Km(Ys,r),u=Zm(r),c=y.exports.useRef(null),l=It(t,c),[h,g]=y.exports.useState(!1),[N,O]=y.exports.useState("");return y.exports.useEffect(()=>{const w=c.current;if(w){var _;O(((_=w.textContent)!==null&&_!==void 0?_:"").trim())}},[o.children]),y.exports.createElement(Ws.ItemSlot,{scope:r,disabled:n,textValue:a!=null?a:N},y.exports.createElement(Iw,Ge({asChild:!0},u,{focusable:!n}),y.exports.createElement(jt.div,Ge({role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0},o,{ref:l,onPointerMove:tt(e.onPointerMove,Gs(w=>{n?s.onItemLeave(w):(s.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus())})),onPointerLeave:tt(e.onPointerLeave,Gs(w=>s.onItemLeave(w))),onFocus:tt(e.onFocus,()=>g(!0)),onBlur:tt(e.onBlur,()=>g(!1))}))))}),Fx="MenuRadioGroup";qr(Fx,{value:void 0,onValueChange:()=>{}});const kx="MenuItemIndicator";qr(kx,{checked:!1});const Bx=y.exports.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=ji(r);return y.exports.createElement(yw,Ge({},a,n,{ref:t}))}),Lx="MenuSub";qr(Lx);function Ux(e){return e?"open":"closed"}function qx(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Vx(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function jx(e,t,r){const a=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let s=Vx(e,Math.max(o,0));a.length===1&&(s=s.filter(l=>l!==r));const c=s.find(l=>l.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Hx(e,t){const{x:r,y:n}=e;let a=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const u=t[o].x,c=t[o].y,l=t[s].x,h=t[s].y;c>n!=h>n&&r<(l-u)*(n-c)/(h-c)+u&&(a=!a)}return a}function zx(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Hx(r,t)}function Gs(e){return t=>t.pointerType==="mouse"?e(t):void 0}const Wx=Tx,Yx=Ox,Gx=Nx,Qx=Px,Zx=Ix,Xx=Bx,eh="DropdownMenu",[Kx,tD]=Wn(eh,[Qm]),hn=Qm(),[Jx,th]=Kx(eh),e_=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:o,onOpenChange:s,modal:u=!0}=e,c=hn(t),l=y.exports.useRef(null),[h=!1,g]=bm({prop:a,defaultProp:o,onChange:s});return y.exports.createElement(Jx,{scope:t,triggerId:Ls(),triggerRef:l,contentId:Ls(),open:h,onOpenChange:g,onOpenToggle:y.exports.useCallback(()=>g(N=>!N),[g]),modal:u},y.exports.createElement(Wx,Ge({},c,{open:h,onOpenChange:g,dir:n,modal:u}),r))},t_="DropdownMenuTrigger",r_=y.exports.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,o=th(t_,r),s=hn(r);return y.exports.createElement(Yx,Ge({asChild:!0},s),y.exports.createElement(jt.button,Ge({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open?!0:void 0,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n},a,{ref:gl(t,o.triggerRef),onPointerDown:tt(e.onPointerDown,u=>{!n&&u.button===0&&u.ctrlKey===!1&&(o.onOpenToggle(),o.open||u.preventDefault())}),onKeyDown:tt(e.onKeyDown,u=>{n||(["Enter"," "].includes(u.key)&&o.onOpenToggle(),u.key==="ArrowDown"&&o.onOpenChange(!0),[" ","ArrowDown"].includes(u.key)&&u.preventDefault())})})))}),n_=e=>{const{__scopeDropdownMenu:t,...r}=e,n=hn(t);return y.exports.createElement(Gx,Ge({},n,r))},a_="DropdownMenuContent",o_=y.exports.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=th(a_,r),o=hn(r),s=y.exports.useRef(!1);return y.exports.createElement(Qx,Ge({id:a.contentId,"aria-labelledby":a.triggerId},o,n,{ref:t,onCloseAutoFocus:tt(e.onCloseAutoFocus,u=>{var c;s.current||(c=a.triggerRef.current)===null||c===void 0||c.focus(),s.current=!1,u.preventDefault()}),onInteractOutside:tt(e.onInteractOutside,u=>{const c=u.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,h=c.button===2||l;(!a.modal||h)&&(s.current=!0)}),style:{...e.style,["--radix-dropdown-menu-content-transform-origin"]:"var(--radix-popper-transform-origin)"}}))}),i_=y.exports.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hn(r);return y.exports.createElement(Zx,Ge({},a,n,{ref:t}))}),s_=y.exports.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=hn(r);return y.exports.createElement(Xx,Ge({},a,n,{ref:t}))}),u_=e_,c_=r_,l_=n_,f_=o_,d_=i_,p_=s_;const Fr=({message:e="Loading..."})=>p.createElement("div",{className:"ctw-space-x-2"},e&&p.createElement("span",{className:"ctw-text-sm ctw-italic"},e),p.createElement(sl,null));try{Fr.displayName="Loading",Fr.__docgenInfo={description:"",displayName:"Loading",props:{message:{defaultValue:{value:"Loading..."},description:"",name:"message",required:!1,type:{name:"string"}}}}}catch{}function wo({children:e,menuItems:t}){const{ctwProviderRef:r}=Wt(),[n,a]=y.exports.useState(!1);async function o(s){a(!0),await s.action(),a(!1)}return p.createElement(b0,null,p.createElement(u_,{modal:!1},p.createElement(c_,{className:"ctw-btn-clear ctw-link","aria-label":"dropdown"},n&&p.createElement(Fr,{message:""}),!n&&e),p.createElement(l_,{container:r.current},p.createElement(f_,{onFocusOutside:s=>s.preventDefault(),className:"ctw-dropdown-menu-container",collisionPadding:10},p.createElement(p_,{asChild:!0},p.createElement("div",{className:"ctw-dropdown-menu-arrow"})),t.map(s=>p.createElement(d_,{onClick:()=>o(s),key:s.name,className:it(s.className,"ctw-dropdown-menu-item")},s.name))))))}try{wo.displayName="DropdownMenu",wo.__docgenInfo={description:"",displayName:"DropdownMenu",props:{menuItems:{defaultValue:null,description:"",name:"menuItems",required:!0,type:{name:"MenuItem[]"}}}}}catch{}function xo({className:e,conditions:t,rowMenuActions:r,hideMenu:n,sort:a={columnTitle:"Last Recorded",dir:"desc"},onSort:o,...s}){const u=[{title:"Condition",dataIndex:"display",widthPercent:40,minWidth:320,sortIndices:[{index:"display"},{index:"recorded",dir:"desc"}]},{title:"Category",dataIndex:"ccsGrouping",widthPercent:25,minWidth:192,sortIndices:[{index:"ccsGrouping"},{index:"display",dir:"asc"}]},{title:"Status",render:c=>p.createElement("div",{className:"ctw-capitalize"},p.createElement("div",{className:"ctw-text-content-black"},c.clinicalStatus),p.createElement("div",null,c.isArchived?"Archived":c.verificationStatus)),widthPercent:17.5,minWidth:128,sortIndices:[{index:"clinicalStatus"},{index:"verificationStatus"},{index:"recorded",dir:"desc"}]},{title:"Last Recorded",dataIndex:"recordedDate",widthPercent:17.5,minWidth:132,sortIndices:[{index:"recorded"},{index:"display",dir:"asc"}]}];return n||u.push({className:"ctw-table-action-column",render:c=>p.createElement(wo,{menuItems:r(c)},p.createElement(vm,{className:"ctw-w-5"}))}),p.createElement(il,{className:e,records:t,columns:u,sort:a,onSort:o,...s})}try{xo.displayName="ConditionsTableBase",xo.__docgenInfo={description:"",displayName:"ConditionsTableBase",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | (string & Mapping) | (string & ArgumentArray)"}},conditions:{defaultValue:null,description:"",name:"conditions",required:!0,type:{name:"ConditionModel[]"}},rowMenuActions:{defaultValue:null,description:"",name:"rowMenuActions",required:!0,type:{name:"(condition: ConditionModel) => MenuItem[]"}},hideMenu:{defaultValue:null,description:"",name:"hideMenu",required:!0,type:{name:"boolean"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},message:{defaultValue:null,description:"Displayed when we have 0 records.",name:"message",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},showTableHead:{defaultValue:null,description:"",name:"showTableHead",required:!1,type:{name:"boolean"}},stacked:{defaultValue:null,description:"",name:"stacked",required:!1,type:{name:"boolean"}},sort:{defaultValue:{value:'{ columnTitle: "Last Recorded", dir: "desc" }'},description:"",name:"sort",required:!1,type:{name:"TableSort"}},onSort:{defaultValue:null,description:"",name:"onSort",required:!1,type:{name:"((sort: TableSort) => void)"}},handleRowClick:{defaultValue:null,description:"",name:"handleRowClick",required:!1,type:{name:"((record: ConditionModel) => void)"}},rowActions:{defaultValue:null,description:"",name:"rowActions",required:!1,type:{name:"((record: ConditionModel) => Element)"}},hidePagination:{defaultValue:null,description:"",name:"hidePagination",required:!1,type:{name:"boolean"}}}}}catch{}function St(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Je(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function _a(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_a=function(r){return typeof r}:_a=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_a(e)}function Ke(e){Je(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||_a(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function m_(e,t){Je(2,arguments);var r=Ke(e).getTime(),n=St(t);return new Date(r+n)}var h_={};function yn(){return h_}function rh(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Hf(e,t){Je(2,arguments);var r=Ke(e),n=Ke(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}var Tl=6e4,Ol=36e5,y_=1e3;function Ea(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ea=function(r){return typeof r}:Ea=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ea(e)}function v_(e){return Je(1,arguments),e instanceof Date||Ea(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function _o(e){if(Je(1,arguments),!v_(e)&&typeof e!="number")return!1;var t=Ke(e);return!isNaN(Number(t))}function g_(e,t){Je(2,arguments);var r=Ke(e),n=Ke(t);return r.getFullYear()-n.getFullYear()}function nh(e,t){Je(2,arguments);var r=Ke(e),n=Ke(t),a=Hf(r,n),o=Math.abs(g_(r,n));r.setFullYear(1584),n.setFullYear(1584);var s=Hf(r,n)===-a,u=a*(o-Number(s));return u===0?0:u}function ah(e,t){Je(2,arguments);var r=St(t);return m_(e,-r)}var b_=864e5;function w_(e){Je(1,arguments);var t=Ke(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/b_)+1}function an(e){Je(1,arguments);var t=1,r=Ke(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function oh(e){Je(1,arguments);var t=Ke(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=an(n),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var s=an(o);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function x_(e){Je(1,arguments);var t=oh(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=an(r);return n}var __=6048e5;function ih(e){Je(1,arguments);var t=Ke(e),r=an(t).getTime()-x_(t).getTime();return Math.round(r/__)+1}function kr(e,t){var r,n,a,o,s,u,c,l;Je(1,arguments);var h=yn(),g=St((r=(n=(a=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(u=s.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&a!==void 0?a:h.weekStartsOn)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&r!==void 0?r:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var N=Ke(e),O=N.getUTCDay(),w=(O<g?7:0)+O-g;return N.setUTCDate(N.getUTCDate()-w),N.setUTCHours(0,0,0,0),N}function Cl(e,t){var r,n,a,o,s,u,c,l;Je(1,arguments);var h=Ke(e),g=h.getUTCFullYear(),N=yn(),O=St((r=(n=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(u=s.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:N.firstWeekContainsDate)!==null&&n!==void 0?n:(c=N.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(g+1,0,O),w.setUTCHours(0,0,0,0);var _=kr(w,t),C=new Date(0);C.setUTCFullYear(g,0,O),C.setUTCHours(0,0,0,0);var v=kr(C,t);return h.getTime()>=_.getTime()?g+1:h.getTime()>=v.getTime()?g:g-1}function E_(e,t){var r,n,a,o,s,u,c,l;Je(1,arguments);var h=yn(),g=St((r=(n=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(u=s.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&r!==void 0?r:1),N=Cl(e,t),O=new Date(0);O.setUTCFullYear(N,0,g),O.setUTCHours(0,0,0,0);var w=kr(O,t);return w}var S_=6048e5;function sh(e,t){Je(1,arguments);var r=Ke(e),n=kr(r,t).getTime()-E_(r,t).getTime();return Math.round(n/S_)+1}function Me(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var T_={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return Me(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Me(n+1,2)},d:function(t,r){return Me(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Me(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Me(t.getUTCHours(),r.length)},m:function(t,r){return Me(t.getUTCMinutes(),r.length)},s:function(t,r){return Me(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),o=Math.floor(a*Math.pow(10,n-3));return Me(o,r.length)}};const br=T_;var Yr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},O_={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),o=a>0?a:1-a;return n.ordinalNumber(o,{unit:"year"})}return br.y(t,r)},Y:function(t,r,n,a){var o=Cl(t,a),s=o>0?o:1-o;if(r==="YY"){var u=s%100;return Me(u,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):Me(s,r.length)},R:function(t,r){var n=oh(t);return Me(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Me(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Me(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Me(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return br.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return Me(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var o=sh(t,a);return r==="wo"?n.ordinalNumber(o,{unit:"week"}):Me(o,r.length)},I:function(t,r,n){var a=ih(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):Me(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):br.d(t,r)},D:function(t,r,n){var a=w_(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Me(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var o=t.getUTCDay(),s=(o-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return Me(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var o=t.getUTCDay(),s=(o-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return Me(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),o=a===0?7:a;switch(r){case"i":return String(o);case"ii":return Me(o,r.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),o=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),o;switch(a===12?o=Yr.noon:a===0?o=Yr.midnight:o=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),o;switch(a>=17?o=Yr.evening:a>=12?o=Yr.afternoon:a>=4?o=Yr.morning:o=Yr.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return br.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):br.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Me(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):Me(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):br.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):br.s(t,r)},S:function(t,r){return br.S(t,r)},X:function(t,r,n,a){var o=a._originalDate||t,s=o.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return Wf(s);case"XXXX":case"XX":return Pr(s);case"XXXXX":case"XXX":default:return Pr(s,":")}},x:function(t,r,n,a){var o=a._originalDate||t,s=o.getTimezoneOffset();switch(r){case"x":return Wf(s);case"xxxx":case"xx":return Pr(s);case"xxxxx":case"xxx":default:return Pr(s,":")}},O:function(t,r,n,a){var o=a._originalDate||t,s=o.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+zf(s,":");case"OOOO":default:return"GMT"+Pr(s,":")}},z:function(t,r,n,a){var o=a._originalDate||t,s=o.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+zf(s,":");case"zzzz":default:return"GMT"+Pr(s,":")}},t:function(t,r,n,a){var o=a._originalDate||t,s=Math.floor(o.getTime()/1e3);return Me(s,r.length)},T:function(t,r,n,a){var o=a._originalDate||t,s=o.getTime();return Me(s,r.length)}};function zf(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),o=n%60;if(o===0)return r+String(a);var s=t||"";return r+String(a)+s+Me(o,2)}function Wf(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Me(Math.abs(e)/60,2)}return Pr(e,t)}function Pr(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),o=Me(Math.floor(a/60),2),s=Me(a%60,2);return n+o+r+s}const C_=O_;var Yf=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},uh=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},R_=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return Yf(t,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",Yf(a,r)).replace("{{time}}",uh(o,r))},N_={p:uh,P:R_};const Qs=N_;var A_=["D","DD"],P_=["YY","YYYY"];function ch(e){return A_.indexOf(e)!==-1}function lh(e){return P_.indexOf(e)!==-1}function Eo(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var D_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$_=function(t,r,n){var a,o=D_[t];return typeof o=="string"?a=o:r===1?a=o.one:a=o.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};const I_=$_;function ps(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var M_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},F_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},k_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},B_={date:ps({formats:M_,defaultWidth:"full"}),time:ps({formats:F_,defaultWidth:"full"}),dateTime:ps({formats:k_,defaultWidth:"full"})};const L_=B_;var U_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},q_=function(t,r,n,a){return U_[t]};const V_=q_;function wn(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{var u=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[u]}var l=e.argumentCallback?e.argumentCallback(t):t;return a[l]}}var j_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},H_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},z_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},W_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Y_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},G_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Q_=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Z_={ordinalNumber:Q_,era:wn({values:j_,defaultWidth:"wide"}),quarter:wn({values:H_,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:wn({values:z_,defaultWidth:"wide"}),day:wn({values:W_,defaultWidth:"wide"}),dayPeriod:wn({values:Y_,defaultWidth:"wide",formattingValues:G_,defaultFormattingWidth:"wide"})};const X_=Z_;function xn(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;var s=o[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(u)?J_(u,function(g){return g.test(s)}):K_(u,function(g){return g.test(s)}),l;l=e.valueCallback?e.valueCallback(c):c,l=r.valueCallback?r.valueCallback(l):l;var h=t.slice(s.length);return{value:l,rest:h}}}function K_(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function J_(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function eE(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],o=t.match(e.parsePattern);if(!o)return null;var s=e.valueCallback?e.valueCallback(o[0]):o[0];s=r.valueCallback?r.valueCallback(s):s;var u=t.slice(a.length);return{value:s,rest:u}}}var tE=/^(\d+)(th|st|nd|rd)?/i,rE=/\d+/i,nE={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},aE={any:[/^b/i,/^(a|c)/i]},oE={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},iE={any:[/1/i,/2/i,/3/i,/4/i]},sE={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uE={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cE={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lE={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fE={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dE={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pE={ordinalNumber:eE({matchPattern:tE,parsePattern:rE,valueCallback:function(t){return parseInt(t,10)}}),era:xn({matchPatterns:nE,defaultMatchWidth:"wide",parsePatterns:aE,defaultParseWidth:"any"}),quarter:xn({matchPatterns:oE,defaultMatchWidth:"wide",parsePatterns:iE,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:xn({matchPatterns:sE,defaultMatchWidth:"wide",parsePatterns:uE,defaultParseWidth:"any"}),day:xn({matchPatterns:cE,defaultMatchWidth:"wide",parsePatterns:lE,defaultParseWidth:"any"}),dayPeriod:xn({matchPatterns:fE,defaultMatchWidth:"any",parsePatterns:dE,defaultParseWidth:"any"})};const mE=pE;var hE={code:"en-US",formatDistance:I_,formatLong:L_,formatRelative:V_,localize:X_,match:mE,options:{weekStartsOn:0,firstWeekContainsDate:1}};const fh=hE;var yE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gE=/^'([^]*?)'?$/,bE=/''/g,wE=/[a-zA-Z]/;function Qn(e,t,r){var n,a,o,s,u,c,l,h,g,N,O,w,_,C,v,S,A,R;Je(2,arguments);var $=String(t),I=yn(),V=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:I.locale)!==null&&n!==void 0?n:fh,L=St((o=(s=(u=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(l=r.locale)===null||l===void 0||(h=l.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&u!==void 0?u:I.firstWeekContainsDate)!==null&&s!==void 0?s:(g=I.locale)===null||g===void 0||(N=g.options)===null||N===void 0?void 0:N.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(L>=1&&L<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=St((O=(w=(_=(C=r==null?void 0:r.weekStartsOn)!==null&&C!==void 0?C:r==null||(v=r.locale)===null||v===void 0||(S=v.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&_!==void 0?_:I.weekStartsOn)!==null&&w!==void 0?w:(A=I.locale)===null||A===void 0||(R=A.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&O!==void 0?O:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!V.localize)throw new RangeError("locale must contain localize property");if(!V.formatLong)throw new RangeError("locale must contain formatLong property");var j=Ke(e);if(!_o(j))throw new RangeError("Invalid time value");var K=rh(j),ce=ah(j,K),ae={firstWeekContainsDate:L,weekStartsOn:P,locale:V,_originalDate:j},le=$.match(vE).map(function(ge){var xe=ge[0];if(xe==="p"||xe==="P"){var Ce=Qs[xe];return Ce(ge,V.formatLong)}return ge}).join("").match(yE).map(function(ge){if(ge==="''")return"'";var xe=ge[0];if(xe==="'")return xE(ge);var Ce=C_[xe];if(Ce)return!(r!=null&&r.useAdditionalWeekYearTokens)&&lh(ge)&&Eo(ge,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&ch(ge)&&Eo(ge,t,String(e)),Ce(ce,ge,V.localize,ae);if(xe.match(wE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+xe+"`");return ge}).join("");return le}function xE(e){var t=e.match(gE);return t?t[1].replace(bE,"'"):e}function _E(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function EE(e,t){var r,n;Je(1,arguments);var a=Ke(e);if(isNaN(a.getTime()))throw new RangeError("Invalid time value");var o=String((r=t==null?void 0:t.format)!==null&&r!==void 0?r:"extended"),s=String((n=t==null?void 0:t.representation)!==null&&n!==void 0?n:"complete");if(o!=="extended"&&o!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(s!=="date"&&s!=="time"&&s!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var u="",c="",l=o==="extended"?"-":"",h=o==="extended"?":":"";if(s!=="time"){var g=Me(a.getDate(),2),N=Me(a.getMonth()+1,2),O=Me(a.getFullYear(),4);u="".concat(O).concat(l).concat(N).concat(l).concat(g)}if(s!=="date"){var w=a.getTimezoneOffset();if(w!==0){var _=Math.abs(w),C=Me(Math.floor(_/60),2),v=Me(_%60,2),S=w<0?"+":"-";c="".concat(S).concat(C,":").concat(v)}else c="Z";var A=Me(a.getHours(),2),R=Me(a.getMinutes(),2),$=Me(a.getSeconds(),2),I=u===""?"":"T",V=[A,R,$].join(h);u="".concat(u).concat(I).concat(V).concat(c)}return u}function SE(e,t){Je(2,arguments);var r=Ke(e),n=Ke(t);return r.getTime()<n.getTime()}function TE(e,t){Je(2,arguments);var r=Ke(e),n=Ke(t);return r.getTime()===n.getTime()}function Sa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sa=function(r){return typeof r}:Sa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Sa(e)}function dh(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zs(e,t)}function Zs(e,t){return Zs=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Zs(e,t)}function ph(e){var t=CE();return function(){var n=So(e),a;if(t){var o=So(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return OE(this,a)}}function OE(e,t){return t&&(Sa(t)==="object"||typeof t=="function")?t:Xs(e)}function Xs(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function So(e){return So=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},So(e)}function Rl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Nl(e,t,r){return t&&Gf(e.prototype,t),r&&Gf(e,r),e}function Ks(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var RE=10,mh=function(){function e(){Rl(this,e),Ks(this,"subPriority",0)}return Nl(e,[{key:"validate",value:function(r,n){return!0}}]),e}(),NE=function(e){dh(r,e);var t=ph(r);function r(n,a,o,s,u){var c;return Rl(this,r),c=t.call(this),c.value=n,c.validateValue=a,c.setValue=o,c.priority=s,u&&(c.subPriority=u),c}return Nl(r,[{key:"validate",value:function(a,o){return this.validateValue(a,this.value,o)}},{key:"set",value:function(a,o,s){return this.setValue(a,o,this.value,s)}}]),r}(mh),AE=function(e){dh(r,e);var t=ph(r);function r(){var n;Rl(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Ks(Xs(n),"priority",RE),Ks(Xs(n),"subPriority",-1),n}return Nl(r,[{key:"set",value:function(a,o){if(o.timestampIsSet)return a;var s=new Date(0);return s.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),s.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),s}}]),r}(mh);function PE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DE(e,t,r){return t&&Qf(e.prototype,t),r&&Qf(e,r),e}var He=function(){function e(){PE(this,e)}return DE(e,[{key:"run",value:function(r,n,a,o){var s=this.parse(r,n,a,o);return s?{setter:new NE(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(r,n,a){return!0}}]),e}();function Ta(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ta=function(r){return typeof r}:Ta=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ta(e)}function $E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IE(e,t,r){return t&&Zf(e.prototype,t),r&&Zf(e,r),e}function ME(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Js(e,t)}function Js(e,t){return Js=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Js(e,t)}function FE(e){var t=BE();return function(){var n=To(e),a;if(t){var o=To(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return kE(this,a)}}function kE(e,t){return t&&(Ta(t)==="object"||typeof t=="function")?t:eu(e)}function eu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function To(e){return To=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},To(e)}function Xf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var LE=function(e){ME(r,e);var t=FE(r);function r(){var n;$E(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Xf(eu(n),"priority",140),Xf(eu(n),"incompatibleTokens",["R","u","t","T"]),n}return IE(r,[{key:"parse",value:function(a,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"})||s.era(a,{width:"narrow"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})||s.era(a,{width:"abbreviated"})||s.era(a,{width:"narrow"})}}},{key:"set",value:function(a,o,s){return o.era=s,a.setUTCFullYear(s,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(He),at={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Zt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ot(e,t){return e&&{value:t(e.value),rest:e.rest}}function rt(e,t){var r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Xt(e,t){var r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};var n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,s=r[5]?parseInt(r[5],10):0;return{value:n*(a*Ol+o*Tl+s*y_),rest:t.slice(r[0].length)}}function hh(e){return rt(at.anyDigitsSigned,e)}function nt(e,t){switch(e){case 1:return rt(at.singleDigit,t);case 2:return rt(at.twoDigits,t);case 3:return rt(at.threeDigits,t);case 4:return rt(at.fourDigits,t);default:return rt(new RegExp("^\\d{1,"+e+"}"),t)}}function Oo(e,t){switch(e){case 1:return rt(at.singleDigitSigned,t);case 2:return rt(at.twoDigitsSigned,t);case 3:return rt(at.threeDigitsSigned,t);case 4:return rt(at.fourDigitsSigned,t);default:return rt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Al(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function yh(e,t){var r=t>0,n=r?t:1-t,a;if(n<=50)a=e||100;else{var o=n+50,s=Math.floor(o/100)*100,u=e>=o%100;a=e+s-(u?100:0)}return r?a:1-a}function vh(e){return e%400===0||e%4===0&&e%100!==0}function Oa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Oa=function(r){return typeof r}:Oa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Oa(e)}function UE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qE(e,t,r){return t&&Kf(e.prototype,t),r&&Kf(e,r),e}function VE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tu(e,t)}function tu(e,t){return tu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},tu(e,t)}function jE(e){var t=zE();return function(){var n=Co(e),a;if(t){var o=Co(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return HE(this,a)}}function HE(e,t){return t&&(Oa(t)==="object"||typeof t=="function")?t:ru(e)}function ru(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Co(e){return Co=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Co(e)}function Jf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var WE=function(e){VE(r,e);var t=jE(r);function r(){var n;UE(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Jf(ru(n),"priority",130),Jf(ru(n),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),n}return qE(r,[{key:"parse",value:function(a,o,s){var u=function(l){return{year:l,isTwoDigitYear:o==="yy"}};switch(o){case"y":return ot(nt(4,a),u);case"yo":return ot(s.ordinalNumber(a,{unit:"year"}),u);default:return ot(nt(o.length,a),u)}}},{key:"validate",value:function(a,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(a,o,s){var u=a.getUTCFullYear();if(s.isTwoDigitYear){var c=yh(s.year,u);return a.setUTCFullYear(c,0,1),a.setUTCHours(0,0,0,0),a}var l=!("era"in o)||o.era===1?s.year:1-s.year;return a.setUTCFullYear(l,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(He);function Ca(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ca=function(r){return typeof r}:Ca=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ca(e)}function YE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ed(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GE(e,t,r){return t&&ed(e.prototype,t),r&&ed(e,r),e}function QE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nu(e,t)}function nu(e,t){return nu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},nu(e,t)}function ZE(e){var t=KE();return function(){var n=Ro(e),a;if(t){var o=Ro(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return XE(this,a)}}function XE(e,t){return t&&(Ca(t)==="object"||typeof t=="function")?t:au(e)}function au(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ro(e){return Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ro(e)}function td(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var JE=function(e){QE(r,e);var t=ZE(r);function r(){var n;YE(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),td(au(n),"priority",130),td(au(n),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),n}return GE(r,[{key:"parse",value:function(a,o,s){var u=function(l){return{year:l,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return ot(nt(4,a),u);case"Yo":return ot(s.ordinalNumber(a,{unit:"year"}),u);default:return ot(nt(o.length,a),u)}}},{key:"validate",value:function(a,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(a,o,s,u){var c=Cl(a,u);if(s.isTwoDigitYear){var l=yh(s.year,c);return a.setUTCFullYear(l,0,u.firstWeekContainsDate),a.setUTCHours(0,0,0,0),kr(a,u)}var h=!("era"in o)||o.era===1?s.year:1-s.year;return a.setUTCFullYear(h,0,u.firstWeekContainsDate),a.setUTCHours(0,0,0,0),kr(a,u)}}]),r}(He);function Ra(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ra=function(r){return typeof r}:Ra=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ra(e)}function eS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tS(e,t,r){return t&&rd(e.prototype,t),r&&rd(e,r),e}function rS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ou(e,t)}function ou(e,t){return ou=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},ou(e,t)}function nS(e){var t=oS();return function(){var n=No(e),a;if(t){var o=No(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return aS(this,a)}}function aS(e,t){return t&&(Ra(t)==="object"||typeof t=="function")?t:iu(e)}function iu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function No(e){return No=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},No(e)}function nd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var iS=function(e){rS(r,e);var t=nS(r);function r(){var n;eS(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),nd(iu(n),"priority",130),nd(iu(n),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),n}return tS(r,[{key:"parse",value:function(a,o){return Oo(o==="R"?4:o.length,a)}},{key:"set",value:function(a,o,s){var u=new Date(0);return u.setUTCFullYear(s,0,4),u.setUTCHours(0,0,0,0),an(u)}}]),r}(He);function Na(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Na=function(r){return typeof r}:Na=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Na(e)}function sS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ad(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uS(e,t,r){return t&&ad(e.prototype,t),r&&ad(e,r),e}function cS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&su(e,t)}function su(e,t){return su=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},su(e,t)}function lS(e){var t=dS();return function(){var n=Ao(e),a;if(t){var o=Ao(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return fS(this,a)}}function fS(e,t){return t&&(Na(t)==="object"||typeof t=="function")?t:uu(e)}function uu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ao(e){return Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ao(e)}function od(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pS=function(e){cS(r,e);var t=lS(r);function r(){var n;sS(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),od(uu(n),"priority",130),od(uu(n),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),n}return uS(r,[{key:"parse",value:function(a,o){return Oo(o==="u"?4:o.length,a)}},{key:"set",value:function(a,o,s){return a.setUTCFullYear(s,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(He);function Aa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Aa=function(r){return typeof r}:Aa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Aa(e)}function mS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function id(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hS(e,t,r){return t&&id(e.prototype,t),r&&id(e,r),e}function yS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cu(e,t)}function cu(e,t){return cu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},cu(e,t)}function vS(e){var t=bS();return function(){var n=Po(e),a;if(t){var o=Po(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return gS(this,a)}}function gS(e,t){return t&&(Aa(t)==="object"||typeof t=="function")?t:lu(e)}function lu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Po(e){return Po=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Po(e)}function sd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wS=function(e){yS(r,e);var t=vS(r);function r(){var n;mS(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),sd(lu(n),"priority",120),sd(lu(n),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),n}return hS(r,[{key:"parse",value:function(a,o,s){switch(o){case"Q":case"QQ":return nt(o.length,a);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"})||s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})||s.quarter(a,{width:"abbreviated",context:"formatting"})||s.quarter(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,o){return o>=1&&o<=4}},{key:"set",value:function(a,o,s){return a.setUTCMonth((s-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),r}(He);function Pa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pa=function(r){return typeof r}:Pa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pa(e)}function xS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ud(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _S(e,t,r){return t&&ud(e.prototype,t),r&&ud(e,r),e}function ES(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fu(e,t)}function fu(e,t){return fu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},fu(e,t)}function SS(e){var t=OS();return function(){var n=Do(e),a;if(t){var o=Do(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return TS(this,a)}}function TS(e,t){return t&&(Pa(t)==="object"||typeof t=="function")?t:du(e)}function du(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Do(e){return Do=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Do(e)}function cd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var CS=function(e){ES(r,e);var t=SS(r);function r(){var n;xS(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),cd(du(n),"priority",120),cd(du(n),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),n}return _S(r,[{key:"parse",value:function(a,o,s){switch(o){case"q":case"qq":return nt(o.length,a);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"})||s.quarter(a,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})||s.quarter(a,{width:"abbreviated",context:"standalone"})||s.quarter(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,o){return o>=1&&o<=4}},{key:"set",value:function(a,o,s){return a.setUTCMonth((s-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),r}(He);function Da(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Da=function(r){return typeof r}:Da=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Da(e)}function RS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ld(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function NS(e,t,r){return t&&ld(e.prototype,t),r&&ld(e,r),e}function AS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pu(e,t)}function pu(e,t){return pu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},pu(e,t)}function PS(e){var t=$S();return function(){var n=$o(e),a;if(t){var o=$o(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return DS(this,a)}}function DS(e,t){return t&&(Da(t)==="object"||typeof t=="function")?t:mu(e)}function mu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $o(e){return $o=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},$o(e)}function fd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var IS=function(e){AS(r,e);var t=PS(r);function r(){var n;RS(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),fd(mu(n),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),fd(mu(n),"priority",110),n}return NS(r,[{key:"parse",value:function(a,o,s){var u=function(l){return l-1};switch(o){case"M":return ot(rt(at.month,a),u);case"MM":return ot(nt(2,a),u);case"Mo":return ot(s.ordinalNumber(a,{unit:"month"}),u);case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"})||s.month(a,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})||s.month(a,{width:"abbreviated",context:"formatting"})||s.month(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,o){return o>=0&&o<=11}},{key:"set",value:function(a,o,s){return a.setUTCMonth(s,1),a.setUTCHours(0,0,0,0),a}}]),r}(He);function $a(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$a=function(r){return typeof r}:$a=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$a(e)}function MS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FS(e,t,r){return t&&dd(e.prototype,t),r&&dd(e,r),e}function kS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hu(e,t)}function hu(e,t){return hu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},hu(e,t)}function BS(e){var t=US();return function(){var n=Io(e),a;if(t){var o=Io(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return LS(this,a)}}function LS(e,t){return t&&($a(t)==="object"||typeof t=="function")?t:yu(e)}function yu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function US(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Io(e){return Io=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Io(e)}function pd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qS=function(e){kS(r,e);var t=BS(r);function r(){var n;MS(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),pd(yu(n),"priority",110),pd(yu(n),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),n}return FS(r,[{key:"parse",value:function(a,o,s){var u=function(l){return l-1};switch(o){case"L":return ot(rt(at.month,a),u);case"LL":return ot(nt(2,a),u);case"Lo":return ot(s.ordinalNumber(a,{unit:"month"}),u);case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"})||s.month(a,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})||s.month(a,{width:"abbreviated",context:"standalone"})||s.month(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,o){return o>=0&&o<=11}},{key:"set",value:function(a,o,s){return a.setUTCMonth(s,1),a.setUTCHours(0,0,0,0),a}}]),r}(He);function VS(e,t,r){Je(2,arguments);var n=Ke(e),a=St(t),o=sh(n,r)-a;return n.setUTCDate(n.getUTCDate()-o*7),n}function Ia(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ia=function(r){return typeof r}:Ia=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ia(e)}function jS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function md(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HS(e,t,r){return t&&md(e.prototype,t),r&&md(e,r),e}function zS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vu(e,t)}function vu(e,t){return vu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},vu(e,t)}function WS(e){var t=GS();return function(){var n=Mo(e),a;if(t){var o=Mo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return YS(this,a)}}function YS(e,t){return t&&(Ia(t)==="object"||typeof t=="function")?t:gu(e)}function gu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mo(e){return Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Mo(e)}function hd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var QS=function(e){zS(r,e);var t=WS(r);function r(){var n;jS(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),hd(gu(n),"priority",100),hd(gu(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),n}return HS(r,[{key:"parse",value:function(a,o,s){switch(o){case"w":return rt(at.week,a);case"wo":return s.ordinalNumber(a,{unit:"week"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){return o>=1&&o<=53}},{key:"set",value:function(a,o,s,u){return kr(VS(a,s,u),u)}}]),r}(He);function ZS(e,t){Je(2,arguments);var r=Ke(e),n=St(t),a=ih(r)-n;return r.setUTCDate(r.getUTCDate()-a*7),r}function Ma(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ma=function(r){return typeof r}:Ma=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ma(e)}function XS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function KS(e,t,r){return t&&yd(e.prototype,t),r&&yd(e,r),e}function JS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bu(e,t)}function bu(e,t){return bu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},bu(e,t)}function e1(e){var t=r1();return function(){var n=Fo(e),a;if(t){var o=Fo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return t1(this,a)}}function t1(e,t){return t&&(Ma(t)==="object"||typeof t=="function")?t:wu(e)}function wu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Fo(e)}function vd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n1=function(e){JS(r,e);var t=e1(r);function r(){var n;XS(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),vd(wu(n),"priority",100),vd(wu(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),n}return KS(r,[{key:"parse",value:function(a,o,s){switch(o){case"I":return rt(at.week,a);case"Io":return s.ordinalNumber(a,{unit:"week"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){return o>=1&&o<=53}},{key:"set",value:function(a,o,s){return an(ZS(a,s))}}]),r}(He);function Fa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fa=function(r){return typeof r}:Fa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fa(e)}function a1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o1(e,t,r){return t&&gd(e.prototype,t),r&&gd(e,r),e}function i1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xu(e,t)}function xu(e,t){return xu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},xu(e,t)}function s1(e){var t=c1();return function(){var n=ko(e),a;if(t){var o=ko(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return u1(this,a)}}function u1(e,t){return t&&(Fa(t)==="object"||typeof t=="function")?t:ka(e)}function ka(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ko(e){return ko=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ko(e)}function ms(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l1=[31,28,31,30,31,30,31,31,30,31,30,31],f1=[31,29,31,30,31,30,31,31,30,31,30,31],d1=function(e){i1(r,e);var t=s1(r);function r(){var n;a1(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),ms(ka(n),"priority",90),ms(ka(n),"subPriority",1),ms(ka(n),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),n}return o1(r,[{key:"parse",value:function(a,o,s){switch(o){case"d":return rt(at.date,a);case"do":return s.ordinalNumber(a,{unit:"date"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){var s=a.getUTCFullYear(),u=vh(s),c=a.getUTCMonth();return u?o>=1&&o<=f1[c]:o>=1&&o<=l1[c]}},{key:"set",value:function(a,o,s){return a.setUTCDate(s),a.setUTCHours(0,0,0,0),a}}]),r}(He);function Ba(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ba=function(r){return typeof r}:Ba=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ba(e)}function p1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m1(e,t,r){return t&&bd(e.prototype,t),r&&bd(e,r),e}function h1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_u(e,t)}function _u(e,t){return _u=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},_u(e,t)}function y1(e){var t=g1();return function(){var n=Bo(e),a;if(t){var o=Bo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return v1(this,a)}}function v1(e,t){return t&&(Ba(t)==="object"||typeof t=="function")?t:La(e)}function La(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bo(e){return Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Bo(e)}function hs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b1=function(e){h1(r,e);var t=y1(r);function r(){var n;p1(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),hs(La(n),"priority",90),hs(La(n),"subpriority",1),hs(La(n),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),n}return m1(r,[{key:"parse",value:function(a,o,s){switch(o){case"D":case"DD":return rt(at.dayOfYear,a);case"Do":return s.ordinalNumber(a,{unit:"date"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){var s=a.getUTCFullYear(),u=vh(s);return u?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(a,o,s){return a.setUTCMonth(0,s),a.setUTCHours(0,0,0,0),a}}]),r}(He);function Pl(e,t,r){var n,a,o,s,u,c,l,h;Je(2,arguments);var g=yn(),N=St((n=(a=(o=(s=r==null?void 0:r.weekStartsOn)!==null&&s!==void 0?s:r==null||(u=r.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&o!==void 0?o:g.weekStartsOn)!==null&&a!==void 0?a:(l=g.locale)===null||l===void 0||(h=l.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&n!==void 0?n:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var O=Ke(e),w=St(t),_=O.getUTCDay(),C=w%7,v=(C+7)%7,S=(v<N?7:0)+w-_;return O.setUTCDate(O.getUTCDate()+S),O}function Ua(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ua=function(r){return typeof r}:Ua=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ua(e)}function w1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x1(e,t,r){return t&&wd(e.prototype,t),r&&wd(e,r),e}function _1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eu(e,t)}function Eu(e,t){return Eu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Eu(e,t)}function E1(e){var t=T1();return function(){var n=Lo(e),a;if(t){var o=Lo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return S1(this,a)}}function S1(e,t){return t&&(Ua(t)==="object"||typeof t=="function")?t:Su(e)}function Su(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lo(e){return Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Lo(e)}function xd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O1=function(e){_1(r,e);var t=E1(r);function r(){var n;w1(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),xd(Su(n),"priority",90),xd(Su(n),"incompatibleTokens",["D","i","e","c","t","T"]),n}return x1(r,[{key:"parse",value:function(a,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"})||s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})||s.day(a,{width:"abbreviated",context:"formatting"})||s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,o){return o>=0&&o<=6}},{key:"set",value:function(a,o,s,u){return a=Pl(a,s,u),a.setUTCHours(0,0,0,0),a}}]),r}(He);function qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qa=function(r){return typeof r}:qa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qa(e)}function C1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R1(e,t,r){return t&&_d(e.prototype,t),r&&_d(e,r),e}function N1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tu(e,t)}function Tu(e,t){return Tu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Tu(e,t)}function A1(e){var t=D1();return function(){var n=Uo(e),a;if(t){var o=Uo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return P1(this,a)}}function P1(e,t){return t&&(qa(t)==="object"||typeof t=="function")?t:Ou(e)}function Ou(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uo(e){return Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Uo(e)}function Ed(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $1=function(e){N1(r,e);var t=A1(r);function r(){var n;C1(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Ed(Ou(n),"priority",90),Ed(Ou(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),n}return R1(r,[{key:"parse",value:function(a,o,s,u){var c=function(h){var g=Math.floor((h-1)/7)*7;return(h+u.weekStartsOn+6)%7+g};switch(o){case"e":case"ee":return ot(nt(o.length,a),c);case"eo":return ot(s.ordinalNumber(a,{unit:"day"}),c);case"eee":return s.day(a,{width:"abbreviated",context:"formatting"})||s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(a,{width:"wide",context:"formatting"})||s.day(a,{width:"abbreviated",context:"formatting"})||s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,o){return o>=0&&o<=6}},{key:"set",value:function(a,o,s,u){return a=Pl(a,s,u),a.setUTCHours(0,0,0,0),a}}]),r}(He);function Va(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Va=function(r){return typeof r}:Va=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Va(e)}function I1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M1(e,t,r){return t&&Sd(e.prototype,t),r&&Sd(e,r),e}function F1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cu(e,t)}function Cu(e,t){return Cu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Cu(e,t)}function k1(e){var t=L1();return function(){var n=qo(e),a;if(t){var o=qo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return B1(this,a)}}function B1(e,t){return t&&(Va(t)==="object"||typeof t=="function")?t:Ru(e)}function Ru(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qo(e){return qo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},qo(e)}function Td(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var U1=function(e){F1(r,e);var t=k1(r);function r(){var n;I1(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Td(Ru(n),"priority",90),Td(Ru(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),n}return M1(r,[{key:"parse",value:function(a,o,s,u){var c=function(h){var g=Math.floor((h-1)/7)*7;return(h+u.weekStartsOn+6)%7+g};switch(o){case"c":case"cc":return ot(nt(o.length,a),c);case"co":return ot(s.ordinalNumber(a,{unit:"day"}),c);case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"})||s.day(a,{width:"short",context:"standalone"})||s.day(a,{width:"narrow",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"})||s.day(a,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(a,{width:"wide",context:"standalone"})||s.day(a,{width:"abbreviated",context:"standalone"})||s.day(a,{width:"short",context:"standalone"})||s.day(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,o){return o>=0&&o<=6}},{key:"set",value:function(a,o,s,u){return a=Pl(a,s,u),a.setUTCHours(0,0,0,0),a}}]),r}(He);function q1(e,t){Je(2,arguments);var r=St(t);r%7===0&&(r=r-7);var n=1,a=Ke(e),o=a.getUTCDay(),s=r%7,u=(s+7)%7,c=(u<n?7:0)+r-o;return a.setUTCDate(a.getUTCDate()+c),a}function ja(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ja=function(r){return typeof r}:ja=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ja(e)}function V1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Od(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j1(e,t,r){return t&&Od(e.prototype,t),r&&Od(e,r),e}function H1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nu(e,t)}function Nu(e,t){return Nu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Nu(e,t)}function z1(e){var t=Y1();return function(){var n=Vo(e),a;if(t){var o=Vo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return W1(this,a)}}function W1(e,t){return t&&(ja(t)==="object"||typeof t=="function")?t:Au(e)}function Au(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vo(e){return Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Vo(e)}function Cd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var G1=function(e){H1(r,e);var t=z1(r);function r(){var n;V1(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Cd(Au(n),"priority",90),Cd(Au(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),n}return j1(r,[{key:"parse",value:function(a,o,s){var u=function(l){return l===0?7:l};switch(o){case"i":case"ii":return nt(o.length,a);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return ot(s.day(a,{width:"abbreviated",context:"formatting"})||s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"}),u);case"iiiii":return ot(s.day(a,{width:"narrow",context:"formatting"}),u);case"iiiiii":return ot(s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"}),u);case"iiii":default:return ot(s.day(a,{width:"wide",context:"formatting"})||s.day(a,{width:"abbreviated",context:"formatting"})||s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"}),u)}}},{key:"validate",value:function(a,o){return o>=1&&o<=7}},{key:"set",value:function(a,o,s){return a=q1(a,s),a.setUTCHours(0,0,0,0),a}}]),r}(He);function Ha(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ha=function(r){return typeof r}:Ha=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ha(e)}function Q1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Z1(e,t,r){return t&&Rd(e.prototype,t),r&&Rd(e,r),e}function X1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pu(e,t)}function Pu(e,t){return Pu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Pu(e,t)}function K1(e){var t=eT();return function(){var n=jo(e),a;if(t){var o=jo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return J1(this,a)}}function J1(e,t){return t&&(Ha(t)==="object"||typeof t=="function")?t:Du(e)}function Du(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jo(e){return jo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},jo(e)}function Nd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tT=function(e){X1(r,e);var t=K1(r);function r(){var n;Q1(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Nd(Du(n),"priority",80),Nd(Du(n),"incompatibleTokens",["b","B","H","k","t","T"]),n}return Z1(r,[{key:"parse",value:function(a,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"})||s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})||s.dayPeriod(a,{width:"abbreviated",context:"formatting"})||s.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,o,s){return a.setUTCHours(Al(s),0,0,0),a}}]),r}(He);function za(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?za=function(r){return typeof r}:za=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},za(e)}function rT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ad(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nT(e,t,r){return t&&Ad(e.prototype,t),r&&Ad(e,r),e}function aT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$u(e,t)}function $u(e,t){return $u=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},$u(e,t)}function oT(e){var t=sT();return function(){var n=Ho(e),a;if(t){var o=Ho(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return iT(this,a)}}function iT(e,t){return t&&(za(t)==="object"||typeof t=="function")?t:Iu(e)}function Iu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ho(e){return Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ho(e)}function Pd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var uT=function(e){aT(r,e);var t=oT(r);function r(){var n;rT(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Pd(Iu(n),"priority",80),Pd(Iu(n),"incompatibleTokens",["a","B","H","k","t","T"]),n}return nT(r,[{key:"parse",value:function(a,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"})||s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})||s.dayPeriod(a,{width:"abbreviated",context:"formatting"})||s.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,o,s){return a.setUTCHours(Al(s),0,0,0),a}}]),r}(He);function Wa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wa=function(r){return typeof r}:Wa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wa(e)}function cT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lT(e,t,r){return t&&Dd(e.prototype,t),r&&Dd(e,r),e}function fT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mu(e,t)}function Mu(e,t){return Mu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Mu(e,t)}function dT(e){var t=mT();return function(){var n=zo(e),a;if(t){var o=zo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return pT(this,a)}}function pT(e,t){return t&&(Wa(t)==="object"||typeof t=="function")?t:Fu(e)}function Fu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zo(e){return zo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},zo(e)}function $d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hT=function(e){fT(r,e);var t=dT(r);function r(){var n;cT(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),$d(Fu(n),"priority",80),$d(Fu(n),"incompatibleTokens",["a","b","t","T"]),n}return lT(r,[{key:"parse",value:function(a,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"})||s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})||s.dayPeriod(a,{width:"abbreviated",context:"formatting"})||s.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,o,s){return a.setUTCHours(Al(s),0,0,0),a}}]),r}(He);function Ya(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ya=function(r){return typeof r}:Ya=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ya(e)}function yT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Id(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vT(e,t,r){return t&&Id(e.prototype,t),r&&Id(e,r),e}function gT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ku(e,t)}function ku(e,t){return ku=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},ku(e,t)}function bT(e){var t=xT();return function(){var n=Wo(e),a;if(t){var o=Wo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return wT(this,a)}}function wT(e,t){return t&&(Ya(t)==="object"||typeof t=="function")?t:Bu(e)}function Bu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wo(e){return Wo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Wo(e)}function Md(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _T=function(e){gT(r,e);var t=bT(r);function r(){var n;yT(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Md(Bu(n),"priority",70),Md(Bu(n),"incompatibleTokens",["H","K","k","t","T"]),n}return vT(r,[{key:"parse",value:function(a,o,s){switch(o){case"h":return rt(at.hour12h,a);case"ho":return s.ordinalNumber(a,{unit:"hour"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){return o>=1&&o<=12}},{key:"set",value:function(a,o,s){var u=a.getUTCHours()>=12;return u&&s<12?a.setUTCHours(s+12,0,0,0):!u&&s===12?a.setUTCHours(0,0,0,0):a.setUTCHours(s,0,0,0),a}}]),r}(He);function Ga(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ga=function(r){return typeof r}:Ga=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ga(e)}function ET(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ST(e,t,r){return t&&Fd(e.prototype,t),r&&Fd(e,r),e}function TT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lu(e,t)}function Lu(e,t){return Lu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Lu(e,t)}function OT(e){var t=RT();return function(){var n=Yo(e),a;if(t){var o=Yo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return CT(this,a)}}function CT(e,t){return t&&(Ga(t)==="object"||typeof t=="function")?t:Uu(e)}function Uu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yo(e){return Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Yo(e)}function kd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var NT=function(e){TT(r,e);var t=OT(r);function r(){var n;ET(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),kd(Uu(n),"priority",70),kd(Uu(n),"incompatibleTokens",["a","b","h","K","k","t","T"]),n}return ST(r,[{key:"parse",value:function(a,o,s){switch(o){case"H":return rt(at.hour23h,a);case"Ho":return s.ordinalNumber(a,{unit:"hour"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){return o>=0&&o<=23}},{key:"set",value:function(a,o,s){return a.setUTCHours(s,0,0,0),a}}]),r}(He);function Qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qa=function(r){return typeof r}:Qa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qa(e)}function AT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PT(e,t,r){return t&&Bd(e.prototype,t),r&&Bd(e,r),e}function DT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qu(e,t)}function qu(e,t){return qu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},qu(e,t)}function $T(e){var t=MT();return function(){var n=Go(e),a;if(t){var o=Go(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return IT(this,a)}}function IT(e,t){return t&&(Qa(t)==="object"||typeof t=="function")?t:Vu(e)}function Vu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Go(e){return Go=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Go(e)}function Ld(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var FT=function(e){DT(r,e);var t=$T(r);function r(){var n;AT(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Ld(Vu(n),"priority",70),Ld(Vu(n),"incompatibleTokens",["h","H","k","t","T"]),n}return PT(r,[{key:"parse",value:function(a,o,s){switch(o){case"K":return rt(at.hour11h,a);case"Ko":return s.ordinalNumber(a,{unit:"hour"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){return o>=0&&o<=11}},{key:"set",value:function(a,o,s){var u=a.getUTCHours()>=12;return u&&s<12?a.setUTCHours(s+12,0,0,0):a.setUTCHours(s,0,0,0),a}}]),r}(He);function Za(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Za=function(r){return typeof r}:Za=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Za(e)}function kT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ud(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BT(e,t,r){return t&&Ud(e.prototype,t),r&&Ud(e,r),e}function LT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ju(e,t)}function ju(e,t){return ju=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},ju(e,t)}function UT(e){var t=VT();return function(){var n=Qo(e),a;if(t){var o=Qo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return qT(this,a)}}function qT(e,t){return t&&(Za(t)==="object"||typeof t=="function")?t:Hu(e)}function Hu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qo(e){return Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Qo(e)}function qd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jT=function(e){LT(r,e);var t=UT(r);function r(){var n;kT(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),qd(Hu(n),"priority",70),qd(Hu(n),"incompatibleTokens",["a","b","h","H","K","t","T"]),n}return BT(r,[{key:"parse",value:function(a,o,s){switch(o){case"k":return rt(at.hour24h,a);case"ko":return s.ordinalNumber(a,{unit:"hour"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){return o>=1&&o<=24}},{key:"set",value:function(a,o,s){var u=s<=24?s%24:s;return a.setUTCHours(u,0,0,0),a}}]),r}(He);function Xa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xa=function(r){return typeof r}:Xa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xa(e)}function HT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zT(e,t,r){return t&&Vd(e.prototype,t),r&&Vd(e,r),e}function WT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zu(e,t)}function zu(e,t){return zu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},zu(e,t)}function YT(e){var t=QT();return function(){var n=Zo(e),a;if(t){var o=Zo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return GT(this,a)}}function GT(e,t){return t&&(Xa(t)==="object"||typeof t=="function")?t:Wu(e)}function Wu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zo(e){return Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Zo(e)}function jd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ZT=function(e){WT(r,e);var t=YT(r);function r(){var n;HT(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),jd(Wu(n),"priority",60),jd(Wu(n),"incompatibleTokens",["t","T"]),n}return zT(r,[{key:"parse",value:function(a,o,s){switch(o){case"m":return rt(at.minute,a);case"mo":return s.ordinalNumber(a,{unit:"minute"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){return o>=0&&o<=59}},{key:"set",value:function(a,o,s){return a.setUTCMinutes(s,0,0),a}}]),r}(He);function Ka(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ka=function(r){return typeof r}:Ka=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ka(e)}function XT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function KT(e,t,r){return t&&Hd(e.prototype,t),r&&Hd(e,r),e}function JT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yu(e,t)}function Yu(e,t){return Yu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Yu(e,t)}function eO(e){var t=rO();return function(){var n=Xo(e),a;if(t){var o=Xo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return tO(this,a)}}function tO(e,t){return t&&(Ka(t)==="object"||typeof t=="function")?t:Gu(e)}function Gu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xo(e){return Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Xo(e)}function zd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nO=function(e){JT(r,e);var t=eO(r);function r(){var n;XT(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),zd(Gu(n),"priority",50),zd(Gu(n),"incompatibleTokens",["t","T"]),n}return KT(r,[{key:"parse",value:function(a,o,s){switch(o){case"s":return rt(at.second,a);case"so":return s.ordinalNumber(a,{unit:"second"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){return o>=0&&o<=59}},{key:"set",value:function(a,o,s){return a.setUTCSeconds(s,0),a}}]),r}(He);function Ja(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ja=function(r){return typeof r}:Ja=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ja(e)}function aO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oO(e,t,r){return t&&Wd(e.prototype,t),r&&Wd(e,r),e}function iO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qu(e,t)}function Qu(e,t){return Qu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Qu(e,t)}function sO(e){var t=cO();return function(){var n=Ko(e),a;if(t){var o=Ko(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return uO(this,a)}}function uO(e,t){return t&&(Ja(t)==="object"||typeof t=="function")?t:Zu(e)}function Zu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ko(e){return Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ko(e)}function Yd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lO=function(e){iO(r,e);var t=sO(r);function r(){var n;aO(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Yd(Zu(n),"priority",30),Yd(Zu(n),"incompatibleTokens",["t","T"]),n}return oO(r,[{key:"parse",value:function(a,o){var s=function(c){return Math.floor(c*Math.pow(10,-o.length+3))};return ot(nt(o.length,a),s)}},{key:"set",value:function(a,o,s){return a.setUTCMilliseconds(s),a}}]),r}(He);function eo(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eo=function(r){return typeof r}:eo=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},eo(e)}function fO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dO(e,t,r){return t&&Gd(e.prototype,t),r&&Gd(e,r),e}function pO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xu(e,t)}function Xu(e,t){return Xu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Xu(e,t)}function mO(e){var t=yO();return function(){var n=Jo(e),a;if(t){var o=Jo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return hO(this,a)}}function hO(e,t){return t&&(eo(t)==="object"||typeof t=="function")?t:Ku(e)}function Ku(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jo(e){return Jo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Jo(e)}function Qd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vO=function(e){pO(r,e);var t=mO(r);function r(){var n;fO(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Qd(Ku(n),"priority",10),Qd(Ku(n),"incompatibleTokens",["t","T","x"]),n}return dO(r,[{key:"parse",value:function(a,o){switch(o){case"X":return Xt(Zt.basicOptionalMinutes,a);case"XX":return Xt(Zt.basic,a);case"XXXX":return Xt(Zt.basicOptionalSeconds,a);case"XXXXX":return Xt(Zt.extendedOptionalSeconds,a);case"XXX":default:return Xt(Zt.extended,a)}}},{key:"set",value:function(a,o,s){return o.timestampIsSet?a:new Date(a.getTime()-s)}}]),r}(He);function to(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?to=function(r){return typeof r}:to=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},to(e)}function gO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bO(e,t,r){return t&&Zd(e.prototype,t),r&&Zd(e,r),e}function wO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ju(e,t)}function Ju(e,t){return Ju=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Ju(e,t)}function xO(e){var t=EO();return function(){var n=ei(e),a;if(t){var o=ei(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return _O(this,a)}}function _O(e,t){return t&&(to(t)==="object"||typeof t=="function")?t:ec(e)}function ec(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ei(e){return ei=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ei(e)}function Xd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var SO=function(e){wO(r,e);var t=xO(r);function r(){var n;gO(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Xd(ec(n),"priority",10),Xd(ec(n),"incompatibleTokens",["t","T","X"]),n}return bO(r,[{key:"parse",value:function(a,o){switch(o){case"x":return Xt(Zt.basicOptionalMinutes,a);case"xx":return Xt(Zt.basic,a);case"xxxx":return Xt(Zt.basicOptionalSeconds,a);case"xxxxx":return Xt(Zt.extendedOptionalSeconds,a);case"xxx":default:return Xt(Zt.extended,a)}}},{key:"set",value:function(a,o,s){return o.timestampIsSet?a:new Date(a.getTime()-s)}}]),r}(He);function ro(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ro=function(r){return typeof r}:ro=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ro(e)}function TO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OO(e,t,r){return t&&Kd(e.prototype,t),r&&Kd(e,r),e}function CO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tc(e,t)}function tc(e,t){return tc=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},tc(e,t)}function RO(e){var t=AO();return function(){var n=ti(e),a;if(t){var o=ti(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return NO(this,a)}}function NO(e,t){return t&&(ro(t)==="object"||typeof t=="function")?t:rc(e)}function rc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ti(e){return ti=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ti(e)}function Jd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var PO=function(e){CO(r,e);var t=RO(r);function r(){var n;TO(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Jd(rc(n),"priority",40),Jd(rc(n),"incompatibleTokens","*"),n}return OO(r,[{key:"parse",value:function(a){return hh(a)}},{key:"set",value:function(a,o,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),r}(He);function no(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?no=function(r){return typeof r}:no=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},no(e)}function DO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ep(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $O(e,t,r){return t&&ep(e.prototype,t),r&&ep(e,r),e}function IO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nc(e,t)}function nc(e,t){return nc=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},nc(e,t)}function MO(e){var t=kO();return function(){var n=ri(e),a;if(t){var o=ri(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return FO(this,a)}}function FO(e,t){return t&&(no(t)==="object"||typeof t=="function")?t:ac(e)}function ac(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ri(e){return ri=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ri(e)}function tp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var BO=function(e){IO(r,e);var t=MO(r);function r(){var n;DO(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),tp(ac(n),"priority",20),tp(ac(n),"incompatibleTokens","*"),n}return $O(r,[{key:"parse",value:function(a){return hh(a)}},{key:"set",value:function(a,o,s){return[new Date(s),{timestampIsSet:!0}]}}]),r}(He),LO={G:new LE,y:new WE,Y:new JE,R:new iS,u:new pS,Q:new wS,q:new CS,M:new IS,L:new qS,w:new QS,I:new n1,d:new d1,D:new b1,E:new O1,e:new $1,c:new U1,i:new G1,a:new tT,b:new uT,B:new hT,h:new _T,H:new NT,K:new FT,k:new jT,m:new ZT,s:new nO,S:new lO,X:new vO,x:new SO,t:new PO,T:new BO};function ao(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ao=function(r){return typeof r}:ao=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ao(e)}function rp(e,t){var r;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(r=UO(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,u;return{s:function(){r=e[Symbol.iterator]()},n:function(){var l=r.next();return o=l.done,l},e:function(l){s=!0,u=l},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw u}}}}function UO(e,t){if(!!e){if(typeof e=="string")return np(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return np(e,t)}}function np(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,VO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jO=/^'([^]*?)'?$/,HO=/''/g,zO=/\S/,WO=/[a-zA-Z]/;function YO(e,t,r,n){var a,o,s,u,c,l,h,g,N,O,w,_,C,v,S,A,R,$;Je(3,arguments);var I=String(e),V=String(t),L=yn(),P=(a=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:L.locale)!==null&&a!==void 0?a:fh;if(!P.match)throw new RangeError("locale must contain match property");var j=St((s=(u=(c=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(h=n.locale)===null||h===void 0||(g=h.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&c!==void 0?c:L.firstWeekContainsDate)!==null&&u!==void 0?u:(N=L.locale)===null||N===void 0||(O=N.options)===null||O===void 0?void 0:O.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var K=St((w=(_=(C=(v=n==null?void 0:n.weekStartsOn)!==null&&v!==void 0?v:n==null||(S=n.locale)===null||S===void 0||(A=S.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&C!==void 0?C:L.weekStartsOn)!==null&&_!==void 0?_:(R=L.locale)===null||R===void 0||($=R.options)===null||$===void 0?void 0:$.weekStartsOn)!==null&&w!==void 0?w:0);if(!(K>=0&&K<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(V==="")return I===""?Ke(r):new Date(NaN);var ce={firstWeekContainsDate:j,weekStartsOn:K,locale:P},ae=[new AE],le=V.match(VO).map(function(Y){var re=Y[0];if(re in Qs){var Ae=Qs[re];return Ae(Y,P.formatLong)}return Y}).join("").match(qO),ge=[],xe=rp(le),Ce;try{var ye=function(){var re=Ce.value;!(n!=null&&n.useAdditionalWeekYearTokens)&&lh(re)&&Eo(re,V,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&ch(re)&&Eo(re,V,e);var Ae=re[0],Te=LO[Ae];if(Te){var ne=Te.incompatibleTokens;if(Array.isArray(ne)){var ee=ge.find(function(Nt){return ne.includes(Nt.token)||Nt.token===Ae});if(ee)throw new RangeError("The format string mustn't contain `".concat(ee.fullToken,"` and `").concat(re,"` at the same time"))}else if(Te.incompatibleTokens==="*"&&ge.length>0)throw new RangeError("The format string mustn't contain `".concat(re,"` and any other token at the same time"));ge.push({token:Ae,fullToken:re});var ft=Te.run(I,re,P.match,ce);if(!ft)return{v:new Date(NaN)};ae.push(ft.setter),I=ft.rest}else{if(Ae.match(WO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ae+"`");if(re==="''"?re="'":Ae==="'"&&(re=GO(re)),I.indexOf(re)===0)I=I.slice(re.length);else return{v:new Date(NaN)}}};for(xe.s();!(Ce=xe.n()).done;){var Re=ye();if(ao(Re)==="object")return Re.v}}catch(Y){xe.e(Y)}finally{xe.f()}if(I.length>0&&zO.test(I))return new Date(NaN);var pe=ae.map(function(Y){return Y.priority}).sort(function(Y,re){return re-Y}).filter(function(Y,re,Ae){return Ae.indexOf(Y)===re}).map(function(Y){return ae.filter(function(re){return re.priority===Y}).sort(function(re,Ae){return Ae.subPriority-re.subPriority})}).map(function(Y){return Y[0]}),oe=Ke(r);if(isNaN(oe.getTime()))return new Date(NaN);var X=ah(oe,rh(oe)),Ze={},$e=rp(pe),ze;try{for($e.s();!(ze=$e.n()).done;){var me=ze.value;if(!me.validate(X,ce))return new Date(NaN);var Q=me.set(X,Ze,ce);Array.isArray(Q)?(X=Q[0],_E(Ze,Q[1])):X=Q}}catch(Y){$e.e(Y)}finally{$e.f()}return X}function GO(e){return e.match(jO)[1].replace(HO,"'")}function Dl(e,t){var r;Je(1,arguments);var n=St((r=t==null?void 0:t.additionalDigits)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=KO(e),o;if(a.date){var s=JO(a.date,n);o=eC(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var u=o.getTime(),c=0,l;if(a.time&&(c=tC(a.time),isNaN(c)))return new Date(NaN);if(a.timezone){if(l=rC(a.timezone),isNaN(l))return new Date(NaN)}else{var h=new Date(u+c),g=new Date(0);return g.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),g.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),g}return new Date(u+c+l)}var ca={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},QO=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ZO=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,XO=/^([+-])(\d{2})(?::?(\d{2}))?$/;function KO(e){var t={},r=e.split(ca.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],ca.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ca.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=ca.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function JO(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?a:o*100,restDateString:e.slice((n[1]||n[2]).length)}}function eC(e,t){if(t===null)return new Date(NaN);var r=e.match(QO);if(!r)return new Date(NaN);var n=!!r[4],a=_n(r[1]),o=_n(r[2])-1,s=_n(r[3]),u=_n(r[4]),c=_n(r[5])-1;if(n)return sC(t,u,c)?nC(t,u,c):new Date(NaN);var l=new Date(0);return!oC(t,o,s)||!iC(t,a)?new Date(NaN):(l.setUTCFullYear(t,o,Math.max(a,s)),l)}function _n(e){return e?parseInt(e):1}function tC(e){var t=e.match(ZO);if(!t)return NaN;var r=ys(t[1]),n=ys(t[2]),a=ys(t[3]);return uC(r,n,a)?r*Ol+n*Tl+a*1e3:NaN}function ys(e){return e&&parseFloat(e.replace(",","."))||0}function rC(e){if(e==="Z")return 0;var t=e.match(XO);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return cC(n,a)?r*(n*Ol+a*Tl):NaN}function nC(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,o=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+o),n}var aC=[31,null,31,30,31,30,31,31,30,31,30,31];function gh(e){return e%400===0||e%4===0&&e%100!==0}function oC(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(aC[t]||(gh(e)?29:28))}function iC(e,t){return t>=1&&t<=(gh(e)?366:365)}function sC(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function uC(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function cC(e,t){return t>=0&&t<=59}function gt(e){if(!e)return;const t=Dl(e);return Qn(t,"P")}const lC=e=>{const t=["P","yyyyMMddHHmm"];for(let r=0;r<t.length;r+=1){const n=YO(e,t[r],new Date);if(_o(n))return n}return e};function fC(e){if(!e)return;const t=lC(e);return t instanceof Date?EE(t,{representation:"date"}):t}function dC(e){if(!e)return;const t=e.substring(4,6),r=e.substring(6,8),n=e.substring(0,4);return`${t}/${r}/${n}`}function Dr(e){if(e)return e.toISOString().split("T")[0]}function pC(e){if(!e)return;const r=e.replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return r?`${r[1]}-${r[2]}-${r[3]}`:e}function mt(e){if(!!e)return Dl(`${e.substring(0,8)} ${e.substring(8)}`)}function _t(e){if(!e)return"";try{return Qn(new Date(e),"MMMM dd, yyyy HH:mm:ss").replace("00:00:00","")}catch{return""}}const mC=e=>{const t=Ee.get("resource.medicationCodeableConcept.coding.0",e);return t?`${t.system}_${t.code}`:""},hC=e=>{var r;const t=new Date((r=e.dateLocal)!=null?r:0);return Dr(t)},yC=e=>{var r;const t=new Date((r=e.date)!=null?r:0);return e.resourceType==="MedicationRequest"?t.getTime()-1:t.getTime()},vC=e=>{if(e.length===0)return e;const t=(a,o)=>[a,a.resourceType,o],r=Ee.pipe(Ee.groupBy(hC),Ee.mapValues(a=>Ee.orderBy(yC,"asc",a)),Ee.mapValues(a=>a.map(t)),Ee.mapValues(gC))(e);return Ee.orderBy(a=>new Date(a).getTime(),"desc",Ee.keys(r)).map(a=>r[a]).reduce(Ee.concat)};function gC(e=[]){const t=new Map,r=e.map(([n,a,o])=>{const s=mC(n);if(a==="MedicationDispense")t.set(s,o);else if(t.has(s)&&a==="MedicationRequest"){const u=t.get(s);return{model:n,type:a,sortOrder:u-.1}}return{model:n,type:a,sortOrder:o}});return Ee.orderBy(Ee.get("sortOrder"),"desc",r).map(Ee.get("model"))}const ni=({data:e,hideEmpty:t=!0,onEdit:r,documentButton:n})=>p.createElement("div",{className:"ctw-rounded-lg ctw-bg-bg-lighter"},p.createElement("dl",{className:"ctw-space-y-2 ctw-p-4"},p.createElement("div",{className:"ctw-flex ctw-justify-between ctw-space-x-2 ctw-text-sm ctw-uppercase ctw-text-content-light"},p.createElement("div",{className:"ctw-title-container"},"Details"),p.createElement("div",{className:"ctw-flex"},n,r&&p.createElement("button",{type:"button",className:"ctw-btn-default ctw-flex ctw-space-x-2 ctw-align-middle",onClick:r},p.createElement(q0,{className:"ctw-h-4 ctw-w-4"}),p.createElement("span",null,"Update")))),e.filter(a=>!t||a.value||a.value===0).map(({label:a,value:o})=>p.createElement("div",{key:a,className:"ctw-text-gray-900 ctw-flex ctw-items-baseline"},p.createElement("dt",{className:"ctw-w-1/3 ctw-flex-shrink-0 ctw-font-medium"},a),p.createElement("dd",{className:"ctw-m-0"},o)))));try{ni.displayName="Details",ni.__docgenInfo={description:"",displayName:"Details",props:{hideEmpty:{defaultValue:{value:"true"},description:"",name:"hideEmpty",required:!1,type:{name:"boolean"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"CollapsibleDataListEntry[]"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"(() => void)"}},documentButton:{defaultValue:null,description:"",name:"documentButton",required:!1,type:{name:"ReactNode"}}}}}catch{}const oc=({id:e,date:t,title:r,subtitle:n,data:a,hideEmpty:o,documentButton:s})=>{const[u,c]=y.exports.useState(!1);return p.createElement("div",{className:"ctw-collapsible-data-list ctw-space-y-1"},p.createElement(bC,{date:t,title:r,subtitle:n,isDetailShown:u,setIsDetailShown:c}),u&&p.createElement(ni,{data:a,hideEmpty:o,documentButton:s}))},bC=({date:e,title:t,subtitle:r,isDetailShown:n,setIsDetailShown:a})=>p.createElement("button",{type:"button","aria-label":"details",onClick:()=>a(!n),className:"ctw-w-full ctw-cursor-pointer ctw-border-none ctw-bg-transparent ctw-p-0 ctw-text-base ctw-outline-none"},p.createElement("div",{className:"ctw-flex ctw-items-center ctw-justify-between ctw-rounded-lg ctw-bg-bg-white ctw-p-3 ctw-text-left ctw-outline ctw-outline-1 ctw-outline-bg-dark"},p.createElement("div",{className:"ctw-flex ctw-space-x-3"},e&&p.createElement("div",{className:"ctw-min-w-[5rem]"},e),p.createElement("div",null,p.createElement("div",{className:"ctw-font-semibold ctw-text-content-black"},t),p.createElement("div",{className:"ctw-text-content-light"},r))),p.createElement("div",{className:"ctw-justify-right ctw-flex"},p.createElement(_0,{className:it("ctw-h-5 ctw-w-5 ctw-text-primary-dark",{"ctw-rotate-90":n})}))));try{oc.displayName="CollapsibleDataList",oc.__docgenInfo={description:"",displayName:"CollapsibleDataList",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},date:{defaultValue:null,description:"",name:"date",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},subtitle:{defaultValue:null,description:"",name:"subtitle",required:!1,type:{name:"string"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"CollapsibleDataListEntry[]"}},hideEmpty:{defaultValue:null,description:"",name:"hideEmpty",required:!1,type:{name:"boolean"}},documentButton:{defaultValue:null,description:"",name:"documentButton",required:!1,type:{name:"ReactNode"}}}}}catch{}const In=({entries:e,limit:t})=>{const[r,n]=y.exports.useState(!t||e.length<=t);return p.createElement("div",{className:"ctw-space-y-3"},p.createElement("div",{className:"ctw-text-base ctw-font-medium ctw-uppercase ctw-text-content-light"},"History"),e.map(a=>p.createElement("div",{key:`${a.id}`},p.createElement(oc,{id:a.id,date:a.date,title:a.title,subtitle:a.subtitle,data:a.data,hideEmpty:a.hideEmpty,documentButton:a.documentButton}))),!r&&p.createElement("div",{className:"ctw-text-center"},p.createElement("button",{type:"button",className:"ctw-link-primary",onClick:()=>n(!0)},"Load ",e.length-t," More")))};try{In.displayName="CollapsibleDataListStack",In.__docgenInfo={description:"",displayName:"CollapsibleDataListStack",props:{entries:{defaultValue:null,description:"",name:"entries",required:!0,type:{name:"CollapsibleDataListStackEntries"}},limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}}}}}catch{}const Hi=e=>e.resourceType==="Bundle";function wC(e,t){var n;const r=[];return Hi(e)&&((n=e.entry)==null||n.forEach(a=>{var o;((o=a.resource)==null?void 0:o.resourceType)===t&&r.push(a.resource)})),r}function xC(e){var r;const t={};return Hi(e)&&((r=e.entry)==null||r.forEach(n=>{const{resource:a}=n;if(!a)return;const o=`${a.resourceType}/${a.id}`;t[o]=a})),t}function $l(e){var r;const t={};return Hi(e)&&((r=e.entry)==null||r.forEach(n=>{const{resource:a,search:o}=n;if(!a||(o==null?void 0:o.mode)!=="include")return;const s=`${a.resourceType}/${a.id}`;t[s]=a})),t}function _C(e){const t={};return!Hi(e)||!e.entry||e.entry.forEach(r=>{var s,u,c;const{resource:n,search:a}=r;if(!n||(a==null?void 0:a.mode)!=="include"||n.resourceType!=="Basic")return;const o=G.exports.last((u=(s=n.subject)==null?void 0:s.reference)==null?void 0:u.split("/"));!o||(t[o]||(t[o]=[]),(c=t[o])==null||c.push(n))}),t}function bh(e){return Object.assign({},...e.map(t=>$l(t)))}function fr(e,t,r,n){var a;if(!!n){if(n.startsWith("#"))return G.exports.find(t,{id:n.substring(1),resourceType:e});if(((a=r==null?void 0:r[n])==null?void 0:a.resourceType)===e)return r[n]}}const EC="http://terminology.hl7.org/CodeSystem/basic-resource-type",SC="http://terminology.hl7.org/CodeSystem/condition-category",ic="http://terminology.hl7.org/CodeSystem/condition-clinical",Il="http://terminology.hl7.org/CodeSystem/condition-ver-status",wh="http://terminology.hl7.org/3.1.0/CodeSystem-v3-DataOperation.html",TC="http://terminology.hl7.org/CodeSystem/provenance-participant-type",ap="https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",OC="http://hl7.org/fhir/sid/icd-9",CC="http://hl7.org/fhir/sid/icd-9-cm",Nn="http://hl7.org/fhir/sid/icd-10",RC="http://hl7.org/fhir/sid/icd-10-cm",xh="http://www.nlm.nih.gov/research/umls/rxnorm",Zr="http://snomed.info/sct",_h="https://zusapi.com/summary",sc="https://zusapi.com/lens",Ml="https://zusapi.com/accesscontrol/owner",uc="https://zusapi.com/profile/action",vs="https://zusapi.com/thirdparty/source",zi="https://zusapi.com/fhir/identifier/universal-id",NC="https://zusapi.com/fhir/tag/upi-record-type",Eh="https://zusapi.com/terminology/enrichment",Sh="https://zusapi.com/lens/extension/medicationLastFillDate",Th="https://zusapi.com/lens/extension/medicationLastPrescribedDate",Oh="https://zusapi.com/lens/extension/medicationQuantity",Ch="https://zusapi.com/lens/extension/medicationDaysSupply",Rh="https://zusapi.com/lens/extension/medicationRefills",Nh="https://zusapi.com/lens/extension/medicationLastPrescriber",Ah="https://zusapi.com/lens/extension/aggregatedFrom",Ph="https://zusapi.com/ctw-component-library/extension/lensAggregatedFrom",AC={active:"Currently taking","entered-in-error":"Never taken","not-taken":"Prescribed, not taken",completed:"No longer taking","on-hold":"On hold",intended:"Intend to take",stopped:"No longer taking"};function Dh(e,t){var n;if(e.medicationCodeableConcept)return e.medicationCodeableConcept;const r=fr("Medication",e.contained,t,(n=e.medicationReference)==null?void 0:n.reference);return r==null?void 0:r.code}function Xr(e,t){var r;return(r=$h(e,t))==null?void 0:r.code}function $h(e,t){var a;const r=Dh(e,t),n=["ActiveIngredient","BrandName"];return(a=r==null?void 0:r.coding)==null?void 0:a.find(o=>o.system===xh&&(o.extension===void 0||!o.extension.some(s=>s.url===Eh&&s.valueString&&n.includes(s.valueString))))}function Ih(e,t){var n,a,o;let r;switch(e.resourceType){case"MedicationAdministration":case"MedicationDispense":r=(a=(n=e.performer)==null?void 0:n[0])==null?void 0:a.actor;break;case"MedicationRequest":r=e.performer||((o=e.dispenseRequest)==null?void 0:o.performer);break;case"MedicationStatement":default:return}if((r==null?void 0:r.reference)&&r.type==="Organization")return fr("Organization",e.contained,t,r.reference)}function PC(e){return G.exports.get(AC,e,"")}const DC=250,$C=[`${vs}|surescripts`,`${vs}|commonwell`,`${vs}|elation`],Mh=[`${sc}|ActiveMedications`,`${sc}|ChronicConditions`],Fh=[`${NC}|universal`],Fl=[`${_h}|Common`];async function Zn(e,t,r){var h;const{patientUPID:n,_count:a,...o}=r!=null?r:{},u=typeof a>"u"?DC:a,c=await t.fhirClient.search({resourceType:e,searchParams:{...o,_count:u,...kC(e,n)}}),l=wC(c,e);return{bundle:c,total:(h=c.total)!=null?h:0,resources:l}}async function Xn(e,t,r){const n=[...$C,...Mh,...Fl,...Fh],a=`${Ml}|builder/${t.builderId}`,o=Wi(r,{_tag:[a],"_tag:not":n});return Zn(e,t,o)}async function IC(e,t,r,n){const a=[`${sc}|${r}`,`${Ml}|builder/${t.builderId}`],o=Wi(n,{_tag:a});return Zn(e,t,o)}async function MC(e,t,r){const n=[...Fl,`${Ml}|builder/${t.builderId}`],a=Wi(r,{_tag:n});return Zn(e,t,a)}async function FC(e,t,r){const n=Wi(r,{"_tag:not":[...Mh,...Fl,...Fh]});return Zn(e,t,n)}function kC(e,t){if(!t)return{};const r=`${zi}|${t}`;switch(e){case"Coverage":return{"beneficiary.identifier":r};case"Condition":case"Encounter":case"MedicationAdministration":case"MedicationDispense":case"MedicationRequest":case"MedicationStatement":return{"patient.identifier":r};case"Patient":return{identifier:r};default:throw new Error(`Unhandled patient search for resource type: ${e}`)}}function Wi(e,t){return G.exports.mergeWith(e,t,(r,n)=>Array.isArray(r)?r.concat(n):void 0)}let la;const BC=new Uint8Array(16);function LC(){if(!la&&(la=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!la))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return la(BC)}const pt=[];for(let e=0;e<256;++e)pt.push((e+256).toString(16).slice(1));function UC(e,t=0){return(pt[e[t+0]]+pt[e[t+1]]+pt[e[t+2]]+pt[e[t+3]]+"-"+pt[e[t+4]]+pt[e[t+5]]+"-"+pt[e[t+6]]+pt[e[t+7]]+"-"+pt[e[t+8]]+pt[e[t+9]]+"-"+pt[e[t+10]]+pt[e[t+11]]+pt[e[t+12]]+pt[e[t+13]]+pt[e[t+14]]+pt[e[t+15]]).toLowerCase()}const qC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),op={randomUUID:qC};function ip(e,t,r){if(op.randomUUID&&!t&&!e)return op.randomUUID();e=e||{};const n=e.random||(e.rng||LC)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let a=0;a<16;++a)t[r+a]=n[a];return t}return UC(n)}function kh(e){return typeof e=="object"&&e!==null?"issue"in e:!1}const xt=e=>{var t,r,n,a,o,s,u;return(u=(s=(n=e==null?void 0:e.text)!=null?n:(r=(t=e==null?void 0:e.coding)==null?void 0:t[0])==null?void 0:r.display)!=null?s:(o=(a=e==null?void 0:e.coding)==null?void 0:a[0])==null?void 0:o.code)!=null?u:""};function qt(e,t){return G.exports.find(t==null?void 0:t.coding,{system:e})}function Bh(e,t){return G.exports.find(t==null?void 0:t.coding,{system:e,extension:[{url:Eh}]})}const sp=(e,t)=>{for(let r=0;r<e.length;r+=1){const n=e[r];if(n.checkForEnrichment){const a=Bh(n.system,t);if(a)return a}else{const a=qt(n.system,t);if(a)return a}}};class VC{constructor(t){Rr(this,"resource");this.resource=t}get display(){return xt(this.resource.details)||this.resource.diagnostics||`${this.resource.code} error`}get severity(){return this.resource.severity}}class Lh{constructor(t){Rr(this,"resource");this.resource=t}get display(){return this.resource.issue.filter(r=>r.severity!=="warning").map(r=>{let n="";return r.location&&r.location.length>0&&(n+=`${r.location[0]} -- `),`${n}${r.diagnostics}`}).join("; ")}get issues(){return this.resource.issue.map(t=>new VC(t))}get resourceType(){return this.resource.resourceType}}function ai(e){return typeof e=="object"&&e!==null?"response"in e&&"config"in e:!1}const jC=(e,t)=>{const{data:r,status:n}=t.response;let a="";return kh(r)&&(a=new Lh(r).display),{title:e,status:n,statusText:a}};class gr{constructor(t,r,n){Rr(this,"resource");Rr(this,"includedResources");Rr(this,"revIncludes");this.resource=t,this.includedResources=r,this.revIncludes=n}get id(){return this.resource.id||""}get isSummaryResource(){var t;return G.exports.find((t=this.resource.meta)==null?void 0:t.tag,{system:_h})!==void 0}get resourceType(){return this.resource.resourceType}getBasicResourceByAction(t){return G.exports.find(this.revIncludes,{resourceType:"Basic",meta:{tag:[{system:uc,code:t}]}})}toString(){return`new ${this.constructor.name}(${JSON.stringify(this.resource,null,2)}
)`}}class kl extends gr{get fullName(){var n,a;const t=(n=this.resource.name)==null?void 0:n[0];return[(a=t==null?void 0:t.given)!=null&&a.length?t.given[0]:"",t==null?void 0:t.family].filter(o=>o).join(" ")}}const HC=async(e,t)=>{let r=[];try{const{resources:n}=await Xn("Practitioner",t,{_id:e});r=n}catch(n){throw new Error(`Failed fetching practitioner with an id of: ${e}. ${n}`)}if(!r[0])throw new Error(`No practitioner found with an id of: ${e}`);return new kl(r[0])};async function Yi(e){const t=Dg(e.authToken);if(t){const r=await HC(t,e);return{reference:`Practitioner/${t}`,type:"Practitioner",display:r.fullName}}return{display:$g(e.authToken)}}const Uh={system:TC,code:"assembler",display:"Assembler"},qh={coding:[{system:wh,code:"CREATE",display:"create"}]},zC={coding:[{system:wh,code:"UPDATE",display:"revise"}]},WC=async(e,t,r)=>{var u;const{fhirClient:n}=r,a=lm(r.authToken),o=parseInt(((u=t.meta)==null?void 0:u.versionId)||"0",10),s={resourceType:"Provenance",agent:[{who:await Yi(r),onBehalfOf:{display:a}},{type:{coding:[Uh]},who:{display:"Zus Health"}}],recorded:new Date().toISOString(),target:[{reference:`${t.resourceType}/${t.id}/_history/${o}`,type:t.resourceType}]};return s.activity=e==="CREATE"?qh:zC,n.create({resourceType:"Provenance",body:s})};async function Gi(e,t){const{fhirClient:r}=t,n=e;try{if(e.id){const o=await r.update({resourceType:e.resourceType,id:e.id,body:Dn(e)});return ai(o)||await WC("UPDATE",o,t),o}const a=await r.create({resourceType:e.resourceType,body:Dn(e)});return ai(a)||(n.id=a.id),a}catch(a){return a}}async function YC(e,t){const{fhirClient:r}=t,n=lm(t.authToken),a=e.id||ip(),o=ip(),s={resourceType:"Bundle",type:"transaction",entry:[{request:{method:"POST",url:e.resourceType},fullUrl:a,resource:e},{request:{method:"POST",url:"Provenance"},fullUrl:o,resource:{resourceType:"Provenance",activity:qh,agent:[{who:await Yi(t),onBehalfOf:{display:n}},{type:{coding:[Uh]},who:{display:"Zus Health"}}],recorded:new Date().toISOString(),target:[{reference:`${e.resourceType}/${a}`,type:e.resourceType}]}}]};return r.transaction({body:Dn({...s,type:"transaction"})})}async function GC(e,t,r){const n={resourceType:"Parameters",parameter:[{name:"meta",valueMeta:{tag:r}}]},{fhirClient:a}=t;await a.request(`${e.resourceType}/${e.id}/$meta-delete`,{method:"POST",body:JSON.stringify(n),options:{headers:{"content-type":"application/json"}}})}const Bl="patientConditions",Ll="otherProviderConditions",QC="conditionHistory",Ul="patient",Vh="medications",jh="builder-medications",ZC="patients-list",XC="medication-history",KC=async(e,t,r)=>{const n=await r(),a=G.exports.cloneDeep(e.resource);a.gender=t.gender,a.birthDate=Dr(t.dateOfBirth),a.name=[{use:"official",family:t.lastName,given:[t.firstName]}],a.address=[{line:[t.address],city:t.city,state:t.state,postalCode:t.zipCode}];const o=[];t.phone&&o.push({system:"phone",value:t.phone}),t.email&&o.push({system:"email",value:t.email}),a.telecom=o;const s=await Gi(a,n);return await Mr.invalidateQueries([Ul]),s};class JC extends gr{get name(){return this.resource.name}}const eR=[{text:"Annulled",code:"A"},{text:"Divorced",code:"D"},{text:"Interlocutory",code:"I"},{text:"Legally Separated",code:"L"},{text:"Married",code:"M"},{text:"Polygamous",code:"P"},{text:"Never Married",code:"S"},{text:"Domestic Partner",code:"T"},{text:"unmarried",code:"U"},{text:"Widowed",code:"W"}];class Qi extends gr{get active(){return this.resource.active}get contact(){return this.resource.contact}get dob(){return gt(this.resource.birthDate)}get age(){if(!this.resource.birthDate)return;const t=Dl(this.resource.birthDate);return nh(new Date,t)}get gender(){return this.resource.gender}get maritalStatus(){var n,a,o;const t=(o=(a=(n=this.resource.maritalStatus)==null?void 0:n.coding)==null?void 0:a[0])==null?void 0:o.code,r=eR.find(s=>s.code===t);return r==null?void 0:r.text}get organization(){var r;const t=fr("Organization",this.resource.contained,this.includedResources,(r=this.resource.managingOrganization)==null?void 0:r.reference);if(t)return new JC(t,this.includedResources)}get use(){return this.bestName.use}get UPID(){var r;const t=(r=G.exports.find(this.resource.identifier,{system:zi}))==null?void 0:r.value;if(!t)throw Error(`Patient with ID ${this.resource.identifier} does not have a UPID`);return t}getPhoneNumber(t){const r={system:"phone"};t&&(r.use=t);const n=G.exports.find(this.resource.telecom,r);return pC(n==null?void 0:n.value)}get phoneNumber(){return this.getPhoneNumber()}get email(){var t;return(t=G.exports.find(this.resource.telecom,{system:"email"}))==null?void 0:t.value}get bestHomeAddress(){return G.exports.find(this.resource.address,{use:"home"})||G.exports.find(this.resource.address,t=>!t.use)}get homeAddress(){return G.exports.cloneDeep(this.bestHomeAddress)}get bestName(){return(!this.resource.name||this.resource.name.length===0)&&(this.resource.name=[{use:"official"}]),G.exports.find(this.resource.name,{use:"official"})||G.exports.find(this.resource.name,{use:"usual"})||this.resource.name[0]||{}}get additionalNames(){if(this.bestName.given&&this.bestName.given.length>1){const[,...t]=this.bestName.given;return t.join(" ")}}get display(){return[this.firstName,this.lastName].filter(t=>t).join(" ")}get firstName(){var t;return((t=this.bestName.given)==null?void 0:t[0])||""}get fullName(){return[this.lastName,this.firstName].filter(t=>t).join(", ")}get lastName(){return this.bestName.family}get nickname(){var r;const t=G.exports.find(this.resource.name,{use:"nickname"});return(r=t==null?void 0:t.given)==null?void 0:r.join(" ")}get prefix(){var t;return(t=this.bestName.prefix)==null?void 0:t.join(" ")}get suffix(){var t;return(t=this.bestName.suffix)==null?void 0:t.join(" ")}}async function tR(e,t,r,n){let a=[],o;try{const s=await Xn("Patient",e,{...n,identifier:`${r}|${t}`,_count:1,_include:"Patient:organization"});a=s.resources,o=s.bundle}catch(s){throw ln("Failed fetching patient",s)}if(!a[0])throw ln(`Failed fetching patient information for patient from patientID ${t} with system ${r}`);return new Qi(a[0],$l(o))}async function rR(e,t=[]){const[r,n,a]=t,o=parseInt(`${n!=null?n:"0"}`,10)*parseInt(`${r!=null?r:"1"}`,10),s=G.exports.pickBy({_count:r,_total:"accurate",_offset:o,name:a});try{const{total:u,resources:c}=await Xn("Patient",e,s);return{searchParams:s,patients:c.map(l=>new Qi(l)),total:u}}catch(u){throw ln("Failed fetching patients",u)}}const nR=1e3*60*5,ql=y.exports.createContext({patientID:"",systemURL:""});function up({children:e,patientUPID:t,patientID:r,systemURL:n,tags:a,onPatientSave:o}){const s=y.exports.useMemo(()=>({patientID:t||r,systemURL:t?zi:n,tags:a,onPatientSave:o}),[r,t,n,a,o]);return p.createElement(ql.Provider,{value:s},e)}function Vl(){const{getRequestContext:e}=Wt(),{patientID:t,systemURL:r,tags:n}=y.exports.useContext(ql);return ll([Ul,t,r,n],async()=>{var o;const a=await e();return tR(a,t,r,{_tag:(o=n==null?void 0:n.map(s=>`${s.system}|${s.code}`))!=null?o:[]})},{staleTime:nR})}function cc(e){const{getRequestContext:t}=Wt(),{onPatientSave:r}=y.exports.useContext(ql);return y.exports.useCallback(async n=>r?r(n):KC(e,n,t),[r,e,t])}function vn(e,t,r,n=!0){var s,u;const{getRequestContext:a}=Wt(),o=Vl();return ll([e,(s=o.data)==null?void 0:s.UPID,...t],async()=>{const c=await a();return r(c,o.data,t)},{enabled:!!((u=o.data)!=null&&u.UPID)&&n})}try{up.displayName="PatientProvider",up.__docgenInfo={description:"",displayName:"PatientProvider",props:{tags:{defaultValue:null,description:"",name:"tags",required:!1,type:{name:"Tag[]"}},onPatientSave:{defaultValue:null,description:"",name:"onPatientSave",required:!1,type:{name:"((data: PatientFormData) => Promise<void>)"}},patientUPID:{defaultValue:null,description:"",name:"patientUPID",required:!1,type:{name:"string"}},patientID:{defaultValue:null,description:"",name:"patientID",required:!1,type:{name:"string"}},systemURL:{defaultValue:null,description:"",name:"systemURL",required:!1,type:{name:"string"}}}}}catch{}try{cc.displayName="useHandlePatientSave",cc.__docgenInfo={description:"",displayName:"useHandlePatientSave",props:{active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean | undefined"}},contact:{defaultValue:null,description:"",name:"contact",required:!0,type:{name:"PatientContact[] | undefined"}},dob:{defaultValue:null,description:"",name:"dob",required:!0,type:{name:"string | undefined"}},age:{defaultValue:null,description:"",name:"age",required:!0,type:{name:"number | undefined"}},gender:{defaultValue:null,description:"",name:"gender",required:!0,type:{name:"string | undefined"}},maritalStatus:{defaultValue:null,description:"",name:"maritalStatus",required:!0,type:{name:"string | undefined"}},organization:{defaultValue:null,description:"",name:"organization",required:!0,type:{name:"OrganizationModel | undefined"}},use:{defaultValue:null,description:"",name:"use",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"usual"'},{value:'"official"'},{value:'"temp"'},{value:'"nickname"'},{value:'"anonymous"'},{value:'"old"'},{value:'"maiden"'}]}},UPID:{defaultValue:null,description:"",name:"UPID",required:!0,type:{name:"string"}},getPhoneNumber:{defaultValue:null,description:"",name:"getPhoneNumber",required:!0,type:{name:'(use?: "temp" | "old" | "home" | "work" | "mobile" | undefined) => string | undefined'}},phoneNumber:{defaultValue:null,description:"",name:"phoneNumber",required:!0,type:{name:"string | undefined"}},email:{defaultValue:null,description:"",name:"email",required:!0,type:{name:"string | undefined"}},bestHomeAddress:{defaultValue:null,description:"",name:"bestHomeAddress",required:!0,type:{name:"Address | undefined"}},homeAddress:{defaultValue:null,description:"",name:"homeAddress",required:!0,type:{name:"Address | undefined"}},bestName:{defaultValue:null,description:"",name:"bestName",required:!0,type:{name:"HumanName"}},additionalNames:{defaultValue:null,description:"",name:"additionalNames",required:!0,type:{name:"string | undefined"}},display:{defaultValue:null,description:"",name:"display",required:!0,type:{name:"string"}},firstName:{defaultValue:null,description:"",name:"firstName",required:!0,type:{name:"string"}},fullName:{defaultValue:null,description:"",name:"fullName",required:!0,type:{name:"string"}},lastName:{defaultValue:null,description:"",name:"lastName",required:!0,type:{name:"string | undefined"}},nickname:{defaultValue:null,description:"",name:"nickname",required:!0,type:{name:"string | undefined"}},prefix:{defaultValue:null,description:"",name:"prefix",required:!0,type:{name:"string | undefined"}},suffix:{defaultValue:null,description:"",name:"suffix",required:!0,type:{name:"string | undefined"}},resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"Patient"}},includedResources:{defaultValue:null,description:"",name:"includedResources",required:!1,type:{name:"ResourceMap"}},revIncludes:{defaultValue:null,description:"",name:"revIncludes",required:!1,type:{name:"Resource[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isSummaryResource:{defaultValue:null,description:"",name:"isSummaryResource",required:!0,type:{name:"boolean"}},resourceType:{defaultValue:null,description:"",name:"resourceType",required:!0,type:{name:"string"}},getBasicResourceByAction:{defaultValue:null,description:"",name:"getBasicResourceByAction",required:!0,type:{name:"(profileAction: string) => Basic | undefined"}},toString:{defaultValue:null,description:"",name:"toString",required:!1,type:{name:"() => string"}}}}}catch{}class Hh extends gr{get dosageDisplay(){const{text:t,route:r,dose:n}=this.resource.dosage||{};return t||Ee.compact([n==null?void 0:n.value,n==null?void 0:n.unit]).join(" ")}get dosageRoute(){const{route:t}=this.resource.dosage||{};return t==null?void 0:t.text}get effectivePeriod(){const{start:t,end:r}=this.resource.effectivePeriod||{};return{start:t?gt(t):"",end:r?gt(r):""}}}class zh extends gr{get includedPerformer(){var n,a,o,s;const t=(a=(n=this.resource.performer)==null?void 0:n[0])==null?void 0:a.actor.reference,r=fr("Practitioner",this.resource.contained,this.includedResources,t);return r?new kl(r).fullName:(s=(o=this.resource.performer)==null?void 0:o[0])==null?void 0:s.actor.display}get performer(){return Ih(this.resource,this.includedResources)}get performerDetails(){var r,n,a,o,s;const{performer:t}=this;return{name:(r=t==null?void 0:t.name)!=null?r:"",address:(a=(n=t==null?void 0:t.address)==null?void 0:n[0].text)!=null?a:"",telecom:(s=(o=t==null?void 0:t.telecom)==null?void 0:o[0].value)!=null?s:""}}get status(){return this.resource.status}get quantityDisplay(){const{value:t,unit:r="units"}=this.resource.quantity||{};return t?`${t} ${r}`:void 0}get supplied(){const{value:t,unit:r="days"}=this.resource.daysSupply||{};return t?`${t} ${r}`:void 0}}class Wh extends gr{get includedRequester(){var n,a;const t=(n=this.resource.requester)==null?void 0:n.reference,r=fr("Practitioner",this.resource.contained,this.includedResources,t);return r?new kl(r).fullName:(a=this.resource.requester)==null?void 0:a.display}get pharmacy(){var a,o,s;const{reference:t,display:r}=((a=this.resource.dispenseRequest)==null?void 0:a.performer)||{},n=fr("Organization",this.resource.contained,this.includedResources,t);if(n){const u=(o=n.telecom)==null?void 0:o[0].value,{city:c,state:l,postalCode:h,text:g,line:N=[]}=((s=n.address)==null?void 0:s[0])||{},O=Ee.compact([c,`${l} ${h}`]).join(", ");return{telecom:u,name:n.name,address:g!=null?g:Ee.compact([N,O]).join(`
`)}}return{name:r}}}class Br extends gr{constructor(){super(...arguments);Rr(this,"builderPatientRxNormStatus")}get basedOn(){var r,n;return(n=(r=this.resource.basedOn)==null?void 0:r[0])==null?void 0:n.type}get category(){return xt(this.resource.category)}get context(){var r;return(r=this.resource.context)==null?void 0:r.display}get dateAsserted(){return gt(this.resource.dateAsserted)}set dateAsserted(r){r instanceof Date?this.resource.dateAsserted=Dr(r):this.resource.dateAsserted=r}get derivedFrom(){var r;return((r=this.resource.derivedFrom)==null?void 0:r.map(({display:n})=>n||""))||[]}get aggregatedFrom(){const r=Ee.find(n=>n.url===Ah||n.url===Ph,this.resource.extension);return r!=null&&r.extension?Ee.compact(r.extension.map(Ee.get("valueReference"))):Ee.compact(this.resource.derivedFrom)}get display(){return xt(Dh(this.resource,this.includedResources))}get rxNormCoding(){return $h(this.resource,this.includedResources)}get dosage(){var r,n;return(n=(r=this.resource.dosage)==null?void 0:r[0])==null?void 0:n.text}get effectiveStart(){var r;return gt((r=this.resource.effectivePeriod)==null?void 0:r.start)}get identifier(){var r,n;return(n=(r=this.resource.identifier)==null?void 0:r[0])==null?void 0:n.value}get informationSource(){return this.resource.informationSource||void 0}set informationSource(r){this.resource.informationSource=r}get medicationReference(){var r;return(r=this.resource.medicationReference)==null?void 0:r.display}get notesDisplay(){var r;return((r=this.resource.note)==null?void 0:r.map(({text:n})=>n))||[]}get partOf(){var r,n;return(n=(r=this.resource.partOf)==null?void 0:r[0])==null?void 0:n.display}get patientStatus(){var r,n;return PC((n=this.builderPatientRxNormStatus)==null?void 0:n[(r=this.rxNorm)!=null?r:""])}get rxNorm(){return Xr(this.resource,this.includedResources)}get reason(){var r;return xt((r=this.resource.reasonCode)==null?void 0:r[0])}get reasonReference(){return this.resource.reasonReference}get status(){return Ee.capitalize(this.resource.status)}get statusReason(){var r;return xt((r=this.resource.statusReason)==null?void 0:r[0])}get subject(){return this.resource.subject}get subjectID(){var n;const[,r]=((n=this.resource.subject.reference)==null?void 0:n.split("/"))||[];return r||""}get lastFillDate(){var r,n;return gt((n=(r=this.resource.extension)==null?void 0:r.find(a=>a.url===Sh))==null?void 0:n.valueDateTime)}get quantity(){var n,a;const r=(a=(n=this.resource.extension)==null?void 0:n.find(o=>o.url===Oh))==null?void 0:a.valueQuantity;if(r)return`${r.value} ${r.unit||""}`}get daysSupply(){var r,n,a,o;return(o=(a=(n=(r=this.resource.extension)==null?void 0:r.find(s=>s.url===Ch))==null?void 0:n.valueQuantity)==null?void 0:a.value)==null?void 0:o.toString()}get refills(){var r,n,a;return(a=(n=(r=this.resource.extension)==null?void 0:r.find(o=>o.url===Rh))==null?void 0:n.valueUnsignedInt)==null?void 0:a.toString()}get lastPrescriber(){var a,o;const r=(o=(a=this.resource.extension)==null?void 0:a.find(s=>s.url===Nh))==null?void 0:o.valueReference;if(!(r!=null&&r.type)||!r.reference)return;const n=fr(r.type,this.resource.contained,this.includedResources,r.reference);if(n!=null&&n.name){if(typeof n.name=="string")return n.name;const{family:s,given:u=[]}=n.name[0];return Ee.compact([s,u[0]]).join(", ")}return r.display}get lastPrescribedDate(){var r,n;return gt((n=(r=this.resource.extension)==null?void 0:r.find(a=>a.url===Th))==null?void 0:n.valueDateTime)}}class Yh extends gr{get performer(){var t;return(t=Ih(this.resource,this.includedResources))==null?void 0:t.name}get status(){return this.resource.status}get dosage(){var t,r,n;switch(this.resource.resourceType){case"MedicationStatement":return(r=(t=this.resource.dosage)==null?void 0:t[0])==null?void 0:r.text;case"MedicationAdministration":return new Hh(this.resource,this.includedResources).dosageDisplay;case"MedicationDispense":case"MedicationRequest":return xt((n=this.resource.dosageInstruction)==null?void 0:n[0]);default:return""}}get date(){var t,r,n,a,o,s,u,c,l;switch(this.resource.resourceType){case"MedicationStatement":return(r=this.resource.dateAsserted)!=null?r:(t=this.resource.effectivePeriod)==null?void 0:t.start;case"MedicationAdministration":return(n=this.resource.effectivePeriod)==null?void 0:n.start;case"MedicationDispense":return(a=this.resource.whenHandedOver)!=null?a:this.resource.whenPrepared;case"MedicationRequest":return(l=this.resource.authoredOn)!=null?l:(c=(u=(s=(o=this.resource.dosageInstruction)==null?void 0:o[0].timing)==null?void 0:s.repeat)==null?void 0:u.boundsPeriod)==null?void 0:c.start;default:return""}}get dateLocal(){return gt(this.date)}get patient(){var r;const t=fr("Patient",this.resource.contained,this.includedResources,(r=this.resource.subject)==null?void 0:r.reference);if(t)return new Qi(t,this.includedResources)}get prescriber(){switch(this.resource.resourceType){case"MedicationStatement":return new Br(this.resource,this.includedResources).lastPrescriber;case"MedicationDispense":return new zh(this.resource,this.includedResources).includedPerformer;case"MedicationRequest":return new Wh(this.resource,this.includedResources).includedRequester;default:return}}}function jl(e,t,r,n=!1){const a=G.exports.isString(t)?Ee.get(t):t;return n?aR(e,a,r):G.exports.orderBy(e,t,r)}function aR(e,t,r){return e.sort((n,a)=>{const o=t(n),s=t(a);if(!o&&!s)return 0;if(!o)return r==="asc"?-1:1;if(!s)return r==="asc"?1:-1;const u=new Date(o).getTime(),c=new Date(s).getTime();return r==="asc"?u-c:c-u}),e}const Gh=Ee.omit(["informationSourceNot","informationSource"]);function Qh(e,t={},r=!1){let n=r?sR(e.resources,e.bundle):e.resources;return t.informationSource&&(n=n.filter(a=>{var o;return((o=a.informationSource)==null?void 0:o.type)===t.informationSource})),t.informationSourceNot&&(n=n.filter(a=>{var o;return((o=a.informationSource)==null?void 0:o.type)!==t.informationSourceNot})),n}async function oR(e,t,r=[]){const[n={}]=r;try{const a=await Xn("MedicationStatement",e,{patientUPID:t.UPID,_include:"MedicationStatement:medication",...Gh(n)}),o=Qh(a,n,!1);return{bundle:a.bundle,medications:o}}catch(a){throw ln("Failed fetching medications for patient",a)}}async function iR(e,t,r=[]){const[n={}]=r;try{const a=await IC("MedicationStatement",e,"ActiveMedications",{patientUPID:t.UPID,_include:"MedicationStatement:medication",...Gh(n)}),o=Qh(a,n,!0);return{bundle:a.bundle,medications:o}}catch(a){throw ln("Failed fetching medications for patient",a)}}function sR(e,t){const r=xC(t);return e.filter(n=>Xr(n,r)!==void 0)}function uR(e,t,r){const n=e.filter(o=>!t.some(s=>Xr(s,r)===Xr(o,r)));return{builderMedications:t.map(o=>{var h,g,N;const s=e.find(O=>Xr(O,r)===Xr(o,r));if(!s)return o;const u=G.exports.cloneDeep(o),c=[Sh,Th,Oh,Ch,Rh,Nh];u.extension=(h=s.extension)==null?void 0:h.filter(O=>c.includes(O.url));const l=G.exports.cloneDeep((g=s.extension)==null?void 0:g.find(O=>O.url===Ah));return l&&(l.url=Ph,(N=u.extension)==null||N.push(l)),u}),otherProviderMedications:n}}function Zh(e){const t=e?new Br(e).aggregatedFrom:[],r=Ee.pipe(Ee.get("reference"),Ee.split("/"),Ee.last),n=Ee.pipe(Ee.groupBy(Ee.get("type")),Ee.mapValues(Ee.map(r)))(t);return vn(XC,[(e==null?void 0:e.id)||"empty"],async(a,o)=>{try{if(!e)return{includedResources:{},medications:[]};const[s,u,c,l]=await Promise.all([fa("MedicationStatement",a,o.UPID,n.MedicationStatement),fa("MedicationAdministration",a,o.UPID,n.MedicationAdministration),fa("MedicationRequest",a,o.UPID,n.MedicationRequest,["MedicationRequest:requester"]),fa("MedicationDispense",a,o.UPID,n.MedicationDispense,["MedicationDispense:performer","MedicationDispense:prescription"])]),h=bh(Ee.compact([s.bundle,u.bundle,c.bundle,l.bundle])),g=Ee.compact([...s.resources,...u.resources,...c.resources,...l.resources]).map(O=>new Yh(O,h));return{medications:jl(G.exports.uniqWith(g,(O,w)=>O.date===w.date&&O.resource.resourceType===w.resource.resourceType),"date","desc",!0),includedResources:h}}catch(s){throw new Error(`Failed fetching medication history for medication ${e==null?void 0:e.id}: ${s}`)}})}function cR(e){const[t,r]=y.exports.useState(),[n,a]=y.exports.useState(!0),o=Zh(e);return y.exports.useEffect(()=>{const{includedResources:s={},medications:u=[]}=o.data||{};if(t===void 0&&u.length){const c=Ee.pipe(Ee.map(Ee.get("resource")),Ee.filter(Ee.propEq("resourceType","MedicationRequest")),Ee.sortBy(l=>Date.parse(l.authoredOn)),Ee.map(l=>new Yh(l,s)),Ee.last,Ee.get("prescriber"))(u);r(c||""),a(!1)}},[t,o.data]),{isLoading:n,lastPrescriber:t}}function fa(e,t,r,n=[],a=[]){return n.length>0?Zn(e,t,{_id:n.join(","),_include:[`${e}:patient`,`${e}:medication`,...a],"_include:iterate":"Patient:organization","patient.identifier":`${zi}|${r}`}):{resources:[],bundle:void 0}}const lR=10;function lc({medication:e}){const[t,r]=y.exports.useState([]),n=Zh(e.resource),a=n.isLoading;return y.exports.useEffect(()=>{if(n.data){const{medications:o}=n.data;r(vC(o).map(dR))}},[n.data]),a?p.createElement(p.Fragment,null,p.createElement("h2",{className:"ctw-text-lg ctw-font-semibold"},"Medication History"),p.createElement(Fr,{message:""})):p.createElement(p.Fragment,null,p.createElement("h2",{className:"ctw-text-lg ctw-font-semibold"},"Medication History"),t.length?p.createElement(In,{entries:t,limit:lR}):p.createElement("span",null,"No history available for this medication."))}function fR(e){var n;const t=e.resource,r=new Br(t);return{date:e.dateLocal,id:e.id,title:"Medication Reviewed",hideEmpty:!1,subtitle:((n=r.informationSource)==null?void 0:n.display)||"",data:[{label:"Status",value:G.exports.capitalize(r.status)},{label:"Instructions",value:r.dosage}]}}function dR(e){if(e.resourceType==="MedicationStatement")return fR(e);if(e.resourceType==="MedicationRequest")return pR(e);if(e.resourceType==="MedicationDispense")return mR(e);if(e.resourceType==="MedicationAdministration")return hR(e);throw new Error(`Unknown medication resource type "${e.resourceType}"`)}function pR(e){const t=e.resource,{prescriber:r}=e,{name:n,address:a,telecom:o}=new Wh(t,e.includedResources).pharmacy,{numberOfRepeatsAllowed:s="",initialFill:u}=t.dispenseRequest||{},{value:c="",unit:l=""}=(u==null?void 0:u.quantity)||{};return{date:e.dateLocal,id:e.id,title:"Prescription Ordered",subtitle:r,hideEmpty:!1,data:[{label:"Quantity",value:[c,l].join(" ")},{label:"Refills Allowed",value:s},{label:"Instructions",value:e.dosage},{label:"Prescriber",value:r},{label:"Pharmacy",value:p.createElement(p.Fragment,null,n&&p.createElement("div",null,n),a&&p.createElement("div",null,a),o&&p.createElement("div",null,"T: ",o))}]}}function mR(e){const t=e.resource,r=new zh(t,e.includedResources),{quantityDisplay:n,supplied:a,performerDetails:o}=r,{name:s,address:u,telecom:c}=o;return{date:e.dateLocal,hideEmpty:!1,id:e.id,title:"Medication Filled",subtitle:G.exports.compact([n,a?`${a} supplied`:null]).join(", "),data:[{label:"Quantity",value:n},{label:"Days supply",value:a},{label:"Pharmacy",value:p.createElement(p.Fragment,null,s&&p.createElement("div",null,s),u&&p.createElement("div",null,u),c&&p.createElement("div",null,"T: ",c))}]}}function hR(e){const t=e.resource,r=new Hh(t,e.includedResources);return{id:e.id,date:e.dateLocal,hideEmpty:!1,title:"Medication Administered",subtitle:G.exports.compact([r.dosageDisplay,r.dosageRoute]).join(", "),data:[{label:"Dosage",value:r.dosageDisplay},{label:"Route",value:r.dosageRoute},{label:"Start Date",value:r.effectivePeriod.start},{label:"End Date",value:r.effectivePeriod.end}]}}try{lc.displayName="MedicationHistory",lc.__docgenInfo={description:"Displays the history of a medication",displayName:"MedicationHistory",props:{medication:{defaultValue:null,description:"",name:"medication",required:!0,type:{name:"MedicationStatementModel"}}}}}catch{}function yR(e,t){return e?[{label:"Status",value:G.exports.capitalize(e.status)},{label:"Last Fill Date",value:e.lastFillDate},{label:"Quantity",value:e.quantity},{label:"Days Supply",value:e.daysSupply},{label:"Refills",value:e.refills},{label:"Instructions",value:e.dosage},{label:"Prescriber",value:t},{label:"Last Prescribed Date",value:e.lastPrescribedDate},...cv("Note",e.notesDisplay)]:[]}const oi=({medication:e,...t})=>{const{lastPrescriber:r,isLoading:n}=cR(e==null?void 0:e.resource),a=yR(e,r);return p.createElement(ir,{title:"Medication Details",...t},p.createElement(ir.Body,null,p.createElement("div",{className:"ctw-space-y-5"},p.createElement("div",{className:"ctw-flex ctw-justify-between ctw-space-x-8"},p.createElement("h3",{className:"ctw-m-0 ctw-text-3xl ctw-font-light"},e==null?void 0:e.display)),n&&p.createElement(Fr,null),!n&&p.createElement(uv,{title:"Summary",data:a}),e&&p.createElement(lc,{medication:e}))),p.createElement(ir.Footer,null,p.createElement("div",{className:"ctw-flex ctw-justify-end"},p.createElement("button",{type:"button",className:"ctw-btn-default",onClick:t.onClose},"Close"))))};try{oi.displayName="MedicationDrawer",oi.__docgenInfo={description:"",displayName:"MedicationDrawer",props:{medication:{defaultValue:null,description:"",name:"medication",required:!1,type:{name:"MedicationStatementModel"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}}}catch{}var $r=[],vR=function(){return $r.some(function(e){return e.activeTargets.length>0})},gR=function(){return $r.some(function(e){return e.skippedTargets.length>0})},cp="ResizeObserver loop completed with undelivered notifications.",bR=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:cp}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=cp),window.dispatchEvent(e)},Mn;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Mn||(Mn={}));var Ir=function(e){return Object.freeze(e)},wR=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,Ir(this)}return e}(),Xh=function(){function e(t,r,n,a){return this.x=t,this.y=r,this.width=n,this.height=a,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Ir(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,n=t.y,a=t.top,o=t.right,s=t.bottom,u=t.left,c=t.width,l=t.height;return{x:r,y:n,top:a,right:o,bottom:s,left:u,width:c,height:l}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Hl=function(e){return e instanceof SVGElement&&"getBBox"in e},Kh=function(e){if(Hl(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var a=e,o=a.offsetWidth,s=a.offsetHeight;return!(o||s||e.getClientRects().length)},lp=function(e){var t;if(e instanceof Element)return!0;var r=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},xR=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},An=typeof window<"u"?window:{},da=new WeakMap,fp=/auto|scroll/,_R=/^tb|vertical/,ER=/msie|trident/i.test(An.navigator&&An.navigator.userAgent),Gt=function(e){return parseFloat(e||"0")},Jr=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new wR((r?t:e)||0,(r?e:t)||0)},dp=Ir({devicePixelContentBoxSize:Jr(),borderBoxSize:Jr(),contentBoxSize:Jr(),contentRect:new Xh(0,0,0,0)}),Jh=function(e,t){if(t===void 0&&(t=!1),da.has(e)&&!t)return da.get(e);if(Kh(e))return da.set(e,dp),dp;var r=getComputedStyle(e),n=Hl(e)&&e.ownerSVGElement&&e.getBBox(),a=!ER&&r.boxSizing==="border-box",o=_R.test(r.writingMode||""),s=!n&&fp.test(r.overflowY||""),u=!n&&fp.test(r.overflowX||""),c=n?0:Gt(r.paddingTop),l=n?0:Gt(r.paddingRight),h=n?0:Gt(r.paddingBottom),g=n?0:Gt(r.paddingLeft),N=n?0:Gt(r.borderTopWidth),O=n?0:Gt(r.borderRightWidth),w=n?0:Gt(r.borderBottomWidth),_=n?0:Gt(r.borderLeftWidth),C=g+l,v=c+h,S=_+O,A=N+w,R=u?e.offsetHeight-A-e.clientHeight:0,$=s?e.offsetWidth-S-e.clientWidth:0,I=a?C+S:0,V=a?v+A:0,L=n?n.width:Gt(r.width)-I-$,P=n?n.height:Gt(r.height)-V-R,j=L+C+$+S,K=P+v+R+A,ce=Ir({devicePixelContentBoxSize:Jr(Math.round(L*devicePixelRatio),Math.round(P*devicePixelRatio),o),borderBoxSize:Jr(j,K,o),contentBoxSize:Jr(L,P,o),contentRect:new Xh(g,c,L,P)});return da.set(e,ce),ce},ey=function(e,t,r){var n=Jh(e,r),a=n.borderBoxSize,o=n.contentBoxSize,s=n.devicePixelContentBoxSize;switch(t){case Mn.DEVICE_PIXEL_CONTENT_BOX:return s;case Mn.BORDER_BOX:return a;default:return o}},SR=function(){function e(t){var r=Jh(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=Ir([r.borderBoxSize]),this.contentBoxSize=Ir([r.contentBoxSize]),this.devicePixelContentBoxSize=Ir([r.devicePixelContentBoxSize])}return e}(),ty=function(e){if(Kh(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t},TR=function(){var e=1/0,t=[];$r.forEach(function(s){if(s.activeTargets.length!==0){var u=[];s.activeTargets.forEach(function(l){var h=new SR(l.target),g=ty(l.target);u.push(h),l.lastReportedSize=ey(l.target,l.observedBox),g<e&&(e=g)}),t.push(function(){s.callback.call(s.observer,u,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var r=0,n=t;r<n.length;r++){var a=n[r];a()}return e},pp=function(e){$r.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(a){a.isActive()&&(ty(a.target)>e?r.activeTargets.push(a):r.skippedTargets.push(a))})})},OR=function(){var e=0;for(pp(e);vR();)e=TR(),pp(e);return gR()&&bR(),e>0},gs,ry=[],CR=function(){return ry.splice(0).forEach(function(e){return e()})},RR=function(e){if(!gs){var t=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return CR()}).observe(r,n),gs=function(){r.textContent="".concat(t?t--:t++)}}ry.push(e),gs()},NR=function(e){RR(function(){requestAnimationFrame(e)})},oo=0,AR=function(){return!!oo},PR=250,DR={attributes:!0,characterData:!0,childList:!0,subtree:!0},mp=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],hp=function(e){return e===void 0&&(e=0),Date.now()+e},bs=!1,$R=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=PR),!bs){bs=!0;var n=hp(t);NR(function(){var a=!1;try{a=OR()}finally{if(bs=!1,t=n-hp(),!AR())return;a?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,DR)};document.body?r():An.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),mp.forEach(function(r){return An.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),mp.forEach(function(r){return An.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),fc=new $R,yp=function(e){!oo&&e>0&&fc.start(),oo+=e,!oo&&fc.stop()},IR=function(e){return!Hl(e)&&!xR(e)&&getComputedStyle(e).display==="inline"},MR=function(){function e(t,r){this.target=t,this.observedBox=r||Mn.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=ey(this.target,this.observedBox,!0);return IR(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),FR=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}(),pa=new WeakMap,vp=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},ma=function(){function e(){}return e.connect=function(t,r){var n=new FR(t,r);pa.set(t,n)},e.observe=function(t,r,n){var a=pa.get(t),o=a.observationTargets.length===0;vp(a.observationTargets,r)<0&&(o&&$r.push(a),a.observationTargets.push(new MR(r,n&&n.box)),yp(1),fc.schedule())},e.unobserve=function(t,r){var n=pa.get(t),a=vp(n.observationTargets,r),o=n.observationTargets.length===1;a>=0&&(o&&$r.splice($r.indexOf(n),1),n.observationTargets.splice(a,1),yp(-1))},e.disconnect=function(t){var r=this,n=pa.get(t);n.observationTargets.slice().forEach(function(a){return r.unobserve(t,a.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),kR=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ma.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!lp(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ma.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!lp(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ma.unobserve(this,t)},e.prototype.disconnect=function(){ma.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const BR=p[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],LR=BR,UR=e=>{const t=y.exports.useRef(e);return y.exports.useEffect(()=>{t.current=e}),t},qR=UR,VR=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:kR;function jR(){}function HR(e,t){const r=WR(),n=qR(t);return LR(()=>{let a=!1;const o=e&&"current"in e?e.current:e;if(!o)return jR;function s(u,c){a||n.current(u,c)}return r.subscribe(o,s),()=>{a=!0,r.unsubscribe(o,s)}},[e,r,n]),r.observer}function zR(){let e=!1,t=[];const r=new Map,n=new VR((a,o)=>{t=t.concat(a);function s(){const u=new Set;for(let c=0;c<t.length;c++){if(u.has(t[c].target))continue;u.add(t[c].target);const l=r.get(t[c].target);l==null||l.forEach(h=>h(t[c],o))}t=[],e=!1}e||window.requestAnimationFrame(s),e=!0});return{observer:n,subscribe(a,o){var s;n.observe(a);const u=(s=r.get(a))!==null&&s!==void 0?s:[];u.push(o),r.set(a,u)},unsubscribe(a,o){var s;const u=(s=r.get(a))!==null&&s!==void 0?s:[];if(u.length===1){n.unobserve(a),r.delete(a);return}const c=u.indexOf(o);c!==-1&&u.splice(c,1),r.set(a,u)}}}let ws;const WR=()=>ws||(ws=zR()),YR=typeof window<"u"?y.exports.useLayoutEffect:y.exports.useEffect;function zl(e){const{theme:t}=Wt(),[r,n]=y.exports.useState(G.exports.mapValues(cm,()=>!1));function a(){const o=e.current;if(!o)return;const{width:s}=o.getBoundingClientRect(),u={};Object.entries(t.breakpoints).forEach(([c,l])=>{u[c]=s<l}),n(u)}return YR(a,[e,t]),HR(e,o=>a()),r}const ii=({children:e,className:t="",rowMenuActions:r,hideMenu:n=!1,medicationStatements:a,...o})=>{const s=y.exports.useRef(null),u=zl(s),c=Ee.compact([{title:"Medication Name",render:l=>p.createElement(p.Fragment,null,p.createElement("div",{className:"ctw-font-medium"},l.display),p.createElement("div",{className:"ctw-font-light"},l.dosage))},{title:"Dispensed",render:l=>p.createElement(p.Fragment,null,l.quantity&&p.createElement("div",null,l.quantity),l.refills&&p.createElement("div",null,l.refills," refills"))},{title:"Last Filled",dataIndex:"lastFillDate"},{title:"Last Prescribed",render:l=>p.createElement(p.Fragment,null,l.lastPrescribedDate&&p.createElement("div",null,l.lastPrescribedDate),l.lastPrescriber&&p.createElement("div",null,l.lastPrescriber))}]);return!n&&Ee.isFunction(r)&&c.push({className:"ctw-table-action-column",render:l=>p.createElement(wo,{menuItems:r(l)},p.createElement(vm,{className:"ctw-w-5"}))}),p.createElement("div",{className:t,ref:s},p.createElement(il,{stacked:u.sm,records:a,columns:c,message:"There are no medications to display.",...o}),e)};try{ii.displayName="MedicationsTableBase",ii.__docgenInfo={description:"",displayName:"MedicationsTableBase",props:{medicationStatements:{defaultValue:null,description:"",name:"medicationStatements",required:!0,type:{name:"MedicationStatementModel[]"}},rowMenuActions:{defaultValue:null,description:"",name:"rowMenuActions",required:!1,type:{name:"((condition: MedicationStatementModel) => MenuItem[])"}},hideMenu:{defaultValue:{value:"false"},description:"",name:"hideMenu",required:!1,type:{name:"boolean"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string | (string & Mapping) | (string & ArgumentArray)"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},message:{defaultValue:null,description:"Displayed when we have 0 records.",name:"message",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},showTableHead:{defaultValue:null,description:"",name:"showTableHead",required:!1,type:{name:"boolean"}},stacked:{defaultValue:null,description:"",name:"stacked",required:!1,type:{name:"boolean"}},sort:{defaultValue:null,description:"",name:"sort",required:!1,type:{name:"TableSort"}},onSort:{defaultValue:null,description:"",name:"onSort",required:!1,type:{name:"((sort: TableSort) => void)"}},handleRowClick:{defaultValue:null,description:"",name:"handleRowClick",required:!1,type:{name:"((record: MedicationStatementModel) => void)"}},rowActions:{defaultValue:null,description:"",name:"rowActions",required:!1,type:{name:"((record: MedicationStatementModel) => Element)"}},hidePagination:{defaultValue:null,description:"",name:"hidePagination",required:!1,type:{name:"boolean"}}}}}catch{}var Ye;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const o={};for(const s of a)o[s]=s;return o},e.getValidEnumValues=a=>{const o=e.objectKeys(a).filter(u=>typeof a[a[u]]!="number"),s={};for(const u of o)s[u]=a[u];return e.objectValues(s)},e.objectValues=a=>e.objectKeys(a).map(function(o){return a[o]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&o.push(s);return o},e.find=(a,o)=>{for(const s of a)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,o=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(Ye||(Ye={}));const he=Ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),wr=e=>{switch(typeof e){case"undefined":return he.undefined;case"string":return he.string;case"number":return isNaN(e)?he.nan:he.number;case"boolean":return he.boolean;case"function":return he.function;case"bigint":return he.bigint;case"object":return Array.isArray(e)?he.array:e===null?he.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?he.promise:typeof Map<"u"&&e instanceof Map?he.map:typeof Set<"u"&&e instanceof Set?he.set:typeof Date<"u"&&e instanceof Date?he.date:he.object;default:return he.unknown}},de=Ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),GR=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class sr extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(o){return o.message},n={_errors:[]},a=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let u=n,c=0;for(;c<s.path.length;){const l=s.path[c];c===s.path.length-1?(u[l]=u[l]||{_errors:[]},u[l]._errors.push(r(s))):u[l]=u[l]||{_errors:[]},u=u[l],c++}}};return a(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}sr.create=e=>new sr(e);const Fn=(e,t)=>{let r;switch(e.code){case de.invalid_type:e.received===he.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case de.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ye.jsonStringifyReplacer)}`;break;case de.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ye.joinValues(e.keys,", ")}`;break;case de.invalid_union:r="Invalid input";break;case de.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ye.joinValues(e.options)}`;break;case de.invalid_enum_value:r=`Invalid enum value. Expected ${Ye.joinValues(e.options)}, received '${e.received}'`;break;case de.invalid_arguments:r="Invalid function arguments";break;case de.invalid_return_type:r="Invalid function return type";break;case de.invalid_date:r="Invalid date";break;case de.invalid_string:typeof e.validation=="object"?"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ye.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case de.too_small:e.type==="array"?r=`Array must contain ${e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be greater than ${e.inclusive?"or equal to ":""}${e.minimum}`:e.type==="date"?r=`Date must be greater than ${e.inclusive?"or equal to ":""}${new Date(e.minimum)}`:r="Invalid input";break;case de.too_big:e.type==="array"?r=`Array must contain ${e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be less than ${e.inclusive?"or equal to ":""}${e.maximum}`:e.type==="date"?r=`Date must be smaller than ${e.inclusive?"or equal to ":""}${new Date(e.maximum)}`:r="Invalid input";break;case de.custom:r="Invalid input";break;case de.invalid_intersection_types:r="Intersection results could not be merged";break;case de.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;default:r=t.defaultError,Ye.assertNever(e)}return{message:r}};let ny=Fn;function QR(e){ny=e}function si(){return ny}const ui=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,o=[...r,...a.path||[]],s={...a,path:o};let u="";const c=n.filter(l=>!!l).slice().reverse();for(const l of c)u=l(s,{data:t,defaultError:u}).message;return{...a,path:o,message:a.message||u}},ZR=[];function _e(e,t){const r=ui({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,si(),Fn].filter(n=>!!n)});e.common.issues.push(r)}class Tt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Pe;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r)n.push({key:await a.key,value:await a.value});return Tt.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:o,value:s}=a;if(o.status==="aborted"||s.status==="aborted")return Pe;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),(typeof s.value<"u"||a.alwaysSet)&&(n[o.value]=s.value)}return{status:t.value,value:n}}}const Pe=Object.freeze({status:"aborted"}),XR=e=>({status:"dirty",value:e}),Ot=e=>({status:"valid",value:e}),dc=e=>e.status==="aborted",pc=e=>e.status==="dirty",ci=e=>e.status==="valid",mc=e=>typeof Promise!==void 0&&e instanceof Promise;var qe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(qe||(qe={}));class er{constructor(t,r,n,a){this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._path.concat(this._key)}}const gp=(e,t)=>{if(ci(t))return{success:!0,data:t.value};{if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");const r=new sr(e.common.issues);return{success:!1,error:r}}};function Le(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(s,u)=>s.code!=="invalid_type"?{message:u.defaultError}:typeof u.data>"u"?{message:n!=null?n:u.defaultError}:{message:r!=null?r:u.defaultError},description:a}}class Be{constructor(t){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return wr(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:wr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Tt,ctx:{common:t.parent.common,data:t.data,parsedType:wr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(mc(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wr(t)},o=this._parseSync({data:t,path:a.path,parent:a});return gp(a,o)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wr(t)},a=this._parse({data:t,path:[],parent:n}),o=await(mc(a)?a:Promise.resolve(a));return gp(n,o)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,o)=>{const s=t(a),u=()=>o.addIssue({code:de.custom,...n(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Pt({schema:this,typeName:Ne.ZodEffects,effect:{type:"refinement",refinement:t}})}optional(){return $t.create(this)}nullable(){return Ur.create(this)}nullish(){return this.optional().nullable()}array(){return Mt.create(this)}promise(){return un.create(this)}or(t){return kn.create([this,t])}and(t){return Bn.create(this,t)}transform(t){return new Pt({schema:this,typeName:Ne.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Xi({innerType:this,defaultValue:r,typeName:Ne.ZodDefault})}brand(){return new oy({typeName:Ne.ZodBranded,type:this,...Le(void 0)})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const KR=/^c[^\s-]{8,}$/i,JR=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,eN=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;class tr extends Be{constructor(){super(...arguments),this._regex=(t,r,n)=>this.refinement(a=>t.test(a),{validation:r,code:de.invalid_string,...qe.errToObj(n)}),this.nonempty=t=>this.min(1,qe.errToObj(t)),this.trim=()=>new tr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(t){if(this._getType(t)!==he.string){const o=this._getOrReturnCtx(t);return _e(o,{code:de.invalid_type,expected:he.string,received:o.parsedType}),Pe}const n=new Tt;let a;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(a=this._getOrReturnCtx(t,a),_e(a,{code:de.too_small,minimum:o.value,type:"string",inclusive:!0,message:o.message}),n.dirty());else if(o.kind==="max")t.data.length>o.value&&(a=this._getOrReturnCtx(t,a),_e(a,{code:de.too_big,maximum:o.value,type:"string",inclusive:!0,message:o.message}),n.dirty());else if(o.kind==="email")eN.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"email",code:de.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")JR.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"uuid",code:de.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")KR.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"cuid",code:de.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),_e(a,{validation:"url",code:de.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"regex",code:de.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="startsWith"?t.data.startsWith(o.value)||(a=this._getOrReturnCtx(t,a),_e(a,{code:de.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(a=this._getOrReturnCtx(t,a),_e(a,{code:de.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):Ye.assertNever(o);return{status:n.value,value:t.data}}_addCheck(t){return new tr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...qe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...qe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...qe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...qe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...qe.errToObj(r)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...qe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...qe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...qe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...qe.errToObj(r)})}length(t,r){return this.min(t,r).max(t,r)}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}tr.create=e=>new tr({checks:[],typeName:Ne.ZodString,...Le(e)});function tN(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,o=parseInt(e.toFixed(a).replace(".","")),s=parseInt(t.toFixed(a).replace(".",""));return o%s/Math.pow(10,a)}class dr extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._getType(t)!==he.number){const o=this._getOrReturnCtx(t);return _e(o,{code:de.invalid_type,expected:he.number,received:o.parsedType}),Pe}let n;const a=new Tt;for(const o of this._def.checks)o.kind==="int"?Ye.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),_e(n,{code:de.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),_e(n,{code:de.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),_e(n,{code:de.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="multipleOf"?tN(t.data,o.value)!==0&&(n=this._getOrReturnCtx(t,n),_e(n,{code:de.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):Ye.assertNever(o);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,qe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,qe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,qe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,qe.toString(r))}setLimit(t,r,n,a){return new dr({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:qe.toString(a)}]})}_addCheck(t){return new dr({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:qe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:qe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:qe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:qe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:qe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:qe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int")}}dr.create=e=>new dr({checks:[],typeName:Ne.ZodNumber,...Le(e)});class li extends Be{_parse(t){if(this._getType(t)!==he.bigint){const n=this._getOrReturnCtx(t);return _e(n,{code:de.invalid_type,expected:he.bigint,received:n.parsedType}),Pe}return Ot(t.data)}}li.create=e=>new li({typeName:Ne.ZodBigInt,...Le(e)});class on extends Be{_parse(t){if(this._getType(t)!==he.boolean){const n=this._getOrReturnCtx(t);return _e(n,{code:de.invalid_type,expected:he.boolean,received:n.parsedType}),Pe}return Ot(t.data)}}on.create=e=>new on({typeName:Ne.ZodBoolean,...Le(e)});class pr extends Be{_parse(t){if(this._getType(t)!==he.date){const o=this._getOrReturnCtx(t);return _e(o,{code:de.invalid_type,expected:he.date,received:o.parsedType}),Pe}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return _e(o,{code:de.invalid_date}),Pe}const n=new Tt;let a;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(a=this._getOrReturnCtx(t,a),_e(a,{code:de.too_small,message:o.message,inclusive:!0,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(a=this._getOrReturnCtx(t,a),_e(a,{code:de.too_big,message:o.message,inclusive:!0,maximum:o.value,type:"date"}),n.dirty()):Ye.assertNever(o);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new pr({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:qe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:qe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}pr.create=e=>new pr({checks:[],typeName:Ne.ZodDate,...Le(e)});class fi extends Be{_parse(t){if(this._getType(t)!==he.undefined){const n=this._getOrReturnCtx(t);return _e(n,{code:de.invalid_type,expected:he.undefined,received:n.parsedType}),Pe}return Ot(t.data)}}fi.create=e=>new fi({typeName:Ne.ZodUndefined,...Le(e)});class di extends Be{_parse(t){if(this._getType(t)!==he.null){const n=this._getOrReturnCtx(t);return _e(n,{code:de.invalid_type,expected:he.null,received:n.parsedType}),Pe}return Ot(t.data)}}di.create=e=>new di({typeName:Ne.ZodNull,...Le(e)});class sn extends Be{constructor(){super(...arguments),this._any=!0}_parse(t){return Ot(t.data)}}sn.create=e=>new sn({typeName:Ne.ZodAny,...Le(e)});class Sr extends Be{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ot(t.data)}}Sr.create=e=>new Sr({typeName:Ne.ZodUnknown,...Le(e)});class mr extends Be{_parse(t){const r=this._getOrReturnCtx(t);return _e(r,{code:de.invalid_type,expected:he.never,received:r.parsedType}),Pe}}mr.create=e=>new mr({typeName:Ne.ZodNever,...Le(e)});class pi extends Be{_parse(t){if(this._getType(t)!==he.undefined){const n=this._getOrReturnCtx(t);return _e(n,{code:de.invalid_type,expected:he.void,received:n.parsedType}),Pe}return Ot(t.data)}}pi.create=e=>new pi({typeName:Ne.ZodVoid,...Le(e)});class Mt extends Be{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==he.array)return _e(r,{code:de.invalid_type,expected:he.array,received:r.parsedType}),Pe;if(a.minLength!==null&&r.data.length<a.minLength.value&&(_e(r,{code:de.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(_e(r,{code:de.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all(r.data.map((s,u)=>a.type._parseAsync(new er(r,s,r.path,u)))).then(s=>Tt.mergeArray(n,s));const o=r.data.map((s,u)=>a.type._parseSync(new er(r,s,r.path,u)));return Tt.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new Mt({...this._def,minLength:{value:t,message:qe.toString(r)}})}max(t,r){return new Mt({...this._def,maxLength:{value:t,message:qe.toString(r)}})}length(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Mt.create=(e,t)=>new Mt({type:e,minLength:null,maxLength:null,typeName:Ne.ZodArray,...Le(t)});var mi;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(mi||(mi={}));const bp=e=>t=>new Xe({...e,shape:()=>({...e.shape(),...t})});function Qr(e){if(e instanceof Xe){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=$t.create(Qr(n))}return new Xe({...e._def,shape:()=>t})}else return e instanceof Mt?Mt.create(Qr(e.element)):e instanceof $t?$t.create(Qr(e.unwrap())):e instanceof Ur?Ur.create(Qr(e.unwrap())):e instanceof rr?rr.create(e.items.map(t=>Qr(t))):e}class Xe extends Be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=bp(this._def),this.extend=bp(this._def)}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ye.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==he.object){const l=this._getOrReturnCtx(t);return _e(l,{code:de.invalid_type,expected:he.object,received:l.parsedType}),Pe}const{status:n,ctx:a}=this._processInputParams(t),{shape:o,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof mr&&this._def.unknownKeys==="strip"))for(const l in a.data)s.includes(l)||u.push(l);const c=[];for(const l of s){const h=o[l],g=a.data[l];c.push({key:{status:"valid",value:l},value:h._parse(new er(a,g,a.path,l)),alwaysSet:l in a.data})}if(this._def.catchall instanceof mr){const l=this._def.unknownKeys;if(l==="passthrough")for(const h of u)c.push({key:{status:"valid",value:h},value:{status:"valid",value:a.data[h]}});else if(l==="strict")u.length>0&&(_e(a,{code:de.unrecognized_keys,keys:u}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const h of u){const g=a.data[h];c.push({key:{status:"valid",value:h},value:l._parse(new er(a,g,a.path,h)),alwaysSet:h in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const l=[];for(const h of c){const g=await h.key;l.push({key:g,value:await h.value,alwaysSet:h.alwaysSet})}return l}).then(l=>Tt.mergeObjectSync(n,l)):Tt.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return qe.errToObj,new Xe({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,o,s,u;const c=(s=(o=(a=this._def).errorMap)===null||o===void 0?void 0:o.call(a,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(u=qe.errToObj(t).message)!==null&&u!==void 0?u:c}:{message:c}}}:{}})}strip(){return new Xe({...this._def,unknownKeys:"strip"})}passthrough(){return new Xe({...this._def,unknownKeys:"passthrough"})}setKey(t,r){return this.augment({[t]:r})}merge(t){return new Xe({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>mi.mergeShapes(this._def.shape(),t._def.shape()),typeName:Ne.ZodObject})}catchall(t){return new Xe({...this._def,catchall:t})}pick(t){const r={};return Ye.objectKeys(t).map(n=>{this.shape[n]&&(r[n]=this.shape[n])}),new Xe({...this._def,shape:()=>r})}omit(t){const r={};return Ye.objectKeys(this.shape).map(n=>{Ye.objectKeys(t).indexOf(n)===-1&&(r[n]=this.shape[n])}),new Xe({...this._def,shape:()=>r})}deepPartial(){return Qr(this)}partial(t){const r={};if(t)return Ye.objectKeys(this.shape).map(n=>{Ye.objectKeys(t).indexOf(n)===-1?r[n]=this.shape[n]:r[n]=this.shape[n].optional()}),new Xe({...this._def,shape:()=>r});for(const n in this.shape){const a=this.shape[n];r[n]=a.optional()}return new Xe({...this._def,shape:()=>r})}required(){const t={};for(const r in this.shape){let a=this.shape[r];for(;a instanceof $t;)a=a._def.innerType;t[r]=a}return new Xe({...this._def,shape:()=>t})}keyof(){return ay(Ye.objectKeys(this.shape))}}Xe.create=(e,t)=>new Xe({shape:()=>e,unknownKeys:"strip",catchall:mr.create(),typeName:Ne.ZodObject,...Le(t)});Xe.strictCreate=(e,t)=>new Xe({shape:()=>e,unknownKeys:"strict",catchall:mr.create(),typeName:Ne.ZodObject,...Le(t)});Xe.lazycreate=(e,t)=>new Xe({shape:e,unknownKeys:"strip",catchall:mr.create(),typeName:Ne.ZodObject,...Le(t)});class kn extends Be{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;const s=o.map(u=>new sr(u.ctx.common.issues));return _e(r,{code:de.invalid_union,unionErrors:s}),Pe}if(r.common.async)return Promise.all(n.map(async o=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(a);{let o;const s=[];for(const c of n){const l={...r,common:{...r.common,issues:[]},parent:null},h=c._parseSync({data:r.data,path:r.path,parent:l});if(h.status==="valid")return h;h.status==="dirty"&&!o&&(o={result:h,ctx:l}),l.common.issues.length&&s.push(l.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const u=s.map(c=>new sr(c));return _e(r,{code:de.invalid_union,unionErrors:u}),Pe}}get options(){return this._def.options}}kn.create=(e,t)=>new kn({options:e,typeName:Ne.ZodUnion,...Le(t)});class Zi extends Be{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==he.object)return _e(r,{code:de.invalid_type,expected:he.object,received:r.parsedType}),Pe;const n=this.discriminator,a=r.data[n],o=this.options.get(a);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(_e(r,{code:de.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[n]}),Pe)}get discriminator(){return this._def.discriminator}get validDiscriminatorValues(){return Array.from(this.options.keys())}get options(){return this._def.options}static create(t,r,n){const a=new Map;try{r.forEach(o=>{const s=o.shape[t].value;a.set(s,o)})}catch{throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(a.size!==r.length)throw new Error("Some of the discriminator values are not unique");return new Zi({typeName:Ne.ZodDiscriminatedUnion,discriminator:t,options:a,...Le(n)})}}function hc(e,t){const r=wr(e),n=wr(t);if(e===t)return{valid:!0,data:e};if(r===he.object&&n===he.object){const a=Ye.objectKeys(t),o=Ye.objectKeys(e).filter(u=>a.indexOf(u)!==-1),s={...e,...t};for(const u of o){const c=hc(e[u],t[u]);if(!c.valid)return{valid:!1};s[u]=c.data}return{valid:!0,data:s}}else if(r===he.array&&n===he.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let o=0;o<e.length;o++){const s=e[o],u=t[o],c=hc(s,u);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===he.date&&n===he.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Bn extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(o,s)=>{if(dc(o)||dc(s))return Pe;const u=hc(o.value,s.value);return u.valid?((pc(o)||pc(s))&&r.dirty(),{status:r.value,value:u.data}):(_e(n,{code:de.invalid_intersection_types}),Pe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,s])=>a(o,s)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Bn.create=(e,t,r)=>new Bn({left:e,right:t,typeName:Ne.ZodIntersection,...Le(r)});class rr extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==he.array)return _e(n,{code:de.invalid_type,expected:he.array,received:n.parsedType}),Pe;if(n.data.length<this._def.items.length)return _e(n,{code:de.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),Pe;!this._def.rest&&n.data.length>this._def.items.length&&(_e(n,{code:de.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),r.dirty());const o=n.data.map((s,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new er(n,s,n.path,u)):null}).filter(s=>!!s);return n.common.async?Promise.all(o).then(s=>Tt.mergeArray(r,s)):Tt.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new rr({...this._def,rest:t})}}rr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new rr({items:e,typeName:Ne.ZodTuple,rest:null,...Le(t)})};class Ln extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==he.object)return _e(n,{code:de.invalid_type,expected:he.object,received:n.parsedType}),Pe;const a=[],o=this._def.keyType,s=this._def.valueType;for(const u in n.data)a.push({key:o._parse(new er(n,u,n.path,u)),value:s._parse(new er(n,n.data[u],n.path,u))});return n.common.async?Tt.mergeObjectAsync(r,a):Tt.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Be?new Ln({keyType:t,valueType:r,typeName:Ne.ZodRecord,...Le(n)}):new Ln({keyType:tr.create(),valueType:t,typeName:Ne.ZodRecord,...Le(r)})}}class hi extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==he.map)return _e(n,{code:de.invalid_type,expected:he.map,received:n.parsedType}),Pe;const a=this._def.keyType,o=this._def.valueType,s=[...n.data.entries()].map(([u,c],l)=>({key:a._parse(new er(n,u,n.path,[l,"key"])),value:o._parse(new er(n,c,n.path,[l,"value"]))}));if(n.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of s){const l=await c.key,h=await c.value;if(l.status==="aborted"||h.status==="aborted")return Pe;(l.status==="dirty"||h.status==="dirty")&&r.dirty(),u.set(l.value,h.value)}return{status:r.value,value:u}})}else{const u=new Map;for(const c of s){const l=c.key,h=c.value;if(l.status==="aborted"||h.status==="aborted")return Pe;(l.status==="dirty"||h.status==="dirty")&&r.dirty(),u.set(l.value,h.value)}return{status:r.value,value:u}}}}hi.create=(e,t,r)=>new hi({valueType:t,keyType:e,typeName:Ne.ZodMap,...Le(r)});class Lr extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==he.set)return _e(n,{code:de.invalid_type,expected:he.set,received:n.parsedType}),Pe;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(_e(n,{code:de.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(_e(n,{code:de.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,message:a.maxSize.message}),r.dirty());const o=this._def.valueType;function s(c){const l=new Set;for(const h of c){if(h.status==="aborted")return Pe;h.status==="dirty"&&r.dirty(),l.add(h.value)}return{status:r.value,value:l}}const u=[...n.data.values()].map((c,l)=>o._parse(new er(n,c,n.path,l)));return n.common.async?Promise.all(u).then(c=>s(c)):s(u)}min(t,r){return new Lr({...this._def,minSize:{value:t,message:qe.toString(r)}})}max(t,r){return new Lr({...this._def,maxSize:{value:t,message:qe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Lr.create=(e,t)=>new Lr({valueType:e,minSize:null,maxSize:null,typeName:Ne.ZodSet,...Le(t)});class en extends Be{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==he.function)return _e(r,{code:de.invalid_type,expected:he.function,received:r.parsedType}),Pe;function n(u,c){return ui({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,si(),Fn].filter(l=>!!l),issueData:{code:de.invalid_arguments,argumentsError:c}})}function a(u,c){return ui({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,si(),Fn].filter(l=>!!l),issueData:{code:de.invalid_return_type,returnTypeError:c}})}const o={errorMap:r.common.contextualErrorMap},s=r.data;return this._def.returns instanceof un?Ot(async(...u)=>{const c=new sr([]),l=await this._def.args.parseAsync(u,o).catch(N=>{throw c.addIssue(n(u,N)),c}),h=await s(...l);return await this._def.returns._def.type.parseAsync(h,o).catch(N=>{throw c.addIssue(a(h,N)),c})}):Ot((...u)=>{const c=this._def.args.safeParse(u,o);if(!c.success)throw new sr([n(u,c.error)]);const l=s(...c.data),h=this._def.returns.safeParse(l,o);if(!h.success)throw new sr([a(l,h.error)]);return h.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new en({...this._def,args:rr.create(t).rest(Sr.create())})}returns(t){return new en({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new en({args:t||rr.create([]).rest(Sr.create()),returns:r||Sr.create(),typeName:Ne.ZodFunction,...Le(n)})}}class yi extends Be{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}yi.create=(e,t)=>new yi({getter:e,typeName:Ne.ZodLazy,...Le(t)});class Un extends Be{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return _e(r,{code:de.invalid_literal,expected:this._def.value}),Pe}return{status:"valid",value:t.data}}get value(){return this._def.value}}Un.create=(e,t)=>new Un({value:e,typeName:Ne.ZodLiteral,...Le(t)});function ay(e,t){return new Kn({values:e,typeName:Ne.ZodEnum,...Le(t)})}class Kn extends Be{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return _e(r,{expected:Ye.joinValues(n),received:r.parsedType,code:de.invalid_type}),Pe}if(this._def.values.indexOf(t.data)===-1){const r=this._getOrReturnCtx(t),n=this._def.values;return _e(r,{received:r.data,code:de.invalid_enum_value,options:n}),Pe}return Ot(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}}Kn.create=ay;class qn extends Be{_parse(t){const r=Ye.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==he.string&&n.parsedType!==he.number){const a=Ye.objectValues(r);return _e(n,{expected:Ye.joinValues(a),received:n.parsedType,code:de.invalid_type}),Pe}if(r.indexOf(t.data)===-1){const a=Ye.objectValues(r);return _e(n,{received:n.data,code:de.invalid_enum_value,options:a}),Pe}return Ot(t.data)}get enum(){return this._def.values}}qn.create=(e,t)=>new qn({values:e,typeName:Ne.ZodNativeEnum,...Le(t)});class un extends Be{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==he.promise&&r.common.async===!1)return _e(r,{code:de.invalid_type,expected:he.promise,received:r.parsedType}),Pe;const n=r.parsedType===he.promise?r.data:Promise.resolve(r.data);return Ot(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}un.create=(e,t)=>new un({type:e,typeName:Ne.ZodPromise,...Le(t)});class Pt extends Be{innerType(){return this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null;if(a.type==="preprocess"){const s=a.transform(n.data);return n.common.async?Promise.resolve(s).then(u=>this._def.schema._parseAsync({data:u,path:n.path,parent:n})):this._def.schema._parseSync({data:s,path:n.path,parent:n})}const o={addIssue:s=>{_e(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="refinement"){const s=u=>{const c=a.refinement(u,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?Pe:(u.status==="dirty"&&r.dirty(),s(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?Pe:(u.status==="dirty"&&r.dirty(),s(u.value).then(()=>({status:r.value,value:u.value}))))}if(a.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ci(s))return s;const u=a.transform(s.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>ci(s)?Promise.resolve(a.transform(s.value,o)).then(u=>({status:r.value,value:u})):s);Ye.assertNever(a)}}Pt.create=(e,t,r)=>new Pt({schema:e,typeName:Ne.ZodEffects,effect:t,...Le(r)});Pt.createWithPreprocess=(e,t,r)=>new Pt({schema:t,effect:{type:"preprocess",transform:e},typeName:Ne.ZodEffects,...Le(r)});class $t extends Be{_parse(t){return this._getType(t)===he.undefined?Ot(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}$t.create=(e,t)=>new $t({innerType:e,typeName:Ne.ZodOptional,...Le(t)});class Ur extends Be{_parse(t){return this._getType(t)===he.null?Ot(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ur.create=(e,t)=>new Ur({innerType:e,typeName:Ne.ZodNullable,...Le(t)});class Xi extends Be{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===he.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Xi.create=(e,t)=>new $t({innerType:e,typeName:Ne.ZodOptional,...Le(t)});class vi extends Be{_parse(t){if(this._getType(t)!==he.nan){const n=this._getOrReturnCtx(t);return _e(n,{code:de.invalid_type,expected:he.nan,received:n.parsedType}),Pe}return{status:"valid",value:t.data}}}vi.create=e=>new vi({typeName:Ne.ZodNaN,...Le(e)});const rN=Symbol("zod_brand");class oy extends Be{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}const iy=(e,t={},r)=>e?sn.create().superRefine((n,a)=>{if(!e(n)){const o=typeof t=="function"?t(n):t,s=typeof o=="string"?{message:o}:o;a.addIssue({code:"custom",...s,fatal:r})}}):sn.create(),nN={object:Xe.lazycreate};var Ne;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded"})(Ne||(Ne={}));const aN=(e,t={message:`Input not instance of ${e.name}`})=>iy(r=>r instanceof e,t,!0),sy=tr.create,uy=dr.create,oN=vi.create,iN=li.create,cy=on.create,sN=pr.create,uN=fi.create,cN=di.create,lN=sn.create,fN=Sr.create,dN=mr.create,pN=pi.create,mN=Mt.create,hN=Xe.create,yN=Xe.strictCreate,vN=kn.create,gN=Zi.create,bN=Bn.create,wN=rr.create,xN=Ln.create,_N=hi.create,EN=Lr.create,SN=en.create,TN=yi.create,ON=Un.create,CN=Kn.create,RN=qn.create,NN=un.create,wp=Pt.create,AN=$t.create,PN=Ur.create,DN=Pt.createWithPreprocess,$N=()=>sy().optional(),IN=()=>uy().optional(),MN=()=>cy().optional(),FN=Pe;var ke=Object.freeze({__proto__:null,getParsedType:wr,ZodParsedType:he,defaultErrorMap:Fn,setErrorMap:QR,getErrorMap:si,makeIssue:ui,EMPTY_PATH:ZR,addIssueToContext:_e,ParseStatus:Tt,INVALID:Pe,DIRTY:XR,OK:Ot,isAborted:dc,isDirty:pc,isValid:ci,isAsync:mc,ZodType:Be,ZodString:tr,ZodNumber:dr,ZodBigInt:li,ZodBoolean:on,ZodDate:pr,ZodUndefined:fi,ZodNull:di,ZodAny:sn,ZodUnknown:Sr,ZodNever:mr,ZodVoid:pi,ZodArray:Mt,get objectUtil(){return mi},ZodObject:Xe,ZodUnion:kn,ZodDiscriminatedUnion:Zi,ZodIntersection:Bn,ZodTuple:rr,ZodRecord:Ln,ZodMap:hi,ZodSet:Lr,ZodFunction:en,ZodLazy:yi,ZodLiteral:Un,ZodEnum:Kn,ZodNativeEnum:qn,ZodPromise:un,ZodEffects:Pt,ZodTransformer:Pt,ZodOptional:$t,ZodNullable:Ur,ZodDefault:Xi,ZodNaN:vi,BRAND:rN,ZodBranded:oy,custom:iy,Schema:Be,ZodSchema:Be,late:nN,get ZodFirstPartyTypeKind(){return Ne},any:lN,array:mN,bigint:iN,boolean:cy,date:sN,discriminatedUnion:gN,effect:wp,enum:CN,function:SN,instanceof:aN,intersection:bN,lazy:TN,literal:ON,map:_N,nan:oN,nativeEnum:RN,never:dN,null:cN,nullable:PN,number:uy,object:hN,oboolean:MN,onumber:IN,optional:AN,ostring:$N,preprocess:DN,promise:NN,record:xN,set:EN,strictObject:yN,string:sy,transformer:wp,tuple:wN,undefined:uN,union:vN,unknown:fN,void:pN,NEVER:FN,ZodIssueCode:de,quotelessJson:GR,ZodError:sr});const gi=({options:e,isLoading:t,name:r,defaultSearchTerm:n,defaultValue:a,onSearchChange:o,readonly:s})=>{const[u,c]=y.exports.useState(n||""),[l,h]=y.exports.useState({}),g=G.exports.isEmpty(l)?a:l,N=G.exports.isObject(g)?JSON.stringify(g):g,O=y.exports.useMemo(()=>{const _=C=>{const v=C.target.value;v.length>1&&o(v),v!==u&&c(v),e.filter(S=>S.label===v).length===0&&h({})};return G.exports.debounce(_,300)},[o]),w=_=>{const C=e.filter(v=>v.label===_)[0];h(C.value),c(_)};return p.createElement(Cn,{onChange:w,value:u,disabled:s},({open:_})=>p.createElement("div",null,p.createElement(Cn.Button,{as:"div",onClick:C=>{(_||u.length===0)&&Ly(C)&&C.preventDefault()}},p.createElement(Cn.Input,{className:"ctw-listbox-input ctw-w-full",onChange:C=>{C.persist(),O(C)},placeholder:"Type to search"})),p.createElement("input",{hidden:!0,name:r,value:N,readOnly:!0}),p.createElement(Cn.Options,{className:"ctw-listbox ctw-absolute ctw-z-10 ctw-m-0 ctw-mt-1 ctw-max-h-60 ctw-w-full ctw-list-none ctw-overflow-auto ctw-rounded-md ctw-bg-white ctw-p-0 ctw-py-1 ctw-text-base ctw-shadow-lg ctw-ring-1 ctw-ring-opacity-5 focus:ctw-outline-none sm:ctw-text-sm"},p.createElement(kN,{options:e,query:u,isLoading:t}))))},kN=({options:e,query:t,isLoading:r})=>t.length===0?p.createElement(En,{option:{value:"",label:"Type to search"}}):r?p.createElement(En,{option:{value:"",label:"Loading..."}}):t.length<2?p.createElement(En,{option:{value:"",label:"Pleae type at least two characters"}}):e.length===0?p.createElement(En,{option:{value:"",label:`No results found for search term '${t}'`}}):p.createElement(p.Fragment,null,e.map(n=>p.createElement(En,{option:n,key:n.label}))),En=({option:e})=>p.createElement(Cn.Option,{value:e.label,className:({active:t})=>`ctw-relative ctw-cursor-default ctw-select-none ctw-py-2 ctw-pr-4 ctw-pl-4 ${t?"ctw-bg-primary-light ctw-text-primary-dark":"ctw-text-content-black"}`},e.label);try{gi.displayName="ComboboxField",gi.__docgenInfo={description:"",displayName:"ComboboxField",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ComboxboxFieldOption[]"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!0,type:{name:"T"}},defaultSearchTerm:{defaultValue:null,description:"",name:"defaultSearchTerm",required:!0,type:{name:"string"}},onSearchChange:{defaultValue:null,description:"",name:"onSearchChange",required:!0,type:{name:"(searchTerm: string) => void"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!0,type:{name:"boolean | undefined"}}}}}catch{}const cn=e=>e==="production"?"https://api.zusapi.com":`https://api.${e}.zusapi.com`,BN=e=>`${cn(e)}/forms-data/terminology/conditions`,LN=e=>`${cn(e)}/forms-data/terminology/dosages`,UN=async(e,t)=>{const{authToken:r,contextBuilderId:n}=e;return(await(await fetch(`${LN(e.env)}?display=${t}`,{headers:{Authorization:`Bearer ${r}`,...n&&{"Zus-Account":n}}})).json()).data},yc=({defaultCoding:e,readonly:t,...r})=>{const{getRequestContext:n}=Wt(),[a,o]=y.exports.useState(!1),[s,u]=y.exports.useState(),c=async l=>{o(!0);const h=await n(),g=await UN(h,l);g&&u(g.map(N=>({value:N,label:N.display}))),o(!1)};return p.createElement(gi,{options:s||[],isLoading:a,name:`${r.name}`,defaultSearchTerm:r.defaultValue,readonly:t,onSearchChange:c,defaultValue:e})};try{yc.displayName="MedicationsAutoComplete",yc.__docgenInfo={description:"",displayName:"MedicationsAutoComplete",props:{defaultCoding:{defaultValue:null,description:"",name:"defaultCoding",required:!1,type:{name:"Coding"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!0,type:{name:"boolean | undefined"}}}}}catch{}const vc=e=>{var t;return[{label:"Subject",value:e.subjectID,field:"subjectID",readonly:!0,hidden:!0},{label:"Date Asserted",value:(t=e.dateAsserted)!=null?t:Qn(new Date,"P"),field:"dateAsserted",readonly:!0},{label:"Medication",field:"medication",value:e.display,readonly:!1,render:(r,n)=>{var a;return p.createElement(yc,{readonly:r,...n,defaultCoding:(a=e.rxNormCoding)!=null?a:{}})}},{label:"Latest Status",value:e.status,field:"status"},{label:"Instructions",value:e.dosage,field:"dosage"}]},qN=ke.object({subjectID:ke.string({required_error:"Patient must be specified."}),dateAsserted:ke.date({required_error:"Date asserted is required."}),medication:ke.object({code:ke.string({required_error:"Please choose a medication."}),display:ke.string().optional(),system:ke.string().optional()}),dosage:ke.string().optional(),status:ke.enum(["active","completed","entered-in-error","intended","not-taken","on-hold","stopped","unknown"])});try{vc.displayName="getMedicationFormData",vc.__docgenInfo={description:"",displayName:"getMedicationFormData",props:{builderPatientRxNormStatus:{defaultValue:null,description:"",name:"builderPatientRxNormStatus",required:!1,type:{name:"Record<string, string>"}},basedOn:{defaultValue:null,description:"",name:"basedOn",required:!0,type:{name:"string | undefined"}},category:{defaultValue:null,description:"",name:"category",required:!0,type:{name:"string"}},context:{defaultValue:null,description:"",name:"context",required:!0,type:{name:"string | undefined"}},dateAsserted:{defaultValue:null,description:"",name:"dateAsserted",required:!0,type:{name:"string | undefined"}},derivedFrom:{defaultValue:null,description:"",name:"derivedFrom",required:!0,type:{name:"string[]"}},aggregatedFrom:{defaultValue:null,description:"",name:"aggregatedFrom",required:!0,type:{name:"Reference[]"}},display:{defaultValue:null,description:"",name:"display",required:!0,type:{name:"string"}},rxNormCoding:{defaultValue:null,description:"",name:"rxNormCoding",required:!0,type:{name:"Coding | undefined"}},dosage:{defaultValue:null,description:"",name:"dosage",required:!0,type:{name:"string | undefined"}},effectiveStart:{defaultValue:null,description:"",name:"effectiveStart",required:!0,type:{name:"string | undefined"}},identifier:{defaultValue:null,description:"",name:"identifier",required:!0,type:{name:"string | undefined"}},informationSource:{defaultValue:null,description:"",name:"informationSource",required:!0,type:{name:"Reference | undefined"}},medicationReference:{defaultValue:null,description:"",name:"medicationReference",required:!0,type:{name:"string | undefined"}},notesDisplay:{defaultValue:null,description:"",name:"notesDisplay",required:!0,type:{name:"string[]"}},partOf:{defaultValue:null,description:"",name:"partOf",required:!0,type:{name:"string | undefined"}},patientStatus:{defaultValue:null,description:"",name:"patientStatus",required:!0,type:{name:"string"}},rxNorm:{defaultValue:null,description:"",name:"rxNorm",required:!0,type:{name:"string | undefined"}},reason:{defaultValue:null,description:"",name:"reason",required:!0,type:{name:"string | undefined"}},reasonReference:{defaultValue:null,description:"",name:"reasonReference",required:!0,type:{name:"Reference[] | undefined"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},statusReason:{defaultValue:null,description:"",name:"statusReason",required:!0,type:{name:"string | undefined"}},subject:{defaultValue:null,description:"",name:"subject",required:!0,type:{name:"Reference"}},subjectID:{defaultValue:null,description:"",name:"subjectID",required:!0,type:{name:"string"}},lastFillDate:{defaultValue:null,description:"",name:"lastFillDate",required:!0,type:{name:"string | undefined"}},quantity:{defaultValue:null,description:"",name:"quantity",required:!0,type:{name:"string | undefined"}},daysSupply:{defaultValue:null,description:"",name:"daysSupply",required:!0,type:{name:"string | undefined"}},refills:{defaultValue:null,description:"",name:"refills",required:!0,type:{name:"string | undefined"}},lastPrescriber:{defaultValue:null,description:"",name:"lastPrescriber",required:!0,type:{name:"string | undefined"}},lastPrescribedDate:{defaultValue:null,description:"",name:"lastPrescribedDate",required:!0,type:{name:"string | undefined"}},resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"MedicationStatement"}},includedResources:{defaultValue:null,description:"",name:"includedResources",required:!1,type:{name:"ResourceMap"}},revIncludes:{defaultValue:null,description:"",name:"revIncludes",required:!1,type:{name:"Resource[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isSummaryResource:{defaultValue:null,description:"",name:"isSummaryResource",required:!0,type:{name:"boolean"}},resourceType:{defaultValue:null,description:"",name:"resourceType",required:!0,type:{name:"string"}},getBasicResourceByAction:{defaultValue:null,description:"",name:"getBasicResourceByAction",required:!0,type:{name:"(profileAction: string) => Basic | undefined"}},toString:{defaultValue:null,description:"",name:"toString",required:!1,type:{name:"() => string"}}}}}catch{}const VN=[Ul,Vh,jh],jN=async(e,t)=>{const r={resourceType:"MedicationStatement",status:e.status,dateAsserted:Dr(e.dateAsserted),subject:{type:"Patient",reference:`Patient/${e.subjectID}`},medicationCodeableConcept:{text:e.medication.display,coding:[{system:xh,code:e.medication.code}]},...e.dosage&&{dosage:[{text:e.dosage}]}},n=new Br(r),a=await YC(n.resource,await t());return await Promise.all(VN.map(async o=>Mr.invalidateQueries([o]))),a},bi=({isOpen:e,handleOnClose:t,medication:r,children:n})=>{var s,u;const a=Vl(),o=vc(new Br(r!=null?r:{resourceType:"MedicationStatement",status:"active",subject:{reference:`Patient/${(s=a.data)==null?void 0:s.id}`,display:(u=a.data)==null?void 0:u.display},dateAsserted:Qn(new Date,"yyyy-MM-dd")}));return p.createElement(p.Fragment,null,n,p.createElement(Hn,{title:"Add Medication",action:jN,data:o,schema:qN,isOpen:e,onClose:()=>t()}))};try{bi.displayName="AddNewMedDrawer",bi.__docgenInfo={description:"",displayName:"AddNewMedDrawer",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},handleOnClose:{defaultValue:null,description:"",name:"handleOnClose",required:!0,type:{name:"() => void"}},medication:{defaultValue:null,description:"",name:"medication",required:!1,type:{name:"MedicationStatement"}}}}}catch{}function HN(){return vn(jh,[{informationSourceNot:"Patient"}],oR)}function zN(){return vn(Vh,[],iR)}function ly(){const[e,t]=y.exports.useState(),[r,n]=y.exports.useState(),a=zN(),o=HN();y.exports.useEffect(()=>{var l,h;if(((l=a.data)==null?void 0:l.bundle)&&((h=o.data)==null?void 0:h.bundle)){const{medications:g}=a.data,{medications:N}=o.data,O=bh([a.data.bundle,o.data.bundle]),w=uR(g,N,O);t(w.builderMedications.map(_=>new Br(_,O))),n(w.otherProviderMedications.map(_=>new Br(_,O)))}},[a.data,o.data]);const s=o.isLoading||a.isLoading,u=o.isFetching||a.isFetching,c=o.isError||a.isError;return{isFetching:u,isLoading:s,isError:c,builderMedications:e,otherProviderMedications:r}}function gc({sortOrder:e="asc",sortColumn:t="display"}){const[r,n]=y.exports.useState([]),[a,o]=y.exports.useState(!1),[s,u]=y.exports.useState(!1),[c,l]=y.exports.useState(),{otherProviderMedications:h,isLoading:g}=ly();function N(w){l(w),o(!0)}function O(w){l(w),u(!0)}return y.exports.useEffect(()=>{!h||n(jl(h,Ee.pipe(Ee.get(t),Ee.toLower),e))},[h,t,e]),p.createElement(p.Fragment,null,p.createElement(ii,{medicationStatements:r,isLoading:g,rowMenuActions:w=>[{name:"View History",action:async()=>{N(w)}},{name:"Add to Record",action:async()=>{O(w)}}]}),p.createElement(oi,{medication:c,isOpen:a,onClose:()=>o(!1)}),p.createElement(bi,{medication:c==null?void 0:c.resource,isOpen:s,handleOnClose:()=>u(!1)}))}try{gc.displayName="OtherProviderMedsTable",gc.__docgenInfo={description:`Displays a table of medications that are not scoped to the current builder.
This component displays the inverse results of \`ProviderMedsTable\`.

The table has a menu to the right side which will pull out the
history for the medication listed in that row.`,displayName:"OtherProviderMedsTable",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},sortColumn:{defaultValue:{value:"display"},description:"",name:"sortColumn",required:!1,type:{name:"enum",value:[{value:'"builderPatientRxNormStatus"'},{value:'"basedOn"'},{value:'"category"'},{value:'"context"'},{value:'"dateAsserted"'},{value:'"derivedFrom"'},{value:'"aggregatedFrom"'},{value:'"display"'},{value:'"rxNormCoding"'},{value:'"dosage"'},{value:'"effectiveStart"'},{value:'"identifier"'},{value:'"informationSource"'},{value:'"medicationReference"'},{value:'"notesDisplay"'},{value:'"partOf"'},{value:'"patientStatus"'},{value:'"rxNorm"'},{value:'"reason"'},{value:'"reasonReference"'},{value:'"status"'},{value:'"statusReason"'},{value:'"subject"'},{value:'"subjectID"'},{value:'"lastFillDate"'},{value:'"quantity"'},{value:'"daysSupply"'},{value:'"refills"'},{value:'"lastPrescriber"'},{value:'"lastPrescribedDate"'},{value:'"resource"'},{value:'"includedResources"'},{value:'"revIncludes"'},{value:'"id"'},{value:'"isSummaryResource"'},{value:'"resourceType"'},{value:'"getBasicResourceByAction"'},{value:'"toString"'}]}},sortOrder:{defaultValue:{value:"asc"},description:"",name:"sortOrder",required:!1,type:{name:"enum",value:[{value:'"asc"'},{value:'"desc"'}]}}}}}catch{}function bc({showInactive:e=!1,sortColumn:t="display",sortOrder:r="asc"}){const[n,a]=y.exports.useState([]),[o,s]=y.exports.useState(!1),[u,c]=y.exports.useState(),{builderMedications:l,isLoading:h}=ly();function g(N){c(N),s(!0)}return y.exports.useEffect(()=>{!l||a(jl(e?l:l.filter(N=>N.status==="Active"),Ee.pipe(Ee.get(t),Ee.toLower),r))},[l,t,r,e]),p.createElement(p.Fragment,null,p.createElement(ii,{medicationStatements:n,isLoading:h,rowMenuActions:N=>[{name:"View History",action:async()=>{g(N)}}]}),p.createElement(oi,{medication:u,isOpen:o,onClose:()=>s(!1)}))}try{bc.displayName="ProviderMedsTable",bc.__docgenInfo={description:`Displays a table of medications that are scoped to the CTWContext builder
and patient. To show medications that aren't scoped to the builder, use the
\`OtherProviderMedsTable\` instead.

The table has a menu to the right side which will pull out the
history for the medication listed in that row.`,displayName:"ProviderMedsTable",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},sortColumn:{defaultValue:{value:"display"},description:"",name:"sortColumn",required:!1,type:{name:"enum",value:[{value:'"builderPatientRxNormStatus"'},{value:'"basedOn"'},{value:'"category"'},{value:'"context"'},{value:'"dateAsserted"'},{value:'"derivedFrom"'},{value:'"aggregatedFrom"'},{value:'"display"'},{value:'"rxNormCoding"'},{value:'"dosage"'},{value:'"effectiveStart"'},{value:'"identifier"'},{value:'"informationSource"'},{value:'"medicationReference"'},{value:'"notesDisplay"'},{value:'"partOf"'},{value:'"patientStatus"'},{value:'"rxNorm"'},{value:'"reason"'},{value:'"reasonReference"'},{value:'"status"'},{value:'"statusReason"'},{value:'"subject"'},{value:'"subjectID"'},{value:'"lastFillDate"'},{value:'"quantity"'},{value:'"daysSupply"'},{value:'"refills"'},{value:'"lastPrescriber"'},{value:'"lastPrescribedDate"'},{value:'"resource"'},{value:'"includedResources"'},{value:'"revIncludes"'},{value:'"id"'},{value:'"isSummaryResource"'},{value:'"resourceType"'},{value:'"getBasicResourceByAction"'},{value:'"toString"'}]}},sortOrder:{defaultValue:{value:"asc"},description:"",name:"sortOrder",required:!1,type:{name:"enum",value:[{value:'"asc"'},{value:'"desc"'}]}},showInactive:{defaultValue:{value:"false"},description:"",name:"showInactive",required:!1,type:{name:"boolean"}}}}}catch{}function xp({className:e,children:t}){return p.createElement("div",{className:it("ctw-container",e)},t)}function wi({className:e,children:t}){const r=y.exports.useRef(null),n=zl(r),a=it(e,{"ctw-stacked":n.sm});return p.createElement("div",{className:a,ref:r},t)}function xi({className:e,title:t,children:r}){return p.createElement("div",{className:it("ctw-heading-container",e)},t&&p.createElement("div",{className:"ctw-title"},t),r)}function _i({className:e,title:t,children:r}){return p.createElement("div",{className:it("ctw-title-container",e)},t&&p.createElement("div",{className:"ctw-title"},t),r)}function Vn({className:e,title:t,titleChildren:r,children:n}){const a=!!(t||r);return p.createElement("div",{className:it("ctw-body-container",e)},p.createElement("div",{className:"ctw-space-y-3"},a&&p.createElement(_i,{title:t},r),n))}try{xp.displayName="Wrapper",xp.__docgenInfo={description:"",displayName:"Wrapper",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}try{wi.displayName="StackedWrapper",wi.__docgenInfo={description:"",displayName:"StackedWrapper",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}try{xi.displayName="Heading",xi.__docgenInfo={description:"",displayName:"Heading",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}try{_i.displayName="Title",_i.__docgenInfo={description:"",displayName:"Title",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}try{Vn.displayName="Body",Vn.__docgenInfo={description:"",displayName:"Body",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},titleChildren:{defaultValue:null,description:"",name:"titleChildren",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}}}}}catch{}const Ei=({name:e,text:t,onChange:r,inputProps:n})=>p.createElement("div",{className:"ctw-toggle"},p.createElement("div",{className:"ctw-relative ctw-mr-2 ctw-inline-block ctw-w-10 ctw-select-none ctw-align-middle ctw-transition ctw-duration-200 ctw-ease-in"},p.createElement("label",{htmlFor:e,className:"ctw-relative ctw-block ctw-h-6 ctw-cursor-pointer ctw-overflow-hidden ctw-rounded-full ctw-bg-divider-light"},p.createElement("input",{onChange:r,...n,type:"checkbox",name:e,id:e}),p.createElement("span",{className:"ctw-toggle-span"}))),p.createElement("label",{htmlFor:e,className:"ctw-text-sm ctw-font-medium ctw-text-icon-default"},t));try{Ei.displayName="Toggle",Ei.__docgenInfo={description:"",displayName:"Toggle",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},inputProps:{defaultValue:null,description:"",name:"inputProps",required:!1,type:{name:"{ value: string; defaultChecked: boolean; } | { value: string; checked: boolean; disabled: boolean; }"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((event: ChangeEvent<HTMLInputElement>) => void)"}}}}}catch{}const Si=({toggleProps:e,onFormChange:t})=>p.createElement("form",{onChange:t,className:"ctw-text-end"},p.createElement(Ei,{...e}));try{Si.displayName="ToggleControl",Si.__docgenInfo={description:"",displayName:"ToggleControl",props:{toggleProps:{defaultValue:null,description:"",name:"toggleProps",required:!0,type:{name:"ToggleProps"}},onFormChange:{defaultValue:null,description:"",name:"onFormChange",required:!0,type:{name:"(e: FormEvent<HTMLFormElement>) => void"}}}}}catch{}function _p({className:e,readOnly:t=!1,showConfirmedMedsTable:r=!0,showOtherProvidersMedsTable:n=!0}){const[a,o]=y.exports.useState(!1),[s,u]=y.exports.useState(!1);return p.createElement(wi,{className:it("ctw-patient-medications",e)},p.createElement(xi,{title:"Medications"},!t&&p.createElement(bi,{isOpen:a,handleOnClose:()=>o(!1)},p.createElement("button",{className:"ctw-btn-clear ctw-link",type:"button",onClick:()=>o(!0)},"+ Add Medication"))),r&&p.createElement(Vn,null,p.createElement(_i,{title:"Confirmed Medications"},p.createElement(Si,{onFormChange:()=>u(!s),toggleProps:{name:"status",text:"Include Inactive"}})),p.createElement(bc,{showInactive:s})),n&&p.createElement(Vn,{title:"Other Provider Records"},p.createElement(gc,null)))}try{_p.displayName="PatientMedications",_p.__docgenInfo={description:"",displayName:"PatientMedications",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"active"'},{value:'"entered-in-error"'},{value:'"not-taken"'},{value:'"completed"'},{value:'"on-hold"'},{value:'"intended"'},{value:'"stopped"'}]}},showConfirmedMedsTable:{defaultValue:{value:"true"},description:"",name:"showConfirmedMedsTable",required:!1,type:{name:"boolean"}},showOtherProvidersMedsTable:{defaultValue:{value:"true"},description:"",name:"showOtherProvidersMedsTable",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}}}}}catch{}const wc=({currentPage:e,isLoading:t=!1,pageSize:r,setCurrentPage:n,total:a})=>{const o=Math.min(a,(e-1)*r+1),s=Math.min(e*r,a),u=Math.ceil(a/r),c=Math.max(e-1,1),l=Math.min(e+1,u);let h=[1,u];return h.push(e-1,e,e+1),h=G.exports.uniq(h.sort((g,N)=>g-N).filter(g=>g>=1&&g<=u)),p.createElement("div",{className:"ctw-flex ctw-justify-between ctw-py-3 ctw-px-6"},p.createElement("div",{className:"ctw-text-gray-600 ctw-text-sm"},t?p.createElement(Fr,null):p.createElement(p.Fragment,null,p.createElement("span",{className:"ctw-font-medium"},o)," to"," ",p.createElement("span",{className:"ctw-font-medium"},s)," of"," ",p.createElement("span",{className:"ctw-font-medium"},a)," results")),u>1&&p.createElement("div",null,p.createElement("nav",{className:"ctw-pagination-nav","aria-label":"Pagination"},p.createElement(ha,{page:c,setCurrentPage:n,className:"ctw-pagination-group-start ctw-hover:ctw-bg-gray-50",disabled:e===1},p.createElement("span",{className:"ctw-sr-only"},"Previous"),p.createElement(C0,{className:"ctw-h-5 ctw-w-5","aria-hidden":"true"})),h.map((g,N)=>{var _;const O=(_=h[N-1])!=null?_:0,w=g-O-1;return p.createElement(y.exports.Fragment,{key:g},w>1&&p.createElement("span",{className:"ctw-pagination-ellipsis"},"..."),w===1&&p.createElement(ha,{page:g-1,setCurrentPage:n,currentPage:e}),p.createElement(ha,{setCurrentPage:n,page:g,currentPage:e}))}),p.createElement(ha,{page:l,setCurrentPage:n,className:"ctw-pagination-group-end",disabled:e===u},p.createElement("span",{className:"ctw-sr-only"},"Next"),p.createElement(A0,{className:"ctw-h-5 ctw-w-5","aria-hidden":"true"})))))},ha=({setCurrentPage:e,page:t,currentPage:r,children:n,className:a,disabled:o=!1})=>{const s=t===r;return p.createElement("button",{type:"button",disabled:o,onClick:()=>e(t),className:it(a,"ctw-pagination-page-btn",{active:s,disabled:o})},n||t)};try{wc.displayName="Pagination",wc.__docgenInfo={description:"",displayName:"Pagination",props:{currentPage:{defaultValue:null,description:"",name:"currentPage",required:!0,type:{name:"number"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}},setCurrentPage:{defaultValue:null,description:"",name:"setCurrentPage",required:!0,type:{name:"(n: number) => void"}},total:{defaultValue:null,description:"",name:"total",required:!0,type:{name:"number"}}}}}catch{}function WN(e,t,r){return Mg(ZC,[e,t,r],rR)}const Ep=({className:e,handleAddNewPatient:t,handleRowClick:r,pageSize:n=5,title:a="Patients"})=>{const[o,s]=y.exports.useState(1),[u,c]=y.exports.useState(0),[l,h]=y.exports.useState([]),[g,N]=y.exports.useState(),{data:{patients:O,total:w}={},isFetching:_,isError:C}=WN(n,o-1,g),v=y.exports.useCallback(G.exports.debounce(S=>{N(S),s(1),c(0),h([])},100),[]);return y.exports.useEffect(()=>{!_&&O&&(c(w!=null?w:0),h(O))},[O,w,C,_]),y.exports.useEffect(()=>{C&&(c(0),h([]))},[C,_]),p.createElement(wi,{className:it("ctw-patients-table",e)},p.createElement(xi,{title:a},p.createElement("div",{className:"ctw-relative"},p.createElement("div",{className:"ctw-search-icon-wrapper"},p.createElement(H0,{className:"ctw-search-icon"})),p.createElement("input",{type:"text",className:"ctw-patients-table-search",placeholder:"Search",name:"searchPatientName",onChange:S=>v(S.currentTarget.value)}))),p.createElement(Vn,null,p.createElement(il,{records:l,columns:YN,handleRowClick:r,hidePagination:!0},p.createElement(wc,{setCurrentPage:s,total:u,currentPage:o,pageSize:n,isLoading:_}))))},YN=[{title:"Name",render:e=>p.createElement(GN,{patient:e})},{title:"Contact",render:({email:e,phoneNumber:t})=>p.createElement(p.Fragment,null,p.createElement("div",{className:"ctw-patients-table-email"},e),p.createElement("div",{className:"ctw-patients-table-phone"},t))}],GN=({patient:e})=>p.createElement("div",{className:"ctw-flex ctw-items-center"},p.createElement("div",{className:"ctw-ml-4"},p.createElement("div",{className:"ctw-flex ctw-font-medium"},p.createElement("div",{className:"ctw-max-w-xs"},e.fullName),e.gender&&p.createElement("div",{className:"ctw-uppercase"}," (",e.gender[0],")")),p.createElement("div",{className:"ctw-text-content-lighter"},e.dob," (",e.age,")")));try{Ep.displayName="PatientsTable",Ep.__docgenInfo={description:"PatientsTable displays a paginated list of all patients for a builder. In\naddition to having configurable page size, lazy loading and name search, the\ncomponent accepts an `onRowClick` prop so developers can add their own\nlogic when a row is clicked. The `onRowClick` receives the targeted\n`PatientModel` as its sole argument, which contains the underlying FHIR\nobject as `.resource`.",displayName:"PatientsTable",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}},handleRowClick:{defaultValue:null,description:"",name:"handleRowClick",required:!0,type:{name:"(row: PatientModel) => void"}},handleAddNewPatient:{defaultValue:null,description:"",name:"handleAddNewPatient",required:!1,type:{name:"(() => void)"}},pageSize:{defaultValue:{value:"5"},description:"",name:"pageSize",required:!1,type:{name:"number"}},title:{defaultValue:{value:"Patients"},description:"",name:"title",required:!1,type:{name:"string"}},getRowClasses:{defaultValue:null,description:"",name:"getRowClasses",required:!1,type:{name:"((row: PatientModel) => Argument)"}},onRowClick:{defaultValue:null,description:"",name:"onRowClick",required:!1,type:{name:"((row: PatientModel) => void)"}}}}}catch{}const Sp=({className:e,color:t,text:r})=>{const n={primary:"ctw-bg-primary-light ctw-text-primary-main",gray:"ctw-bg-bg-light ctw-text-content-light",info:"ctw-bg-info-light ctw-text-info-main",success:"ctw-bg-success-light ctw-text-success-main",caution:"ctw-bg-caution-light ctw-text-caution-main",error:"ctw-bg-error-light ctw-text-error-main"}[t];return p.createElement("span",{className:it(e,n,"ctw-inline-flex ctw-rounded-full ctw-px-2 ctw-text-xs ctw-font-semibold ctw-leading-5")},r)};try{Sp.displayName="Badge",Sp.__docgenInfo={description:"",displayName:"Badge",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"enum",value:[{value:'"error"'},{value:'"primary"'},{value:'"gray"'},{value:'"info"'},{value:'"success"'},{value:'"caution"'}]}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}}}}}catch{}const Ti=({isOpen:e,onAfterClosed:t,children:r,className:n})=>p.createElement(ts,{appear:!0,show:e,as:y.exports.Fragment},p.createElement(af,{as:"div",className:"ctw-relative ctw-z-[10100]",onClose:()=>{}},p.createElement(ts.Child,{as:y.exports.Fragment,enter:"ctw-ease-out ctw-duration-300",enterFrom:"ctw-opacity-0",enterTo:"ctw-opacity-100",leave:"ctw-ease-in ctw-duration-200",leaveFrom:"ctw-opacity-100",leaveTo:"ctw-opacity-0",afterLeave:t},p.createElement("div",{className:"ctw-fixed ctw-inset-0  ctw-transition-opacity"},p.createElement("div",{className:"ctw-h-full ctw-w-full ctw-bg-content-light ctw-opacity-75"}))),p.createElement("div",{className:"ctw-fixed ctw-inset-0 ctw-overflow-auto"},p.createElement("div",{className:"ctw-flex ctw-min-h-full ctw-items-center ctw-justify-center ctw-p-4 ctw-text-center"},p.createElement(ts.Child,{as:y.exports.Fragment,enter:"ctw-ease-out ctw-duration-300",enterFrom:"ctw-opacity-0 ctw-scale-95",enterTo:"ctw-opacity-100 ctw-scale-100",leave:"ctw-ease-in ctw-duration-200",leaveFrom:"ctw-opacity-100 ctw-scale-100",leaveTo:"ctw-opacity-0 ctw-scale-95"},p.createElement(af.Panel,{className:it("ctw-min-w-fit ctw-max-w-lg ctw-transform ctw-rounded-lg ctw-bg-white ctw-py-10 ctw-px-10 ctw-align-middle ctw-shadow-xl",n)},p.createElement("div",{className:"ctw-flex ctw-h-full ctw-flex-col ctw-space-y-6"},r)))))));try{Ti.displayName="Modal",Ti.__docgenInfo={description:"",displayName:"Modal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onAfterClosed:{defaultValue:null,description:"",name:"onAfterClosed",required:!1,type:{name:"(() => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const QN={INF:{fullName:"Certain Infectious and Parasitic Diseases",shortName:"Infectious and Parasitic Diseases"},NEO:{fullName:"Neoplasms",shortName:"Neoplasms"},BLD:{fullName:"Diseases of the Blood and Blood Forming Organs and Certain Disorders Involving the Immune Mechanism",shortName:"Blood Diseases"},END:{fullName:"Endocrine, Nutritional and Metabolic Diseases",shortName:"Endocrine, Nutritional and Metabolic"},MBD:{fullName:"Mental, Behavioral and Neurodevelopmental Disorders",shortName:"Mental and Behavioral"},NVS:{fullName:"Diseases of the Nervous System",shortName:"Nervous System"},EYE:{fullName:"Diseases of the Eye and Adnexa",shortName:"Eye and Adnexa"},EAR:{fullName:"Diseases of the Ear and Mastoid Process",shortName:"Ear and Mastoid Process"},CIR:{fullName:"Diseases of the Circulatory System",shortName:"Circulatory System"},RSP:{fullName:"Diseases of the Respiratory System",shortName:"Respiratory System"},DIG:{fullName:"Diseases of the Digestive System",shortName:"Digestive System"},SKN:{fullName:"Diseases of the Skin and Subcutaneous Tissue",shortName:"Skin and Subcutaneous Tissue"},MUS:{fullName:"Diseases of the Musculoskeletal System and Connective Tissue",shortName:"Musculoskeletal System"},GEN:{fullName:"Diseases of the Genitourinary System",shortName:"Genitourinary System"},PRG:{fullName:"Pregnancy, Childbirth and the Puerperium",shortName:"Pregnancy & Childbirth"},PNL:{fullName:"Certain Conditions Originating in the Perinatal Period",shortName:"Perinatal Conditions"},MAL:{fullName:"Congenital Malformations, Deformations and Chromosomal Abnormalities",shortName:"Malformations and Chromosomal Abnormalities"},SYM:{fullName:"Symptoms, Signs and Abnormal Clinical and Laboratory Findings",shortName:"Clinical Findings"},INJ:{fullName:"Injury, Poisoning and Certain Other Consequences of External Causes",shortName:"External Causes Injury"},EXT:{fullName:"External Causes of Morbidity",shortName:"External Morbidity"},FAC:{fullName:"Factors Influencing Health Status and Contact with Health Services",shortName:"Health Status Influences"},XXX:{fullName:"Unacceptable principal diagnosis (inpatient data) or first-listed diagnosis (outpatient data)",shortName:"Unacceptable principal diagnosis"}};function fy(e){return G.exports.cloneDeep(e)}const ZN=e=>{let t="",r="";switch(e){case"Active":t="confirmed",r="active";break;case"Inactive":t="confirmed",r="inactive";break;case"Pending":t="unconfirmed",r="active";break;case"Refuted":t="refuted",r="inactive";break;case"Entered In Error":t="entered-in-error";break;default:throw Error("status is should be of type ConditionStatus")}return G.exports.omitBy({verificationStatus:{coding:[{system:Il,code:t}]},...r&&{clinicalStatus:{coding:[{system:ic,code:r}]}}},G.exports.isUndefined)},XN=async(e,t,r,n)=>{const a=await n(),o={resourceType:"Condition",id:r.id,recorder:await Yi(a),...ZN(r.status),category:r.id&&e?e.resource.category:[{coding:[{system:SC,code:"problem-list-item",display:"Problem List Item"}]}],code:r.id&&e?e.codings:{coding:[{system:r.condition.system,code:r.condition.code,display:r.condition.display}],text:r.condition.display},...r.abatement&&{abatementDateTime:Dr(r.abatement)},onsetDateTime:Dr(r.onset),recordedDate:Dr(new Date),subject:{type:"Patient",reference:`Patient/${t}`},note:r.note?[{text:r.note}]:void 0},s=await Gi(o,a);return await Promise.all([Mr.invalidateQueries([Bl]),Mr.invalidateQueries([Ll])]),s},xs=[{system:Zr,checkForEnrichment:!0},{system:Nn,checkForEnrichment:!0},{system:Zr},{system:Nn},{system:RC},{system:OC},{system:CC}];function KN(e){const t={resourceType:"Condition",subject:{type:"Patient",reference:`Patient/${e}`}};return fy(t)}function JN(){return vn(Bl,[],async(e,t)=>{try{const{bundle:r,resources:n}=await Xn("Condition",e,{patientUPID:t.UPID});return py(dy(n,r))}catch(r){throw new Error(`Failed fetching condition information for patient: ${r}`)}})}function eA(){return vn(Ll,[],async(e,t)=>{try{const{bundle:r,resources:n}=await MC("Condition",e,{_revinclude:"Basic:subject",patientUPID:t.UPID});return py(dy(n,r))}catch(r){throw new Error(`Failed fetching condition information for patient: ${r}`)}})}function tA(e){return vn(QC,[e],async(t,r)=>{if(!!e)try{const n=e.knownCodings.map(u=>`${u.system}|${u.code}`),a={patientUPID:r.UPID,_include:["Condition:patient","Condition:encounter"],"_include:iterate":"Patient:organization"};n.length>0?a.code=n.join(","):a._id=e.id;const{resources:o,bundle:s}=await FC("Condition",t,a);return{conditions:o,bundle:s}}catch(n){throw new Error(`Failed fetching condition history information for patient: ${n}`)}},!!e)}function dy(e,t){const r=_C(t);return e.map(n=>{var a;return new Oi(n,void 0,r[(a=n.id)!=null?a:""])})}function py(e){return G.exports.orderBy(e.filter(t=>{var r;return((r=t.resource.asserter)==null?void 0:r.type)!=="Patient"}),[t=>{var r;return(r=t.resource.recordedDate)!=null?r:""},t=>t.display],["desc"])}async function rA(e,t){const r=new Map;return t&&await Promise.all(t.map(async n=>{var l,h;const a=`${cn(e.env)}/fhir/Provenance?target=Condition/${n.id}`,s=await(await fetch(a,{headers:{Authorization:`Bearer ${e.authToken}`}})).json();let u;if(((h=(l=s.entry)==null?void 0:l[0].resource.entity)==null?void 0:h[0].role)==="source"){const g=s.entry[0].resource.entity[0].what.reference,N=`${cn(e.env)}/fhir/${g}`;u=await(await fetch(N,{headers:{Authorization:`Bearer ${e.authToken}`,accept:"application/json","Content-Type":"application/json+fhir"}})).json()}const c={xmlBinary:u||void 0,isBinary:(u==null?void 0:u.data)!==void 0};r.set(n.id,c)})),r}class Oi extends gr{get abatement(){var t,r,n;return this.resource.abatementAge?(t=this.resource.abatementAge.value)==null?void 0:t.toString():this.resource.abatementDateTime?gt(this.resource.abatementDateTime):this.resource.abatementPeriod?gt(this.resource.abatementPeriod.start):this.resource.abatementRange?gt((n=(r=this.resource.abatementRange.low)==null?void 0:r.value)==null?void 0:n.toString()):this.resource.abatementString}get active(){var r;const t=G.exports.find((r=this.resource.clinicalStatus)==null?void 0:r.coding,{system:ic});return t!=null&&t.code?["active","recurrence","relapse"].includes(t.code):!1}get isArchived(){return this.getBasicResourceByAction("archive")!==void 0}get asserter(){var t;return(t=this.resource.asserter)==null?void 0:t.display}get bodySites(){var t;return((t=this.resource.bodySite)==null?void 0:t.map(r=>xt(r)))||[]}get categories(){var t;return((t=this.resource.category)==null?void 0:t.map(r=>xt(r)))||[]}get ccsChapter(){var r;const t=this.ccsChapterCode;if(!!t)return(r=QN[t])==null?void 0:r.shortName}get ccsChapterCode(){var t,r;return(r=(t=qt(ap,this.resource.code))==null?void 0:t.code)==null?void 0:r.slice(0,3)}get ccsGrouping(){var t;return(t=qt(ap,this.resource.code))==null?void 0:t.display}get clinicalStatus(){return xt(this.resource.clinicalStatus)}get clinicalStatusCode(){var t,r;return(r=G.exports.find((t=this.resource.clinicalStatus)==null?void 0:t.coding,{system:ic}))==null?void 0:r.code}get codings(){return this.resource.code}get display(){var t,r;return(r=(t=sp(xs,this.resource.code))==null?void 0:t.display)!=null?r:xt(this.resource.code)}get encounter(){var t;return(t=this.resource.encounter)==null?void 0:t.display}get evidences(){var t;return((t=this.resource.evidence)==null?void 0:t.map(r=>{var n;return xt((n=r.code)==null?void 0:n[0])}))||[]}get icd10Code(){var t;return(t=qt(Nn,this.resource.code))==null?void 0:t.code}get icd10System(){var t;return(t=qt(Nn,this.resource.code))==null?void 0:t.system}get icd10Display(){var t;return(t=qt(Nn,this.resource.code))==null?void 0:t.display}get knownCodings(){const t=G.exports.compact(xs.map(n=>n.checkForEnrichment?Bh(n.system,this.resource.code):qt(n.system,this.resource.code)));return G.exports.uniqWith(t,(n,a)=>n.system===a.system)}knownCodingsMatch(t){return G.exports.intersectionWith(this.knownCodings,t.knownCodings,(r,n)=>r.code===n.code&&r.system===n.system).length>0}get notes(){var t;return((t=this.resource.note)==null?void 0:t.map(r=>r.text))||[]}get onset(){var t,r,n;return this.resource.onsetAge?(t=this.resource.onsetAge.value)==null?void 0:t.toString():this.resource.onsetDateTime?gt(this.resource.onsetDateTime):this.resource.onsetPeriod?gt(this.resource.onsetPeriod.start):this.resource.onsetRange?gt((n=(r=this.resource.onsetRange.low)==null?void 0:r.value)==null?void 0:n.toString()):dC(this.resource.onsetString)}get patient(){const t=fr("Patient",this.resource.contained,this.includedResources,this.resource.subject.reference);if(t)return new Qi(t,this.includedResources)}get preferredCoding(){return sp(xs,this.resource.code)}get recordedDate(){return gt(this.resource.recordedDate)}get recorded(){return gt(this.resource.recordedDate)}get recorder(){var t;return(t=this.resource.recorder)==null?void 0:t.display}get severity(){return xt(this.resource.severity)}get snomedCoding(){return qt(Zr,this.resource.code)}get snomedCode(){var t;return(t=qt(Zr,this.resource.code))==null?void 0:t.code}get snomedDisplay(){var t;return(t=qt(Zr,this.resource.code))==null?void 0:t.display}get snomedSystem(){var t;return(t=qt(Zr,this.resource.code))==null?void 0:t.system}get stages(){var t;return((t=this.resource.stage)==null?void 0:t.map(r=>{const n=xt(r.summary),a=xt(r.type);return`Summary: ${n}, Type: ${a}`}))||[]}get status(){function t(r){switch(r){case"active":case"recurrence":case"relapse":return"Active";case"inactive":case"remission":case"resolved":return"Inactive";default:return"Unknown"}}if(this.isSummaryResource)return this.isArchived?"Dismissed":t(this.clinicalStatusCode);switch(this.verificationStatusCode){case"confirmed":return t(this.clinicalStatusCode);case"unconfirmed":return"Pending";case"refuted":return"Refuted";case"entered-in-error":return"Entered in Error";default:return"Unknown"}}get subjectID(){var r;const[,t]=((r=this.resource.subject.reference)==null?void 0:r.split("/"))||[];return t||""}get verificationStatus(){return xt(this.resource.verificationStatus)}get verificationStatusCode(){var t,r;return(r=G.exports.find((t=this.resource.verificationStatus)==null?void 0:t.coding,{system:Il}))==null?void 0:r.code}}function nA(e){return typeof e=="object"&&e!==null?"message"in e:!1}const ln=(e,t)=>{if(ai(t))throw jC(e,t);return nA(t)?{title:e,statusText:t.message}:{title:e}},my=e=>{let t=[],r=!0;return ai(e)&&kh(e.response.data)?(t=new Lh(e.response.data).issues.filter(n=>n.severity!=="warning").map(n=>n.display),r=!1):e instanceof Error&&(t=[e.message],r=!1),{requestErrors:t,responseIsSuccess:r}};function hy(e,t,r,n){var s;let a=t;for(;a instanceof Xe||a instanceof Pt;)if(a=a instanceof Xe?a.shape:a instanceof Pt?a._def.schema:null,a===null)throw new Error(`Could not find shape for key ${r}`);if(r.includes(".")){let[u,...c]=r.split(".");e[u]=(s=e[u])!=null?s:{},hy(e[u],a[u],c.join("."),n);return}r.includes("[]")&&(r=r.replace("[]",""));const o=a[r];o&&io(o,e,r,n)}function io(e,t,r,n){let a;if(e instanceof tr||e instanceof Un)a=n;else if(e instanceof dr){const o=Number(n);a=isNaN(o)?n:o}else if(e instanceof pr){const o=Date.parse(n);a=isNaN(o)?n:new Date(o)}else if(e instanceof on)a=n==="true"?!0:n==="false"?!1:Boolean(n);else if(e instanceof qn||e instanceof Kn)a=n;else if(e instanceof $t||e instanceof Xi){io(e._def.innerType,t,r,n);return}else if(e instanceof Mt){t[r]===void 0&&(t[r]=[]),io(e.element,t,r,n);return}else if(e instanceof Pt){io(e._def.schema,t,r,n);return}else if(e instanceof Xe){const o=JSON.parse(n);a=o,Object.entries(e.shape).forEach(([s,u])=>{a[s]||delete o[s]})}else if(e instanceof Sr)a=JSON.parse(n);else throw new Error(`Unexpected type ${e._def.typeName} for key ${r}`);Array.isArray(t[r])?t[r].push(a):t[r]=a}function aA(e){return Symbol.iterator in Object(e)}function oA(e,t){let r={},n=[];aA(e)?n=Array.from(e):n=Object.entries(e);for(const[c,l]of n)l!==""&&hy(r,t,c,l);const o=t.safeParse(r);if(o.success)return{success:!0,data:o.data,errors:void 0};const s={},u=(c,l)=>{s.hasOwnProperty(c)?s[c]=[...s[c],l]:s[c]=[l]};return o.error.issues.forEach(c=>{const{message:l,path:h,code:g,expected:N,received:O}=c,[w,_]=h;let C=r[w];_!==void 0&&(C=C[_]),u(w,l)}),{success:!1,data:void 0,errors:s}}async function iA(e,t){return oA(e,t)}function sA(e,t){var n;const r=e.shape[t];return(r==null?void 0:r.options)||((n=r==null?void 0:r.unwrap)==null?void 0:n.call(r).options)}function yy(e,t={}){const r=e instanceof Pt?e._def.schema:e,{shape:n}=r,a=t;return function(s,u={}){u={...a,...u};const c=n[s];if(!c)throw new Error(`no such key: ${s}`);return vy(s,r,c)}}function vy(e,t,r){var g,N,O,w;let n="text",a,o,s,u,c;const l=sA(t,e);if(r instanceof tr){r.isEmail?n="email":r.isURL&&(n="url"),s=(g=r.minLength)!=null?g:void 0,u=(N=r.maxLength)!=null?N:void 0;const _=r._def.checks.find(C=>C.kind==="regex");c=_?_.regex.source:void 0}else if(r instanceof dr)n="number",a=(O=r.minValue)!=null?O:void 0,o=(w=r.maxValue)!=null?w:void 0;else if(r instanceof on)n="checkbox";else if(r instanceof pr||r._def.innerType instanceof pr)n="date";else if(r instanceof Mt)return vy(e,t,r.element);const h={name:e,type:n,options:l};return r instanceof $t||(h["aria-required"]=!0),a&&(h.min=a),o&&(h.max=o),s&&Number.isFinite(s)&&(h.minLength=s),u&&Number.isFinite(u)&&(h.maxLength=u),c&&(h.pattern=c),h}const xc=({action:e,onClose:t,children:r,schema:n,...a})=>{const[o,s]=y.exports.useState(!1),[u,c]=y.exports.useState(),{getRequestContext:l}=Wt(),h=()=>{c({}),s(!1)},g=async N=>{N.preventDefault(),s(!0);const O=N.target,w=Array.from(N.target.querySelectorAll("input")),_={};if(w.forEach($=>{$.checkValidity()||(_[$.name]=[`The value is not valid for ${$.name}`])}),!G.exports.isEmpty(_)){c({formErrors:_}),s(!1);return}const C=new FormData(O),v=await iA(C,n);if(!v.success){c({formErrors:v.errors,requestErrors:void 0}),s(!1);return}let S,A,R;try{S=await e(v.data,l)}catch{A=!1,R=[]}if(S){const $=my(S);A=$.responseIsSuccess,R=$.requestErrors}A?(s(!1),t()):(c({formErrors:void 0,requestErrors:R}),s(!1))};return p.createElement(ir,{...a,onClose:t,onAfterClosed:h},p.createElement("form",{className:"ctw-flex ctw-h-full ctw-flex-col ctw-overflow-y-auto",onSubmit:g,noValidate:!0},p.createElement(ir.Body,null,p.createElement("div",{className:"ctw-space-y-4"},(u==null?void 0:u.requestErrors)&&p.createElement(po,{header:"There was an error with your submission"},u.requestErrors.length===1?u.requestErrors[0]:p.createElement("ul",{className:"ctw-m-0 ctw-list-disc ctw-px-4"},u.requestErrors.map(N=>p.createElement("li",null,N)))),r(o,u==null?void 0:u.formErrors))),p.createElement(ir.Footer,null,p.createElement("div",{className:"ctw-flex ctw-items-center ctw-justify-between"},p.createElement(p.Fragment,null,(u==null?void 0:u.requestErrors)&&p.createElement("div",{className:"ctw-text-sm ctw-font-medium ctw-text-error-heading"},"There was an error with your submission")),p.createElement("div",{className:"ctw-ml-auto ctw-flex ctw-h-full ctw-space-x-3 ctw-justify-self-end"},p.createElement("button",{type:"button",className:"ctw-btn-default",onClick:t},"Cancel"),p.createElement(Ms,{submitting:o}))))))};try{xc.displayName="DrawerForm",xc.__docgenInfo={description:"",displayName:"DrawerForm",props:{action:{defaultValue:null,description:"",name:"action",required:!0,type:{name:"(data: T, getRequestContext: () => Promise<CTWRequestContext>) => Promise<unknown>"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"AnyZodSchema"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onAfterClosed:{defaultValue:null,description:`Called after drawer closing animation has ended. Use this for
any cleanup that would affect the content displayed in the drawer.`,name:"onAfterClosed",required:!1,type:{name:"(() => void)"}},disableCloseOnBlur:{defaultValue:null,description:"",name:"disableCloseOnBlur",required:!1,type:{name:"boolean"}}}}}catch{}const jn=({errors:e,options:t,lines:r,defaultValue:n,readonly:a,hidden:o,render:s,...u})=>{const c=u.type==="date"?fC(n):n,l=()=>s?s(a,{...u,defaultValue:n,hidden:o}):t?p.createElement("select",{className:it({"ctw-error":e},"ctw-listbox-button ctw-w-full"),name:u.name,id:u.name,disabled:u.disabled,defaultValue:c},!t.includes(n)&&p.createElement("option",{value:n,disabled:!0},"Select one"),t.map(h=>p.createElement("option",{value:h,key:h},G.exports.startCase(h)))):r?p.createElement("textarea",{rows:r,className:it({"ctw-error":e},"ctw-listbox-textarea ctw-w-full ctw-whitespace-pre-wrap"),defaultValue:c,disabled:u.disabled,readOnly:a,name:u.name,id:u.name}):p.createElement("input",{...u,id:u.name,type:u.type,className:it({"ctw-error":e},"ctw-listbox-input ctw-w-full"),readOnly:a,...c?{defaultValue:c}:{}});return s&&o?s(a,{...u,defaultValue:n,hidden:o}):o?p.createElement("input",{...u,defaultValue:c,hidden:o}):p.createElement(p.Fragment,null,p.createElement("div",{className:"ctw-relative"},l(),a&&p.createElement(B0,{className:"ctw-absolute ctw-right-3 ctw-top-1/2 ctw-h-4 ctw-w-4 ctw--translate-y-1/2 ctw-transform ctw-fill-content-lighter"}),e&&p.createElement("div",{className:"ctw-pointer-events-none ctw-absolute ctw-right-0 ctw-top-2 ctw-pr-4"},p.createElement(gm,{className:"ctw-h-5 ctw-w-5 ctw-text-error-main","aria-hidden":"true"}))),e&&p.createElement("div",{className:"ctw-text-xs ctw-italic ctw-text-error-main"},e.length>1?e.map(h=>p.createElement("div",{key:h},"\u2022 ",h)):e[0]))};try{jn.displayName="FormField",jn.__docgenInfo={description:"",displayName:"FormField",props:{errors:{defaultValue:null,description:"",name:"errors",required:!1,type:{name:"string[]"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"string[]"}},lines:{defaultValue:null,description:"",name:"lines",required:!1,type:{name:"number"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"((string | string[]) & (string | number | readonly string[]))"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!1,type:{name:"boolean"}},render:{defaultValue:null,description:"",name:"render",required:!1,type:{name:"((readonly: boolean, props: InputHTMLAttributes<HTMLInputElement>) => Element)"}}}}}catch{}const _c=({label:e,required:t,name:r})=>p.createElement("div",{className:"ctw-flex ctw-items-center ctw-justify-between"},p.createElement("label",{htmlFor:r},e),!t&&p.createElement("span",{className:"ctw-right-0 ctw-inline-block ctw-text-xs ctw-text-content-light"},"Optional"),t&&p.createElement(p.Fragment,null,p.createElement("div",{className:"ctw-flex-grow ctw-text-icon-default"},"*")));try{_c.displayName="FormFieldLabel",_c.__docgenInfo={description:"",displayName:"FormFieldLabel",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},required:{defaultValue:null,description:"",name:"required",required:!0,type:{name:"boolean | undefined"}}}}}catch{}const Hn=({title:e,header:t,data:r=[],schema:n,action:a,...o})=>{const s=yy(n);return p.createElement(xc,{title:e,action:a,schema:n,...o},(u,c)=>p.createElement("div",{className:"ctw-space-y-4"},t,p.createElement("div",{className:"ctw-space-y-6"},r.map(l=>{if(G.exports.isArray(l))return p.createElement(uA,{recordList:l,errors:c,submitting:u,schema:n,key:l[0].label});const{label:h,field:g,value:N,lines:O,readonly:w,hidden:_,render:C}=l;if(!g)return p.createElement(jn,{key:h,readonly:w,render:C,name:h});const v=s(g,n);return _?p.createElement(jn,{...v,key:h,lines:O,disabled:u,readonly:w,defaultValue:N,errors:c==null?void 0:c[g],hidden:_,render:C}):p.createElement(gy,{key:l.label,entry:l,errors:c,props:v,submitting:u})}))))},uA=({recordList:e,errors:t,submitting:r,schema:n})=>{const a=yy(n);return p.createElement("div",{className:"ctw-flex ctw-space-x-3"},e.map(o=>p.createElement(y.exports.Fragment,{key:o.label},p.createElement(gy,{entry:o,props:a(o.field,n),submitting:r,errors:t}))))},gy=({entry:e,errors:t,props:r,submitting:n})=>{const{label:a,value:o,field:s,lines:u,readonly:c,hidden:l,render:h}=e,g=t==null?void 0:t[s];return p.createElement("div",{key:a,className:"ctw-flex ctw-grow ctw-basis-0 ctw-flex-col ctw-space-y-1.5 ctw-text-sm ctw-font-medium ctw-text-content-black"},p.createElement(_c,{label:a,name:r.name,required:r["aria-required"]}),p.createElement(jn,{...r,key:a,lines:u,disabled:n,readonly:c,defaultValue:o,errors:g,hidden:l,render:h}))};try{Hn.displayName="DrawerFormWithFields",Hn.__docgenInfo={description:"",displayName:"DrawerFormWithFields",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},header:{defaultValue:null,description:"",name:"header",required:!1,type:{name:"ReactNode"}},data:{defaultValue:{value:"[]"},description:"",name:"data",required:!1,type:{name:"FormEntry[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"AnyZodSchema"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},action:{defaultValue:null,description:"",name:"action",required:!0,type:{name:"(data: T, getRequestContext: () => Promise<CTWRequestContext>) => Promise<unknown>"}}}}}catch{}const Ec=({resource:e,resourceName:t,onDelete:r,onClose:n,...a})=>{const[o,s]=y.exports.useState(),[u,c]=y.exports.useState(!1),l=async()=>{try{c(!0),await r(),c(!1),n()}catch(h){throw c(!1),s("Something went wrong. Please try again."),h}};return p.createElement(Ti,{onAfterClosed:()=>s(void 0),...a},o&&p.createElement(po,{header:o}),p.createElement("div",{className:"ctw-items-left ctw-flex ctw-h-full ctw-flex-col ctw-space-y-2 ctw-overflow-y-auto"},p.createElement("span",{className:"ctw-text-left ctw-text-lg ctw-font-medium ctw-text-content-black"},`Remove this ${e.resourceType.toLowerCase()}?`),p.createElement("span",{className:"ctw-subtext ctw-max-w-sm ctw-text-left ctw-text-content-light"},"This will remove"," ",p.createElement("span",{className:"ctw-font-medium"},t)," from this patient's condition list.")),p.createElement("div",{className:"ctw-flex ctw-w-full ctw-space-x-4"},p.createElement("button",{type:"button",onClick:n,className:"ctw-btn-default ctw-flex-1"},"Cancel"),p.createElement("button",{type:"button",disabled:u,onClick:l,className:"ctw-btn-primary ctw-save-button ctw-flex-1"},u?"Removing...":"Remove",u&&p.createElement(sl,{className:"ctw-ml-2 ctw-text-white"}))))};try{Ec.displayName="ModalConfirmDelete",Ec.__docgenInfo={description:"",displayName:"ModalConfirmDelete",props:{resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"Resource"}},resourceName:{defaultValue:null,description:"",name:"resourceName",required:!0,type:{name:"string"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!0,type:{name:"() => Promise<void>"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}}}}}catch{}const Ci=({condition:e})=>{var t;return p.createElement("div",{className:"ctw-py-2"},p.createElement("div",{className:"ctw-text-2xl"},e.display," (",(t=e.preferredCoding)==null?void 0:t.code,")"),p.createElement("div",{className:"ctw-text-sm"},e.ccsChapter))};try{Ci.displayName="ConditionHeader",Ci.__docgenInfo={description:"",displayName:"ConditionHeader",props:{condition:{defaultValue:null,description:"",name:"condition",required:!0,type:{name:"ConditionModel"}}}}}catch{}var cA=Gy(),by={},Ki={};Ki.byteLength=dA;Ki.toByteArray=mA;Ki.fromByteArray=vA;var Kt=[],Dt=[],lA=typeof Uint8Array<"u"?Uint8Array:Array,_s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Gr=0,fA=_s.length;Gr<fA;++Gr)Kt[Gr]=_s[Gr],Dt[_s.charCodeAt(Gr)]=Gr;Dt["-".charCodeAt(0)]=62;Dt["_".charCodeAt(0)]=63;function wy(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function dA(e){var t=wy(e),r=t[0],n=t[1];return(r+n)*3/4-n}function pA(e,t,r){return(t+r)*3/4-r}function mA(e){var t,r=wy(e),n=r[0],a=r[1],o=new lA(pA(e,n,a)),s=0,u=a>0?n-4:n,c;for(c=0;c<u;c+=4)t=Dt[e.charCodeAt(c)]<<18|Dt[e.charCodeAt(c+1)]<<12|Dt[e.charCodeAt(c+2)]<<6|Dt[e.charCodeAt(c+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=t&255;return a===2&&(t=Dt[e.charCodeAt(c)]<<2|Dt[e.charCodeAt(c+1)]>>4,o[s++]=t&255),a===1&&(t=Dt[e.charCodeAt(c)]<<10|Dt[e.charCodeAt(c+1)]<<4|Dt[e.charCodeAt(c+2)]>>2,o[s++]=t>>8&255,o[s++]=t&255),o}function hA(e){return Kt[e>>18&63]+Kt[e>>12&63]+Kt[e>>6&63]+Kt[e&63]}function yA(e,t,r){for(var n,a=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),a.push(hA(n));return a.join("")}function vA(e){for(var t,r=e.length,n=r%3,a=[],o=16383,s=0,u=r-n;s<u;s+=o)a.push(yA(e,s,s+o>u?u:s+o));return n===1?(t=e[r-1],a.push(Kt[t>>2]+Kt[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],a.push(Kt[t>>10]+Kt[t>>4&63]+Kt[t<<2&63]+"=")),a.join("")}var Wl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Wl.read=function(e,t,r,n,a){var o,s,u=a*8-n-1,c=(1<<u)-1,l=c>>1,h=-7,g=r?a-1:0,N=r?-1:1,O=e[t+g];for(g+=N,o=O&(1<<-h)-1,O>>=-h,h+=u;h>0;o=o*256+e[t+g],g+=N,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=s*256+e[t+g],g+=N,h-=8);if(o===0)o=1-l;else{if(o===c)return s?NaN:(O?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-l}return(O?-1:1)*s*Math.pow(2,o-n)};Wl.write=function(e,t,r,n,a,o){var s,u,c,l=o*8-a-1,h=(1<<l)-1,g=h>>1,N=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,O=n?0:o-1,w=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+g>=1?t+=N/c:t+=N*Math.pow(2,1-g),t*c>=2&&(s++,c/=2),s+g>=h?(u=0,s=h):s+g>=1?(u=(t*c-1)*Math.pow(2,a),s=s+g):(u=t*Math.pow(2,g-1)*Math.pow(2,a),s=0));a>=8;e[r+O]=u&255,O+=w,u/=256,a-=8);for(s=s<<a|u,l+=a;l>0;e[r+O]=s&255,O+=w,s/=256,l-=8);e[r+O-w]|=_*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=Ki,r=Wl,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=S,e.INSPECT_MAX_BYTES=50;var a=2147483647;e.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=o(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var b=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(b,d),b.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function s(b){if(b>a)throw new RangeError('The value "'+b+'" is invalid for option "size"');var d=new Uint8Array(b);return Object.setPrototypeOf(d,u.prototype),d}function u(b,d,m){if(typeof b=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(b)}return c(b,d,m)}u.poolSize=8192;function c(b,d,m){if(typeof b=="string")return N(b,d);if(ArrayBuffer.isView(b))return w(b);if(b==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);if(ee(b,ArrayBuffer)||b&&ee(b.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ee(b,SharedArrayBuffer)||b&&ee(b.buffer,SharedArrayBuffer)))return _(b,d,m);if(typeof b=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var x=b.valueOf&&b.valueOf();if(x!=null&&x!==b)return u.from(x,d,m);var k=C(b);if(k)return k;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof b[Symbol.toPrimitive]=="function")return u.from(b[Symbol.toPrimitive]("string"),d,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b)}u.from=function(b,d,m){return c(b,d,m)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function l(b){if(typeof b!="number")throw new TypeError('"size" argument must be of type number');if(b<0)throw new RangeError('The value "'+b+'" is invalid for option "size"')}function h(b,d,m){return l(b),b<=0?s(b):d!==void 0?typeof m=="string"?s(b).fill(d,m):s(b).fill(d):s(b)}u.alloc=function(b,d,m){return h(b,d,m)};function g(b){return l(b),s(b<0?0:v(b)|0)}u.allocUnsafe=function(b){return g(b)},u.allocUnsafeSlow=function(b){return g(b)};function N(b,d){if((typeof d!="string"||d==="")&&(d="utf8"),!u.isEncoding(d))throw new TypeError("Unknown encoding: "+d);var m=A(b,d)|0,x=s(m),k=x.write(b,d);return k!==m&&(x=x.slice(0,k)),x}function O(b){for(var d=b.length<0?0:v(b.length)|0,m=s(d),x=0;x<d;x+=1)m[x]=b[x]&255;return m}function w(b){if(ee(b,Uint8Array)){var d=new Uint8Array(b);return _(d.buffer,d.byteOffset,d.byteLength)}return O(b)}function _(b,d,m){if(d<0||b.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(b.byteLength<d+(m||0))throw new RangeError('"length" is outside of buffer bounds');var x;return d===void 0&&m===void 0?x=new Uint8Array(b):m===void 0?x=new Uint8Array(b,d):x=new Uint8Array(b,d,m),Object.setPrototypeOf(x,u.prototype),x}function C(b){if(u.isBuffer(b)){var d=v(b.length)|0,m=s(d);return m.length===0||b.copy(m,0,0,d),m}if(b.length!==void 0)return typeof b.length!="number"||ft(b.length)?s(0):O(b);if(b.type==="Buffer"&&Array.isArray(b.data))return O(b.data)}function v(b){if(b>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return b|0}function S(b){return+b!=b&&(b=0),u.alloc(+b)}u.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==u.prototype},u.compare=function(d,m){if(ee(d,Uint8Array)&&(d=u.from(d,d.offset,d.byteLength)),ee(m,Uint8Array)&&(m=u.from(m,m.offset,m.byteLength)),!u.isBuffer(d)||!u.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===m)return 0;for(var x=d.length,k=m.length,W=0,Z=Math.min(x,k);W<Z;++W)if(d[W]!==m[W]){x=d[W],k=m[W];break}return x<k?-1:k<x?1:0},u.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(d,m){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return u.alloc(0);var x;if(m===void 0)for(m=0,x=0;x<d.length;++x)m+=d[x].length;var k=u.allocUnsafe(m),W=0;for(x=0;x<d.length;++x){var Z=d[x];if(ee(Z,Uint8Array))W+Z.length>k.length?u.from(Z).copy(k,W):Uint8Array.prototype.set.call(k,Z,W);else if(u.isBuffer(Z))Z.copy(k,W);else throw new TypeError('"list" argument must be an Array of Buffers');W+=Z.length}return k};function A(b,d){if(u.isBuffer(b))return b.length;if(ArrayBuffer.isView(b)||ee(b,ArrayBuffer))return b.byteLength;if(typeof b!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof b);var m=b.length,x=arguments.length>2&&arguments[2]===!0;if(!x&&m===0)return 0;for(var k=!1;;)switch(d){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return Y(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return Te(b).length;default:if(k)return x?-1:Y(b).length;d=(""+d).toLowerCase(),k=!0}}u.byteLength=A;function R(b,d,m){var x=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,d>>>=0,m<=d))return"";for(b||(b="utf8");;)switch(b){case"hex":return Re(this,d,m);case"utf8":case"utf-8":return le(this,d,m);case"ascii":return Ce(this,d,m);case"latin1":case"binary":return ye(this,d,m);case"base64":return ae(this,d,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,d,m);default:if(x)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase(),x=!0}}u.prototype._isBuffer=!0;function $(b,d,m){var x=b[d];b[d]=b[m],b[m]=x}u.prototype.swap16=function(){var d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<d;m+=2)$(this,m,m+1);return this},u.prototype.swap32=function(){var d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<d;m+=4)$(this,m,m+3),$(this,m+1,m+2);return this},u.prototype.swap64=function(){var d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<d;m+=8)$(this,m,m+7),$(this,m+1,m+6),$(this,m+2,m+5),$(this,m+3,m+4);return this},u.prototype.toString=function(){var d=this.length;return d===0?"":arguments.length===0?le(this,0,d):R.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(d){if(!u.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:u.compare(this,d)===0},u.prototype.inspect=function(){var d="",m=e.INSPECT_MAX_BYTES;return d=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(d+=" ... "),"<Buffer "+d+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(d,m,x,k,W){if(ee(d,Uint8Array)&&(d=u.from(d,d.offset,d.byteLength)),!u.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(m===void 0&&(m=0),x===void 0&&(x=d?d.length:0),k===void 0&&(k=0),W===void 0&&(W=this.length),m<0||x>d.length||k<0||W>this.length)throw new RangeError("out of range index");if(k>=W&&m>=x)return 0;if(k>=W)return-1;if(m>=x)return 1;if(m>>>=0,x>>>=0,k>>>=0,W>>>=0,this===d)return 0;for(var Z=W-k,B=x-m,z=Math.min(Z,B),U=this.slice(k,W),H=d.slice(m,x),ie=0;ie<z;++ie)if(U[ie]!==H[ie]){Z=U[ie],B=H[ie];break}return Z<B?-1:B<Z?1:0};function I(b,d,m,x,k){if(b.length===0)return-1;if(typeof m=="string"?(x=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,ft(m)&&(m=k?0:b.length-1),m<0&&(m=b.length+m),m>=b.length){if(k)return-1;m=b.length-1}else if(m<0)if(k)m=0;else return-1;if(typeof d=="string"&&(d=u.from(d,x)),u.isBuffer(d))return d.length===0?-1:V(b,d,m,x,k);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?k?Uint8Array.prototype.indexOf.call(b,d,m):Uint8Array.prototype.lastIndexOf.call(b,d,m):V(b,[d],m,x,k);throw new TypeError("val must be string, number or Buffer")}function V(b,d,m,x,k){var W=1,Z=b.length,B=d.length;if(x!==void 0&&(x=String(x).toLowerCase(),x==="ucs2"||x==="ucs-2"||x==="utf16le"||x==="utf-16le")){if(b.length<2||d.length<2)return-1;W=2,Z/=2,B/=2,m/=2}function z(Ue,ut){return W===1?Ue[ut]:Ue.readUInt16BE(ut*W)}var U;if(k){var H=-1;for(U=m;U<Z;U++)if(z(b,U)===z(d,H===-1?0:U-H)){if(H===-1&&(H=U),U-H+1===B)return H*W}else H!==-1&&(U-=U-H),H=-1}else for(m+B>Z&&(m=Z-B),U=m;U>=0;U--){for(var ie=!0,ve=0;ve<B;ve++)if(z(b,U+ve)!==z(d,ve)){ie=!1;break}if(ie)return U}return-1}u.prototype.includes=function(d,m,x){return this.indexOf(d,m,x)!==-1},u.prototype.indexOf=function(d,m,x){return I(this,d,m,x,!0)},u.prototype.lastIndexOf=function(d,m,x){return I(this,d,m,x,!1)};function L(b,d,m,x){m=Number(m)||0;var k=b.length-m;x?(x=Number(x),x>k&&(x=k)):x=k;var W=d.length;x>W/2&&(x=W/2);for(var Z=0;Z<x;++Z){var B=parseInt(d.substr(Z*2,2),16);if(ft(B))return Z;b[m+Z]=B}return Z}function P(b,d,m,x){return ne(Y(d,b.length-m),b,m,x)}function j(b,d,m,x){return ne(re(d),b,m,x)}function K(b,d,m,x){return ne(Te(d),b,m,x)}function ce(b,d,m,x){return ne(Ae(d,b.length-m),b,m,x)}u.prototype.write=function(d,m,x,k){if(m===void 0)k="utf8",x=this.length,m=0;else if(x===void 0&&typeof m=="string")k=m,x=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(x)?(x=x>>>0,k===void 0&&(k="utf8")):(k=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var W=this.length-m;if((x===void 0||x>W)&&(x=W),d.length>0&&(x<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");k||(k="utf8");for(var Z=!1;;)switch(k){case"hex":return L(this,d,m,x);case"utf8":case"utf-8":return P(this,d,m,x);case"ascii":case"latin1":case"binary":return j(this,d,m,x);case"base64":return K(this,d,m,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,d,m,x);default:if(Z)throw new TypeError("Unknown encoding: "+k);k=(""+k).toLowerCase(),Z=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ae(b,d,m){return d===0&&m===b.length?t.fromByteArray(b):t.fromByteArray(b.slice(d,m))}function le(b,d,m){m=Math.min(b.length,m);for(var x=[],k=d;k<m;){var W=b[k],Z=null,B=W>239?4:W>223?3:W>191?2:1;if(k+B<=m){var z,U,H,ie;switch(B){case 1:W<128&&(Z=W);break;case 2:z=b[k+1],(z&192)===128&&(ie=(W&31)<<6|z&63,ie>127&&(Z=ie));break;case 3:z=b[k+1],U=b[k+2],(z&192)===128&&(U&192)===128&&(ie=(W&15)<<12|(z&63)<<6|U&63,ie>2047&&(ie<55296||ie>57343)&&(Z=ie));break;case 4:z=b[k+1],U=b[k+2],H=b[k+3],(z&192)===128&&(U&192)===128&&(H&192)===128&&(ie=(W&15)<<18|(z&63)<<12|(U&63)<<6|H&63,ie>65535&&ie<1114112&&(Z=ie))}}Z===null?(Z=65533,B=1):Z>65535&&(Z-=65536,x.push(Z>>>10&1023|55296),Z=56320|Z&1023),x.push(Z),k+=B}return xe(x)}var ge=4096;function xe(b){var d=b.length;if(d<=ge)return String.fromCharCode.apply(String,b);for(var m="",x=0;x<d;)m+=String.fromCharCode.apply(String,b.slice(x,x+=ge));return m}function Ce(b,d,m){var x="";m=Math.min(b.length,m);for(var k=d;k<m;++k)x+=String.fromCharCode(b[k]&127);return x}function ye(b,d,m){var x="";m=Math.min(b.length,m);for(var k=d;k<m;++k)x+=String.fromCharCode(b[k]);return x}function Re(b,d,m){var x=b.length;(!d||d<0)&&(d=0),(!m||m<0||m>x)&&(m=x);for(var k="",W=d;W<m;++W)k+=Nt[b[W]];return k}function pe(b,d,m){for(var x=b.slice(d,m),k="",W=0;W<x.length-1;W+=2)k+=String.fromCharCode(x[W]+x[W+1]*256);return k}u.prototype.slice=function(d,m){var x=this.length;d=~~d,m=m===void 0?x:~~m,d<0?(d+=x,d<0&&(d=0)):d>x&&(d=x),m<0?(m+=x,m<0&&(m=0)):m>x&&(m=x),m<d&&(m=d);var k=this.subarray(d,m);return Object.setPrototypeOf(k,u.prototype),k};function oe(b,d,m){if(b%1!==0||b<0)throw new RangeError("offset is not uint");if(b+d>m)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(d,m,x){d=d>>>0,m=m>>>0,x||oe(d,m,this.length);for(var k=this[d],W=1,Z=0;++Z<m&&(W*=256);)k+=this[d+Z]*W;return k},u.prototype.readUintBE=u.prototype.readUIntBE=function(d,m,x){d=d>>>0,m=m>>>0,x||oe(d,m,this.length);for(var k=this[d+--m],W=1;m>0&&(W*=256);)k+=this[d+--m]*W;return k},u.prototype.readUint8=u.prototype.readUInt8=function(d,m){return d=d>>>0,m||oe(d,1,this.length),this[d]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(d,m){return d=d>>>0,m||oe(d,2,this.length),this[d]|this[d+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(d,m){return d=d>>>0,m||oe(d,2,this.length),this[d]<<8|this[d+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(d,m){return d=d>>>0,m||oe(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(d,m){return d=d>>>0,m||oe(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},u.prototype.readIntLE=function(d,m,x){d=d>>>0,m=m>>>0,x||oe(d,m,this.length);for(var k=this[d],W=1,Z=0;++Z<m&&(W*=256);)k+=this[d+Z]*W;return W*=128,k>=W&&(k-=Math.pow(2,8*m)),k},u.prototype.readIntBE=function(d,m,x){d=d>>>0,m=m>>>0,x||oe(d,m,this.length);for(var k=m,W=1,Z=this[d+--k];k>0&&(W*=256);)Z+=this[d+--k]*W;return W*=128,Z>=W&&(Z-=Math.pow(2,8*m)),Z},u.prototype.readInt8=function(d,m){return d=d>>>0,m||oe(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},u.prototype.readInt16LE=function(d,m){d=d>>>0,m||oe(d,2,this.length);var x=this[d]|this[d+1]<<8;return x&32768?x|4294901760:x},u.prototype.readInt16BE=function(d,m){d=d>>>0,m||oe(d,2,this.length);var x=this[d+1]|this[d]<<8;return x&32768?x|4294901760:x},u.prototype.readInt32LE=function(d,m){return d=d>>>0,m||oe(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},u.prototype.readInt32BE=function(d,m){return d=d>>>0,m||oe(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},u.prototype.readFloatLE=function(d,m){return d=d>>>0,m||oe(d,4,this.length),r.read(this,d,!0,23,4)},u.prototype.readFloatBE=function(d,m){return d=d>>>0,m||oe(d,4,this.length),r.read(this,d,!1,23,4)},u.prototype.readDoubleLE=function(d,m){return d=d>>>0,m||oe(d,8,this.length),r.read(this,d,!0,52,8)},u.prototype.readDoubleBE=function(d,m){return d=d>>>0,m||oe(d,8,this.length),r.read(this,d,!1,52,8)};function X(b,d,m,x,k,W){if(!u.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>k||d<W)throw new RangeError('"value" argument is out of bounds');if(m+x>b.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(d,m,x,k){if(d=+d,m=m>>>0,x=x>>>0,!k){var W=Math.pow(2,8*x)-1;X(this,d,m,x,W,0)}var Z=1,B=0;for(this[m]=d&255;++B<x&&(Z*=256);)this[m+B]=d/Z&255;return m+x},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(d,m,x,k){if(d=+d,m=m>>>0,x=x>>>0,!k){var W=Math.pow(2,8*x)-1;X(this,d,m,x,W,0)}var Z=x-1,B=1;for(this[m+Z]=d&255;--Z>=0&&(B*=256);)this[m+Z]=d/B&255;return m+x},u.prototype.writeUint8=u.prototype.writeUInt8=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,1,255,0),this[m]=d&255,m+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,2,65535,0),this[m]=d&255,this[m+1]=d>>>8,m+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,2,65535,0),this[m]=d>>>8,this[m+1]=d&255,m+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,4,4294967295,0),this[m+3]=d>>>24,this[m+2]=d>>>16,this[m+1]=d>>>8,this[m]=d&255,m+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,4,4294967295,0),this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=d&255,m+4},u.prototype.writeIntLE=function(d,m,x,k){if(d=+d,m=m>>>0,!k){var W=Math.pow(2,8*x-1);X(this,d,m,x,W-1,-W)}var Z=0,B=1,z=0;for(this[m]=d&255;++Z<x&&(B*=256);)d<0&&z===0&&this[m+Z-1]!==0&&(z=1),this[m+Z]=(d/B>>0)-z&255;return m+x},u.prototype.writeIntBE=function(d,m,x,k){if(d=+d,m=m>>>0,!k){var W=Math.pow(2,8*x-1);X(this,d,m,x,W-1,-W)}var Z=x-1,B=1,z=0;for(this[m+Z]=d&255;--Z>=0&&(B*=256);)d<0&&z===0&&this[m+Z+1]!==0&&(z=1),this[m+Z]=(d/B>>0)-z&255;return m+x},u.prototype.writeInt8=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,1,127,-128),d<0&&(d=255+d+1),this[m]=d&255,m+1},u.prototype.writeInt16LE=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,2,32767,-32768),this[m]=d&255,this[m+1]=d>>>8,m+2},u.prototype.writeInt16BE=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,2,32767,-32768),this[m]=d>>>8,this[m+1]=d&255,m+2},u.prototype.writeInt32LE=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,4,2147483647,-2147483648),this[m]=d&255,this[m+1]=d>>>8,this[m+2]=d>>>16,this[m+3]=d>>>24,m+4},u.prototype.writeInt32BE=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=d&255,m+4};function Ze(b,d,m,x,k,W){if(m+x>b.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function $e(b,d,m,x,k){return d=+d,m=m>>>0,k||Ze(b,d,m,4),r.write(b,d,m,x,23,4),m+4}u.prototype.writeFloatLE=function(d,m,x){return $e(this,d,m,!0,x)},u.prototype.writeFloatBE=function(d,m,x){return $e(this,d,m,!1,x)};function ze(b,d,m,x,k){return d=+d,m=m>>>0,k||Ze(b,d,m,8),r.write(b,d,m,x,52,8),m+8}u.prototype.writeDoubleLE=function(d,m,x){return ze(this,d,m,!0,x)},u.prototype.writeDoubleBE=function(d,m,x){return ze(this,d,m,!1,x)},u.prototype.copy=function(d,m,x,k){if(!u.isBuffer(d))throw new TypeError("argument should be a Buffer");if(x||(x=0),!k&&k!==0&&(k=this.length),m>=d.length&&(m=d.length),m||(m=0),k>0&&k<x&&(k=x),k===x||d.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("sourceEnd out of bounds");k>this.length&&(k=this.length),d.length-m<k-x&&(k=d.length-m+x);var W=k-x;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,x,k):Uint8Array.prototype.set.call(d,this.subarray(x,k),m),W},u.prototype.fill=function(d,m,x,k){if(typeof d=="string"){if(typeof m=="string"?(k=m,m=0,x=this.length):typeof x=="string"&&(k=x,x=this.length),k!==void 0&&typeof k!="string")throw new TypeError("encoding must be a string");if(typeof k=="string"&&!u.isEncoding(k))throw new TypeError("Unknown encoding: "+k);if(d.length===1){var W=d.charCodeAt(0);(k==="utf8"&&W<128||k==="latin1")&&(d=W)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(m<0||this.length<m||this.length<x)throw new RangeError("Out of range index");if(x<=m)return this;m=m>>>0,x=x===void 0?this.length:x>>>0,d||(d=0);var Z;if(typeof d=="number")for(Z=m;Z<x;++Z)this[Z]=d;else{var B=u.isBuffer(d)?d:u.from(d,k),z=B.length;if(z===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(Z=0;Z<x-m;++Z)this[Z+m]=B[Z%z]}return this};var me=/[^+/0-9A-Za-z-_]/g;function Q(b){if(b=b.split("=")[0],b=b.trim().replace(me,""),b.length<2)return"";for(;b.length%4!==0;)b=b+"=";return b}function Y(b,d){d=d||1/0;for(var m,x=b.length,k=null,W=[],Z=0;Z<x;++Z){if(m=b.charCodeAt(Z),m>55295&&m<57344){if(!k){if(m>56319){(d-=3)>-1&&W.push(239,191,189);continue}else if(Z+1===x){(d-=3)>-1&&W.push(239,191,189);continue}k=m;continue}if(m<56320){(d-=3)>-1&&W.push(239,191,189),k=m;continue}m=(k-55296<<10|m-56320)+65536}else k&&(d-=3)>-1&&W.push(239,191,189);if(k=null,m<128){if((d-=1)<0)break;W.push(m)}else if(m<2048){if((d-=2)<0)break;W.push(m>>6|192,m&63|128)}else if(m<65536){if((d-=3)<0)break;W.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((d-=4)<0)break;W.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return W}function re(b){for(var d=[],m=0;m<b.length;++m)d.push(b.charCodeAt(m)&255);return d}function Ae(b,d){for(var m,x,k,W=[],Z=0;Z<b.length&&!((d-=2)<0);++Z)m=b.charCodeAt(Z),x=m>>8,k=m%256,W.push(k),W.push(x);return W}function Te(b){return t.toByteArray(Q(b))}function ne(b,d,m,x){for(var k=0;k<x&&!(k+m>=d.length||k>=b.length);++k)d[k+m]=b[k];return k}function ee(b,d){return b instanceof d||b!=null&&b.constructor!=null&&b.constructor.name!=null&&b.constructor.name===d.name}function ft(b){return b!==b}var Nt=function(){for(var b="0123456789abcdef",d=new Array(256),m=0;m<16;++m)for(var x=m*16,k=0;k<16;++k)d[x+k]=b[m]+b[k];return d}()})(by);var q={};(function(e){var t=e;(function(r){function n(i){var f=Array.prototype.slice,E=i.length,D=function(M,se){return function(){return se.apply(this,M.concat(f.call(arguments)))}},T=function(){var M=f.call(arguments);return M.length<E?D(M,T):i.apply(this,f.apply(arguments,[0,E]))};return T}var a=function(i,f){for(var E=0;E<f.length;E+=1)i(f[E],E,f)},o=function(i,f,E){var D=f;return a(function(T,M){D=i(D,T,M)},E),D},s=function(i,f){var E=new Array(f.length);return a(function(D,T){E[T]=i(D)},f),E},u=function(i,f){var E=[];return a(function(D,T){i(D,T)&&E.push(D)},f),E},c=function(i,f){for(var E=0;E<i.length;E+=1)if(i[E]===f)return!0;return!1};function l(i){return function(){return i}}function h(i){return i.toString()}var g=function(i,f){return f.join(i)},N=function(i,f,E){return i+E+f},O=Array.prototype.concat,w=32767;function _(i){for(var f=[],E=0;E<i.length;E+=w){var D=i.slice(E,E+w);f=O.apply(f,D)}return f}function C(i,f){for(var E=Object(i),D=1;D<arguments.length;D++){var T=arguments[D];if(T!=null)for(var M in T)Object.prototype.hasOwnProperty.call(T,M)&&(E[M]=T[M])}return E}v.prototype=new Object,v.prototype.constructor=v,v.superclass=Object.prototype;function v(){this.init()}v.prototype.init=function(){this.reduceActions=[],this.reduceActions[3]=function(i){return new L(i[0],i[2])},this.reduceActions[5]=function(i){return new P(i[0],i[2])},this.reduceActions[7]=function(i){return new j(i[0],i[2])},this.reduceActions[8]=function(i){return new K(i[0],i[2])},this.reduceActions[10]=function(i){return new ce(i[0],i[2])},this.reduceActions[11]=function(i){return new ae(i[0],i[2])},this.reduceActions[12]=function(i){return new le(i[0],i[2])},this.reduceActions[13]=function(i){return new ge(i[0],i[2])},this.reduceActions[15]=function(i){return new xe(i[0],i[2])},this.reduceActions[16]=function(i){return new Ce(i[0],i[2])},this.reduceActions[18]=function(i){return new ye(i[0],i[2])},this.reduceActions[19]=function(i){return new Re(i[0],i[2])},this.reduceActions[20]=function(i){return new pe(i[0],i[2])},this.reduceActions[22]=function(i){return new I(i[1])},this.reduceActions[24]=function(i){return new oe(i[0],i[2])},this.reduceActions[25]=function(i){return new X(void 0,void 0,i[0])},this.reduceActions[27]=function(i){return i[0].locationPath=i[2],i[0]},this.reduceActions[28]=function(i){return i[0].locationPath=i[2],i[0].locationPath.steps.unshift(new Q(Q.DESCENDANTORSELF,Y.nodeTest,[])),i[0]},this.reduceActions[29]=function(i){return new X(i[0],[],void 0)},this.reduceActions[30]=function(i){return H.instance_of(i[0],X)?(i[0].filterPredicates==null&&(i[0].filterPredicates=[]),i[0].filterPredicates.push(i[1]),i[0]):new X(i[0],[i[1]],void 0)},this.reduceActions[32]=function(i){return i[1]},this.reduceActions[33]=function(i){return new ne(i[0])},this.reduceActions[34]=function(i){return new ee(i[0])},this.reduceActions[36]=function(i){return new Ae(i[0],[])},this.reduceActions[37]=function(i){return new Ae(i[0],i[2])},this.reduceActions[38]=function(i){return[i[0]]},this.reduceActions[39]=function(i){return i[2].unshift(i[0]),i[2]},this.reduceActions[43]=function(i){return new me(!0,[])},this.reduceActions[44]=function(i){return i[1].absolute=!0,i[1]},this.reduceActions[46]=function(i){return new me(!1,[i[0]])},this.reduceActions[47]=function(i){return i[0].steps.push(i[2]),i[0]},this.reduceActions[49]=function(i){return new Q(i[0],i[1],[])},this.reduceActions[50]=function(i){return new Q(Q.CHILD,i[0],[])},this.reduceActions[51]=function(i){return new Q(i[0],i[1],i[2])},this.reduceActions[52]=function(i){return new Q(Q.CHILD,i[0],i[1])},this.reduceActions[54]=function(i){return[i[0]]},this.reduceActions[55]=function(i){return i[1].unshift(i[0]),i[1]},this.reduceActions[56]=function(i){return i[0]=="ancestor"?Q.ANCESTOR:i[0]=="ancestor-or-self"?Q.ANCESTORORSELF:i[0]=="attribute"?Q.ATTRIBUTE:i[0]=="child"?Q.CHILD:i[0]=="descendant"?Q.DESCENDANT:i[0]=="descendant-or-self"?Q.DESCENDANTORSELF:i[0]=="following"?Q.FOLLOWING:i[0]=="following-sibling"?Q.FOLLOWINGSIBLING:i[0]=="namespace"?Q.NAMESPACE:i[0]=="parent"?Q.PARENT:i[0]=="preceding"?Q.PRECEDING:i[0]=="preceding-sibling"?Q.PRECEDINGSIBLING:i[0]=="self"?Q.SELF:-1},this.reduceActions[57]=function(i){return Q.ATTRIBUTE},this.reduceActions[59]=function(i){return i[0]=="comment"?Y.commentTest:i[0]=="text"?Y.textTest:i[0]=="processing-instruction"?Y.anyPiTest:i[0]=="node"?Y.nodeTest:new Y(-1,void 0)},this.reduceActions[60]=function(i){return new Y.PITest(i[2])},this.reduceActions[61]=function(i){return i[1]},this.reduceActions[63]=function(i){return i[1].absolute=!0,i[1].steps.unshift(new Q(Q.DESCENDANTORSELF,Y.nodeTest,[])),i[1]},this.reduceActions[64]=function(i){return i[0].steps.push(new Q(Q.DESCENDANTORSELF,Y.nodeTest,[])),i[0].steps.push(i[2]),i[0]},this.reduceActions[65]=function(i){return new Q(Q.SELF,Y.nodeTest,[])},this.reduceActions[66]=function(i){return new Q(Q.PARENT,Y.nodeTest,[])},this.reduceActions[67]=function(i){return new re(i[1])},this.reduceActions[68]=function(i){return Y.nameTestAny},this.reduceActions[69]=function(i){return new Y.NameTestPrefixAny(i[0].split(":")[0])},this.reduceActions[70]=function(i){return new Y.NameTestQName(i[0])}},v.actionTable=[" s s        sssssssss    s ss  s  ss","                 s                  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                rrrrr               "," s s        sssssssss    s ss  s  ss","rs  rrrrrrrr s  sssssrrrrrr  rrs rs "," s s        sssssssss    s ss  s  ss","                            s       ","                            s       ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","  s                                 ","                            s       "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr  r  ","a                                   ","r       s                    rr  r  ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrs  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  srrrrrrrr         rrrrrrs rr sr  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                sssss               ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  srrrrrrrr         rrrrrrs rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","              s                     ","                             s      ","                rrrrr               "," s s        sssssssss    s sss s  ss","r  srrrrrrrr         rrrrrrs rr  r  "," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss      ss  s  ss"," s s        sssssssss    s ss  s  ss"," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr rr  "," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             rr     ","                             s      ","                             rs     ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","                                 r  ","                                 s  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  "," s s        sssssssss    s ss  s  ss","r  rrrrrrrrr         rrrrrrr rr rr  ","                             r      "],v.actionTableNumber=[` 1 0        /.-,+*)('    & %$  #  "!`,"                 J                  ","a  aaaaaaaaa         aaaaaaa aa  a  ","                YYYYY               ",` 1 0        /.-,+*)('    & %$  #  "!`,`K1  KKKKKKKK .  +*)('KKKKKK  KK# K" `,` 1 0        /.-,+*)('    & %$  #  "!`,"                            N       ","                            O       ","e  eeeeeeeee         eeeeeee ee ee  ","f  fffffffff         fffffff ff ff  ","d  ddddddddd         ddddddd dd dd  ","B  BBBBBBBBB         BBBBBBB BB BB  ","A  AAAAAAAAA         AAAAAAA AA AA  ","  P                                 ","                            Q       ",` 1           .  +*)('          #  " `,"b  bbbbbbbbb         bbbbbbb bb  b  ","                                    ","!       S                    !!  !  ",'"      T"                    ""  "  ',"$   V  $$            U       $$  $  ","&   &ZY&&            &XW     &&  &  ",")   )))))            )))\\[   ))  )  ",".   ....._^]         .....   ..  .  ","1   11111111         11111   11  1  ","5   55555555         55555`  55  5  ","7   77777777         777777  77  7  ","9   99999999         999999  99  9  ",":  c::::::::         ::::::b :: a:  ","I  fIIIIIIII         IIIIIIe II  I  ","=  =========         ======= == ==  ","?  ?????????         ??????? ?? ??  ","C  CCCCCCCCC         CCCCCCC CC CC  ","J   JJJJJJJJ         JJJJJJ  JJ  J  ","M   MMMMMMMM         MMMMMM  MM  M  ","N  NNNNNNNNN         NNNNNNN NN  N  ","P  PPPPPPPPP         PPPPPPP PP  P  ","                +*)('               ","R  RRRRRRRRR         RRRRRRR RR aR  ","U  UUUUUUUUU         UUUUUUU UU  U  ","Z  ZZZZZZZZZ         ZZZZZZZ ZZ ZZ  ","c  ccccccccc         ccccccc cc cc  ","                             j      ","L  fLLLLLLLL         LLLLLLe LL  L  ","6   66666666         66666   66  6  ","              k                     ","                             l      ","                XXXXX               ",` 1 0        /.-,+*)('    & %$m #  "!`,"_  f________         ______e __  _  ",` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('      %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1           .  +*)('          #  " `,` 1           .  +*)('          #  " `,">  >>>>>>>>>         >>>>>>> >> >>  ",` 1           .  +*)('          #  " `,` 1           .  +*)('          #  " `,"Q  QQQQQQQQQ         QQQQQQQ QQ aQ  ","V  VVVVVVVVV         VVVVVVV VV aV  ","T  TTTTTTTTT         TTTTTTT TT  T  ","@  @@@@@@@@@         @@@@@@@ @@ @@  ","                             \x87      ","[  [[[[[[[[[         [[[[[[[ [[ [[  ","D  DDDDDDDDD         DDDDDDD DD DD  ","                             HH     ","                             \x88      ","                             F\x89     ","#      T#                    ##  #  ","%   V  %%            U       %%  %  ","'   'ZY''            'XW     ''  '  ","(   (ZY((            (XW     ((  (  ","+   +++++            +++\\[   ++  +  ","*   *****            ***\\[   **  *  ","-   -----            ---\\[   --  -  ",",   ,,,,,            ,,,\\[   ,,  ,  ","0   00000_^]         00000   00  0  ","/   /////_^]         /////   //  /  ","2   22222222         22222   22  2  ","3   33333333         33333   33  3  ","4   44444444         44444   44  4  ","8   88888888         888888  88  8  ","                                 ^  ","                                 \x8A  ",";  f;;;;;;;;         ;;;;;;e ;;  ;  ","<  f<<<<<<<<         <<<<<<e <<  <  ","O  OOOOOOOOO         OOOOOOO OO  O  ","`  `````````         ``````` ``  `  ","S  SSSSSSSSS         SSSSSSS SS  S  ","W  WWWWWWWWW         WWWWWWW WW  W  ","\\  \\\\\\\\\\\\\\\\\\         \\\\\\\\\\\\\\ \\\\ \\\\  ","E  EEEEEEEEE         EEEEEEE EE EE  ",` 1 0        /.-,+*)('    & %$  #  "!`,"]  ]]]]]]]]]         ]]]]]]] ]] ]]  ","                             G      "],v.gotoTable=["3456789:;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","L456789:;<=>?@ AB  CDEFGH IJ ","            M        EFGH IJ ","       N;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","            S        EFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","              e              ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                        h  J ","              i          j   ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ ABpqCDEFGH IJ ","                             ","  r6789:;<=>?@ AB  CDEFGH IJ ","   s789:;<=>?@ AB  CDEFGH IJ ","    t89:;<=>?@ AB  CDEFGH IJ ","    u89:;<=>?@ AB  CDEFGH IJ ","     v9:;<=>?@ AB  CDEFGH IJ ","     w9:;<=>?@ AB  CDEFGH IJ ","     x9:;<=>?@ AB  CDEFGH IJ ","     y9:;<=>?@ AB  CDEFGH IJ ","      z:;<=>?@ AB  CDEFGH IJ ","      {:;<=>?@ AB  CDEFGH IJ ","       |;<=>?@ AB  CDEFGH IJ ","       };<=>?@ AB  CDEFGH IJ ","       ~;<=>?@ AB  CDEFGH IJ ","         \x7F=>?@ AB  CDEFGH IJ ","\x80456789:;<=>?@ AB  CDEFGH IJ\x81","            \x82        EFGH IJ ","            \x83        EFGH IJ ","                             ","                     \x84 GH IJ ","                     \x85 GH IJ ","              i          \x86   ","              i          \x87   ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ AB\x8CqCDEFGH IJ ","                             ","                             "],v.productions=[[1,1,2],[2,1,3],[3,1,4],[3,3,3,-9,4],[4,1,5],[4,3,4,-8,5],[5,1,6],[5,3,5,-22,6],[5,3,5,-5,6],[6,1,7],[6,3,6,-23,7],[6,3,6,-24,7],[6,3,6,-6,7],[6,3,6,-7,7],[7,1,8],[7,3,7,-25,8],[7,3,7,-26,8],[8,1,9],[8,3,8,-12,9],[8,3,8,-11,9],[8,3,8,-10,9],[9,1,10],[9,2,-26,9],[10,1,11],[10,3,10,-27,11],[11,1,12],[11,1,13],[11,3,13,-28,14],[11,3,13,-4,14],[13,1,15],[13,2,13,16],[15,1,17],[15,3,-29,2,-30],[15,1,-15],[15,1,-16],[15,1,18],[18,3,-13,-29,-30],[18,4,-13,-29,19,-30],[19,1,20],[19,3,20,-31,19],[20,1,2],[12,1,14],[12,1,21],[21,1,-28],[21,2,-28,14],[21,1,22],[14,1,23],[14,3,14,-28,23],[14,1,24],[23,2,25,26],[23,1,26],[23,3,25,26,27],[23,2,26,27],[23,1,28],[27,1,16],[27,2,16,27],[25,2,-14,-3],[25,1,-32],[26,1,29],[26,3,-20,-29,-30],[26,4,-21,-29,-15,-30],[16,3,-33,30,-34],[30,1,2],[22,2,-4,14],[24,3,14,-4,23],[28,1,-35],[28,1,-2],[17,2,-36,-18],[29,1,-17],[29,1,-19],[29,1,-18]],v.DOUBLEDOT=2,v.DOUBLECOLON=3,v.DOUBLESLASH=4,v.NOTEQUAL=5,v.LESSTHANOREQUAL=6,v.GREATERTHANOREQUAL=7,v.AND=8,v.OR=9,v.MOD=10,v.DIV=11,v.MULTIPLYOPERATOR=12,v.FUNCTIONNAME=13,v.AXISNAME=14,v.LITERAL=15,v.NUMBER=16,v.ASTERISKNAMETEST=17,v.QNAME=18,v.NCNAMECOLONASTERISK=19,v.NODETYPE=20,v.PROCESSINGINSTRUCTIONWITHLITERAL=21,v.EQUALS=22,v.LESSTHAN=23,v.GREATERTHAN=24,v.PLUS=25,v.MINUS=26,v.BAR=27,v.SLASH=28,v.LEFTPARENTHESIS=29,v.RIGHTPARENTHESIS=30,v.COMMA=31,v.AT=32,v.LEFTBRACKET=33,v.RIGHTBRACKET=34,v.DOT=35,v.DOLLAR=36,v.prototype.tokenize=function(i){for(var f=[],E=[],D=i+"\0",T=0,M=D.charAt(T++);;){for(;M==" "||M=="	"||M=="\r"||M==`
`;)M=D.charAt(T++);if(M=="\0"||T>=D.length)break;if(M=="("){f.push(v.LEFTPARENTHESIS),E.push(M),M=D.charAt(T++);continue}if(M==")"){f.push(v.RIGHTPARENTHESIS),E.push(M),M=D.charAt(T++);continue}if(M=="["){f.push(v.LEFTBRACKET),E.push(M),M=D.charAt(T++);continue}if(M=="]"){f.push(v.RIGHTBRACKET),E.push(M),M=D.charAt(T++);continue}if(M=="@"){f.push(v.AT),E.push(M),M=D.charAt(T++);continue}if(M==","){f.push(v.COMMA),E.push(M),M=D.charAt(T++);continue}if(M=="|"){f.push(v.BAR),E.push(M),M=D.charAt(T++);continue}if(M=="+"){f.push(v.PLUS),E.push(M),M=D.charAt(T++);continue}if(M=="-"){f.push(v.MINUS),E.push(M),M=D.charAt(T++);continue}if(M=="="){f.push(v.EQUALS),E.push(M),M=D.charAt(T++);continue}if(M=="$"){f.push(v.DOLLAR),E.push(M),M=D.charAt(T++);continue}if(M=="."){if(M=D.charAt(T++),M=="."){f.push(v.DOUBLEDOT),E.push(".."),M=D.charAt(T++);continue}if(M>="0"&&M<="9"){var se="."+M;for(M=D.charAt(T++);M>="0"&&M<="9";)se+=M,M=D.charAt(T++);f.push(v.NUMBER),E.push(se);continue}f.push(v.DOT),E.push(".");continue}if(M=="'"||M=='"'){for(var be=M,Ie="";T<D.length&&(M=D.charAt(T))!==be;)Ie+=M,T+=1;if(M!==be)throw ie.fromMessage("Unterminated string literal: "+be+Ie);T+=1,f.push(v.LITERAL),E.push(Ie),M=D.charAt(T++);continue}if(M>="0"&&M<="9"){var se=M;for(M=D.charAt(T++);M>="0"&&M<="9";)se+=M,M=D.charAt(T++);if(M=="."&&D.charAt(T)>="0"&&D.charAt(T)<="9")for(se+=M,se+=D.charAt(T++),M=D.charAt(T++);M>="0"&&M<="9";)se+=M,M=D.charAt(T++);f.push(v.NUMBER),E.push(se);continue}if(M=="*"){if(f.length>0){var ue=f[f.length-1];if(ue!=v.AT&&ue!=v.DOUBLECOLON&&ue!=v.LEFTPARENTHESIS&&ue!=v.LEFTBRACKET&&ue!=v.AND&&ue!=v.OR&&ue!=v.MOD&&ue!=v.DIV&&ue!=v.MULTIPLYOPERATOR&&ue!=v.SLASH&&ue!=v.DOUBLESLASH&&ue!=v.BAR&&ue!=v.PLUS&&ue!=v.MINUS&&ue!=v.EQUALS&&ue!=v.NOTEQUAL&&ue!=v.LESSTHAN&&ue!=v.LESSTHANOREQUAL&&ue!=v.GREATERTHAN&&ue!=v.GREATERTHANOREQUAL){f.push(v.MULTIPLYOPERATOR),E.push(M),M=D.charAt(T++);continue}}f.push(v.ASTERISKNAMETEST),E.push(M),M=D.charAt(T++);continue}if(M==":"&&D.charAt(T)==":"){f.push(v.DOUBLECOLON),E.push("::"),T++,M=D.charAt(T++);continue}if(M=="/"){if(M=D.charAt(T++),M=="/"){f.push(v.DOUBLESLASH),E.push("//"),M=D.charAt(T++);continue}f.push(v.SLASH),E.push("/");continue}if(M=="!"&&D.charAt(T)=="="){f.push(v.NOTEQUAL),E.push("!="),T++,M=D.charAt(T++);continue}if(M=="<"){if(D.charAt(T)=="="){f.push(v.LESSTHANOREQUAL),E.push("<="),T++,M=D.charAt(T++);continue}f.push(v.LESSTHAN),E.push("<"),M=D.charAt(T++);continue}if(M==">"){if(D.charAt(T)=="="){f.push(v.GREATERTHANOREQUAL),E.push(">="),T++,M=D.charAt(T++);continue}f.push(v.GREATERTHAN),E.push(">"),M=D.charAt(T++);continue}if(M=="_"||H.isLetter(M.charCodeAt(0))){var Oe=M;for(M=D.charAt(T++);H.isNCNameChar(M.charCodeAt(0));)Oe+=M,M=D.charAt(T++);if(f.length>0){var ue=f[f.length-1];if(ue!=v.AT&&ue!=v.DOUBLECOLON&&ue!=v.LEFTPARENTHESIS&&ue!=v.LEFTBRACKET&&ue!=v.AND&&ue!=v.OR&&ue!=v.MOD&&ue!=v.DIV&&ue!=v.MULTIPLYOPERATOR&&ue!=v.SLASH&&ue!=v.DOUBLESLASH&&ue!=v.BAR&&ue!=v.PLUS&&ue!=v.MINUS&&ue!=v.EQUALS&&ue!=v.NOTEQUAL&&ue!=v.LESSTHAN&&ue!=v.LESSTHANOREQUAL&&ue!=v.GREATERTHAN&&ue!=v.GREATERTHANOREQUAL){if(Oe=="and"){f.push(v.AND),E.push(Oe);continue}if(Oe=="or"){f.push(v.OR),E.push(Oe);continue}if(Oe=="mod"){f.push(v.MOD),E.push(Oe);continue}if(Oe=="div"){f.push(v.DIV),E.push(Oe);continue}}}if(M==":"){if(D.charAt(T)=="*"){f.push(v.NCNAMECOLONASTERISK),E.push(Oe+":*"),T++,M=D.charAt(T++);continue}if(D.charAt(T)=="_"||H.isLetter(D.charCodeAt(T))){for(Oe+=":",M=D.charAt(T++);H.isNCNameChar(M.charCodeAt(0));)Oe+=M,M=D.charAt(T++);if(M=="("){f.push(v.FUNCTIONNAME),E.push(Oe);continue}f.push(v.QNAME),E.push(Oe);continue}if(D.charAt(T)==":"){f.push(v.AXISNAME),E.push(Oe);continue}}if(M=="("){if(Oe=="comment"||Oe=="text"||Oe=="node"){f.push(v.NODETYPE),E.push(Oe);continue}if(Oe=="processing-instruction"){D.charAt(T)==")"?f.push(v.NODETYPE):f.push(v.PROCESSINGINSTRUCTIONWITHLITERAL),E.push(Oe);continue}f.push(v.FUNCTIONNAME),E.push(Oe);continue}f.push(v.QNAME),E.push(Oe);continue}throw new Error("Unexpected character "+M)}return f.push(1),E.push("[EOF]"),[f,E]},v.SHIFT="s",v.REDUCE="r",v.ACCEPT="a",v.prototype.parse=function(Ie){var f,E,D=this.tokenize(Ie);if(D!=null){f=D[0],E=D[1];var T=0,M=[],se=[],be=[],Ie,ue,Oe;for(M.push(0),se.push(1),be.push("_S"),ue=f[T],Oe=E[T++];;)switch(Ie=M[M.length-1],v.actionTable[Ie].charAt(ue-1)){case v.SHIFT:se.push(-ue),be.push(Oe),M.push(v.actionTableNumber[Ie].charCodeAt(ue-1)-32),ue=f[T],Oe=E[T++];break;case v.REDUCE:for(var yt=v.productions[v.actionTableNumber[Ie].charCodeAt(ue-1)-32][1],Ve=[],Bt=0;Bt<yt;Bt++)se.pop(),Ve.unshift(be.pop()),M.pop();var Yt=M[M.length-1];se.push(v.productions[v.actionTableNumber[Ie].charCodeAt(ue-1)-32][0]),this.reduceActions[v.actionTableNumber[Ie].charCodeAt(ue-1)-32]==null?be.push(Ve[0]):be.push(this.reduceActions[v.actionTableNumber[Ie].charCodeAt(ue-1)-32](Ve)),M.push(v.gotoTable[Yt].charCodeAt(v.productions[v.actionTableNumber[Ie].charCodeAt(ue-1)-32][0]-2)-33);break;case v.ACCEPT:return new S(be.pop());default:throw new Error("XPath parse error")}}},S.prototype=new Object,S.prototype.constructor=S,S.superclass=Object.prototype;function S(i){this.expression=i}S.prototype.toString=function(){return this.expression.toString()};function A(i,f,E){f in i||(i[f]=E)}S.prototype.evaluate=function(i){return i.contextNode=i.expressionContextNode,i.contextSize=1,i.contextPosition=1,i.isHtml&&(A(i,"caseInsensitive",!0),A(i,"allowAnyNamespaceForNoPrefix",!0)),A(i,"caseInsensitive",!1),this.expression.evaluate(i)},S.XML_NAMESPACE_URI="http://www.w3.org/XML/1998/namespace",S.XMLNS_NAMESPACE_URI="http://www.w3.org/2000/xmlns/",R.prototype=new Object,R.prototype.constructor=R,R.superclass=Object.prototype;function R(){}R.prototype.init=function(){},R.prototype.toString=function(){return"<Expression>"},R.prototype.evaluate=function(i){throw new Error("Could not evaluate expression.")},$.prototype=new R,$.prototype.constructor=$,$.superclass=R.prototype;function $(i){arguments.length>0&&this.init(i)}$.prototype.init=function(i){this.rhs=i},I.prototype=new $,I.prototype.constructor=I,I.superclass=$.prototype;function I(i){arguments.length>0&&this.init(i)}I.prototype.init=function(i){I.superclass.init.call(this,i)},I.prototype.evaluate=function(i){return this.rhs.evaluate(i).number().negate()},I.prototype.toString=function(){return"-"+this.rhs.toString()},V.prototype=new R,V.prototype.constructor=V,V.superclass=R.prototype;function V(i,f){arguments.length>0&&this.init(i,f)}V.prototype.init=function(i,f){this.lhs=i,this.rhs=f},L.prototype=new V,L.prototype.constructor=L,L.superclass=V.prototype;function L(i,f){arguments.length>0&&this.init(i,f)}L.prototype.init=function(i,f){L.superclass.init.call(this,i,f)},L.prototype.toString=function(){return"("+this.lhs.toString()+" or "+this.rhs.toString()+")"},L.prototype.evaluate=function(i){var f=this.lhs.evaluate(i).bool();return f.booleanValue()?f:this.rhs.evaluate(i).bool()},P.prototype=new V,P.prototype.constructor=P,P.superclass=V.prototype;function P(i,f){arguments.length>0&&this.init(i,f)}P.prototype.init=function(i,f){P.superclass.init.call(this,i,f)},P.prototype.toString=function(){return"("+this.lhs.toString()+" and "+this.rhs.toString()+")"},P.prototype.evaluate=function(i){var f=this.lhs.evaluate(i).bool();return f.booleanValue()?this.rhs.evaluate(i).bool():f},j.prototype=new V,j.prototype.constructor=j,j.superclass=V.prototype;function j(i,f){arguments.length>0&&this.init(i,f)}j.prototype.init=function(i,f){j.superclass.init.call(this,i,f)},j.prototype.toString=function(){return"("+this.lhs.toString()+" = "+this.rhs.toString()+")"},j.prototype.evaluate=function(i){return this.lhs.evaluate(i).equals(this.rhs.evaluate(i))},K.prototype=new V,K.prototype.constructor=K,K.superclass=V.prototype;function K(i,f){arguments.length>0&&this.init(i,f)}K.prototype.init=function(i,f){K.superclass.init.call(this,i,f)},K.prototype.toString=function(){return"("+this.lhs.toString()+" != "+this.rhs.toString()+")"},K.prototype.evaluate=function(i){return this.lhs.evaluate(i).notequal(this.rhs.evaluate(i))},ce.prototype=new V,ce.prototype.constructor=ce,ce.superclass=V.prototype;function ce(i,f){arguments.length>0&&this.init(i,f)}ce.prototype.init=function(i,f){ce.superclass.init.call(this,i,f)},ce.prototype.evaluate=function(i){return this.lhs.evaluate(i).lessthan(this.rhs.evaluate(i))},ce.prototype.toString=function(){return"("+this.lhs.toString()+" < "+this.rhs.toString()+")"},ae.prototype=new V,ae.prototype.constructor=ae,ae.superclass=V.prototype;function ae(i,f){arguments.length>0&&this.init(i,f)}ae.prototype.init=function(i,f){ae.superclass.init.call(this,i,f)},ae.prototype.evaluate=function(i){return this.lhs.evaluate(i).greaterthan(this.rhs.evaluate(i))},ae.prototype.toString=function(){return"("+this.lhs.toString()+" > "+this.rhs.toString()+")"},le.prototype=new V,le.prototype.constructor=le,le.superclass=V.prototype;function le(i,f){arguments.length>0&&this.init(i,f)}le.prototype.init=function(i,f){le.superclass.init.call(this,i,f)},le.prototype.evaluate=function(i){return this.lhs.evaluate(i).lessthanorequal(this.rhs.evaluate(i))},le.prototype.toString=function(){return"("+this.lhs.toString()+" <= "+this.rhs.toString()+")"},ge.prototype=new V,ge.prototype.constructor=ge,ge.superclass=V.prototype;function ge(i,f){arguments.length>0&&this.init(i,f)}ge.prototype.init=function(i,f){ge.superclass.init.call(this,i,f)},ge.prototype.evaluate=function(i){return this.lhs.evaluate(i).greaterthanorequal(this.rhs.evaluate(i))},ge.prototype.toString=function(){return"("+this.lhs.toString()+" >= "+this.rhs.toString()+")"},xe.prototype=new V,xe.prototype.constructor=xe,xe.superclass=V.prototype;function xe(i,f){arguments.length>0&&this.init(i,f)}xe.prototype.init=function(i,f){xe.superclass.init.call(this,i,f)},xe.prototype.evaluate=function(i){return this.lhs.evaluate(i).number().plus(this.rhs.evaluate(i).number())},xe.prototype.toString=function(){return"("+this.lhs.toString()+" + "+this.rhs.toString()+")"},Ce.prototype=new V,Ce.prototype.constructor=Ce,Ce.superclass=V.prototype;function Ce(i,f){arguments.length>0&&this.init(i,f)}Ce.prototype.init=function(i,f){Ce.superclass.init.call(this,i,f)},Ce.prototype.evaluate=function(i){return this.lhs.evaluate(i).number().minus(this.rhs.evaluate(i).number())},Ce.prototype.toString=function(){return"("+this.lhs.toString()+" - "+this.rhs.toString()+")"},ye.prototype=new V,ye.prototype.constructor=ye,ye.superclass=V.prototype;function ye(i,f){arguments.length>0&&this.init(i,f)}ye.prototype.init=function(i,f){ye.superclass.init.call(this,i,f)},ye.prototype.evaluate=function(i){return this.lhs.evaluate(i).number().multiply(this.rhs.evaluate(i).number())},ye.prototype.toString=function(){return"("+this.lhs.toString()+" * "+this.rhs.toString()+")"},Re.prototype=new V,Re.prototype.constructor=Re,Re.superclass=V.prototype;function Re(i,f){arguments.length>0&&this.init(i,f)}Re.prototype.init=function(i,f){Re.superclass.init.call(this,i,f)},Re.prototype.evaluate=function(i){return this.lhs.evaluate(i).number().div(this.rhs.evaluate(i).number())},Re.prototype.toString=function(){return"("+this.lhs.toString()+" div "+this.rhs.toString()+")"},pe.prototype=new V,pe.prototype.constructor=pe,pe.superclass=V.prototype;function pe(i,f){arguments.length>0&&this.init(i,f)}pe.prototype.init=function(i,f){pe.superclass.init.call(this,i,f)},pe.prototype.evaluate=function(i){return this.lhs.evaluate(i).number().mod(this.rhs.evaluate(i).number())},pe.prototype.toString=function(){return"("+this.lhs.toString()+" mod "+this.rhs.toString()+")"},oe.prototype=new V,oe.prototype.constructor=oe,oe.superclass=V.prototype;function oe(i,f){arguments.length>0&&this.init(i,f)}oe.prototype.init=function(i,f){oe.superclass.init.call(this,i,f)},oe.prototype.evaluate=function(i){return this.lhs.evaluate(i).nodeset().union(this.rhs.evaluate(i).nodeset())},oe.prototype.toString=function(){return s(h,[this.lhs,this.rhs]).join(" | ")},X.prototype=new R,X.prototype.constructor=X,X.superclass=R.prototype;function X(i,f,E){arguments.length>0&&this.init(i,f,E)}X.prototype.init=function(i,f,E){X.superclass.init.call(this),this.filter=i,this.filterPredicates=f,this.locationPath=E};function Ze(i){for(;i&&i.parentNode;)i=i.parentNode;return i}X.applyPredicates=function(i,f,E){if(i.length===0)return E;var D=f.extend({});return o(function(T,M){return D.contextSize=T.length,u(function(se,be){return D.contextNode=se,D.contextPosition=be+1,X.predicateMatches(M,D)},T)},E,i)},X.getRoot=function(i,f){var E=f[0];if(E.nodeType===9)return E;if(i.virtualRoot)return i.virtualRoot;var D=E.ownerDocument;if(D)return D;for(var T=E;T.parentNode!=null;)T=T.parentNode;return T},X.applyStep=function(i,f,E){var D=[];switch(f.contextNode=E,i.axis){case Q.ANCESTOR:if(f.contextNode===f.virtualRoot)break;var T;for(f.contextNode.nodeType==2?T=X.getOwnerElement(f.contextNode):T=f.contextNode.parentNode;T!=null&&(i.nodeTest.matches(T,f)&&D.push(T),T!==f.virtualRoot);)T=T.parentNode;break;case Q.ANCESTORORSELF:for(var T=f.contextNode;T!=null&&(i.nodeTest.matches(T,f)&&D.push(T),T!==f.virtualRoot);T=T.nodeType==2?X.getOwnerElement(T):T.parentNode);break;case Q.ATTRIBUTE:var M=f.contextNode.attributes;if(M!=null)for(var se=0;se<M.length;se++){var T=M.item(se);i.nodeTest.matches(T,f)&&D.push(T)}break;case Q.CHILD:for(var T=f.contextNode.firstChild;T!=null;T=T.nextSibling)i.nodeTest.matches(T,f)&&D.push(T);break;case Q.DESCENDANT:for(var Ve=[f.contextNode.firstChild];Ve.length>0;)for(var T=Ve.pop();T!=null;)i.nodeTest.matches(T,f)&&D.push(T),T.firstChild!=null?(Ve.push(T.nextSibling),T=T.firstChild):T=T.nextSibling;break;case Q.DESCENDANTORSELF:i.nodeTest.matches(f.contextNode,f)&&D.push(f.contextNode);for(var Ve=[f.contextNode.firstChild];Ve.length>0;)for(var T=Ve.pop();T!=null;)i.nodeTest.matches(T,f)&&D.push(T),T.firstChild!=null?(Ve.push(T.nextSibling),T=T.firstChild):T=T.nextSibling;break;case Q.FOLLOWING:if(f.contextNode===f.virtualRoot)break;var Ve=[];f.contextNode.firstChild!=null?Ve.unshift(f.contextNode.firstChild):Ve.unshift(f.contextNode.nextSibling);for(var T=f.contextNode.parentNode;T!=null&&T.nodeType!=9&&T!==f.virtualRoot;T=T.parentNode)Ve.unshift(T.nextSibling);do for(var T=Ve.pop();T!=null;)i.nodeTest.matches(T,f)&&D.push(T),T.firstChild!=null?(Ve.push(T.nextSibling),T=T.firstChild):T=T.nextSibling;while(Ve.length>0);break;case Q.FOLLOWINGSIBLING:if(f.contextNode===f.virtualRoot)break;for(var T=f.contextNode.nextSibling;T!=null;T=T.nextSibling)i.nodeTest.matches(T,f)&&D.push(T);break;case Q.NAMESPACE:var be={};if(f.contextNode.nodeType==1){be.xml=S.XML_NAMESPACE_URI,be.xmlns=S.XMLNS_NAMESPACE_URI;for(var T=f.contextNode;T!=null&&T.nodeType==1;T=T.parentNode)for(var se=0;se<T.attributes.length;se++){var Ie=T.attributes.item(se),ue=String(Ie.name);if(ue=="xmlns")be[""]==null&&(be[""]=Ie.value);else if(ue.length>6&&ue.substring(0,6)=="xmlns:"){var Oe=ue.substring(6,ue.length);be[Oe]==null&&(be[Oe]=Ie.value)}}for(var Oe in be){var yt=new k(Oe,be[Oe],f.contextNode);i.nodeTest.matches(yt,f)&&D.push(yt)}}break;case Q.PARENT:T=null,f.contextNode!==f.virtualRoot&&(f.contextNode.nodeType==2?T=X.getOwnerElement(f.contextNode):T=f.contextNode.parentNode),T!=null&&i.nodeTest.matches(T,f)&&D.push(T);break;case Q.PRECEDING:var Ve;f.virtualRoot!=null?Ve=[f.virtualRoot]:Ve=[Ze(f.contextNode)];e:for(;Ve.length>0;)for(var T=Ve.pop();T!=null;){if(T==f.contextNode)break e;i.nodeTest.matches(T,f)&&D.unshift(T),T.firstChild!=null?(Ve.push(T.nextSibling),T=T.firstChild):T=T.nextSibling}break;case Q.PRECEDINGSIBLING:if(f.contextNode===f.virtualRoot)break;for(var T=f.contextNode.previousSibling;T!=null;T=T.previousSibling)i.nodeTest.matches(T,f)&&D.push(T);break;case Q.SELF:i.nodeTest.matches(f.contextNode,f)&&D.push(f.contextNode);break}return D};function $e(i,f,E){return X.applyPredicates(i.predicates,f,X.applyStep(i,f,E))}function ze(i,f,E){return _(s($e.bind(null,E,i),f))}X.applySteps=function(i,f,E){return o(ze.bind(null,f),E,i)},X.prototype.applyFilter=function(i,f){if(!this.filter)return{nodes:[i.contextNode]};var E=this.filter.evaluate(i);if(!H.instance_of(E,x)){if(this.filterPredicates!=null&&this.filterPredicates.length>0||this.locationPath!=null)throw new Error("Path expression filter must evaluate to a nodeset if predicates or location path are used");return{nonNodes:E}}return{nodes:X.applyPredicates(this.filterPredicates||[],f,E.toUnsortedArray())}},X.applyLocationPath=function(i,f,E){if(!i)return E;var D=i.absolute?[X.getRoot(f,E)]:E;return X.applySteps(i.steps,f,D)},X.prototype.evaluate=function(i){var f=C(new W,i),E=this.applyFilter(i,f);if("nonNodes"in E)return E.nonNodes;var D=new x;return D.addArray(X.applyLocationPath(this.locationPath,f,E.nodes)),D},X.predicateMatches=function(i,f){var E=i.evaluate(f);return H.instance_of(E,ee)?f.contextPosition===E.numberValue():E.booleanValue()},X.predicateString=function(i){return N("[","]",i.toString())},X.predicatesString=function(i){return g("",s(X.predicateString,i))},X.prototype.toString=function(){if(this.filter!=null){var i=h(this.filter);return H.instance_of(this.filter,ne)?N("'","'",i):this.filterPredicates!=null&&this.filterPredicates.length?N("(",")",i)+X.predicatesString(this.filterPredicates):this.locationPath!=null?i+(this.locationPath.absolute?"":"/")+h(this.locationPath):i}return h(this.locationPath)},X.getOwnerElement=function(i){if(i.ownerElement)return i.ownerElement;try{if(i.selectSingleNode)return i.selectSingleNode("..")}catch{}for(var f=i.nodeType==9?i:i.ownerDocument,E=f.getElementsByTagName("*"),D=0;D<E.length;D++)for(var T=E.item(D),M=T.attributes,se=0;se<M.length;se++){var be=M.item(se);if(be===i)return T}return null},me.prototype=new Object,me.prototype.constructor=me,me.superclass=Object.prototype;function me(i,f){arguments.length>0&&this.init(i,f)}me.prototype.init=function(i,f){this.absolute=i,this.steps=f},me.prototype.toString=function(){return(this.absolute?"/":"")+s(h,this.steps).join("/")},Q.prototype=new Object,Q.prototype.constructor=Q,Q.superclass=Object.prototype;function Q(i,f,E){arguments.length>0&&this.init(i,f,E)}Q.prototype.init=function(i,f,E){this.axis=i,this.nodeTest=f,this.predicates=E},Q.prototype.toString=function(){return Q.STEPNAMES[this.axis]+"::"+this.nodeTest.toString()+X.predicatesString(this.predicates)},Q.ANCESTOR=0,Q.ANCESTORORSELF=1,Q.ATTRIBUTE=2,Q.CHILD=3,Q.DESCENDANT=4,Q.DESCENDANTORSELF=5,Q.FOLLOWING=6,Q.FOLLOWINGSIBLING=7,Q.NAMESPACE=8,Q.PARENT=9,Q.PRECEDING=10,Q.PRECEDINGSIBLING=11,Q.SELF=12,Q.STEPNAMES=o(function(i,f){return i[f[0]]=f[1],i},{},[[Q.ANCESTOR,"ancestor"],[Q.ANCESTORORSELF,"ancestor-or-self"],[Q.ATTRIBUTE,"attribute"],[Q.CHILD,"child"],[Q.DESCENDANT,"descendant"],[Q.DESCENDANTORSELF,"descendant-or-self"],[Q.FOLLOWING,"following"],[Q.FOLLOWINGSIBLING,"following-sibling"],[Q.NAMESPACE,"namespace"],[Q.PARENT,"parent"],[Q.PRECEDING,"preceding"],[Q.PRECEDINGSIBLING,"preceding-sibling"],[Q.SELF,"self"]]),Y.prototype=new Object,Y.prototype.constructor=Y,Y.superclass=Object.prototype;function Y(i,f){arguments.length>0&&this.init(i,f)}Y.prototype.init=function(i,f){this.type=i,this.value=f},Y.prototype.toString=function(){return"<unknown nodetest type>"},Y.prototype.matches=function(i,f){console.warn("unknown node test type")},Y.NAMETESTANY=0,Y.NAMETESTPREFIXANY=1,Y.NAMETESTQNAME=2,Y.COMMENT=3,Y.TEXT=4,Y.PI=5,Y.NODE=6,Y.isNodeType=function(i){return function(f){return c(i,f.nodeType)}},Y.makeNodeTestType=function(i,f,E){var D=E||function(){};return D.prototype=new Y(i),D.prototype.constructor=D,C(D.prototype,f),D},Y.makeNodeTypeTest=function(i,f,E){return new(Y.makeNodeTestType(i,{matches:Y.isNodeType(f),toString:l(E)}))},Y.hasPrefix=function(i){return i.prefix||(i.nodeName||i.tagName).indexOf(":")!==-1},Y.isElementOrAttribute=Y.isNodeType([1,2]),Y.nameSpaceMatches=function(i,f,E){var D=E.namespaceURI||"";if(!i)return!D||f.allowAnyNamespaceForNoPrefix&&!Y.hasPrefix(E);var T=f.namespaceResolver.getNamespace(i,f.expressionContextNode);if(T==null)throw new Error("Cannot resolve QName "+i);return T===D},Y.localNameMatches=function(i,f,E){var D=E.localName||E.nodeName;return f.caseInsensitive?i.toLowerCase()===D.toLowerCase():i===D},Y.NameTestPrefixAny=Y.makeNodeTestType(Y.NAMETESTPREFIXANY,{matches:function(i,f){return Y.isElementOrAttribute(i)&&Y.nameSpaceMatches(this.prefix,f,i)},toString:function(){return this.prefix+":*"}},function(f){this.prefix=f}),Y.NameTestQName=Y.makeNodeTestType(Y.NAMETESTQNAME,{matches:function(i,f){return Y.isNodeType([1,2,k.XPATH_NAMESPACE_NODE])(i)&&Y.nameSpaceMatches(this.prefix,f,i)&&Y.localNameMatches(this.localName,f,i)},toString:function(){return this.name}},function(f){var E=f.split(":");this.name=f,this.prefix=E.length>1?E[0]:null,this.localName=E[E.length>1?1:0]}),Y.PITest=Y.makeNodeTestType(Y.PI,{matches:function(i,f){return Y.isNodeType([7])(i)&&(i.target||i.nodeName)===this.name},toString:function(){return N('processing-instruction("','")',this.name)}},function(i){this.name=i}),Y.nameTestAny=Y.makeNodeTypeTest(Y.NAMETESTANY,[1,2,k.XPATH_NAMESPACE_NODE],"*"),Y.textTest=Y.makeNodeTypeTest(Y.TEXT,[3,4],"text()"),Y.commentTest=Y.makeNodeTypeTest(Y.COMMENT,[8],"comment()"),Y.nodeTest=Y.makeNodeTypeTest(Y.NODE,[1,2,3,4,7,8,9],"node()"),Y.anyPiTest=Y.makeNodeTypeTest(Y.PI,[7],"processing-instruction()"),re.prototype=new R,re.prototype.constructor=re,re.superclass=R.prototype;function re(i){arguments.length>0&&this.init(i)}re.prototype.init=function(i){this.variable=i},re.prototype.toString=function(){return"$"+this.variable},re.prototype.evaluate=function(i){var f=H.resolveQName(this.variable,i.namespaceResolver,i.contextNode,!1);if(f[0]==null)throw new Error("Cannot resolve QName "+fn);var E=i.variableResolver.getVariable(f[1],f[0]);if(!E)throw ie.fromMessage("Undeclared variable: "+this.toString());return E},Ae.prototype=new R,Ae.prototype.constructor=Ae,Ae.superclass=R.prototype;function Ae(i,f){arguments.length>0&&this.init(i,f)}Ae.prototype.init=function(i,f){this.functionName=i,this.arguments=f},Ae.prototype.toString=function(){for(var i=this.functionName+"(",f=0;f<this.arguments.length;f++)f>0&&(i+=", "),i+=this.arguments[f].toString();return i+")"},Ae.prototype.evaluate=function(i){var f=B.getFunctionFromContext(this.functionName,i);if(!f)throw new Error("Unknown function "+this.functionName);var E=[i].concat(this.arguments);return f.apply(i.functionResolver.thisArg,E)};var Te=new Object;Te.equals=function(i,f){return i.equals(f)},Te.notequal=function(i,f){return i.notequal(f)},Te.lessthan=function(i,f){return i.lessthan(f)},Te.greaterthan=function(i,f){return i.greaterthan(f)},Te.lessthanorequal=function(i,f){return i.lessthanorequal(f)},Te.greaterthanorequal=function(i,f){return i.greaterthanorequal(f)},ne.prototype=new R,ne.prototype.constructor=ne,ne.superclass=R.prototype;function ne(i){arguments.length>0&&this.init(i)}ne.prototype.init=function(i){this.str=String(i)},ne.prototype.toString=function(){return this.str},ne.prototype.evaluate=function(i){return this},ne.prototype.string=function(){return this},ne.prototype.number=function(){return new ee(this.str)},ne.prototype.bool=function(){return new b(this.str)},ne.prototype.nodeset=function(){throw new Error("Cannot convert string to nodeset")},ne.prototype.stringValue=function(){return this.str},ne.prototype.numberValue=function(){return this.number().numberValue()},ne.prototype.booleanValue=function(){return this.bool().booleanValue()},ne.prototype.equals=function(i){return H.instance_of(i,b)?this.bool().equals(i):H.instance_of(i,ee)?this.number().equals(i):H.instance_of(i,x)?i.compareWithString(this,Te.equals):new b(this.str==i.str)},ne.prototype.notequal=function(i){return H.instance_of(i,b)?this.bool().notequal(i):H.instance_of(i,ee)?this.number().notequal(i):H.instance_of(i,x)?i.compareWithString(this,Te.notequal):new b(this.str!=i.str)},ne.prototype.lessthan=function(i){return this.number().lessthan(i)},ne.prototype.greaterthan=function(i){return this.number().greaterthan(i)},ne.prototype.lessthanorequal=function(i){return this.number().lessthanorequal(i)},ne.prototype.greaterthanorequal=function(i){return this.number().greaterthanorequal(i)},ee.prototype=new R,ee.prototype.constructor=ee,ee.superclass=R.prototype;function ee(i){arguments.length>0&&this.init(i)}ee.prototype.init=function(i){this.num=typeof i=="string"?this.parse(i):Number(i)},ee.prototype.numberFormat=/^\s*-?[0-9]*\.?[0-9]+\s*$/,ee.prototype.parse=function(i){return this.numberFormat.test(i)?parseFloat(i):Number.NaN};function ft(i){for(var f=i.split("e-"),E=f[0].replace(".",""),D=Number(f[1]),T=0;T<D-1;T+=1)E="0"+E;return"0."+E}function Nt(i){for(var f=i.split("e"),E=f[0].replace(".",""),D=Number(f[1]),T=D+1-E.length,M=0;M<T;M+=1)E+="0";return E}ee.prototype.toString=function(){var i=this.num.toString();return i.indexOf("e-")!==-1?ft(i):i.indexOf("e")!==-1?Nt(i):i},ee.prototype.evaluate=function(i){return this},ee.prototype.string=function(){return new ne(this.toString())},ee.prototype.number=function(){return this},ee.prototype.bool=function(){return new b(this.num)},ee.prototype.nodeset=function(){throw new Error("Cannot convert number to nodeset")},ee.prototype.stringValue=function(){return this.string().stringValue()},ee.prototype.numberValue=function(){return this.num},ee.prototype.booleanValue=function(){return this.bool().booleanValue()},ee.prototype.negate=function(){return new ee(-this.num)},ee.prototype.equals=function(i){return H.instance_of(i,b)?this.bool().equals(i):H.instance_of(i,ne)?this.equals(i.number()):H.instance_of(i,x)?i.compareWithNumber(this,Te.equals):new b(this.num==i.num)},ee.prototype.notequal=function(i){return H.instance_of(i,b)?this.bool().notequal(i):H.instance_of(i,ne)?this.notequal(i.number()):H.instance_of(i,x)?i.compareWithNumber(this,Te.notequal):new b(this.num!=i.num)},ee.prototype.lessthan=function(i){return H.instance_of(i,x)?i.compareWithNumber(this,Te.greaterthan):H.instance_of(i,b)||H.instance_of(i,ne)?this.lessthan(i.number()):new b(this.num<i.num)},ee.prototype.greaterthan=function(i){return H.instance_of(i,x)?i.compareWithNumber(this,Te.lessthan):H.instance_of(i,b)||H.instance_of(i,ne)?this.greaterthan(i.number()):new b(this.num>i.num)},ee.prototype.lessthanorequal=function(i){return H.instance_of(i,x)?i.compareWithNumber(this,Te.greaterthanorequal):H.instance_of(i,b)||H.instance_of(i,ne)?this.lessthanorequal(i.number()):new b(this.num<=i.num)},ee.prototype.greaterthanorequal=function(i){return H.instance_of(i,x)?i.compareWithNumber(this,Te.lessthanorequal):H.instance_of(i,b)||H.instance_of(i,ne)?this.greaterthanorequal(i.number()):new b(this.num>=i.num)},ee.prototype.plus=function(i){return new ee(this.num+i.num)},ee.prototype.minus=function(i){return new ee(this.num-i.num)},ee.prototype.multiply=function(i){return new ee(this.num*i.num)},ee.prototype.div=function(i){return new ee(this.num/i.num)},ee.prototype.mod=function(i){return new ee(this.num%i.num)},b.prototype=new R,b.prototype.constructor=b,b.superclass=R.prototype;function b(i){arguments.length>0&&this.init(i)}b.prototype.init=function(i){this.b=Boolean(i)},b.prototype.toString=function(){return this.b.toString()},b.prototype.evaluate=function(i){return this},b.prototype.string=function(){return new ne(this.b)},b.prototype.number=function(){return new ee(this.b)},b.prototype.bool=function(){return this},b.prototype.nodeset=function(){throw new Error("Cannot convert boolean to nodeset")},b.prototype.stringValue=function(){return this.string().stringValue()},b.prototype.numberValue=function(){return this.number().numberValue()},b.prototype.booleanValue=function(){return this.b},b.prototype.not=function(){return new b(!this.b)},b.prototype.equals=function(i){return H.instance_of(i,ne)||H.instance_of(i,ee)?this.equals(i.bool()):H.instance_of(i,x)?i.compareWithBoolean(this,Te.equals):new b(this.b==i.b)},b.prototype.notequal=function(i){return H.instance_of(i,ne)||H.instance_of(i,ee)?this.notequal(i.bool()):H.instance_of(i,x)?i.compareWithBoolean(this,Te.notequal):new b(this.b!=i.b)},b.prototype.lessthan=function(i){return this.number().lessthan(i)},b.prototype.greaterthan=function(i){return this.number().greaterthan(i)},b.prototype.lessthanorequal=function(i){return this.number().lessthanorequal(i)},b.prototype.greaterthanorequal=function(i){return this.number().greaterthanorequal(i)},b.true_=new b(!0),b.false_=new b(!1),d.prototype=new Object,d.prototype.constructor=d,d.superclass=Object.prototype;function d(i){this.init(i)}d.prototype.init=function(i){this.left=null,this.right=null,this.node=i,this.depth=1},d.prototype.balance=function(){var i=this.left==null?0:this.left.depth,f=this.right==null?0:this.right.depth;if(i>f+1){var E=this.left.left==null?0:this.left.left.depth,D=this.left.right==null?0:this.left.right.depth;E<D&&this.left.rotateRR(),this.rotateLL()}else if(i+1<f){var T=this.right.right==null?0:this.right.right.depth,M=this.right.left==null?0:this.right.left.depth;M>T&&this.right.rotateLL(),this.rotateRR()}},d.prototype.rotateLL=function(){var i=this.node,f=this.right;this.node=this.left.node,this.right=this.left,this.left=this.left.left,this.right.left=this.right.right,this.right.right=f,this.right.node=i,this.right.updateInNewLocation(),this.updateInNewLocation()},d.prototype.rotateRR=function(){var i=this.node,f=this.left;this.node=this.right.node,this.left=this.right,this.right=this.right.right,this.left.right=this.left.left,this.left.left=f,this.left.node=i,this.left.updateInNewLocation(),this.updateInNewLocation()},d.prototype.updateInNewLocation=function(){this.getDepthFromChildren()},d.prototype.getDepthFromChildren=function(){this.depth=this.node==null?0:1,this.left!=null&&(this.depth=this.left.depth+1),this.right!=null&&this.depth<=this.right.depth&&(this.depth=this.right.depth+1)};function m(i,f){if(i===f)return 0;if(i.compareDocumentPosition){var E=i.compareDocumentPosition(f);return E&1||E&10?1:E&20?-1:0}for(var D=0,T=0,M=i;M!=null;M=M.parentNode||M.ownerElement)D++;for(var se=f;se!=null;se=se.parentNode||se.ownerElement)T++;if(D>T){for(;D>T;)i=i.parentNode||i.ownerElement,D--;if(i===f)return 1}else if(T>D){for(;T>D;)f=f.parentNode||f.ownerElement,T--;if(i===f)return-1}for(var be=i.parentNode||i.ownerElement,Ie=f.parentNode||f.ownerElement;be!==Ie;)i=be,f=Ie,be=i.parentNode||i.ownerElement,Ie=f.parentNode||f.ownerElement;var ue=H.isAttribute(i),Oe=H.isAttribute(f);if(ue&&!Oe)return-1;if(!ue&&Oe)return 1;if(be)for(var yt=ue?be.attributes:be.childNodes,Ve=yt.length,Bt=0;Bt<Ve;Bt+=1){var Yt=yt[Bt];if(Yt===i)return-1;if(Yt===f)return 1}throw new Error("Unexpected: could not determine node order")}d.prototype.add=function(i){if(i===this.node)return!1;var f=m(i,this.node),E=!1;return f==-1?this.left==null?(this.left=new d(i),E=!0):(E=this.left.add(i),E&&this.balance()):f==1&&(this.right==null?(this.right=new d(i),E=!0):(E=this.right.add(i),E&&this.balance())),E&&this.getDepthFromChildren(),E},x.prototype=new R,x.prototype.constructor=x,x.superclass=R.prototype;function x(){this.init()}x.prototype.init=function(){this.tree=null,this.nodes=[],this.size=0},x.prototype.toString=function(){var i=this.first();return i==null?"":this.stringForNode(i)},x.prototype.evaluate=function(i){return this},x.prototype.string=function(){return new ne(this.toString())},x.prototype.stringValue=function(){return this.toString()},x.prototype.number=function(){return new ee(this.string())},x.prototype.numberValue=function(){return Number(this.string())},x.prototype.bool=function(){return new b(this.booleanValue())},x.prototype.booleanValue=function(){return!!this.size},x.prototype.nodeset=function(){return this},x.prototype.stringForNode=function(i){return i.nodeType==9||i.nodeType==1||i.nodeType===11?this.stringForContainerNode(i):i.nodeType===2?i.value||i.nodeValue:i.isNamespaceNode?i.namespace:i.nodeValue},x.prototype.stringForContainerNode=function(i){for(var f="",E=i.firstChild;E!=null;E=E.nextSibling){var D=E.nodeType;(D===1||D===3||D===4||D===9||D===11)&&(f+=this.stringForNode(E))}return f},x.prototype.buildTree=function(){if(!this.tree&&this.nodes.length){this.tree=new d(this.nodes[0]);for(var i=1;i<this.nodes.length;i+=1)this.tree.add(this.nodes[i])}return this.tree},x.prototype.first=function(){var i=this.buildTree();if(i==null)return null;for(;i.left!=null;)i=i.left;return i.node},x.prototype.add=function(i){for(var f=0;f<this.nodes.length;f+=1)if(i===this.nodes[f])return;this.tree=null,this.nodes.push(i),this.size+=1},x.prototype.addArray=function(i){var f=this;a(function(E){f.add(E)},i)},x.prototype.toArray=function(){var i=[];return this.toArrayRec(this.buildTree(),i),i},x.prototype.toArrayRec=function(i,f){i!=null&&(this.toArrayRec(i.left,f),f.push(i.node),this.toArrayRec(i.right,f))},x.prototype.toUnsortedArray=function(){return this.nodes.slice()},x.prototype.compareWithString=function(i,f){for(var E=this.toUnsortedArray(),D=0;D<E.length;D++){var T=E[D],M=new ne(this.stringForNode(T)),se=f(M,i);if(se.booleanValue())return se}return new b(!1)},x.prototype.compareWithNumber=function(i,f){for(var E=this.toUnsortedArray(),D=0;D<E.length;D++){var T=E[D],M=new ee(this.stringForNode(T)),se=f(M,i);if(se.booleanValue())return se}return new b(!1)},x.prototype.compareWithBoolean=function(i,f){return f(this.bool(),i)},x.prototype.compareWithNodeSet=function(i,f){for(var E=this.toUnsortedArray(),D=function(be,Ie){return f(Ie,be)},T=0;T<E.length;T++){var M=new ne(this.stringForNode(E[T])),se=i.compareWithString(M,D);if(se.booleanValue())return se}return new b(!1)},x.compareWith=n(function(i,f){return H.instance_of(f,ne)?this.compareWithString(f,i):H.instance_of(f,ee)?this.compareWithNumber(f,i):H.instance_of(f,b)?this.compareWithBoolean(f,i):this.compareWithNodeSet(f,i)}),x.prototype.equals=x.compareWith(Te.equals),x.prototype.notequal=x.compareWith(Te.notequal),x.prototype.lessthan=x.compareWith(Te.lessthan),x.prototype.greaterthan=x.compareWith(Te.greaterthan),x.prototype.lessthanorequal=x.compareWith(Te.lessthanorequal),x.prototype.greaterthanorequal=x.compareWith(Te.greaterthanorequal),x.prototype.union=function(i){var f=new x;return f.addArray(this.toUnsortedArray()),f.addArray(i.toUnsortedArray()),f},k.prototype=new Object,k.prototype.constructor=k,k.superclass=Object.prototype;function k(i,f,E){this.isXPathNamespace=!0,this.ownerDocument=E.ownerDocument,this.nodeName="#namespace",this.prefix=i,this.localName=i,this.namespaceURI=f,this.nodeValue=f,this.ownerElement=E,this.nodeType=k.XPATH_NAMESPACE_NODE}k.prototype.toString=function(){return'{ "'+this.prefix+'", "'+this.namespaceURI+'" }'},W.prototype=new Object,W.prototype.constructor=W,W.superclass=Object.prototype;function W(i,f,E){this.variableResolver=i!=null?i:new Z,this.namespaceResolver=f!=null?f:new z,this.functionResolver=E!=null?E:new B}W.prototype.extend=function(i){return C(new W,this,i)},Z.prototype=new Object,Z.prototype.constructor=Z,Z.superclass=Object.prototype;function Z(){}Z.prototype.getVariable=function(i,f){return null},B.prototype=new Object,B.prototype.constructor=B,B.superclass=Object.prototype;function B(i){this.thisArg=i!=null?i:U,this.functions=new Object,this.addStandardFunctions()}B.prototype.addStandardFunctions=function(){this.functions["{}last"]=U.last,this.functions["{}position"]=U.position,this.functions["{}count"]=U.count,this.functions["{}id"]=U.id,this.functions["{}local-name"]=U.localName,this.functions["{}namespace-uri"]=U.namespaceURI,this.functions["{}name"]=U.name,this.functions["{}string"]=U.string,this.functions["{}concat"]=U.concat,this.functions["{}starts-with"]=U.startsWith,this.functions["{}contains"]=U.contains,this.functions["{}substring-before"]=U.substringBefore,this.functions["{}substring-after"]=U.substringAfter,this.functions["{}substring"]=U.substring,this.functions["{}string-length"]=U.stringLength,this.functions["{}normalize-space"]=U.normalizeSpace,this.functions["{}translate"]=U.translate,this.functions["{}boolean"]=U.boolean_,this.functions["{}not"]=U.not,this.functions["{}true"]=U.true_,this.functions["{}false"]=U.false_,this.functions["{}lang"]=U.lang,this.functions["{}number"]=U.number,this.functions["{}sum"]=U.sum,this.functions["{}floor"]=U.floor,this.functions["{}ceiling"]=U.ceiling,this.functions["{}round"]=U.round},B.prototype.addFunction=function(i,f,E){this.functions["{"+i+"}"+f]=E},B.getFunctionFromContext=function(i,f){var E=H.resolveQName(i,f.namespaceResolver,f.contextNode,!1);if(E[0]===null)throw new Error("Cannot resolve QName "+name);return f.functionResolver.getFunction(E[1],E[0])},B.prototype.getFunction=function(i,f){return this.functions["{"+f+"}"+i]},z.prototype=new Object,z.prototype.constructor=z,z.superclass=Object.prototype;function z(){}z.prototype.getNamespace=function(i,f){if(i=="xml")return S.XML_NAMESPACE_URI;if(i=="xmlns")return S.XMLNS_NAMESPACE_URI;for(f.nodeType==9?f=f.documentElement:f.nodeType==2?f=X.getOwnerElement(f):f.nodeType!=1&&(f=f.parentNode);f!=null&&f.nodeType==1;){for(var E=f.attributes,D=0;D<E.length;D++){var T=E.item(D),M=T.name||T.nodeName;if(M==="xmlns"&&i===""||M==="xmlns:"+i)return String(T.value||T.nodeValue)}f=f.parentNode}return null};var U=new Object;U.last=function(i){if(arguments.length!=1)throw new Error("Function last expects ()");return new ee(i.contextSize)},U.position=function(i){if(arguments.length!=1)throw new Error("Function position expects ()");return new ee(i.contextPosition)},U.count=function(){var i=arguments[0],f;if(arguments.length!=2||!H.instance_of(f=arguments[1].evaluate(i),x))throw new Error("Function count expects (node-set)");return new ee(f.size)},U.id=function(){var i=arguments[0],f;if(arguments.length!=2)throw new Error("Function id expects (object)");f=arguments[1].evaluate(i),H.instance_of(f,x)?f=f.toArray().join(" "):f=f.stringValue();for(var E=f.split(/[\x0d\x0a\x09\x20]+/),D=new x,T=i.contextNode.nodeType==9?i.contextNode:i.contextNode.ownerDocument,M=0;M<E.length;M++){var se;T.getElementById?se=T.getElementById(E[M]):se=H.getElementById(T,E[M]),se!=null&&D.add(se)}return D},U.localName=function(i,f){var E;if(arguments.length==1)E=i.contextNode;else if(arguments.length==2)E=f.evaluate(i).first();else throw new Error("Function local-name expects (node-set?)");return E==null?new ne(""):new ne(E.localName||E.baseName||E.target||E.nodeName||"")},U.namespaceURI=function(){var i=arguments[0],f;if(arguments.length==1)f=i.contextNode;else if(arguments.length==2)f=arguments[1].evaluate(i).first();else throw new Error("Function namespace-uri expects (node-set?)");return f==null?new ne(""):new ne(f.namespaceURI)},U.name=function(){var i=arguments[0],f;if(arguments.length==1)f=i.contextNode;else if(arguments.length==2)f=arguments[1].evaluate(i).first();else throw new Error("Function name expects (node-set?)");return f==null?new ne(""):f.nodeType==1?new ne(f.nodeName):f.nodeType==2?new ne(f.name||f.nodeName):f.nodeType===7?new ne(f.target||f.nodeName):f.localName==null?new ne(""):new ne(f.localName)},U.string=function(){var i=arguments[0];if(arguments.length==1)return new ne(x.prototype.stringForNode(i.contextNode));if(arguments.length==2)return arguments[1].evaluate(i).string();throw new Error("Function string expects (object?)")},U.concat=function(i){if(arguments.length<3)throw new Error("Function concat expects (string, string[, string]*)");for(var f="",E=1;E<arguments.length;E++)f+=arguments[E].evaluate(i).stringValue();return new ne(f)},U.startsWith=function(){var i=arguments[0];if(arguments.length!=3)throw new Error("Function startsWith expects (string, string)");var f=arguments[1].evaluate(i).stringValue(),E=arguments[2].evaluate(i).stringValue();return new b(f.substring(0,E.length)==E)},U.contains=function(){var i=arguments[0];if(arguments.length!=3)throw new Error("Function contains expects (string, string)");var f=arguments[1].evaluate(i).stringValue(),E=arguments[2].evaluate(i).stringValue();return new b(f.indexOf(E)!==-1)},U.substringBefore=function(){var i=arguments[0];if(arguments.length!=3)throw new Error("Function substring-before expects (string, string)");var f=arguments[1].evaluate(i).stringValue(),E=arguments[2].evaluate(i).stringValue();return new ne(f.substring(0,f.indexOf(E)))},U.substringAfter=function(){var i=arguments[0];if(arguments.length!=3)throw new Error("Function substring-after expects (string, string)");var f=arguments[1].evaluate(i).stringValue(),E=arguments[2].evaluate(i).stringValue();if(E.length==0)return new ne(f);var D=f.indexOf(E);return D==-1?new ne(""):new ne(f.substring(D+E.length))},U.substring=function(){var i=arguments[0];if(!(arguments.length==3||arguments.length==4))throw new Error("Function substring expects (string, number, number?)");var f=arguments[1].evaluate(i).stringValue(),E=Math.round(arguments[2].evaluate(i).numberValue())-1,D=arguments.length==4?E+Math.round(arguments[3].evaluate(i).numberValue()):void 0;return new ne(f.substring(E,D))},U.stringLength=function(){var i=arguments[0],f;if(arguments.length==1)f=x.prototype.stringForNode(i.contextNode);else if(arguments.length==2)f=arguments[1].evaluate(i).stringValue();else throw new Error("Function string-length expects (string?)");return new ee(f.length)},U.normalizeSpace=function(){var i=arguments[0],f;if(arguments.length==1)f=x.prototype.stringForNode(i.contextNode);else if(arguments.length==2)f=arguments[1].evaluate(i).stringValue();else throw new Error("Function normalize-space expects (string?)");for(var E=0,D=f.length-1;H.isSpace(f.charCodeAt(D));)D--;for(var T="";E<=D&&H.isSpace(f.charCodeAt(E));)E++;for(;E<=D;)if(H.isSpace(f.charCodeAt(E)))for(T+=" ";E<=D&&H.isSpace(f.charCodeAt(E));)E++;else T+=f.charAt(E),E++;return new ne(T)},U.translate=function(i,f,E,D){if(arguments.length!=4)throw new Error("Function translate expects (string, string, string)");var T=f.evaluate(i).stringValue(),M=E.evaluate(i).stringValue(),se=D.evaluate(i).stringValue(),be=o(function(ue,Oe,yt){return Oe in ue||(ue[Oe]=yt>se.length?"":se[yt]),ue},{},M),Ie=g("",s(function(ue){return ue in be?be[ue]:ue},T));return new ne(Ie)},U.boolean_=function(){var i=arguments[0];if(arguments.length!=2)throw new Error("Function boolean expects (object)");return arguments[1].evaluate(i).bool()},U.not=function(i,f){if(arguments.length!=2)throw new Error("Function not expects (object)");return f.evaluate(i).bool().not()},U.true_=function(){if(arguments.length!=1)throw new Error("Function true expects ()");return b.true_},U.false_=function(){if(arguments.length!=1)throw new Error("Function false expects ()");return b.false_},U.lang=function(){var i=arguments[0];if(arguments.length!=2)throw new Error("Function lang expects (string)");for(var f,E=i.contextNode;E!=null&&E.nodeType!=9;E=E.parentNode){var D=E.getAttributeNS(S.XML_NAMESPACE_URI,"lang");if(D!=null){f=String(D);break}}if(f==null)return b.false_;var T=arguments[1].evaluate(i).stringValue();return new b(f.substring(0,T.length)==T&&(f.length==T.length||f.charAt(T.length)=="-"))},U.number=function(){var i=arguments[0];if(!(arguments.length==1||arguments.length==2))throw new Error("Function number expects (object?)");return arguments.length==1?new ee(x.prototype.stringForNode(i.contextNode)):arguments[1].evaluate(i).number()},U.sum=function(){var i=arguments[0],f;if(arguments.length!=2||!H.instance_of(f=arguments[1].evaluate(i),x))throw new Error("Function sum expects (node-set)");f=f.toUnsortedArray();for(var E=0,D=0;D<f.length;D++)E+=new ee(x.prototype.stringForNode(f[D])).numberValue();return new ee(E)},U.floor=function(){var i=arguments[0];if(arguments.length!=2)throw new Error("Function floor expects (number)");return new ee(Math.floor(arguments[1].evaluate(i).numberValue()))},U.ceiling=function(){var i=arguments[0];if(arguments.length!=2)throw new Error("Function ceiling expects (number)");return new ee(Math.ceil(arguments[1].evaluate(i).numberValue()))},U.round=function(){var i=arguments[0];if(arguments.length!=2)throw new Error("Function round expects (number)");return new ee(Math.round(arguments[1].evaluate(i).numberValue()))};var H=new Object;H.isAttribute=function(i){return i&&(i.nodeType===2||i.ownerElement)},H.splitQName=function(i){var f=i.indexOf(":");return f==-1?[null,i]:[i.substring(0,f),i.substring(f+1)]},H.resolveQName=function(i,f,E,D){var T=H.splitQName(i);return T[0]!=null?T[0]=f.getNamespace(T[0],E):D?(T[0]=f.getNamespace("",E),T[0]==null&&(T[0]="")):T[0]="",T},H.isSpace=function(i){return i==9||i==13||i==10||i==32},H.isLetter=function(i){return i>=65&&i<=90||i>=97&&i<=122||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=255||i>=256&&i<=305||i>=308&&i<=318||i>=321&&i<=328||i>=330&&i<=382||i>=384&&i<=451||i>=461&&i<=496||i>=500&&i<=501||i>=506&&i<=535||i>=592&&i<=680||i>=699&&i<=705||i==902||i>=904&&i<=906||i==908||i>=910&&i<=929||i>=931&&i<=974||i>=976&&i<=982||i==986||i==988||i==990||i==992||i>=994&&i<=1011||i>=1025&&i<=1036||i>=1038&&i<=1103||i>=1105&&i<=1116||i>=1118&&i<=1153||i>=1168&&i<=1220||i>=1223&&i<=1224||i>=1227&&i<=1228||i>=1232&&i<=1259||i>=1262&&i<=1269||i>=1272&&i<=1273||i>=1329&&i<=1366||i==1369||i>=1377&&i<=1414||i>=1488&&i<=1514||i>=1520&&i<=1522||i>=1569&&i<=1594||i>=1601&&i<=1610||i>=1649&&i<=1719||i>=1722&&i<=1726||i>=1728&&i<=1742||i>=1744&&i<=1747||i==1749||i>=1765&&i<=1766||i>=2309&&i<=2361||i==2365||i>=2392&&i<=2401||i>=2437&&i<=2444||i>=2447&&i<=2448||i>=2451&&i<=2472||i>=2474&&i<=2480||i==2482||i>=2486&&i<=2489||i>=2524&&i<=2525||i>=2527&&i<=2529||i>=2544&&i<=2545||i>=2565&&i<=2570||i>=2575&&i<=2576||i>=2579&&i<=2600||i>=2602&&i<=2608||i>=2610&&i<=2611||i>=2613&&i<=2614||i>=2616&&i<=2617||i>=2649&&i<=2652||i==2654||i>=2674&&i<=2676||i>=2693&&i<=2699||i==2701||i>=2703&&i<=2705||i>=2707&&i<=2728||i>=2730&&i<=2736||i>=2738&&i<=2739||i>=2741&&i<=2745||i==2749||i==2784||i>=2821&&i<=2828||i>=2831&&i<=2832||i>=2835&&i<=2856||i>=2858&&i<=2864||i>=2866&&i<=2867||i>=2870&&i<=2873||i==2877||i>=2908&&i<=2909||i>=2911&&i<=2913||i>=2949&&i<=2954||i>=2958&&i<=2960||i>=2962&&i<=2965||i>=2969&&i<=2970||i==2972||i>=2974&&i<=2975||i>=2979&&i<=2980||i>=2984&&i<=2986||i>=2990&&i<=2997||i>=2999&&i<=3001||i>=3077&&i<=3084||i>=3086&&i<=3088||i>=3090&&i<=3112||i>=3114&&i<=3123||i>=3125&&i<=3129||i>=3168&&i<=3169||i>=3205&&i<=3212||i>=3214&&i<=3216||i>=3218&&i<=3240||i>=3242&&i<=3251||i>=3253&&i<=3257||i==3294||i>=3296&&i<=3297||i>=3333&&i<=3340||i>=3342&&i<=3344||i>=3346&&i<=3368||i>=3370&&i<=3385||i>=3424&&i<=3425||i>=3585&&i<=3630||i==3632||i>=3634&&i<=3635||i>=3648&&i<=3653||i>=3713&&i<=3714||i==3716||i>=3719&&i<=3720||i==3722||i==3725||i>=3732&&i<=3735||i>=3737&&i<=3743||i>=3745&&i<=3747||i==3749||i==3751||i>=3754&&i<=3755||i>=3757&&i<=3758||i==3760||i>=3762&&i<=3763||i==3773||i>=3776&&i<=3780||i>=3904&&i<=3911||i>=3913&&i<=3945||i>=4256&&i<=4293||i>=4304&&i<=4342||i==4352||i>=4354&&i<=4355||i>=4357&&i<=4359||i==4361||i>=4363&&i<=4364||i>=4366&&i<=4370||i==4412||i==4414||i==4416||i==4428||i==4430||i==4432||i>=4436&&i<=4437||i==4441||i>=4447&&i<=4449||i==4451||i==4453||i==4455||i==4457||i>=4461&&i<=4462||i>=4466&&i<=4467||i==4469||i==4510||i==4520||i==4523||i>=4526&&i<=4527||i>=4535&&i<=4536||i==4538||i>=4540&&i<=4546||i==4587||i==4592||i==4601||i>=7680&&i<=7835||i>=7840&&i<=7929||i>=7936&&i<=7957||i>=7960&&i<=7965||i>=7968&&i<=8005||i>=8008&&i<=8013||i>=8016&&i<=8023||i==8025||i==8027||i==8029||i>=8031&&i<=8061||i>=8064&&i<=8116||i>=8118&&i<=8124||i==8126||i>=8130&&i<=8132||i>=8134&&i<=8140||i>=8144&&i<=8147||i>=8150&&i<=8155||i>=8160&&i<=8172||i>=8178&&i<=8180||i>=8182&&i<=8188||i==8486||i>=8490&&i<=8491||i==8494||i>=8576&&i<=8578||i>=12353&&i<=12436||i>=12449&&i<=12538||i>=12549&&i<=12588||i>=44032&&i<=55203||i>=19968&&i<=40869||i==12295||i>=12321&&i<=12329},H.isNCNameChar=function(i){return i>=48&&i<=57||i>=1632&&i<=1641||i>=1776&&i<=1785||i>=2406&&i<=2415||i>=2534&&i<=2543||i>=2662&&i<=2671||i>=2790&&i<=2799||i>=2918&&i<=2927||i>=3047&&i<=3055||i>=3174&&i<=3183||i>=3302&&i<=3311||i>=3430&&i<=3439||i>=3664&&i<=3673||i>=3792&&i<=3801||i>=3872&&i<=3881||i==46||i==45||i==95||H.isLetter(i)||i>=768&&i<=837||i>=864&&i<=865||i>=1155&&i<=1158||i>=1425&&i<=1441||i>=1443&&i<=1465||i>=1467&&i<=1469||i==1471||i>=1473&&i<=1474||i==1476||i>=1611&&i<=1618||i==1648||i>=1750&&i<=1756||i>=1757&&i<=1759||i>=1760&&i<=1764||i>=1767&&i<=1768||i>=1770&&i<=1773||i>=2305&&i<=2307||i==2364||i>=2366&&i<=2380||i==2381||i>=2385&&i<=2388||i>=2402&&i<=2403||i>=2433&&i<=2435||i==2492||i==2494||i==2495||i>=2496&&i<=2500||i>=2503&&i<=2504||i>=2507&&i<=2509||i==2519||i>=2530&&i<=2531||i==2562||i==2620||i==2622||i==2623||i>=2624&&i<=2626||i>=2631&&i<=2632||i>=2635&&i<=2637||i>=2672&&i<=2673||i>=2689&&i<=2691||i==2748||i>=2750&&i<=2757||i>=2759&&i<=2761||i>=2763&&i<=2765||i>=2817&&i<=2819||i==2876||i>=2878&&i<=2883||i>=2887&&i<=2888||i>=2891&&i<=2893||i>=2902&&i<=2903||i>=2946&&i<=2947||i>=3006&&i<=3010||i>=3014&&i<=3016||i>=3018&&i<=3021||i==3031||i>=3073&&i<=3075||i>=3134&&i<=3140||i>=3142&&i<=3144||i>=3146&&i<=3149||i>=3157&&i<=3158||i>=3202&&i<=3203||i>=3262&&i<=3268||i>=3270&&i<=3272||i>=3274&&i<=3277||i>=3285&&i<=3286||i>=3330&&i<=3331||i>=3390&&i<=3395||i>=3398&&i<=3400||i>=3402&&i<=3405||i==3415||i==3633||i>=3636&&i<=3642||i>=3655&&i<=3662||i==3761||i>=3764&&i<=3769||i>=3771&&i<=3772||i>=3784&&i<=3789||i>=3864&&i<=3865||i==3893||i==3895||i==3897||i==3902||i==3903||i>=3953&&i<=3972||i>=3974&&i<=3979||i>=3984&&i<=3989||i==3991||i>=3993&&i<=4013||i>=4017&&i<=4023||i==4025||i>=8400&&i<=8412||i==8417||i>=12330&&i<=12335||i==12441||i==12442||i==183||i==720||i==721||i==903||i==1600||i==3654||i==3782||i==12293||i>=12337&&i<=12341||i>=12445&&i<=12446||i>=12540&&i<=12542},H.coalesceText=function(i){for(var f=i.firstChild;f!=null;f=f.nextSibling)if(f.nodeType==3||f.nodeType==4){var E=f.nodeValue,D=f;for(f=f.nextSibling;f!=null&&(f.nodeType==3||f.nodeType==4);){E+=f.nodeValue;var T=f;f=f.nextSibling,T.parentNode.removeChild(T)}if(D.nodeType==4){var M=D.parentNode;if(D.nextSibling==null)M.removeChild(D),M.appendChild(M.ownerDocument.createTextNode(E));else{var se=D.nextSibling;M.removeChild(D),M.insertBefore(M.ownerDocument.createTextNode(E),se)}}else D.nodeValue=E;if(f==null)break}else f.nodeType==1&&H.coalesceText(f)},H.instance_of=function(i,f){for(;i!=null;){if(i.constructor===f)return!0;if(i===Object)return!1;i=i.constructor.superclass}return!1},H.getElementById=function(i,f){if(i.nodeType==1&&(i.getAttribute("id")==f||i.getAttributeNS(null,"id")==f))return i;for(var E=i.firstChild;E!=null;E=E.nextSibling){var D=H.getElementById(E,f);if(D!=null)return D}return null};var ie=function(){function i(E,D){var T=D?": "+D.toString():"";switch(E){case f.INVALID_EXPRESSION_ERR:return"Invalid expression"+T;case f.TYPE_ERR:return"Type error"+T}return null}function f(E,D,T){var M=Error.call(this,i(E,D)||T);return M.code=E,M.exception=D,M}return f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f.superclass=Error,f.prototype.toString=function(){return this.message},f.fromMessage=function(E,D){return new f(null,D,E)},f.INVALID_EXPRESSION_ERR=51,f.TYPE_ERR=52,f}();ve.prototype={},ve.prototype.constructor=ve,ve.superclass=Object.prototype;function ve(i,f,E){this.xpath=E.parse(i),this.context=new W,this.context.namespaceResolver=new Ue(f)}ve.getOwnerDocument=function(i){return i.nodeType===9?i:i.ownerDocument},ve.detectHtmlDom=function(i){if(!i)return!1;var f=ve.getOwnerDocument(i);try{return f.implementation.hasFeature("HTML","2.0")}catch{return!0}},ve.prototype.evaluate=function(i,f,E){this.context.expressionContextNode=i,this.context.caseInsensitive=ve.detectHtmlDom(i);var D=this.xpath.evaluate(this.context);return new Se(D,f)},Ue.prototype={},Ue.prototype.constructor=Ue,Ue.superclass=Object.prototype;function Ue(i){this.xpathNSResolver=i}Ue.prototype.getNamespace=function(i,f){return this.xpathNSResolver==null?null:this.xpathNSResolver.lookupNamespaceURI(i)},ut.prototype={},ut.prototype.constructor=ut,ut.superclass=Object.prototype;function ut(i){this.node=i,this.namespaceResolver=new z}ut.prototype.lookupNamespaceURI=function(i){return this.namespaceResolver.getNamespace(i,this.node)},Se.prototype={},Se.prototype.constructor=Se,Se.superclass=Object.prototype;function Se(i,f){switch(f==Se.ANY_TYPE&&(i.constructor===ne?f=Se.STRING_TYPE:i.constructor===ee?f=Se.NUMBER_TYPE:i.constructor===b?f=Se.BOOLEAN_TYPE:i.constructor===x&&(f=Se.UNORDERED_NODE_ITERATOR_TYPE)),this.resultType=f,f){case Se.NUMBER_TYPE:this.numberValue=i.numberValue();return;case Se.STRING_TYPE:this.stringValue=i.stringValue();return;case Se.BOOLEAN_TYPE:this.booleanValue=i.booleanValue();return;case Se.ANY_UNORDERED_NODE_TYPE:case Se.FIRST_ORDERED_NODE_TYPE:if(i.constructor===x){this.singleNodeValue=i.first();return}break;case Se.UNORDERED_NODE_ITERATOR_TYPE:case Se.ORDERED_NODE_ITERATOR_TYPE:if(i.constructor===x){this.invalidIteratorState=!1,this.nodes=i.toArray(),this.iteratorIndex=0;return}break;case Se.UNORDERED_NODE_SNAPSHOT_TYPE:case Se.ORDERED_NODE_SNAPSHOT_TYPE:if(i.constructor===x){this.nodes=i.toArray(),this.snapshotLength=this.nodes.length;return}break}throw new ie(ie.TYPE_ERR)}Se.prototype.iterateNext=function(){if(this.resultType!=Se.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=Se.ORDERED_NODE_ITERATOR_TYPE)throw new ie(ie.TYPE_ERR);return this.nodes[this.iteratorIndex++]},Se.prototype.snapshotItem=function(i){if(this.resultType!=Se.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=Se.ORDERED_NODE_SNAPSHOT_TYPE)throw new ie(ie.TYPE_ERR);return this.nodes[i]},Se.ANY_TYPE=0,Se.NUMBER_TYPE=1,Se.STRING_TYPE=2,Se.BOOLEAN_TYPE=3,Se.UNORDERED_NODE_ITERATOR_TYPE=4,Se.ORDERED_NODE_ITERATOR_TYPE=5,Se.UNORDERED_NODE_SNAPSHOT_TYPE=6,Se.ORDERED_NODE_SNAPSHOT_TYPE=7,Se.ANY_UNORDERED_NODE_TYPE=8,Se.FIRST_ORDERED_NODE_TYPE=9;function kt(i,f){i.createExpression=function(E,D){try{return new ve(E,D,f)}catch(T){throw new ie(ie.INVALID_EXPRESSION_ERR,T)}},i.createNSResolver=function(E){return new ut(E)},i.evaluate=function(E,D,T,M,se){if(M<0||M>9)throw{code:0,toString:function(){return"Request type not supported"}};return i.createExpression(E,T,f).evaluate(D,M,se)}}try{var ht=!0;try{document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("XPath",null)&&(ht=!1)}catch{}ht&&kt(document,new v)}catch{}kt(r,new v),function(){var i=new v,f=new z,E=new B,D=new Z;function T(te){return{getNamespace:function(Fe,st){var ct=te(Fe,st);return ct||f.getNamespace(Fe,st)}}}function M(te){return T(te.getNamespace.bind(te))}function se(te){return T(function(Fe){return te[Fe]})}function be(te){return te&&typeof te.getNamespace=="function"?M(te):typeof te=="function"?T(te):typeof te=="object"?se(te):f}function Ie(te){if(te===null||typeof te>"u"||te instanceof ne||te instanceof b||te instanceof ee||te instanceof x)return te;switch(typeof te){case"string":return new ne(te);case"boolean":return new b(te);case"number":return new ee(te)}var Fe=new x;return Fe.addArray([].concat(te)),Fe}function ue(te){return function(Fe){var st=Array.prototype.slice.call(arguments,1).map(function(ea){return ea.evaluate(Fe)}),ct=te.apply(this,[].concat(Fe,st));return Ie(ct)}}function Oe(te){return{getFunction:function(Fe,st){var ct=te(Fe,st);return ct?ue(ct):E.getFunction(Fe,st)}}}function yt(te){return Oe(te.getFunction.bind(te))}function Ve(te){return Oe(function(Fe){return te[Fe]})}function Bt(te){return te&&typeof te.getFunction=="function"?yt(te):typeof te=="function"?Oe(te):typeof te=="object"?Ve(te):E}function Yt(te){return{getVariable:function(Fe,st){var ct=te(Fe,st);return Ie(ct)}}}function Vr(te){if(te){if(typeof te.getVariable=="function")return Yt(te.getVariable.bind(te));if(typeof te=="function")return Yt(te);if(typeof te=="object")return Yt(function(Fe){return te[Fe]})}return D}function jr(te,Fe,st){te in st&&(Fe[te]=st[te])}function Ji(te){var Fe=new W;return te?(Fe.namespaceResolver=be(te.namespaces),Fe.functionResolver=Bt(te.functions),Fe.variableResolver=Vr(te.variables),Fe.expressionContextNode=te.node,jr("allowAnyNamespaceForNoPrefix",Fe,te),jr("isHtml",Fe,te)):Fe.namespaceResolver=f,Fe}function Lt(te,Fe){var st=Ji(Fe);return te.evaluate(st)}var gn={evaluate:function(te){return Lt(this.expression,te)},evaluateNumber:function(te){return this.evaluate(te).numberValue()},evaluateString:function(te){return this.evaluate(te).stringValue()},evaluateBoolean:function(te){return this.evaluate(te).booleanValue()},evaluateNodeSet:function(te){return this.evaluate(te).nodeset()},select:function(te){return this.evaluateNodeSet(te).toArray()},select1:function(te){return this.select(te)[0]}};function Jn(te){var Fe=i.parse(te);return Object.create(gn,{expression:{value:Fe}})}r.parse=Jn}(),C(r,{XPath:S,XPathParser:v,XPathResult:Se,Step:Q,PathExpr:X,NodeTest:Y,LocationPath:me,OrOperation:L,AndOperation:P,BarOperation:oe,EqualsOperation:j,NotEqualOperation:K,LessThanOperation:ce,GreaterThanOperation:ae,LessThanOrEqualOperation:le,GreaterThanOrEqualOperation:ge,PlusOperation:xe,MinusOperation:Ce,MultiplyOperation:ye,DivOperation:Re,ModOperation:pe,UnaryMinusOperation:I,FunctionCall:Ae,VariableReference:re,XPathContext:W,XNodeSet:x,XBoolean:b,XString:ne,XNumber:ee,NamespaceResolver:z,FunctionResolver:B,VariableResolver:Z,Utilities:H}),r.select=function(i,f,E){return r.selectWithResolver(i,f,null,E)},r.useNamespaces=function(i){var f={mappings:i||{},lookupNamespaceURI:function(E){return this.mappings[E]}};return function(E,D,T){return r.selectWithResolver(E,D,f,T)}},r.selectWithResolver=function(i,f,E,D){var T=new ve(i,E,new v),M=Se.ANY_TYPE,se=T.evaluate(f,M,null);return se.resultType==Se.STRING_TYPE?se=se.stringValue:se.resultType==Se.NUMBER_TYPE?se=se.numberValue:se.resultType==Se.BOOLEAN_TYPE?se=se.booleanValue:(se=se.nodes,D&&(se=se[0])),se},r.select1=function(i,f){return r.select(i,f,!0)}})(t)})(q);const Sc=({dataChunk:e,indexKey:t,chunkSize:r})=>{var o,s;if(!e[0].value&&!((o=e[1])!=null&&o.value)&&!((s=e[2])!=null&&s.value))return null;let n=null,a=e;return r===3&&(a=e.slice(0,2),[n]=e.slice(2)),p.createElement(p.Fragment,null,p.createElement("tr",null,a.map((u,c)=>{var h,g;if(!u.value)return null;let l=1;return(c===0&&(!a[c+1]||!a[c+1].value)||c===1&&(!a[c-1]||!a[c-1].value))&&(l=3),p.createElement(p.Fragment,{key:`${a[0].label}-${String(a[0].value)}-${c}-${t}-${((h=a[1])==null?void 0:h.label)||""}-${((g=a[1])==null?void 0:g.value)||""}`},p.createElement("td",{className:"ctw-ccda-common-td1",rowSpan:n&&n.value&&c===0?2:1},u.label.replace(/:/g,"")),p.createElement("td",{className:"ctw-ccda-common-td2",colSpan:l,rowSpan:n&&n.value&&c===0?2:1},u.value))})),n&&n.value&&p.createElement("tr",null,p.createElement("td",{className:"ctw-ccda-common-td1"},n.label.replace(/:/g,"")),p.createElement("td",{className:"ctw-ccda-common-td2"},n.value)))};try{Sc.displayName="BasicRow",Sc.__docgenInfo={description:"",displayName:"BasicRow",props:{dataChunk:{defaultValue:null,description:"",name:"dataChunk",required:!0,type:{name:"TableInfo[]"}},indexKey:{defaultValue:null,description:"",name:"indexKey",required:!0,type:{name:"number"}},chunkSize:{defaultValue:null,description:"",name:"chunkSize",required:!1,type:{name:"enum",value:[{value:"2"},{value:"3"}]}}}}}catch{}const Tc=({tuple:e,indexKey:t})=>!e[0].value&&!e[1].value?null:p.createElement("tr",null,e.map((r,n)=>{if(!r.value)return null;let a=1;return(n===0&&!e[1].value||n===1&&!e[0].value)&&(a=3),p.createElement(p.Fragment,{key:`${e[0].label}-${e[0].value}-${n}-${t}-${e[1].label||""}-${e[1].value}`},p.createElement("td",{className:"ctw-ccda-common-td1"},r.label.replace(/:/g,"")),p.createElement("td",{className:"ctw-ccda-common-td2",colSpan:a},r.value))}));try{Tc.displayName="TupleRow",Tc.__docgenInfo={description:"",displayName:"TupleRow",props:{tuple:{defaultValue:null,description:"",name:"tuple",required:!0,type:{name:"[TableInfo, TableInfo]"}},indexKey:{defaultValue:null,description:"",name:"indexKey",required:!0,type:{name:"number"}}}}}catch{}const bt=({data:e,chunkSize:t=2})=>{const[r,n]=G.exports.partition(e,o=>!G.exports.isArray(o)),a=G.exports.chunk(r,t);return p.createElement("table",{className:"ctw-ccda-common-table"},p.createElement("tbody",null,a.map((o,s)=>p.createElement(Sc,{key:`${o[0].label}-${s}`,dataChunk:o,chunkSize:t,indexKey:s})),n.map((o,s)=>p.createElement(Tc,{key:`${o[0].label}-${o[1].label}-${s}`,tuple:o,indexKey:s}))))};try{bt.displayName="Table",bt.__docgenInfo={description:"",displayName:"Table",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"(TableInfo | [TableInfo, TableInfo])[]"}},chunkSize:{defaultValue:{value:"2"},description:"",name:"chunkSize",required:!1,type:{name:"enum",value:[{value:"2"},{value:"3"}]}}}}}catch{}const Tp=e=>{var r;if(e.text)return e.text;let t="";return t+=e.use?`${G.exports.capitalize(e.use)}: `:"",t+=G.exports.isEmpty(e.line)?"":`${(r=e.line)==null?void 0:r.join(`
`)}
`,t+=e.city?`${e.city}, `:"",t+=e.state?`${e.state} `:"",t+=e.postalCode||"",t+=e.country?`
${e.country}`:"",t},gA=e=>G.exports.isEmpty(e)?"":G.exports.isArray(e)?e.map(Tp).join(`
`):Tp(e);function bA(e){return G.exports.isArray(e)&&e.every(t=>typeof t=="object")}function wA(e){return G.exports.isArray(e)&&e.every(t=>typeof t=="string")}const Op=e=>{if(e.text)return e.text;let t="";return e.given&&e.given.length>0&&(t=e.given.join(" "),e.family&&(t=`${t} ${e.family}`)),e.prefix&&e.prefix.length>0&&(t=`${e.prefix.join(" ")} ${t}`),t},xy=e=>G.exports.isEmpty(e)?"":typeof e=="string"?e:wA(e)?e.reduce((t,r,n)=>`${t}${n===0?"":`
`}${r}`,""):bA(e)?e.map(Op).join(", "):Op(e),Cp=({use:e,system:t,value:r})=>{const n=e?` (${e})`:"";return`${t?`${G.exports.capitalize(t)}${n}:`:""} ${r}`.trim()},xA=e=>G.exports.isEmpty(e)?"":G.exports.isArray(e)?e.map(Cp).join(`
`):Cp(e),_A={BAD:"bad",DIR:"direct",H:"home",HP:"primary home",HV:"vacation home",PHYS:"physical",PST:"postal",PUB:"public",TMP:"temporary",WP:"work",CONF:"confidential"},_y=e=>{if(!e)return"";const t=r=>{const n=String(q.select1("string(@use)",r)),a={line:G.exports.map(q.select("*[name()='streetAddressLine']",r),o=>String(q.select("string(text())",o))).filter(Boolean),city:String(q.select("string(*[name()='city'])",r)),state:String(q.select("string(*[name()='state'])",r)),postalCode:String(q.select("string(*[name()='postalCode'])",r)),country:String(q.select("string(*[name()='country'])",r)),use:_A[n]};return gA(a)};return G.exports.isArray(e)?e.map(t).join(`
`):t(e)},EA={BAD:"bad",CONF:"confidential",OLD:"old",H:"home",HP:"primary home",HV:"vacation Home",TMP:"temporary",WP:"work",DIR:"direct",PUB:"public",AS:"answering service",EC:"emergency:",MC:"mobile",PG:"pager"},Es={tel:"phone",mailto:"email"},SA=e=>{if(!e)return"";const t=r=>{const a=String(q.select1("string(@value)",r)).split(":");let o,s;if(a.length===2&&([o,s]=a),a.length===1&&([s]=a),!s)return"";const u=s.includes("@")?Es.mailto:Es.tel,l={system:Es[o]||u,value:s,use:EA[String(q.select1("string(@use)",r))]};return xA(l)};return G.exports.isArray(e)?e.map(t).join(`
`):t(e)},Ct=(e,t)=>{const r=_y(e),n=SA(t);return`${r||""}${r&&n?`
`:""}${n||""}`},TA={A:"Artist/Stage",ABC:"Alphabetic",ASGN:"Assigned",C:"License",I:"Indigenous/Tribal",IDE:"Ideographic",L:"Legal",P:"Pseudonym",PHON:"Phonetic",R:"Religious",SNDX:"Soundex",SRCH:"Search",SYL:"Syllabic"},Ht=e=>{if(!e)return"";const t=r=>{const n={use:TA[String(q.select("string(@use)",r))],given:G.exports.map(q.select("(*[name()='given'])",r),a=>String(q.select1("string(text())",a))),family:String(q.select1("string(*[name()='family']/text())",r)),prefix:G.exports.map(q.select("(*[name()='prefix'])",r),a=>String(q.select1("string(text())",a))),suffix:G.exports.map(q.select("(*[name()='suffix'])",r),a=>String(q.select1("string(text())",a)))};return xy(n)};return G.exports.isArray(e)?e.map(t).join(`
`):t(e)},hr=e=>{if(!e)return"";const t=String(q.select1("string(@root)",e)),r=String(q.select1("string(@extension)",e));return`${r}${r?" (":""}${t}${r?")":""}`},Yl=e=>{if(!e)return{};const t=String(q.select1("string(*[name()='low']/@value)",e)),r=String(q.select1("string(*[name()='high']/@value)",e));if(!t&&!r)return{};if(t&&!r)return{start:_t(mt(t))};if(!t&&r)return{end:_t(mt(r))};let n=_t(mt(t)),a=_t(mt(r));return(n.includes("T")||a.includes("T"))&&(n=_t(mt(n)),a=_t(mt(a))),SE(new Date(n),new Date(a))||TE(new Date(n),new Date(a))?{start:n,end:a}:{start:n}},Ri=(e,t,r,n=!0)=>{if(G.exports.isArray(t))return t.reduce((o,s)=>Ri(o,s,r),e);const a=n?G.exports.escapeRegExp:G.exports.identity;return e.replace(new RegExp(a(t),"g"),r)},Sn=(e,t,r)=>{const n=[`</${t}>`,`<${t}>`,`</${t}`,`<${t}`],a=[`</${r}>`,`<${r}>`,`</${r}`,`<${r}`];return n.reduce((o,s,u)=>Ri(o,n[u],a[u]),e)},OA=e=>{let t=e.toString();return t=Ri(t,["<list/>","<item/>","<content/>","<paragraph/>","<section/>","<br/>",'<text xmlns="urn:hl7-org:v3">',"<text />","<text/>"],""),t=Ri(t,' styleCode="(.*?)"',"",!1),t=Sn(t,"section","div"),t=Sn(t,"list","ul"),t=Sn(t,"item","li"),t=Sn(t,"content","div"),t=Sn(t,"paragraph","p"),t},CA=e=>!!e,Gl=e=>!!e,RA=e=>{const t=q.select("*[name()='ClinicalDocument']/*[name()='authenticator']",e);if(!G.exports.isEmpty(t))return t.map(r=>{const n=q.select1("*[name()='assignedEntity']",r);if(!n)return;const a=q.select1("*[name()='assignedPerson']",n),o=Ht(q.select("*[name()='name']",a)),s=Ct(q.select("*[name()='addr']",n),q.select("*[name()='telecom']",n)),u=_t(mt(String(q.select1("string(*[name()='time']/@value)",r))));return{name:o,contactDetails:s,time:u}}).filter(Gl)},Oc=({document:e})=>{const t=RA(e);if(!t||G.exports.isEmpty(t))return null;const r=t.flatMap(n=>[{label:"Authenticator",value:`${n.name||"Unknown"}${n.time?` signed at ${n.time}`:""}`},{label:"Contact Details",value:n.contactDetails}]);return p.createElement(bt,{data:r})};try{Oc.displayName="Authenticator",Oc.__docgenInfo={description:"",displayName:"Authenticator",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Ey=e=>{const t=q.select("*[name()='ClinicalDocument']/*[name()='author']",e);return G.exports.isEmpty(t)?void 0:t.map(n=>{const a=q.select1("*[name()='assignedAuthor']/*[name()='assignedPerson']/*[name()='name']",n),o=q.select1("*[name()='assignedAuthor']/*[name()='assignedAuthoringDevice']",n);let s="";if(a)s=Ht(a);else if(o){const l=String(q.select1("string(*[name()='manufacturerModelName'])",o)),h=String(q.select1("string(*[name()='softwareName'])",o));s=[l,h].filter(Boolean).join("; ")}const u=String(q.select1("string(*[name()='assignedAuthor']/*[name()='representedOrganization']/*[name()='name'])",n)),c=_t(mt(String(q.select1("string(*[name()='time'])",n))));return[{label:"Name:",value:s},{label:"Organization:",value:u},{label:"Authored on",value:c}]}).reduce((n,a,o)=>({...n,[`author${o+1}`]:a}),{})},NA=e=>{const t=q.select("*[name()='ClinicalDocument']/*[name()='author']",e);if(G.exports.isEmpty(t))return;const r=Ey(e);return t.map((n,a)=>{const o=q.select1("*[name()='assignedAuthor']",n),s=Ct(q.select("*[name()='addr']",o),q.select("*[name()='telecom']",o)),u=q.select1("*[name()='representedOrganization']",o),c={name:r[`author${a+1}`][0].value,contactDetails:s,organization:{name:r[`author${a+1}`][1].value,contactDetails:""}};if(u){const l=Ct(q.select("*[name()='addr']",u),q.select("*[name()='telecom']",u));return{...c,organization:{...c.organization,contactDetails:l}}}return c})},Cc=({document:e})=>{const t=NA(e);if(!t||G.exports.isEmpty(t))return null;const r=t.flatMap(n=>[{label:"Author",value:`${n.name||"Unknown"}${n.organization.name?`, Organization: ${n.organization.name}`:""}`},{label:"Contact Details",value:n.contactDetails},{label:"Contact Details (Organization)",value:n.organization.contactDetails}]);return p.createElement(bt,{data:r,chunkSize:3})};try{Cc.displayName="Author",Cc.__docgenInfo={description:"",displayName:"Author",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Sy=e=>{const t=q.select("*[name()='ClinicalDocument']/*[name()='authorization']/*[name()='consent']",e);return G.exports.isEmpty(t)?void 0:t.map(n=>{const a=hr(q.select1("*[name()='id']",n)),o=String(q.select1("string(*[name()='code']/@displayName)",n)),s=String(q.select1("string(*[name()='statusCode']/@code)",n));return[{label:"ID:",value:a},{label:"Code:",value:o},{label:"Status:",value:s}]}).reduce((n,a,o)=>({...n,[`consent${o+1}`]:a}),{})},AA=e=>{const t=Sy(e);return Object.values(t||{})},Rc=({document:e})=>{const t=AA(e);if(G.exports.isEmpty(t))return null;const r=t.flatMap(n=>[{label:"Consent",value:`Order: ${n[0].value||"Unknown"}, ${n[1].value||"Unknown"}, ${n[2].value||"Unknown"}`},{label:"",value:""}]);return p.createElement(bt,{data:r})};try{Rc.displayName="Authorization",Rc.__docgenInfo={description:"",displayName:"Authorization",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const PA=e=>{const t=q.select1("*[name()='ClinicalDocument']/*[name()='custodian']/*[name()='assignedCustodian']/*[name()='representedCustodianOrganization']",e);if(!t)return;const r=String(q.select1("string(*[name()='name'])",t)),n=Ct(q.select1("*[name()='ClinicalDocument']/*[name()='custodian']/*[name()='assignedCustodian']/*[name()='representedCustodianOrganization']/*[name()='addr']",e),q.select1("*[name()='ClinicalDocument']/*[name()='custodian']/*[name()='assignedCustodian']/*[name()='representedCustodianOrganization']/*[name()='telecom']",e));return{name:r,contactDetails:n}},Nc=({document:e})=>{const t=PA(e);if(!t)return null;const{name:r,contactDetails:n}=t,a=[{label:"Custodian",value:r},{label:"Contact Details",value:n}];return p.createElement(bt,{data:a})};try{Nc.displayName="Custodian",Nc.__docgenInfo={description:"",displayName:"Custodian",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const DA=e=>{const t=q.select1("*[name()='ClinicalDocument']/*[name()='dataEnterer']/*[name()='assignedEntity']",e);if(!t)return;const r=q.select1("*[name()='assignedPerson']",t),n=Ht(q.select("*[name()='name']",r)),a=Ct(q.select("*[name()='addr']",t),q.select("*[name()='telecom']",t));return{name:n,contactDetails:a}},Ac=({document:e})=>{const t=DA(e);if(!t)return null;const{name:r,contactDetails:n}=t,a=[{label:"Data Enterer",value:r},{label:"Contact Details",value:n}];return p.createElement(bt,{data:a})};try{Ac.displayName="DataEnterer",Ac.__docgenInfo={description:"",displayName:"DataEnterer",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const $A={N:"normal",R:"restricted",V:"very restricted"},IA=e=>{const t=hr(q.select1("*[name()='ClinicalDocument']/*[name()='id']",e)),n=_t(mt(String(q.select1("string(*[name()='ClinicalDocument']/*[name()='effectiveTime']/@value)",e)))),a=String(q.select1("string(*[name()='ClinicalDocument']/*[name()='versionNumber']/@value)",e)),o=hr(q.select1("*[name()='ClinicalDocument']/*[name()='setId']",e)),s=$A[String(q.select1("string(*[name()='ClinicalDocument']/*[name()='confidentialityCode']/@code)",e))],u=String(q.select1("string(*[name()='ClinicalDocument']/*[name()='code']/@displayName)",e)),c=String(q.select1("string(*[name()='ClinicalDocument']/*[name()='languageCode']/@code)",e));return{id:t,createdOn:n,version:a,setId:o,confidentialityCode:s,code:u,languageCode:c}},Pc=({document:e})=>{const{id:t,createdOn:r,version:n,setId:a,confidentialityCode:o,code:s,languageCode:u}=IA(e),c=[{label:"Document",value:p.createElement(p.Fragment,null,p.createElement("b",null,"ID: "),t,a&&p.createElement(p.Fragment,null,p.createElement("br",null),p.createElement("b",null,"Set ID: "),a))},{label:"Created on",value:r},{label:"Version",value:n||"Unknown"},{label:"Confidentiality",value:o},{label:"Code",value:s},{label:"Language",value:u}];return p.createElement(bt,{data:c})};try{Pc.displayName="Document",Pc.__docgenInfo={description:"",displayName:"Document",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Ty=e=>{const t=q.select("//*[name()='documentationOf']/*[name()='serviceEvent']",e);return G.exports.isEmpty(t)?void 0:t.map(n=>{const a=q.select1("*[name()='effectiveTime']",n),o=Yl(a),u=q.select("*[name()='performer']/*[name()='assignedEntity']/*[name()='assignedPerson']/*[name()='name']",n).map(c=>Ht(c));return[{label:"Date/Time:",value:o.start||o.end?`from ${o.start?_t(mt(o.start)):"unknown"} to ${o.end?_t(mt(o.end)):"unknown"}`:""},...u.map(c=>({label:"Performer:",value:c}))]}).reduce((n,a,o)=>({...n,[`documentationOf${o+1}`]:a}),{})},MA=e=>{const t=q.select("//*[name()='documentationOf']/*[name()='serviceEvent']",e);if(G.exports.isEmpty(t))return;const r=Ty(e);return t.map((n,a)=>{const s=q.select("*[name()='performer']",n).map((u,c)=>{const l=String(q.select1("string(*[name()='functionCode']/@displayName)",u)),h=G.exports.get(r,`documentationOf${a+1}[${c+1}].value`),g=Ct(q.select("*[name()='assignedEntity']/*[name()='addr']",u),q.select("*[name()='assignedEntity']/*[name()='telecom']",u));if(!(!h&&!l&&!g))return{functionCode:l,name:h,contactDetails:g}});return{dateTime:G.exports.get(r,`documentationOf${a+1}[0].value`),finalPerformers:s.filter(CA)}})},Dc=({document:e})=>{const t=MA(e);if(!t||G.exports.isEmpty(t))return null;const r=t.flatMap(n=>[{label:"Documentation of - Date/Time",value:n.dateTime},{label:"",value:""},...n.finalPerformers.flatMap(a=>[{label:"Performer",value:`${a.name||"Unknown"}${a.functionCode?` - ${a.functionCode}`:""}`},{label:"Contact Details",value:a.contactDetails}])]);return p.createElement(bt,{data:r})};try{Dc.displayName="DocumentationOf",Dc.__docgenInfo={description:"",displayName:"DocumentationOf",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Oy=e=>{const t=q.select1("*[name()='ClinicalDocument']/*[name()='componentOf']/*[name()='encompassingEncounter']",e);if(!t)return;const r=hr(q.select1("*[name()='id']",t)),n=String(q.select1("string(*[name()='code']/@displayName)",t)),a=Yl(q.select1("*[name()='effectiveTime']",t));return[{label:"ID:",value:a.start||a.end||r?r||"Unknown":""},{label:"Type:",value:n},{label:"Date/Time:",value:a.start||a.end?`from ${a.start?_t(mt(a.start)):"unknown"} to ${a.end?_t(mt(a.end)):"unknown"}`:""}]},FA=e=>{const t=q.select1("*[name()='ClinicalDocument']/*[name()='componentOf']/*[name()='encompassingEncounter']",e);if(!t)return;const r=Oy(e),n=String(q.select1("string(*[name()='dischargeDispositionCode']/@displayName)",t)),a=hr(q.select1("*[name()='location']/*[name()='healthCareFacility']/*[name()='id']",t));return{id:r[0],type:r[1],dateTime:r[2],dischargeDisposition:n,encounterLocation:a?`ID: ${a}`:null}},$c=({document:e})=>{const t=FA(e);if(!t)return null;const{dischargeDisposition:r,encounterLocation:n,id:a,type:o,dateTime:s}=t,u=[{label:"Encounter",value:s.value||r||n||a.value?p.createElement(p.Fragment,null,p.createElement("b",null,"ID: "),a.value||"Unknown",o.value&&p.createElement(p.Fragment,null,p.createElement("br",null),p.createElement("b",null,"Type: "),o.value)):null},{label:"Date/Time",value:s.value},{label:"Discharge Disposition",value:r},{label:"Encounter Location",value:n}];return p.createElement(bt,{data:u})};try{$c.displayName="Encounter",$c.__docgenInfo={description:"",displayName:"Encounter",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const kA=e=>{const t=q.select("*[name()='ClinicalDocument']/*[name()='informant']",e);if(!G.exports.isEmpty(t))return t.map(r=>{const n=q.select1("*[name()='assignedEntity']",r);if(n){const o=q.select1("*[name()='assignedPerson']",n),s=Ht(q.select("*[name()='name']",o)),u=Ct(q.select("*[name()='addr']",n),q.select("*[name()='telecom']",n));return{name:s,contactDetails:u,relationship:""}}const a=q.select1("*[name()='relatedEntity']",r);if(a){const o=q.select1("*[name()='relatedPerson']",a),s=Ht(q.select("*[name()='name']",o)),u=Ct(q.select("*[name()='addr']",a),q.select("*[name()='telecom']",a)),c=String(q.select1("string(*[name()='code']/@displayName)",a)).toLowerCase();return{name:s,contactDetails:u,relationship:c}}}).filter(Gl)},Ic=({document:e})=>{const t=kA(e);if(!t||G.exports.isEmpty(t))return null;const r=t.flatMap(n=>[{label:"Informant",value:`${n.name||"Unknown"}${n.relationship?` - ${n.relationship}`:""}`},{label:"Contact Details",value:n.contactDetails}]);return p.createElement(bt,{data:r})};try{Ic.displayName="Informant",Ic.__docgenInfo={description:"",displayName:"Informant",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const BA=e=>{const t=q.select("*[name()='ClinicalDocument']/*[name()='informationRecipient']/*[name()='intendedRecipient']",e);if(!G.exports.isEmpty(t))return t.map(r=>{const n=q.select1("*[name()='informationRecipient']",r),a=q.select1("*[name()='receivedOrganization']",r);if(n){const c=Ht(q.select1("*[name()='name']",n)),l=String(q.select1("string(*[name()='name']/node())",a));return{name:c,contactDetails:"",organization:{name:l,contactDetails:""}}}const o=q.select("*[name()='id']",r).map(hr).join(", "),s=Ct(q.select("*[name()='addr']",r),q.select("*[name()='telecom']",r)),u={name:o,contactDetails:s,organization:{name:"",contactDetails:""}};if(a){const c=String(q.select1("string(*[name()='name']/node())",a)),l=Ct(q.select("*[name()='addr']",a),q.select("*[name()='telecom']",a));return{...u,organization:{name:c,contactDetails:l}}}return u})},Mc=({document:e})=>{const t=BA(e);if(!t||G.exports.isEmpty(t))return null;const r=t.flatMap(n=>[{label:"Information Recipient",value:n.name},{label:"Contact Details",value:n.contactDetails},{label:"Organization",value:n.organization.name},{label:"Contact Details (Organization)",value:n.organization.contactDetails}]);return p.createElement(bt,{data:r})};try{Mc.displayName="InformationRecipient",Mc.__docgenInfo={description:"",displayName:"InformationRecipient",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Cy=e=>{const t=q.select("*[name()='ClinicalDocument']/*[name()='inFulfillmentOf']/*[name()='order']",e);return G.exports.isEmpty(t)?void 0:t.map(n=>{const a=hr(q.select1("*[name()='id']",n)),o=String(q.select1("string(*[name()='code']/@displayName)",n));return[{label:"Order ID:",value:a},{label:"Code:",value:o}]}).reduce((n,a,o)=>({...n,[`inFulfillmentOf${o+1}`]:a}),{})},LA=e=>{const t=Cy(e);return Object.values(t||{})},Fc=({document:e})=>{const t=LA(e);if(G.exports.isEmpty(t))return null;const r=t.flatMap(n=>[{label:"In Fulfillment Of",value:`Order: ${n[0].value||"Unknown"}, ${n[1].value||"Unknown"}`},{label:"",value:""}]);return p.createElement(bt,{data:r})};try{Fc.displayName="InFulfillmentOf",Fc.__docgenInfo={description:"",displayName:"InFulfillmentOf",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const UA=e=>{const t=q.select1("*[name()='ClinicalDocument']/*[name()='legalAuthenticator']",e);if(!t)return;const r=q.select1("*[name()='assignedEntity']",t),n=q.select1("*[name()='assignedPerson']",r),a=Ht(q.select("*[name()='name']",n)),o=Ct(q.select("*[name()='addr']",r),q.select("*[name()='telecom']",r)),s=_t(mt(String(q.select1("string(*[name()='time']/@value)",t))));return{name:a,contactDetails:o,time:s}},kc=({document:e})=>{const t=UA(e);if(!t)return null;const{name:r,time:n,contactDetails:a}=t,o=n?` signed at ${n}`:"",s=[{label:"Legal Authenticator",value:`${r}${o}`},{label:"Contact Details",value:a}];return p.createElement(bt,{data:s})};try{kc.displayName="LegalAuthenticator",kc.__docgenInfo={description:"",displayName:"LegalAuthenticator",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const qA=e=>{const t=q.select("*[name()='ClinicalDocument']/*[name()='participant']",e);if(!G.exports.isEmpty(t))return t.map(r=>{const n=q.select1("*[name()='associatedEntity']",r);if(n){const a=q.select1("*[name()='associatedPerson']",n),o=Ht(q.select("*[name()='name']",a)),s=Ct(q.select("*[name()='addr']",n),q.select("*[name()='telecom']",n)),u=q.select1("*[name()='time']",r),c=Yl(u),l=String(q.select1("string(*[name()='code']/@displayName)",n)).toLowerCase();return{name:o,contactDetails:s,time:`from ${c.start} to ${c.end}`,relationship:l}}}).filter(Gl)},Bc=({document:e})=>{const t=qA(e);if(!t||G.exports.isEmpty(t))return null;const r=t.flatMap(n=>[{label:"Participant",value:`${n.name}${n.relationship?` - ${n.relationship}`:""}`},{label:"Contact Details",value:n.contactDetails}]);return p.createElement(bt,{data:r})};try{Bc.displayName="Participant",Bc.__docgenInfo={description:"",displayName:"Participant",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Ry=e=>{const t=q.select("*[name()='patient']/*[name()='guardian']",e);if(!G.exports.isEmpty(t))return t.map(r=>{const n=q.select1("*[name()='guardianPerson']",r),a=String(q.select1("string(*[name()='code']/@displayName)",r)),o=Ht(q.select("*[name()='name']",n)),s=a?` - ${a}`:"";return{label:"",value:`${o}${s}`}})},Ny=e=>{const r=q.select("*[name()='ClinicalDocument']/*[name()='recordTarget']/*[name()='patientRole']",e).map(n=>{const a=q.select1("*[name()='patient']",n),o=Ht(q.select1("*[name()='name']",a)),s=q.select("*[name()='id']",n).map(hr).join(", "),u=String(q.select1("string(*[name()='administrativeGenderCode']/@displayName)",a)),c=mt(String(q.select1("string(*[name()='birthTime']/@value)",a)))||new Date,l=mt(String(q.select1("string(*[name()='sdtc:deceasedTime']/@value)",a)))||new Date,h=String(q.select1("string(*[name()='sdtc:deceasedInd']/@value)",a))==="true",g=h?"deceased":nh(_o(l)?l:new Date,c),N=`${Qn(c,"MMMM dd, yyyy")} (${g}${h?"":" yr"}${_o(l)?" - deceased":""})`,O=Ry(n);return{patient:[{label:"Name:",value:o},{label:"ID:",value:s},{label:"Date of birth:",value:N},{label:"Gender:",value:u}],guardian:O}});return G.exports.map(r,n=>[n.patient,n.guardian]).reduce((n,a,o)=>({...n,[`patient${o+1}`]:a[0],[`guardian${o+1}`]:a[1]}),{})},VA=e=>{const t=q.select1("*[name()='birthplace']/*[name()='place']/*[name()='addr']",e);return t?_y(t):""},jA=e=>{const t=q.select1("*[name()='ethnicGroupCode']",e);if(t)return String(q.select1("string(@displayName)",t));const r=q.select("*[name()='sdtc:ethnicGroupCode']",e);return G.exports.isEmpty(r)?"":String(q.select1("string(@displayName)",r[0]))},HA=e=>{const t=q.select("//*[name()='patientRole']/*[name()='patient']/*[name()='guardian']",document);if(!t||G.exports.isEmpty(t))return;const r=Ry(e);return t.map((n,a)=>{const o=Ct(q.select("*[name()='addr']",n),q.select("*[name()='telecom']",n));return{name:r[a].value,contactDetails:o}})},zA=e=>q.select("*[name()='languageCommunication']",e).reduce((r,n,a)=>{const o=String(q.select1("string(*[name()='languageCode']/@code)",n));if(!o)return r;const s=String(q.select1("string(*[name()='preferenceInd']/@value)",n)),u=a===0?"":`
`,c=s!==""?`, preferred: ${s}`:"";return`${r}${u}${o}${c}`},""),WA=e=>String(q.select1("string(*[name()='maritalStatusCode']/@displayName)",e)),YA=e=>{const t=q.select1("*[name()='providerOrganization']",e),r=q.select1("//*[name()='custodian']/*[name()='assignedCustodian']/*[name()='representedCustodianOrganization']",e),n=t||r,a=q.select("*[name()='id']",n).map(hr).join(", "),o=xy(q.select("string(*[name()='name'])",n)),s=Ct(q.select("*[name()='addr']",n),q.select("*[name()='telecom']",n)),u=o?`
${o}`:"";return{name:`${a}${u}`,contactDetails:s}},GA=e=>{const t=q.select1("*[name()='raceCode']",e);if(t)return String(q.select1("string(@displayName)",t));const r=q.select("*[name()='sdtc:raceCode']",e);return G.exports.isEmpty(r)?"":String(q.select1("string(@displayName)",r[0]))},QA=e=>String(q.select1("string(*[name()='religiousAffiliationCode']/@displayName)",e)),ZA=e=>{const t=q.select("//*[name()='patientRole']",e);if(!t||G.exports.isEmpty(t))return;const r=Ny(e),n=Object.entries(r).reduce((a,[o,s])=>({...a,[o]:s==null?void 0:s.reduce((u,c)=>({...u,[G.exports.camelCase(c.label)]:c.value}),{})}),{});return t.map((a,o)=>{const s=q.select1("*[name()='patient']",a),u=GA(s),c=jA(s),l=Ct(q.select("*[name()='addr']",a),q.select("*[name()='telecom']",a)),h=zA(s),g=YA(a),N=HA(a),O=WA(s),w=QA(s),_=VA(s);return{name:n[`patient${o+1}`].name,contactDetails:l,dateOfBirth:n[`patient${o+1}`].dateOfBirth,gender:n[`patient${o+1}`].gender,race:u,ethnicity:c,patientId:n[`patient${o+1}`].id,language:h,maritalStatus:O,religion:w,birthPlace:_,guardian:N||[],providerOrganization:g.name,providerOrganizationContactDetails:g.contactDetails}})},Lc=({document:e})=>{const t=ZA(e);return!t||G.exports.isEmpty(t)?null:p.createElement(p.Fragment,null,t.map(r=>{const n=[{label:"Patient",value:r.name},{label:"Contact Details",value:r.contactDetails},{label:"Date Of Birth",value:r.dateOfBirth},{label:"Gender",value:r.gender},{label:"Race",value:r.race},{label:"Ethnicity",value:r.ethnicity},{label:"Patient ID",value:r.patientId},{label:"Language",value:r.language},{label:"Marital Status",value:r.maritalStatus},{label:"Religion",value:r.religion},{label:"Birth Place",value:r.birthPlace},...r.guardian.map(a=>[{label:"Guardian",value:a.name},{label:"Contact Details",value:a.contactDetails}]),[{label:"Provider Organization",value:r.providerOrganization},{label:"Contact Details (Organization)",value:r.providerOrganizationContactDetails}]];return p.createElement(bt,{key:`${r.patientId}-${r.name}-${r.dateOfBirth}`,data:n.filter(a=>G.exports.isArray(a)||a.value)})}))};try{Lc.displayName="Patient",Lc.__docgenInfo={description:"",displayName:"Patient",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Uc=({document:e})=>p.createElement("div",{className:"ctw-ccda-document-details"},p.createElement(Pc,{document:e}),p.createElement(Nc,{document:e}),p.createElement(Lc,{document:e}),p.createElement(Cc,{document:e}),p.createElement(Ac,{document:e}),p.createElement(Ic,{document:e}),p.createElement(Mc,{document:e}),p.createElement(kc,{document:e}),p.createElement(Oc,{document:e}),p.createElement(Bc,{document:e}),p.createElement(Dc,{document:e}),p.createElement(Fc,{document:e}),p.createElement(Rc,{document:e}),p.createElement($c,{document:e}));try{Uc.displayName="DocumentDetails",Uc.__docgenInfo={description:"",displayName:"DocumentDetails",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const XA=e=>{const t=String(q.select1("string(*[name()='ClinicalDocument']/*[name()='title']/text())",e)),r=mt(String(q.select1("string(*[name()='ClinicalDocument']/*[name()='effectiveTime']/@value)",e)));return`${t} (${_t(r)})`},KA=e=>{const t=XA(e),r=Ny(e),n=Ty(e),a=Ey(e),o=Oy(e),s=Cy(e),u=Sy(e);return{title:t,labelTypeData:{...r,...u||{},...n||{},...a||{},encounter:o||[],...s||{}}}},qc=({document:e})=>{const{title:t,labelTypeData:r}=KA(e);return p.createElement("div",{className:"ctw-ccda-header-container"},p.createElement("h2",{className:"ctw-ccda-header-title"},t),p.createElement("table",{className:"ctw-ccda-common-table"},p.createElement("tbody",null,G.exports.map(r,(n,a)=>{if(!n)return null;const o=n.filter(s=>s.value);return G.exports.isEmpty(o)?null:p.createElement("tr",{key:a},p.createElement("td",{className:"ctw-ccda-common-td1"},G.exports.startCase(a.replace(/\d/g,""))),p.createElement("td",{className:"ctw-ccda-common-td2"},o.map((s,u)=>p.createElement("span",{key:`${a}-${u}`},s.label&&p.createElement("b",null,s.label," "),s.value))))}))))};try{qc.displayName="Header",qc.__docgenInfo={description:"",displayName:"Header",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}/*! @license DOMPurify 2.4.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.1/LICENSE */function xr(e){return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xr(e)}function Vc(e,t){return Vc=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Vc(e,t)}function JA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function so(e,t,r){return JA()?so=Reflect.construct:so=function(a,o,s){var u=[null];u.push.apply(u,o);var c=Function.bind.apply(a,u),l=new c;return s&&Vc(l,s.prototype),l},so.apply(null,arguments)}function Vt(e){return eP(e)||tP(e)||rP(e)||nP()}function eP(e){if(Array.isArray(e))return jc(e)}function tP(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rP(e,t){if(!!e){if(typeof e=="string")return jc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jc(e,t)}}function jc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var aP=Object.hasOwnProperty,Rp=Object.setPrototypeOf,oP=Object.isFrozen,iP=Object.getPrototypeOf,sP=Object.getOwnPropertyDescriptor,Rt=Object.freeze,zt=Object.seal,uP=Object.create,Ay=typeof Reflect<"u"&&Reflect,Ni=Ay.apply,Hc=Ay.construct;Ni||(Ni=function(t,r,n){return t.apply(r,n)});Rt||(Rt=function(t){return t});zt||(zt=function(t){return t});Hc||(Hc=function(t,r){return so(t,Vt(r))});var cP=Ft(Array.prototype.forEach),Np=Ft(Array.prototype.pop),Tn=Ft(Array.prototype.push),uo=Ft(String.prototype.toLowerCase),Ss=Ft(String.prototype.toString),lP=Ft(String.prototype.match),Ut=Ft(String.prototype.replace),fP=Ft(String.prototype.indexOf),dP=Ft(String.prototype.trim),wt=Ft(RegExp.prototype.test),Ts=pP(TypeError);function Ft(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return Ni(e,t,n)}}function pP(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Hc(e,r)}}function De(e,t,r){r=r||uo,Rp&&Rp(e,null);for(var n=t.length;n--;){var a=t[n];if(typeof a=="string"){var o=r(a);o!==a&&(oP(t)||(t[n]=o),a=o)}e[a]=!0}return e}function Nr(e){var t=uP(null),r;for(r in e)Ni(aP,e,[r])&&(t[r]=e[r]);return t}function ya(e,t){for(;e!==null;){var r=sP(e,t);if(r){if(r.get)return Ft(r.get);if(typeof r.value=="function")return Ft(r.value)}e=iP(e)}function n(a){return console.warn("fallback value for",a),null}return n}var Ap=Rt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Os=Rt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Cs=Rt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),mP=Rt(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Rs=Rt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),hP=Rt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Pp=Rt(["#text"]),Dp=Rt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ns=Rt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$p=Rt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),va=Rt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),yP=zt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),vP=zt(/<%[\w\W]*|[\w\W]*%>/gm),gP=zt(/\${[\w\W]*}/gm),bP=zt(/^data-[\-\w.\u00B7-\uFFFF]/),wP=zt(/^aria-[\-\w]+$/),xP=zt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_P=zt(/^(?:\w+script|data):/i),EP=zt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),SP=zt(/^html$/i),TP=function(){return typeof window>"u"?null:window},OP=function(t,r){if(xr(t)!=="object"||typeof t.createPolicy!="function")return null;var n=null,a="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(a)&&(n=r.currentScript.getAttribute(a));var o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML:function(u){return u},createScriptURL:function(u){return u}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function Py(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:TP(),t=function(F){return Py(F)};if(t.version="2.4.1",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;var r=e.document,n=e.document,a=e.DocumentFragment,o=e.HTMLTemplateElement,s=e.Node,u=e.Element,c=e.NodeFilter,l=e.NamedNodeMap,h=l===void 0?e.NamedNodeMap||e.MozNamedAttrMap:l,g=e.HTMLFormElement,N=e.DOMParser,O=e.trustedTypes,w=u.prototype,_=ya(w,"cloneNode"),C=ya(w,"nextSibling"),v=ya(w,"childNodes"),S=ya(w,"parentNode");if(typeof o=="function"){var A=n.createElement("template");A.content&&A.content.ownerDocument&&(n=A.content.ownerDocument)}var R=OP(O,r),$=R?R.createHTML(""):"",I=n,V=I.implementation,L=I.createNodeIterator,P=I.createDocumentFragment,j=I.getElementsByTagName,K=r.importNode,ce={};try{ce=Nr(n).documentMode?n.documentMode:{}}catch{}var ae={};t.isSupported=typeof S=="function"&&V&&typeof V.createHTMLDocument<"u"&&ce!==9;var le=yP,ge=vP,xe=gP,Ce=bP,ye=wP,Re=_P,pe=EP,oe=xP,X=null,Ze=De({},[].concat(Vt(Ap),Vt(Os),Vt(Cs),Vt(Rs),Vt(Pp))),$e=null,ze=De({},[].concat(Vt(Dp),Vt(Ns),Vt($p),Vt(va))),me=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Q=null,Y=null,re=!0,Ae=!0,Te=!1,ne=!1,ee=!1,ft=!1,Nt=!1,b=!1,d=!1,m=!1,x=!0,k=!1,W="user-content-",Z=!0,B=!1,z={},U=null,H=De({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ie=null,ve=De({},["audio","video","img","source","image","track"]),Ue=null,ut=De({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Se="http://www.w3.org/1998/Math/MathML",kt="http://www.w3.org/2000/svg",ht="http://www.w3.org/1999/xhtml",i=ht,f=!1,E=null,D=De({},[Se,kt,ht],Ss),T,M=["application/xhtml+xml","text/html"],se="text/html",be,Ie=null,ue=n.createElement("form"),Oe=function(F){return F instanceof RegExp||F instanceof Function},yt=function(F){Ie&&Ie===F||((!F||xr(F)!=="object")&&(F={}),F=Nr(F),T=M.indexOf(F.PARSER_MEDIA_TYPE)===-1?T=se:T=F.PARSER_MEDIA_TYPE,be=T==="application/xhtml+xml"?Ss:uo,X="ALLOWED_TAGS"in F?De({},F.ALLOWED_TAGS,be):Ze,$e="ALLOWED_ATTR"in F?De({},F.ALLOWED_ATTR,be):ze,E="ALLOWED_NAMESPACES"in F?De({},F.ALLOWED_NAMESPACES,Ss):D,Ue="ADD_URI_SAFE_ATTR"in F?De(Nr(ut),F.ADD_URI_SAFE_ATTR,be):ut,ie="ADD_DATA_URI_TAGS"in F?De(Nr(ve),F.ADD_DATA_URI_TAGS,be):ve,U="FORBID_CONTENTS"in F?De({},F.FORBID_CONTENTS,be):H,Q="FORBID_TAGS"in F?De({},F.FORBID_TAGS,be):{},Y="FORBID_ATTR"in F?De({},F.FORBID_ATTR,be):{},z="USE_PROFILES"in F?F.USE_PROFILES:!1,re=F.ALLOW_ARIA_ATTR!==!1,Ae=F.ALLOW_DATA_ATTR!==!1,Te=F.ALLOW_UNKNOWN_PROTOCOLS||!1,ne=F.SAFE_FOR_TEMPLATES||!1,ee=F.WHOLE_DOCUMENT||!1,b=F.RETURN_DOM||!1,d=F.RETURN_DOM_FRAGMENT||!1,m=F.RETURN_TRUSTED_TYPE||!1,Nt=F.FORCE_BODY||!1,x=F.SANITIZE_DOM!==!1,k=F.SANITIZE_NAMED_PROPS||!1,Z=F.KEEP_CONTENT!==!1,B=F.IN_PLACE||!1,oe=F.ALLOWED_URI_REGEXP||oe,i=F.NAMESPACE||ht,F.CUSTOM_ELEMENT_HANDLING&&Oe(F.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(me.tagNameCheck=F.CUSTOM_ELEMENT_HANDLING.tagNameCheck),F.CUSTOM_ELEMENT_HANDLING&&Oe(F.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(me.attributeNameCheck=F.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),F.CUSTOM_ELEMENT_HANDLING&&typeof F.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(me.allowCustomizedBuiltInElements=F.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ne&&(Ae=!1),d&&(b=!0),z&&(X=De({},Vt(Pp)),$e=[],z.html===!0&&(De(X,Ap),De($e,Dp)),z.svg===!0&&(De(X,Os),De($e,Ns),De($e,va)),z.svgFilters===!0&&(De(X,Cs),De($e,Ns),De($e,va)),z.mathMl===!0&&(De(X,Rs),De($e,$p),De($e,va))),F.ADD_TAGS&&(X===Ze&&(X=Nr(X)),De(X,F.ADD_TAGS,be)),F.ADD_ATTR&&($e===ze&&($e=Nr($e)),De($e,F.ADD_ATTR,be)),F.ADD_URI_SAFE_ATTR&&De(Ue,F.ADD_URI_SAFE_ATTR,be),F.FORBID_CONTENTS&&(U===H&&(U=Nr(U)),De(U,F.FORBID_CONTENTS,be)),Z&&(X["#text"]=!0),ee&&De(X,["html","head","body"]),X.table&&(De(X,["tbody"]),delete Q.tbody),Rt&&Rt(F),Ie=F)},Ve=De({},["mi","mo","mn","ms","mtext"]),Bt=De({},["foreignobject","desc","title","annotation-xml"]),Yt=De({},["title","style","font","a","script"]),Vr=De({},Os);De(Vr,Cs),De(Vr,mP);var jr=De({},Rs);De(jr,hP);var Ji=function(F){var J=S(F);(!J||!J.tagName)&&(J={namespaceURI:i,tagName:"template"});var fe=uo(F.tagName),je=uo(J.tagName);return E[F.namespaceURI]?F.namespaceURI===kt?J.namespaceURI===ht?fe==="svg":J.namespaceURI===Se?fe==="svg"&&(je==="annotation-xml"||Ve[je]):Boolean(Vr[fe]):F.namespaceURI===Se?J.namespaceURI===ht?fe==="math":J.namespaceURI===kt?fe==="math"&&Bt[je]:Boolean(jr[fe]):F.namespaceURI===ht?J.namespaceURI===kt&&!Bt[je]||J.namespaceURI===Se&&!Ve[je]?!1:!jr[fe]&&(Yt[fe]||!Vr[fe]):!!(T==="application/xhtml+xml"&&E[F.namespaceURI]):!1},Lt=function(F){Tn(t.removed,{element:F});try{F.parentNode.removeChild(F)}catch{try{F.outerHTML=$}catch{F.remove()}}},gn=function(F,J){try{Tn(t.removed,{attribute:J.getAttributeNode(F),from:J})}catch{Tn(t.removed,{attribute:null,from:J})}if(J.removeAttribute(F),F==="is"&&!$e[F])if(b||d)try{Lt(J)}catch{}else try{J.setAttribute(F,"")}catch{}},Jn=function(F){var J,fe;if(Nt)F="<remove></remove>"+F;else{var je=lP(F,/^[\r\n\t ]+/);fe=je&&je[0]}T==="application/xhtml+xml"&&i===ht&&(F='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+F+"</body></html>");var At=R?R.createHTML(F):F;if(i===ht)try{J=new N().parseFromString(At,T)}catch{}if(!J||!J.documentElement){J=V.createDocument(i,"template",null);try{J.documentElement.innerHTML=f?"":At}catch{}}var vt=J.body||J.documentElement;return F&&fe&&vt.insertBefore(n.createTextNode(fe),vt.childNodes[0]||null),i===ht?j.call(J,ee?"html":"body")[0]:ee?J.documentElement:vt},te=function(F){return L.call(F.ownerDocument||F,F,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Fe=function(F){return F instanceof g&&(typeof F.nodeName!="string"||typeof F.textContent!="string"||typeof F.removeChild!="function"||!(F.attributes instanceof h)||typeof F.removeAttribute!="function"||typeof F.setAttribute!="function"||typeof F.namespaceURI!="string"||typeof F.insertBefore!="function"||typeof F.hasChildNodes!="function")},st=function(F){return xr(s)==="object"?F instanceof s:F&&xr(F)==="object"&&typeof F.nodeType=="number"&&typeof F.nodeName=="string"},ct=function(F,J,fe){!ae[F]||cP(ae[F],function(je){je.call(t,J,fe,Ie)})},ea=function(F){var J;if(ct("beforeSanitizeElements",F,null),Fe(F)||wt(/[\u0080-\uFFFF]/,F.nodeName))return Lt(F),!0;var fe=be(F.nodeName);if(ct("uponSanitizeElement",F,{tagName:fe,allowedTags:X}),F.hasChildNodes()&&!st(F.firstElementChild)&&(!st(F.content)||!st(F.content.firstElementChild))&&wt(/<[/\w]/g,F.innerHTML)&&wt(/<[/\w]/g,F.textContent)||fe==="select"&&wt(/<template/i,F.innerHTML))return Lt(F),!0;if(!X[fe]||Q[fe]){if(!Q[fe]&&Zl(fe)&&(me.tagNameCheck instanceof RegExp&&wt(me.tagNameCheck,fe)||me.tagNameCheck instanceof Function&&me.tagNameCheck(fe)))return!1;if(Z&&!U[fe]){var je=S(F)||F.parentNode,At=v(F)||F.childNodes;if(At&&je)for(var vt=At.length,dt=vt-1;dt>=0;--dt)je.insertBefore(_(At[dt],!0),C(F))}return Lt(F),!0}return F instanceof u&&!Ji(F)||(fe==="noscript"||fe==="noembed")&&wt(/<\/no(script|embed)/i,F.innerHTML)?(Lt(F),!0):(ne&&F.nodeType===3&&(J=F.textContent,J=Ut(J,le," "),J=Ut(J,ge," "),J=Ut(J,xe," "),F.textContent!==J&&(Tn(t.removed,{element:F.cloneNode()}),F.textContent=J)),ct("afterSanitizeElements",F,null),!1)},Ql=function(F,J,fe){if(x&&(J==="id"||J==="name")&&(fe in n||fe in ue))return!1;if(!(Ae&&!Y[J]&&wt(Ce,J))){if(!(re&&wt(ye,J))){if(!$e[J]||Y[J]){if(!(Zl(F)&&(me.tagNameCheck instanceof RegExp&&wt(me.tagNameCheck,F)||me.tagNameCheck instanceof Function&&me.tagNameCheck(F))&&(me.attributeNameCheck instanceof RegExp&&wt(me.attributeNameCheck,J)||me.attributeNameCheck instanceof Function&&me.attributeNameCheck(J))||J==="is"&&me.allowCustomizedBuiltInElements&&(me.tagNameCheck instanceof RegExp&&wt(me.tagNameCheck,fe)||me.tagNameCheck instanceof Function&&me.tagNameCheck(fe))))return!1}else if(!Ue[J]){if(!wt(oe,Ut(fe,pe,""))){if(!((J==="src"||J==="xlink:href"||J==="href")&&F!=="script"&&fP(fe,"data:")===0&&ie[F])){if(!(Te&&!wt(Re,Ut(fe,pe,"")))){if(fe)return!1}}}}}}return!0},Zl=function(F){return F.indexOf("-")>0},Xl=function(F){var J,fe,je,At;ct("beforeSanitizeAttributes",F,null);var vt=F.attributes;if(!!vt){var dt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:$e};for(At=vt.length;At--;){J=vt[At];var ta=J,lt=ta.name,es=ta.namespaceURI;if(fe=lt==="value"?J.value:dP(J.value),je=be(lt),dt.attrName=je,dt.attrValue=fe,dt.keepAttr=!0,dt.forceKeepAttr=void 0,ct("uponSanitizeAttribute",F,dt),fe=dt.attrValue,!dt.forceKeepAttr&&(gn(lt,F),!!dt.keepAttr)){if(wt(/\/>/i,fe)){gn(lt,F);continue}ne&&(fe=Ut(fe,le," "),fe=Ut(fe,ge," "),fe=Ut(fe,xe," "));var Kl=be(F.nodeName);if(!!Ql(Kl,je,fe)){if(k&&(je==="id"||je==="name")&&(gn(lt,F),fe=W+fe),R&&xr(O)==="object"&&typeof O.getAttributeType=="function"&&!es)switch(O.getAttributeType(Kl,je)){case"TrustedHTML":fe=R.createHTML(fe);break;case"TrustedScriptURL":fe=R.createScriptURL(fe);break}try{es?F.setAttributeNS(es,lt,fe):F.setAttribute(lt,fe),Np(t.removed)}catch{}}}}ct("afterSanitizeAttributes",F,null)}},My=function we(F){var J,fe=te(F);for(ct("beforeSanitizeShadowDOM",F,null);J=fe.nextNode();)ct("uponSanitizeShadowNode",J,null),!ea(J)&&(J.content instanceof a&&we(J.content),Xl(J));ct("afterSanitizeShadowDOM",F,null)};return t.sanitize=function(we){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J,fe,je,At,vt;if(f=!we,f&&(we="<!-->"),typeof we!="string"&&!st(we)){if(typeof we.toString!="function")throw Ts("toString is not a function");if(we=we.toString(),typeof we!="string")throw Ts("dirty is not a string, aborting")}if(!t.isSupported){if(xr(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof we=="string")return e.toStaticHTML(we);if(st(we))return e.toStaticHTML(we.outerHTML)}return we}if(ft||yt(F),t.removed=[],typeof we=="string"&&(B=!1),B){if(we.nodeName){var dt=be(we.nodeName);if(!X[dt]||Q[dt])throw Ts("root node is forbidden and cannot be sanitized in-place")}}else if(we instanceof s)J=Jn("<!---->"),fe=J.ownerDocument.importNode(we,!0),fe.nodeType===1&&fe.nodeName==="BODY"||fe.nodeName==="HTML"?J=fe:J.appendChild(fe);else{if(!b&&!ne&&!ee&&we.indexOf("<")===-1)return R&&m?R.createHTML(we):we;if(J=Jn(we),!J)return b?null:m?$:""}J&&Nt&&Lt(J.firstChild);for(var ta=te(B?we:J);je=ta.nextNode();)je.nodeType===3&&je===At||ea(je)||(je.content instanceof a&&My(je.content),Xl(je),At=je);if(At=null,B)return we;if(b){if(d)for(vt=P.call(J.ownerDocument);J.firstChild;)vt.appendChild(J.firstChild);else vt=J;return $e.shadowroot&&(vt=K.call(r,vt,!0)),vt}var lt=ee?J.outerHTML:J.innerHTML;return ee&&X["!doctype"]&&J.ownerDocument&&J.ownerDocument.doctype&&J.ownerDocument.doctype.name&&wt(SP,J.ownerDocument.doctype.name)&&(lt="<!DOCTYPE "+J.ownerDocument.doctype.name+`>
`+lt),ne&&(lt=Ut(lt,le," "),lt=Ut(lt,ge," "),lt=Ut(lt,xe," ")),R&&m?R.createHTML(lt):lt},t.setConfig=function(we){yt(we),ft=!0},t.clearConfig=function(){Ie=null,ft=!1},t.isValidAttribute=function(we,F,J){Ie||yt({});var fe=be(we),je=be(F);return Ql(fe,je,J)},t.addHook=function(we,F){typeof F=="function"&&(ae[we]=ae[we]||[],Tn(ae[we],F))},t.removeHook=function(we){if(ae[we])return Np(ae[we])},t.removeHooks=function(we){ae[we]&&(ae[we]=[])},t.removeAllHooks=function(){ae={}},t}var CP=Py();const zc=({title:e,humanReadable:t})=>{const[r,n]=y.exports.useState(!0);if(!t)return null;const a=()=>n(!r);return p.createElement("div",{className:"ctw-ccda-section-container"},p.createElement("div",{className:"ctw-ccda-section-header-wrapper"},p.createElement("button",{type:"button",className:"ctw-ccda-section-arrow",onClick:a},r?"\u25BC":"\u25B6"),p.createElement("h3",null,e)),r&&p.createElement("div",{className:"ctw-ccda-section-wrapper"},p.createElement("div",{dangerouslySetInnerHTML:{__html:CP.sanitize(OA(t))}})))};try{zc.displayName="Section",zc.__docgenInfo={description:"",displayName:"Section",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},humanReadable:{defaultValue:null,description:"",name:"humanReadable",required:!1,type:{name:"Document"}}}}}catch{}const Wc=({document:e})=>{const r=q.select("//*[name()='component']/*[name()='section']",e).map(n=>{const a=String(q.select1("string(*[name()='title'])",n)),o=q.select1("*[name()='text']",n),s=String(q.select1("string(*[name()='code']/@code)",n));return{title:a,humanReadable:o,code:s}});return p.createElement("div",{className:it({width:"calc(100vw - 200px - 24px - 24px - 16px - 16px - 2px)"})},p.createElement(qc,{document:e}),p.createElement(Uc,{document:e}),r.map(({title:n,humanReadable:a,code:o})=>p.createElement(zc,{key:`el-text-${o}`,title:n,humanReadable:a})))};try{Wc.displayName="CcdaViewer",Wc.__docgenInfo={description:"",displayName:"CcdaViewer",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const RP=["/xml","/xhtml+xml","application/xml"],NP=(e,t)=>e.some(r=>t.includes(r)),Yc=({value:e,contentType:t})=>{const[n,a]=y.exports.useState(!0),o=h=>a(h.target.checked),s=y.exports.useMemo(()=>{if(!NP(RP,t))return;const h=new cA.DOMParser({locator:{},errorHandler:g=>null}).parseFromString(by.Buffer.from(e,"base64").toString("utf8"),t);if(q.select1("//*[name()='patientRole']",h))return h},[t,e]),u=[{label:"Parsed",value:n,event:o,disabled:!1,display:Boolean(s)}],c=n?s:void 0,l=()=>c?p.createElement(Wc,{document:c}):p.createElement("div",{className:"ctw-ccda-base64-binary-text"},e);return p.createElement("div",{className:"ctw-ccda-container"},p.createElement("div",{className:"ctw-ccda-switch-container"},u.map(h=>h.display&&p.createElement("div",{key:h.label,className:"ctw-cda-switch-wrapper"},p.createElement("span",{className:"ctw-flex"},p.createElement(Ei,{inputProps:{value:h.label,checked:h.value,disabled:h.disabled},name:h.label,text:h.label,onChange:h.event}))))),l())};try{Yc.displayName="Base64BinaryField",Yc.__docgenInfo={description:"",displayName:"Base64BinaryField",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},contentType:{defaultValue:null,description:"",name:"contentType",required:!0,type:{name:"string"}}}}}catch{}const Gc=({rawBinary:e,onClose:t,...r})=>{var o;const[n,a]=y.exports.useState(!1);return y.exports.useEffect(()=>{e.isBinary&&a(!0)},[n,e.isBinary]),p.createElement(Ti,{...r},n&&((o=e.xmlBinary)==null?void 0:o.data)&&p.createElement("div",{className:"ctw-flex ctw-w-full ctw-space-x-4"},p.createElement(Yc,{value:e.xmlBinary.data,contentType:e.xmlBinary.contentType}),p.createElement("div",{className:"ctw-ml-3 ctw-flex ctw-h-7 ctw-items-center"},p.createElement("button",{type:"button","aria-label":"close",onClick:t,className:"ctw-btn-clear"},p.createElement("span",{className:"ctw-sr-only"},"Close panel"),p.createElement(iv,{className:"ctw-h-6 ctw-w-6","aria-hidden":"true"})))))};try{Gc.displayName="CCDAModal",Gc.__docgenInfo={description:"",displayName:"CCDAModal",props:{rawBinary:{defaultValue:null,description:"",name:"rawBinary",required:!0,type:{name:"BinaryDocumentData"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}}}}}catch{}const Qc=({onClick:e})=>p.createElement("button",{type:"button",className:"ctw-btn-default ctw-flex ctw-space-x-2 ctw-align-middle",onClick:e},p.createElement("div",null," Source Document"),p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:12,className:"ctw-mt-1 ctw-fill-content-light"},p.createElement("path",{d:"M352 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h50.7L297.4 169.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V160c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32H352zM214.6 297.4c-12.5-12.5-32.8-12.5-45.3 0L64 402.7V352c0-17.7-14.3-32-32-32s-32 14.3-32 32V480c0 17.7 14.3 32 32 32H160c17.7 0 32-14.3 32-32s-14.3-32-32-32H109.3L214.6 342.6c12.5-12.5 12.5-32.8 0-45.3z"})));try{Qc.displayName="DocumentButton",Qc.__docgenInfo={description:"",displayName:"DocumentButton",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}}}}}catch{}const Ai=({idMap:e,entry:t,updateBinaryDocumentState:r})=>{var n;return p.createElement(p.Fragment,null,e.get(t.id)&&((n=e.get(t.id))==null?void 0:n.isBinary)&&p.createElement(Qc,{onClick:()=>{r({isModalOpen:!0,rawBinary:e.get(t.id)})}}))};try{Ai.displayName="RenderDocumentButton",Ai.__docgenInfo={description:"",displayName:"RenderDocumentButton",props:{idMap:{defaultValue:null,description:"",name:"idMap",required:!0,type:{name:"SourceDocumentMap"}},entry:{defaultValue:null,description:"",name:"entry",required:!0,type:{name:"CollapsibleDataListProps"}},updateBinaryDocumentState:{defaultValue:null,description:"",name:"updateBinaryDocumentState",required:!0,type:{name:"Dispatch<Partial<BinaryDocument>>"}}}}}catch{}const Zc=({codings:e})=>p.createElement("div",{className:"ctw-flex ctw-flex-col ctw-space-y-4"},e.map(t=>p.createElement("div",{key:`${t.id}-${t.code}`},t.display,p.createElement("div",null,t.code),p.createElement("div",null,t.system))));try{Zc.displayName="CodingList",Zc.__docgenInfo={description:"",displayName:"CodingList",props:{codings:{defaultValue:null,description:"",name:"codings",required:!0,type:{name:"Coding[]"}}}}}catch{}const Pi=({notes:e})=>p.createElement("div",{className:"ctw-flex ctw-flex-col ctw-space-y-4"},e.map(t=>p.createElement("div",{key:t},p.createElement("div",null,t))));try{Pi.displayName="NotesList",Pi.__docgenInfo={description:"",displayName:"NotesList",props:{notes:{defaultValue:null,description:"",name:"notes",required:!0,type:{name:"string[]"}}}}}catch{}function Di(e){var r,n;const t=[{label:"Recorder",value:e.recorder},{label:"Clinical Status",value:G.exports.capitalize(e.clinicalStatus)},{label:"Verification Status",value:G.exports.capitalize(e.verificationStatus)},{label:"Recorded Date",value:e.recordedDate},{label:"Category",value:G.exports.startCase(e.categories[0])},{label:"Note",value:e.notes.length!==0&&p.createElement(Pi,{notes:e.notes})},{label:"Code",value:p.createElement(Zc,{codings:e.knownCodings})},{label:"Onset Date",value:e.onset},{label:"Abatement Date",value:e.abatement},{label:"Encounter",value:e.encounter}];return{id:e.id,date:e.recordedDate,title:G.exports.startCase(e.categories[0]),subtitle:(n=(r=e.patient)==null?void 0:r.organization)==null?void 0:n.name,data:t}}const Xc=e=>{var t,r;return[{label:"Recorder",value:e.recorder},{label:"Recorded Date",value:e.recordedDate},{label:"Provider Organization",value:(r=(t=e.patient)==null?void 0:t.organization)==null?void 0:r.name},{label:"Clinical Status",value:G.exports.capitalize(e.clinicalStatus)},{label:"Verification Status",value:G.exports.capitalize(e.verificationStatus)},{label:"Onset Date",value:e.onset},{label:"Abatement Date",value:e.abatement},{label:"Note",value:e.notes.length!==0&&p.createElement(Pi,{notes:e.notes})}]};try{Di.displayName="setupData",Di.__docgenInfo={description:"",displayName:"setupData",props:{abatement:{defaultValue:null,description:"",name:"abatement",required:!0,type:{name:"string | undefined"}},active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean"}},isArchived:{defaultValue:null,description:"",name:"isArchived",required:!0,type:{name:"boolean"}},asserter:{defaultValue:null,description:"",name:"asserter",required:!0,type:{name:"string | undefined"}},bodySites:{defaultValue:null,description:"",name:"bodySites",required:!0,type:{name:"string[]"}},categories:{defaultValue:null,description:"",name:"categories",required:!0,type:{name:"string[]"}},ccsChapter:{defaultValue:null,description:"",name:"ccsChapter",required:!0,type:{name:"string | undefined"}},ccsChapterCode:{defaultValue:null,description:"",name:"ccsChapterCode",required:!0,type:{name:"string | undefined"}},ccsGrouping:{defaultValue:null,description:"",name:"ccsGrouping",required:!0,type:{name:"string | undefined"}},clinicalStatus:{defaultValue:null,description:"",name:"clinicalStatus",required:!0,type:{name:"string"}},clinicalStatusCode:{defaultValue:null,description:"",name:"clinicalStatusCode",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"active"'},{value:'"recurrence"'},{value:'"relapse"'},{value:'"inactive"'},{value:'"remission"'},{value:'"resolved"'}]}},codings:{defaultValue:null,description:"",name:"codings",required:!0,type:{name:"CodeableConcept | undefined"}},display:{defaultValue:null,description:"",name:"display",required:!0,type:{name:"string | undefined"}},encounter:{defaultValue:null,description:"",name:"encounter",required:!0,type:{name:"string | undefined"}},evidences:{defaultValue:null,description:"",name:"evidences",required:!0,type:{name:"string[]"}},icd10Code:{defaultValue:null,description:"",name:"icd10Code",required:!0,type:{name:"string | undefined"}},icd10System:{defaultValue:null,description:"",name:"icd10System",required:!0,type:{name:"string | undefined"}},icd10Display:{defaultValue:null,description:"",name:"icd10Display",required:!0,type:{name:"string | undefined"}},knownCodings:{defaultValue:null,description:"",name:"knownCodings",required:!0,type:{name:"Coding[]"}},knownCodingsMatch:{defaultValue:null,description:"",name:"knownCodingsMatch",required:!0,type:{name:"(condition: ConditionModel) => boolean"}},notes:{defaultValue:null,description:"",name:"notes",required:!0,type:{name:"string[]"}},onset:{defaultValue:null,description:"",name:"onset",required:!0,type:{name:"string | undefined"}},patient:{defaultValue:null,description:"",name:"patient",required:!0,type:{name:"PatientModel | undefined"}},preferredCoding:{defaultValue:null,description:"",name:"preferredCoding",required:!0,type:{name:"Coding | undefined"}},recordedDate:{defaultValue:null,description:"",name:"recordedDate",required:!0,type:{name:"string | undefined"}},recorded:{defaultValue:null,description:"",name:"recorded",required:!0,type:{name:"string | undefined"}},recorder:{defaultValue:null,description:"",name:"recorder",required:!0,type:{name:"string | undefined"}},severity:{defaultValue:null,description:"",name:"severity",required:!0,type:{name:"string"}},snomedCoding:{defaultValue:null,description:"",name:"snomedCoding",required:!0,type:{name:"Coding | undefined"}},snomedCode:{defaultValue:null,description:"",name:"snomedCode",required:!0,type:{name:"string | undefined"}},snomedDisplay:{defaultValue:null,description:"",name:"snomedDisplay",required:!0,type:{name:"string | undefined"}},snomedSystem:{defaultValue:null,description:"",name:"snomedSystem",required:!0,type:{name:"string | undefined"}},stages:{defaultValue:null,description:"",name:"stages",required:!0,type:{name:"string[]"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},subjectID:{defaultValue:null,description:"",name:"subjectID",required:!0,type:{name:"string"}},verificationStatus:{defaultValue:null,description:"",name:"verificationStatus",required:!0,type:{name:"string"}},verificationStatusCode:{defaultValue:null,description:"",name:"verificationStatusCode",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"entered-in-error"'},{value:'"unconfirmed"'},{value:'"provisional"'},{value:'"differential"'},{value:'"confirmed"'},{value:'"refuted"'}]}},resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"Condition"}},includedResources:{defaultValue:null,description:"",name:"includedResources",required:!1,type:{name:"ResourceMap"}},revIncludes:{defaultValue:null,description:"",name:"revIncludes",required:!1,type:{name:"Resource[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isSummaryResource:{defaultValue:null,description:"",name:"isSummaryResource",required:!0,type:{name:"boolean"}},resourceType:{defaultValue:null,description:"",name:"resourceType",required:!0,type:{name:"string"}},getBasicResourceByAction:{defaultValue:null,description:"",name:"getBasicResourceByAction",required:!0,type:{name:"(profileAction: string) => Basic | undefined"}},toString:{defaultValue:null,description:"",name:"toString",required:!1,type:{name:"() => string"}}}}}catch{}try{Xc.displayName="conditionData",Xc.__docgenInfo={description:"",displayName:"conditionData",props:{abatement:{defaultValue:null,description:"",name:"abatement",required:!0,type:{name:"string | undefined"}},active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean"}},isArchived:{defaultValue:null,description:"",name:"isArchived",required:!0,type:{name:"boolean"}},asserter:{defaultValue:null,description:"",name:"asserter",required:!0,type:{name:"string | undefined"}},bodySites:{defaultValue:null,description:"",name:"bodySites",required:!0,type:{name:"string[]"}},categories:{defaultValue:null,description:"",name:"categories",required:!0,type:{name:"string[]"}},ccsChapter:{defaultValue:null,description:"",name:"ccsChapter",required:!0,type:{name:"string | undefined"}},ccsChapterCode:{defaultValue:null,description:"",name:"ccsChapterCode",required:!0,type:{name:"string | undefined"}},ccsGrouping:{defaultValue:null,description:"",name:"ccsGrouping",required:!0,type:{name:"string | undefined"}},clinicalStatus:{defaultValue:null,description:"",name:"clinicalStatus",required:!0,type:{name:"string"}},clinicalStatusCode:{defaultValue:null,description:"",name:"clinicalStatusCode",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"active"'},{value:'"recurrence"'},{value:'"relapse"'},{value:'"inactive"'},{value:'"remission"'},{value:'"resolved"'}]}},codings:{defaultValue:null,description:"",name:"codings",required:!0,type:{name:"CodeableConcept | undefined"}},display:{defaultValue:null,description:"",name:"display",required:!0,type:{name:"string | undefined"}},encounter:{defaultValue:null,description:"",name:"encounter",required:!0,type:{name:"string | undefined"}},evidences:{defaultValue:null,description:"",name:"evidences",required:!0,type:{name:"string[]"}},icd10Code:{defaultValue:null,description:"",name:"icd10Code",required:!0,type:{name:"string | undefined"}},icd10System:{defaultValue:null,description:"",name:"icd10System",required:!0,type:{name:"string | undefined"}},icd10Display:{defaultValue:null,description:"",name:"icd10Display",required:!0,type:{name:"string | undefined"}},knownCodings:{defaultValue:null,description:"",name:"knownCodings",required:!0,type:{name:"Coding[]"}},knownCodingsMatch:{defaultValue:null,description:"",name:"knownCodingsMatch",required:!0,type:{name:"(condition: ConditionModel) => boolean"}},notes:{defaultValue:null,description:"",name:"notes",required:!0,type:{name:"string[]"}},onset:{defaultValue:null,description:"",name:"onset",required:!0,type:{name:"string | undefined"}},patient:{defaultValue:null,description:"",name:"patient",required:!0,type:{name:"PatientModel | undefined"}},preferredCoding:{defaultValue:null,description:"",name:"preferredCoding",required:!0,type:{name:"Coding | undefined"}},recordedDate:{defaultValue:null,description:"",name:"recordedDate",required:!0,type:{name:"string | undefined"}},recorded:{defaultValue:null,description:"",name:"recorded",required:!0,type:{name:"string | undefined"}},recorder:{defaultValue:null,description:"",name:"recorder",required:!0,type:{name:"string | undefined"}},severity:{defaultValue:null,description:"",name:"severity",required:!0,type:{name:"string"}},snomedCoding:{defaultValue:null,description:"",name:"snomedCoding",required:!0,type:{name:"Coding | undefined"}},snomedCode:{defaultValue:null,description:"",name:"snomedCode",required:!0,type:{name:"string | undefined"}},snomedDisplay:{defaultValue:null,description:"",name:"snomedDisplay",required:!0,type:{name:"string | undefined"}},snomedSystem:{defaultValue:null,description:"",name:"snomedSystem",required:!0,type:{name:"string | undefined"}},stages:{defaultValue:null,description:"",name:"stages",required:!0,type:{name:"string[]"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},subjectID:{defaultValue:null,description:"",name:"subjectID",required:!0,type:{name:"string"}},verificationStatus:{defaultValue:null,description:"",name:"verificationStatus",required:!0,type:{name:"string"}},verificationStatusCode:{defaultValue:null,description:"",name:"verificationStatusCode",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"entered-in-error"'},{value:'"unconfirmed"'},{value:'"provisional"'},{value:'"differential"'},{value:'"confirmed"'},{value:'"refuted"'}]}},resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"Condition"}},includedResources:{defaultValue:null,description:"",name:"includedResources",required:!1,type:{name:"ResourceMap"}},revIncludes:{defaultValue:null,description:"",name:"revIncludes",required:!1,type:{name:"Resource[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isSummaryResource:{defaultValue:null,description:"",name:"isSummaryResource",required:!0,type:{name:"boolean"}},resourceType:{defaultValue:null,description:"",name:"resourceType",required:!0,type:{name:"string"}},getBasicResourceByAction:{defaultValue:null,description:"",name:"getBasicResourceByAction",required:!0,type:{name:"(profileAction: string) => Basic | undefined"}},toString:{defaultValue:null,description:"",name:"toString",required:!1,type:{name:"() => string"}}}}}catch{}const Ip=10,AP={isBinaryDocument:!1,isModalOpen:!1,rawBinary:void 0};function Kc({condition:e,onClose:t,onEdit:r}){const[n,a]=y.exports.useState([]),[o,s]=y.exports.useState([]),[u,c]=y.exports.useState(!0),[l,h]=y.exports.useReducer((C,v)=>({...C,...v}),AP),[g,N]=y.exports.useState(new Map),{getRequestContext:O}=Wt(),w=tA(e);y.exports.useEffect(()=>{let C=[];async function v(){if(w.data){const A=$l(w.data.bundle),R=w.data.conditions.map(V=>new Oi(V,A)),I=G.exports.orderBy(R,V=>{var L;return(L=V.resource.recordedDate)!=null?L:""},"desc").filter(V=>V.verificationStatus!=="entered-in-error");C=G.exports.uniqWith(I.map(V=>Di(V)),(V,L)=>G.exports.isEqual(V.data,L.data)),a(C.filter(V=>V.date)),s(C.filter(V=>!V.date)),c(!1)}}async function S(){var V;const A=await O(),$=[Di(e),...C],I=await rA(A,$);N(I),(V=I.get(e.id))!=null&&V.isBinary&&h({isBinaryDocument:!0,rawBinary:I.get(e.id)})}return v(),S(),function(){a([]),s([]),c(!0)}},[e,O,w.data,r]);function _(){return n.length===0&&o.length===0&&!u?p.createElement("div",null,"No history found."):u?p.createElement(Fr,{message:"Loading condition history..."}):p.createElement(p.Fragment,null,l.isBinaryDocument&&l.rawBinary&&p.createElement(Gc,{isOpen:l.isModalOpen,rawBinary:l.rawBinary,onClose:()=>h({isModalOpen:!1})}),p.createElement("div",{className:"ctw-space-y-6"},p.createElement(Ci,{condition:e}),r&&p.createElement(ni,{data:Xc(e),readOnly:!r,onEdit:()=>{t(),setTimeout(r,400)}}),p.createElement(In,{entries:n.map(C=>({...C,documentButton:p.createElement(Ai,{idMap:g,entry:C,updateBinaryDocumentState:h})})),limit:Ip}),o.length!==0&&p.createElement("div",{className:"ctw-space-y-2"},p.createElement("div",{className:"ctw-font-medium"},"Records with no date:"),p.createElement(In,{entries:o.map(C=>({...C,documentButton:p.createElement(Ai,{idMap:g,entry:C,updateBinaryDocumentState:h})})),limit:Ip}))))}return _()}try{Kc.displayName="ConditionHistory",Kc.__docgenInfo={description:"",displayName:"ConditionHistory",props:{condition:{defaultValue:null,description:"",name:"condition",required:!0,type:{name:"ConditionModel"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"(() => void)"}}}}}catch{}function Jc({className:e,condition:t,isOpen:r,onClose:n,onEdit:a}){const o="Condition History";return p.createElement(ir,{className:e,title:o,isOpen:r,onClose:n},p.createElement(ir.Body,null,t&&p.createElement(Kc,{condition:t,onClose:n,onEdit:a})),p.createElement(ir.Footer,null,p.createElement("div",{className:"ctw-flex ctw-justify-end ctw-space-x-3 ctw-text-black "},p.createElement("button",{type:"button",className:"ctw-btn-default ctw-font-semibold ctw-outline-bg-light",onClick:n},"Close"))))}try{Jc.displayName="ConditionHistoryDrawer",Jc.__docgenInfo={description:"",displayName:"ConditionHistoryDrawer",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},condition:{defaultValue:null,description:"",name:"condition",required:!1,type:{name:"ConditionModel"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"(() => void)"}}}}}catch{}const PP=async(e,t)=>{if(!e.id)throw new Error("Tried to edit a resource that hasn't been created yet.");const r=G.exports.cloneDeep(e);if(r.verificationStatus={coding:[{code:"entered-in-error",system:Il}]},delete r.clinicalStatus,!(await Gi(r,t)).id)throw new Error(`Failed to edit resource with id of ${e.id}`);await Mr.invalidateQueries([Bl])};function el({className:e}){return p.createElement("div",{className:it("ctw-conditions",e)},p.createElement("div",{className:"ctw-heading-container"},p.createElement("div",{className:"ctw-title"},"Conditions")),p.createElement("div",{className:"ctw-p-5"},p.createElement(Fs,{header:"Conditions Unavailable"},p.createElement("div",null,"We are unable to access Condition information for this patient."),p.createElement("div",null,"Contact your system administrator or customer service for assistance."))))}try{el.displayName="ConditionsNoPatient",el.__docgenInfo={description:"",displayName:"ConditionsNoPatient",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const DP=(e,t,r)=>e.filter(n=>{var a;return n.isArchived&&!r||["FAC","XXX"].includes((a=n.ccsChapterCode)!=null?a:"")?!1:!t.some(o=>{const s=n.resource.recordedDate,u=o.resource.recordedDate,c=n.knownCodingsMatch(o),l=o.verificationStatus==="entered-in-error",h=!s||u&&s<=u,g=n.clinicalStatus===o.clinicalStatus;return c&&!l&&(h||g)})}),$P=async(e,t)=>{const{authToken:r,contextBuilderId:n}=e;return(await(await Ii(`${BN(e.env)}?display=${t}`,{headers:{Authorization:`Bearer ${r}`,...n&&{"Zus-Account":n}}})).json()).conditionsList},tl=({defaultCoding:e,readonly:t,...r})=>{const{getRequestContext:n}=Wt(),[a,o]=y.exports.useState(!1),[s,u]=y.exports.useState(),c=async l=>{o(!0);const h=await n(),g=await $P(h,l);g&&u(g.map(N=>({value:N,label:N.display}))),o(!1)};return p.createElement(gi,{options:s||[],isLoading:a,name:`${r.name}`,defaultSearchTerm:r.defaultValue,readonly:t,onSearchChange:c,defaultValue:e})};try{tl.displayName="ConditionsAutoComplete",tl.__docgenInfo={description:"",displayName:"ConditionsAutoComplete",props:{defaultCoding:{defaultValue:null,description:"",name:"defaultCoding",required:!1,type:{name:"Coding"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!0,type:{name:"boolean | undefined"}}}}}catch{}const $i=({condition:e})=>[{label:"Condition",field:"condition",value:e.display,readonly:!1,render:(t,r)=>{var n;return p.createElement(tl,{readonly:t,...r,defaultCoding:(n=e.preferredCoding)!=null?n:{}})}},...Dy(e)],rl=({condition:e})=>[{label:"id",value:e.id,field:"id",readonly:!0,hidden:!0},...Dy(e)],Dy=e=>[{label:"subject",value:e.subjectID,field:"subjectID",readonly:!0,hidden:!0},{label:"Status",value:e.status==="Unknown"?"Select One":e.status,field:"status"},{label:"Onset",value:e.onset,field:"onset"},{label:"Abatement",value:e.abatement,field:"abatement"},{label:"Note",value:e.notes,lines:3,field:"note"}],$y=ke.object({id:ke.string().optional(),subjectID:ke.string({required_error:"Condition subjectID must be specified."}),status:ke.enum(["Active","Pending","Inactive","Refuted","Entered In Error"]),onset:ke.date().max(new Date,{message:"Onset cannot be a future date."}).optional(),abatement:ke.date().max(new Date,{message:"Abatement cannot be a future date."}).optional(),note:ke.string().optional()}),Iy=(e,t)=>{e.abatement&&e.status!=="Inactive"&&t.addIssue({code:ke.ZodIssueCode.custom,message:"Status must be inactive.",path:["abatement"]}),e.abatement&&e.onset&&e.abatement<e.onset&&t.addIssue({code:ke.ZodIssueCode.custom,message:"Abatement date must be after onset date.",path:["abatement"]})},IP=$y.superRefine((e,t)=>Iy(e,t)),As=$y.extend({condition:ke.object({code:ke.string({required_error:"Please choose a condition."}),display:ke.string().optional(),system:ke.string().optional()})}).superRefine((e,t)=>Iy(e,t));try{$i.displayName="getAddConditionData",$i.__docgenInfo={description:"",displayName:"getAddConditionData",props:{condition:{defaultValue:null,description:"",name:"condition",required:!0,type:{name:"ConditionModel"}}}}}catch{}try{rl.displayName="getEditingPatientConditionData",rl.__docgenInfo={description:"",displayName:"getEditingPatientConditionData",props:{condition:{defaultValue:null,description:"",name:"condition",required:!0,type:{name:"ConditionModel"}}}}}catch{}const nl=e=>{var t,r,n,a,o;return[{label:"treating-provider",render:()=>p.createElement("div",{className:"ctw-font-medium"},"Who is the treating provider for this patient?")},{label:"Practitioner Name",field:"name",value:"",readonly:!1},[{label:"NPI",field:"npi",value:"",readonly:!1},{label:"Role",field:"role",value:"",readonly:!1}],{label:"patient-information",render:()=>p.createElement("div",null,p.createElement("div",{className:"ctw-font-medium"},"Is the patient information below correct and up-to-date?"),p.createElement("div",null,"Complete as many fields as possible to increase matching results."))},{label:"First Name",field:"firstName",value:e.firstName,readonly:!1},{label:"Last Name",field:"lastName",value:e.lastName,readonly:!1},[{label:"Date of Birth",field:"dateOfBirth",value:e.dob,readonly:!1},{label:"Gender",field:"gender",value:e.gender,readonly:!1}],{label:"Address",field:"address",value:(r=(t=e.homeAddress)==null?void 0:t.line)==null?void 0:r.join(", "),readonly:!1},{label:"City",field:"city",value:(n=e.homeAddress)==null?void 0:n.city,readonly:!1},[{label:"State",field:"state",value:(a=e.homeAddress)==null?void 0:a.state,readonly:!1},{label:"Zip",field:"zipCode",value:(o=e.homeAddress)==null?void 0:o.postalCode,readonly:!1}],{label:"Phone",field:"phone",value:e.phoneNumber,readonly:!1},{label:"Email",field:"email",value:e.email,readonly:!1}]},MP=ke.object({name:ke.string({required_error:"Practitioner name must be specified."}),npi:ke.string({required_error:"NPI must be specified."}).length(10),role:ke.enum(["Doctor","Nurse","Other"]),firstName:ke.string({required_error:"First name must be specified."}),lastName:ke.string({required_error:"Last name must be specified."}),dateOfBirth:ke.date().max(new Date,{message:"Date of birth cannot be a future date."}),gender:ke.enum(["-","male","female","other","unknown"]),address:ke.string({required_error:"Address must be specified."}),city:ke.string({required_error:"City must be specified."}),state:ke.string({required_error:"State must be specified."}),zipCode:ke.string({required_error:"Zip code must be specified."}),phone:ke.string().optional(),email:ke.string().optional()});try{nl.displayName="getRequestData",nl.__docgenInfo={description:"",displayName:"getRequestData",props:{active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean | undefined"}},contact:{defaultValue:null,description:"",name:"contact",required:!0,type:{name:"PatientContact[] | undefined"}},dob:{defaultValue:null,description:"",name:"dob",required:!0,type:{name:"string | undefined"}},age:{defaultValue:null,description:"",name:"age",required:!0,type:{name:"number | undefined"}},gender:{defaultValue:null,description:"",name:"gender",required:!0,type:{name:"string | undefined"}},maritalStatus:{defaultValue:null,description:"",name:"maritalStatus",required:!0,type:{name:"string | undefined"}},organization:{defaultValue:null,description:"",name:"organization",required:!0,type:{name:"OrganizationModel | undefined"}},use:{defaultValue:null,description:"",name:"use",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"usual"'},{value:'"official"'},{value:'"temp"'},{value:'"nickname"'},{value:'"anonymous"'},{value:'"old"'},{value:'"maiden"'}]}},UPID:{defaultValue:null,description:"",name:"UPID",required:!0,type:{name:"string"}},getPhoneNumber:{defaultValue:null,description:"",name:"getPhoneNumber",required:!0,type:{name:'(use?: "temp" | "old" | "home" | "work" | "mobile" | undefined) => string | undefined'}},phoneNumber:{defaultValue:null,description:"",name:"phoneNumber",required:!0,type:{name:"string | undefined"}},email:{defaultValue:null,description:"",name:"email",required:!0,type:{name:"string | undefined"}},bestHomeAddress:{defaultValue:null,description:"",name:"bestHomeAddress",required:!0,type:{name:"Address | undefined"}},homeAddress:{defaultValue:null,description:"",name:"homeAddress",required:!0,type:{name:"Address | undefined"}},bestName:{defaultValue:null,description:"",name:"bestName",required:!0,type:{name:"HumanName"}},additionalNames:{defaultValue:null,description:"",name:"additionalNames",required:!0,type:{name:"string | undefined"}},display:{defaultValue:null,description:"",name:"display",required:!0,type:{name:"string"}},firstName:{defaultValue:null,description:"",name:"firstName",required:!0,type:{name:"string"}},fullName:{defaultValue:null,description:"",name:"fullName",required:!0,type:{name:"string"}},lastName:{defaultValue:null,description:"",name:"lastName",required:!0,type:{name:"string | undefined"}},nickname:{defaultValue:null,description:"",name:"nickname",required:!0,type:{name:"string | undefined"}},prefix:{defaultValue:null,description:"",name:"prefix",required:!0,type:{name:"string | undefined"}},suffix:{defaultValue:null,description:"",name:"suffix",required:!0,type:{name:"string | undefined"}},resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"Patient"}},includedResources:{defaultValue:null,description:"",name:"includedResources",required:!1,type:{name:"ResourceMap"}},revIncludes:{defaultValue:null,description:"",name:"revIncludes",required:!1,type:{name:"Resource[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isSummaryResource:{defaultValue:null,description:"",name:"isSummaryResource",required:!0,type:{name:"boolean"}},resourceType:{defaultValue:null,description:"",name:"resourceType",required:!0,type:{name:"string"}},getBasicResourceByAction:{defaultValue:null,description:"",name:"getBasicResourceByAction",required:!0,type:{name:"(profileAction: string) => Basic | undefined"}},toString:{defaultValue:null,description:"",name:"toString",required:!1,type:{name:"() => string"}}}}}catch{}const FP=async(e,t,r)=>{const n=`${cn(e.env)}/patient-history/patient/${t}/refresh?consent=1`;try{return await(await Ii(n,{method:"POST",headers:{Authorization:`Bearer ${e.authToken}`,"practitioner-npi":r.npi,"practitioner-role":r.role.toLocaleLowerCase(),"practitioner-name":r.name,...e.contextBuilderId&&{"Zus-Account":e.contextBuilderId}}})).json()}catch{throw Error(`Error scheduling patient history job with id of ${t}`)}},al=({patient:e,header:t,isOpen:r,onClose:n,setClinicalHistoryExists:a})=>{const o=cc(e),s=async(u,c)=>{try{await o(u)}catch(g){const{requestErrors:N,responseIsSuccess:O}=my(g);return O?new Error("Failed to save patient data."):new Error(N.join(","))}const l=await c(),h=await FP(l,e.id,u);if("errors"in h){const g=[h.errors.map(N=>N.details)];return new Error(g.join(","))}return a(!0),h};return p.createElement(Hn,{header:t,title:"Request Records",action:s,data:nl(e),schema:MP,isOpen:r,onClose:n})};try{al.displayName="PatientHistoryRequestDrawer",al.__docgenInfo={description:"",displayName:"PatientHistoryRequestDrawer",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},header:{defaultValue:null,description:"",name:"header",required:!1,type:{name:"ReactNode"}},patient:{defaultValue:null,description:"",name:"patient",required:!0,type:{name:"PatientModel"}},setClinicalHistoryExists:{defaultValue:null,description:"",name:"setClinicalHistoryExists",required:!0,type:{name:"Dispatch<SetStateAction<boolean | undefined>>"}}}}}catch{}const ol=({onClick:e})=>p.createElement("div",{className:"ctw-flex ctw-justify-center ctw-space-x-2 ctw-border ctw-border-solid ctw-border-divider-light ctw-p-5"},p.createElement("div",{className:"ctw-flex ctw-justify-center ctw-text-icon-default"},"Retrieve patient clinical history."),p.createElement("button",{type:"button",className:"ctw-btn-clear ctw-link",onClick:e},"Request Records"));try{ol.displayName="PatientHistoryMessage",ol.__docgenInfo={description:"",displayName:"PatientHistoryMessage",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}}}}}catch{}async function kP(e,t,r,n){var s;if(!t.id)throw new Error(`Tried to ${n} a resource that hasn't been created yet.`);if(!t.isSummaryResource)throw new Error(`Tried to ${n} a patient record resource.`);if(e){const u=G.exports.filter((s=e.meta)==null?void 0:s.tag,{system:uc});try{await GC(e,r,u)}catch{throw new Error(`There was an error setting ${n} for a resource.`)}}const a={resourceType:"Basic",id:e==null?void 0:e.id,meta:{tag:[{system:uc,code:n}]},code:{coding:[{system:EC,code:"adminact",display:"Administrative Activity"}],text:"Administrative Activity"},subject:{reference:`${t.resourceType}/${t.id}`,type:t.resourceType},author:await Yi(r)};if(!(await Gi(a,r)).id)throw new Error(`Failed to ${n} resource with id of ${t.id}`)}async function BP(e,t){const r=`${cn(e.env)}/patient-history/messages?patient-id=${t}`;try{const a=await(await Ii(r,{headers:{Authorization:`Bearer ${e.authToken}`,...e.contextBuilderId&&{"Zus-Account":e.contextBuilderId}}})).json();return Object.values(a.data)}catch(n){throw ln("Failed fetching patient refresh history messages",n)}}async function LP(e,t){return(await BP(e,t)).length!==0}const UP="There are no conditions in this patient's record.",qP="There are no conditions available.",Mp="There was an error fetching conditions for this patient. Refresh the page or contact your organization's technical support if this issue persists.";function Fp({className:e,readOnly:t=!1}){const r=y.exports.useRef(null),n=zl(r),[a,o]=y.exports.useState(!1),[s,u]=y.exports.useState(!1),[c,l]=y.exports.useState(!1),[h,g]=y.exports.useState(!1),[N,O]=y.exports.useState([]),[w,_]=y.exports.useState([]),[C,v]=y.exports.useState(!1),[S,A]=y.exports.useState("Add"),[R,$]=y.exports.useState(As),[I,V]=y.exports.useState(),[L,P]=y.exports.useState(),j=Vl(),K=JN(),ce=eA(),{getRequestContext:ae}=Wt(),[le,ge]=y.exports.useState(),[xe,Ce]=y.exports.useState(),ye=K.isError?Mp:UP,Re=ce.isError?Mp:qP,pe=()=>{if(L&&N.some(re=>re.id===L.id))return()=>oe(L)},oe=re=>{j.data&&(o(!0),A("Edit"),$(IP),V(rl({condition:re})),P(re))},X=re=>{u(!0),P(re)},Ze=async re=>{const Ae=await ae(),Te=re.getBasicResourceByAction("archive")||re.getBasicResourceByAction("unarchive"),ne=re.isArchived?"unarchive":"archive";await kP(Te,re,Ae,ne),await Mr.invalidateQueries([Ll])},$e=re=>{const Ae=fy(re.resource);j.data&&($(As),o(!0),A("Add"),V($i({condition:new Oi(Ae)})))},ze=()=>{if(!j.data)return;const re=KN(j.data.id);o(!0),$(As),V($i({condition:new Oi(re)}))},me=p.createElement("button",{className:"ctw-btn-primary",type:"button",onClick:ze},"Add Condition"),Q=xe||ce.data&&ce.data.length>0,Y=async re=>{const Ae=await ae(),Te=await LP(Ae,re);Ce(Te)};return y.exports.useEffect(()=>{var Ae;async function re(){const Te=K.data,ne=ce.data;Te&&(O(Te.filter(ee=>ee.active||C)),_(ne?DP(ne,Te,C):[])),K.error&&(O([]),_([]))}re(),((Ae=j.data)==null?void 0:Ae.id)&&xe===void 0&&Y(j.data.id)},[C,j.data,K.data,ce.data,xe,K.error]),j.isError?p.createElement(el,{className:e}):p.createElement("div",{ref:r,className:it("ctw-conditions",e,{"ctw-conditions-stacked":n.sm})},!t&&p.createElement("div",{className:"ctw-conditions-heading-container"},p.createElement("div",{className:"ctw-title"},"Conditions"),p.createElement("button",{type:"button",className:"ctw-btn-clear ctw-link",onClick:ze},"+ Add Condition")),p.createElement("div",{className:"ctw-conditions-body-container"},p.createElement("div",{className:"ctw-space-y-3"},p.createElement("div",{className:"ctw-conditions-title-container"},p.createElement("div",{className:"ctw-title"},"Patient Record"),p.createElement(Si,{onFormChange:()=>v(!C),toggleProps:{name:"conditions",text:"Include Inactive"}})),p.createElement(xo,{stacked:n.sm,conditions:N,isLoading:K.isLoading,hideMenu:t,sort:le,onSort:re=>ge(re),message:p.createElement(p.Fragment,null,p.createElement("div",null,ye),!K.isError&&!t&&p.createElement("div",{className:"ctw-mt-5"},me)),rowMenuActions:re=>[{name:"Edit",action:async()=>{oe(re)}},{name:"View History",action:async()=>{l(!0),P(re)}},{name:"Delete",className:"dangerous",action:async()=>{X(re)}}]})),p.createElement("div",{className:"ctw-space-y-3"},p.createElement("div",{className:"ctw-conditions-title-container"},p.createElement("div",{className:"ctw-title"},"Other Provider Records"),Q&&p.createElement("button",{type:"button",className:"ctw-btn-clear ctw-link",onClick:()=>g(!0)},"Request Records")),Q?p.createElement(xo,{className:"ctw-conditions-not-reviewed",stacked:n.sm,conditions:w,sort:le,onSort:re=>ge(re),isLoading:ce.isLoading||K.isLoading,hideMenu:t,message:Re,rowMenuActions:re=>[{name:"Add",action:async()=>{$e(re)}},{name:"View History",action:async()=>{l(!0),P(re)}},{name:re.isArchived?"Un-Archive":"Archive",action:async()=>{await Ze(re)}}]}):p.createElement(ol,{onClick:()=>g(!0)}))),j.data&&p.createElement(Hn,{title:`${S} Condition`,header:S==="Edit"&&L&&p.createElement(Ci,{condition:L}),action:G.exports.curry(XN)(L,j.data.id),data:I,schema:R,isOpen:a,onClose:()=>o(!1)}),j.data&&p.createElement(al,{header:p.createElement("div",{className:"ctw-pt-0 ctw-text-base"},"Request patient clinical history from 70K+ providers across the nation. No changes will be made to your patient record."),patient:j.data,isOpen:h,onClose:()=>g(!1),setClinicalHistoryExists:Ce}),p.createElement(Jc,{isOpen:c,onClose:()=>l(!1),condition:L,onEdit:pe()}),L&&j.data&&p.createElement(Ec,{resource:L,resourceName:L.display||"unnamed condition",onClose:()=>u(!1),isOpen:s,onDelete:async()=>{const re=await ae();await PP(L.resource,re)}}))}try{Fp.displayName="Conditions",Fp.__docgenInfo={description:"",displayName:"Conditions",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}}}}}catch{}var rD=Qy();export{Ep as A,Sp as B,Fp as C,Hn as D,Ec as M,gc as O,up as P,Ll as Q,zi as S,Ei as T,_f as a,_h as b,Oi as c,$i as d,XN as e,As as f,KN as g,fy as h,IP as i,rl as j,zl as k,rD as l,JN as m,eA as n,Wt as o,DP as p,Jc as q,kP as r,Ci as s,PP as t,Vl as u,ip as v,lc as w,Br as x,_p as y,bc as z};
//# sourceMappingURL=index.7f5e0aaf.js.map
