import{a as g}from"./request-02bc8afe.js";import{f as e,a as b,b as w}from"./faker-42d66913.js";import{t as z,c as E}from"./action-list-13d7cb83.js";const I=new Date("2020-11-11"),d=new Date,h=e.datatype.uuid(),S=Array.from({length:5}).map(b);function P(t,s,r,a){return{total:a,entry:t,resourceType:"Bundle",id:e.datatype.uuid(),meta:{lastUpdated:e.date.past().toISOString()},type:"searchset",link:w("Patient",{_tag:`https://zusapi.com/accesscontrol/owner|builder/${h}`,"_tag:not":["https://zusapi.com/thirdparty/source|surescripts","https://zusapi.com/thirdparty/source|commonwell","https://zusapi.com/thirdparty/source|elation","https://zusapi.com/lens|ActiveMedications","https://zusapi.com/lens|ChronicConditions","https://zusapi.com/summary|Common","https://zusapi.com/fhir/tag/upi-record-type|universal"]})}}function _(){const t=e.datatype.uuid(),s=e.datatype.uuid(),r=e.date.between(I,d),a=e.date.between(r,d);return{fullUrl:`https://api.storybook.zusapi.com/fhir/Patient/${t}`,resource:{resourceType:"Patient",id:t,meta:{versionId:"5",lastUpdated:a.toISOString(),source:e.helpers.arrayElement(S),tag:[{system:"https://zusapi.com/accesscontrol/owner",code:`builder/${h}`}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:s}],name:[{use:"official",family:e.name.lastName(),given:[e.name.firstName()],prefix:[e.name.prefix()]}],telecom:[{system:"phone",value:e.phone.number(e.helpers.arrayElement(["!# 555 ####!","!1-555-####!","!555-####!"])),use:e.helpers.arrayElement(["home","work","mobile"])}],gender:e.helpers.arrayElement(["female","male","female","other","unknown"]),birthDate:e.date.birthdate().toISOString()},search:{mode:"match"}}}function U(t){const s=Array.from({length:t}).map(_);return{parameters:{msw:{handlers:{mocks:[g.rest.get("https://api.dev.zusapi.com/fhir/Patient",(r,a,n)=>{const o=r.url.searchParams;if(o.has("_count")){const i=parseInt(o.get("_count")||"0",10),u=parseInt(o.get("_offset")||"0",10),p=s.filter(y=>{var m,l;const{given:c,family:k}=((l=(m=y.resource)==null?void 0:m.name)==null?void 0:l[0])||{};return`${(c==null?void 0:c[0])||""} ${k||""}`.toLowerCase().indexOf(z(o.get("name")||""))!==-1}),f=E(i,p)[Math.floor(u/i)]||[];return a(n.delay(2e3),n.status(200),n.json(P(f,i,u,p.length)))}return a(n.status(404))})]}}}}}export{U as s};
