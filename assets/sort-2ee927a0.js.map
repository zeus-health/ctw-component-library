{"version":3,"file":"sort-2ee927a0.js","sources":["../../src/utils/sort.ts"],"sourcesContent":["import { isString, orderBy } from \"@/utils/nodash\";\nimport { get } from \"@/utils/nodash/fp\";\n\nexport type SortDir = \"asc\" | \"desc\";\n\ntype GetValueFunction<T> = (c: T) => unknown;\n\nexport function sort<T>(\n  collection: T[],\n  getValue: GetValueFunction<T> | string,\n  order: SortDir,\n  isDate = false\n) {\n  const getValueFn = isString(getValue) ? get(getValue) : getValue;\n  if (isDate) return sortByDate(collection, getValueFn, order);\n  return orderBy(collection, getValue, order);\n}\n\nfunction sortByDate<T>(\n  collection: T[],\n  getValue: GetValueFunction<T>,\n  order: \"asc\" | \"desc\"\n) {\n  collection.sort((a, b) => {\n    const aDate = getValue(a) as string | undefined;\n    const bDate = getValue(b) as string | undefined;\n    if (!aDate && !bDate) {\n      return 0;\n    }\n    if (!aDate) {\n      return order === \"asc\" ? -1 : 1;\n    }\n    if (!bDate) {\n      return order === \"asc\" ? 1 : -1;\n    }\n\n    const dateA = new Date(aDate).getTime();\n    const dateB = new Date(bDate).getTime();\n\n    if (order === \"asc\") {\n      return dateA - dateB;\n    }\n\n    return dateB - dateA;\n  });\n  return collection;\n}\n"],"names":["sort","collection","getValue","order","isDate","getValueFn","isString","get","sortByDate","orderBy","a","b","aDate","bDate","dateA","dateB"],"mappings":"oUAOO,SAASA,EACdC,EACAC,EACAC,EACAC,EAAS,GACT,CACA,MAAMC,EAAaC,EAASJ,CAAQ,EAAIK,EAAIL,CAAQ,EAAIA,EACpD,OAAAE,EAAeI,EAAWP,EAAYI,EAAYF,CAAK,EACpDM,EAAQR,EAAYC,EAAUC,CAAK,CAC5C,CAEA,SAASK,EACPP,EACAC,EACAC,EACA,CACW,OAAAF,EAAA,KAAK,CAACS,EAAGC,IAAM,CAClB,MAAAC,EAAQV,EAASQ,CAAC,EAClBG,EAAQX,EAASS,CAAC,EACpB,GAAA,CAACC,GAAS,CAACC,EACN,MAAA,GAET,GAAI,CAACD,EACI,OAAAT,IAAU,MAAQ,GAAK,EAEhC,GAAI,CAACU,EACI,OAAAV,IAAU,MAAQ,EAAI,GAG/B,MAAMW,EAAQ,IAAI,KAAKF,CAAK,EAAE,QAAQ,EAChCG,EAAQ,IAAI,KAAKF,CAAK,EAAE,QAAQ,EAEtC,OAAIV,IAAU,MACLW,EAAQC,EAGVA,EAAQD,CAAA,CAChB,EACMb,CACT"}