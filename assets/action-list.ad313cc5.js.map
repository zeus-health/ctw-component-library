{"version":3,"file":"action-list.ad313cc5.js","sources":["../../src/components/core/action-list/action-list.tsx"],"sourcesContent":["import cx from \"classnames\";\nimport { isFunction } from \"lodash/fp\";\nimport \"./action-list.scss\";\n\nexport type MinActionItem = {\n  id: string;\n  subtitle?: string;\n  title: string;\n  complete: boolean;\n};\n\nexport type ActionItemProps<T extends MinActionItem> = {\n  className?: string;\n  item: T;\n  onAction?: (i: T) => void;\n  onRowClick?: (i: T) => void;\n  actionText?: string;\n  activeClassName?: string;\n  onUndoAction?: (i: T) => void;\n  undoActionText?: string;\n};\n\nexport type ActionListProps<T extends MinActionItem> = {\n  items: T[];\n} & Omit<ActionItemProps<T>, \"item\">;\n\n/**\n * Displays a list of action items which reflect whether they are\n * completed or not. List items marked \"active\" will show a (primary)\n * colored border to the left and when hovered will present a button\n * to take action. Use the \"onAction\" handler to mark items as \"complete\".\n *\n * Optionally the opposite can be done for inactive items if an \"onUndoAction\"\n * handler is passed in, but that is not a requirement.\n */\nexport const ActionList = <T extends MinActionItem>({\n  items,\n  className,\n  ...itemProps\n}: ActionListProps<T>) => (\n  <ul\n    className={cx(\"ctw-action-list ctw-rounded-lg\", className, {\n      \"ctw-border-0\": items.length === 0,\n      \"ctw-bg-bg-lighter\": items.length > 0,\n    })}\n  >\n    {items.map((item) => (\n      <ActionListItem key={item.id} item={item} {...itemProps} />\n    ))}\n  </ul>\n);\n\nexport const ActionListItem = <T extends MinActionItem>({\n  item,\n  onRowClick,\n  onAction = () => {},\n  actionText = \"Mark Complete\",\n  undoActionText = \"Undo\",\n  onUndoAction,\n  activeClassName = \"active\",\n}: ActionItemProps<T>) => (\n  <li\n    role=\"row\"\n    className={cx(\n      \"ctw-action-list-item\",\n      \"ctw-border-lighter ctw-flex ctw-cursor-pointer ctw-p-4\",\n      {\n        [activeClassName]: !item.complete,\n        undoable: isFunction(onUndoAction),\n      }\n    )}\n    onKeyDown={(event) => {\n      // Visible, non-intercomplete elements with click handlers must have at least 1 keyboard listener\n      if (event.key === \"Enter\") {\n        event.currentTarget.click();\n      }\n    }}\n    onClick={() => onRowClick?.(item)}\n  >\n    <div className=\"ctw-action-list-item-content ctw-flex-grow\">\n      <div className=\"ctw-font-semibold\">{item.title}</div>\n      {item.subtitle && <div className=\"ctw-font-light\">{item.subtitle}</div>}\n    </div>\n    <div className=\"ctw-action-list-item-action\">\n      {!item.complete && (\n        <button\n          type=\"button\"\n          className=\"ctw-btn-primary\"\n          onClick={(event) => {\n            event.stopPropagation();\n            onAction(item);\n          }}\n        >\n          {actionText}\n        </button>\n      )}\n\n      {item.complete && !!onUndoAction && (\n        <button\n          type=\"button\"\n          className=\"ctw-btn-default\"\n          onClick={(event) => {\n            event.stopPropagation();\n            onUndoAction(item);\n          }}\n        >\n          {undoActionText}\n        </button>\n      )}\n    </div>\n  </li>\n);\n"],"names":["ActionList","items","className","itemProps","React","cx","item","ActionListItem","onRowClick","onAction","actionText","undoActionText","onUndoAction","activeClassName","isFunction","event"],"mappings":"qHAmCO,MAAAA,EAAA,CAAA,CAA6C,MAAAC,EAClD,UAAAC,KACAC,CAEF,IAAAC,EAAA,cAAA,KAAA,CACG,UAAAC,EAAA,iCAAAH,EAAA,CAC4D,eAAAD,EAAA,SAAA,EACxB,oBAAAA,EAAA,OAAA,CACG,CAAA,CACrC,EAAAA,EAAA,IAAAK,GAAAF,EAAA,cAAAG,EAAA,CAGE,IAAAD,EAAA,GAAyB,KAAAA,EAAI,GAAAH,CAAgB,CAAA,CAAA,CAAA,EAK7CI,EAAA,CAAA,CAAiD,KAAAD,EACtD,WAAAE,EACA,SAAAC,EAAA,IAAA,CACiB,EAAC,WAAAC,EAAA,gBACL,eAAAC,EAAA,OACI,aAAAC,EACjB,gBAAAC,EAAA,QAEF,IAAAT,EAAA,cAAA,KAAA,CACG,KAAA,MACM,UAAAC,EACM,uBACT,yDACA,CACA,CAAAQ,GAAA,CAAAP,EAAA,SAC2B,SAAAQ,EAAA,WAAAF,CAAA,CACQ,CACnC,EACF,UAAAG,GAAA,CAGEA,EAAA,MAAA,SACEA,EAAA,cAAA,OACF,EACF,QAAA,IAAAP,GAAA,YAAAA,EAAAF,EACgC,EAAAF,EAAA,cAAA,MAAA,CAE/B,UAAA,4CAAc,EAAAA,EAAA,cAAA,MAAA,CACZ,UAAA,mBAAc,EAAAE,EAAA,KAAA,EAAAA,EAAA,UAAAF,EAAA,cAAA,MAAA,CACI,UAAA,gBAAc,EAAAE,EAAA,QAAA,CAAA,EAAAF,EAAA,cAAA,MAAA,CAElC,UAAA,6BAAc,EAAA,CAAAE,EAAA,UAAAF,EAAA,cAAA,SAAA,CAEV,KAAA,SACM,UAAA,kBACK,QAAAW,GAAA,CAERA,EAAA,gBAAA,EACAN,EAAAH,CAAA,CAAa,CACf,EAAAI,CAAA,EAAAJ,EAAA,UAAA,CAAA,CAAAM,GAAAR,EAAA,cAAA,SAAA,CAOD,KAAA,SACM,UAAA,kBACK,QAAAW,GAAA,CAERA,EAAA,gBAAA,EACAH,EAAAN,CAAA,CAAiB,CACnB,EAAAK,CAAA,CAAA,CAAA;;;;;;"}