import{r as i,R as y,a as ao}from"./index-6f814c40.js";import{c as F}from"./index-74f03c09.js";import{F as ne,g as Hn,h as it,i as Jt,j as co,k as io,l as so,D as lo}from"./details-card-1ac2a254.js";import{_ as T}from"./extends-98964cd2.js";import{r as en,R as uo}from"./index-6de6b113.js";import{u as fo,a8 as po,D as mo,G as vo,a9 as ho,I as bo,T as go,aa as yo,e as wo,s as $o}from"./patient-helper-869a1e72.js";import{C as re,y as oe,o as M,a as H,u as Y,L as zn,q as jn,p as Se,h as xo,c as Eo,F as Ro,$ as ae,I as me,l as Ae,S as Je,i as Gn,e as So,k as Ce,w as Yn,N as Qn,j as O,r as Xn,v as Zn,D as Co,T as vn,x as Jn}from"./use-watch-a9671586.js";import{p as _o,e as Po,i as er,s as tr,a as L,x as nr,F as Oo}from"./use-controllable-046cc6fb.js";import{n as Io}from"./transition-19b92c4a.js";import{s as hn,i as rr,b as To,p as bn,e as gn,o as yn,d as tn}from"./values-2f84f633.js";import"./_baseToString-2a4c2757.js";import{f as No,c as nn}from"./sortBy-1cabbe82.js";import"./_baseClone-184e5c2b.js";import"./sortBy-649a17b3.js";import{i as Do,b as Ao}from"./_equalByTag-5ee6784b.js";import"./_baseForOwn-54d22bab.js";import{i as Ne}from"./isString-69148acc.js";import"./_createSet-014fa0cf.js";import{u as or}from"./uniq-789c9501.js";import{f as ko,O as Mo,D as Fo}from"./observation-f096252e.js";import{u as Lo}from"./use-patient-history-7d09dc80.js";import{w as ar}from"./error-boundary-0a56c5d8.js";import{d as Vo,a as qo,u as cr}from"./patient-provider-966096e4.js";import{T as Bo}from"./table-e0266844.js";import{u as Uo}from"./use-breakpoints-2f4e1cc2.js";import{D as wn}from"./drawer-2856393a.js";var Wo=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Wo||{}),Ko=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ko||{}),Ho=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ho||{}),zo=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.SetDisabled=2]="SetDisabled",e[e.SetOrientation=3]="SetOrientation",e[e.GoToOption=4]="GoToOption",e[e.Search=5]="Search",e[e.ClearSearch=6]="ClearSearch",e[e.RegisterOption=7]="RegisterOption",e[e.UnregisterOption=8]="UnregisterOption",e))(zo||{});function vt(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=Zn(t(e.options.slice()),a=>a.dataRef.current.domRef.current),o=n?r.indexOf(n):null;return o===-1&&(o=null),{options:r,activeOptionIndex:o}}let jo={[1](e){return e.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},[0](e){if(e.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{value:n,mode:r,compare:o}=e.propsRef.current,a=e.options.findIndex(s=>{let c=s.dataRef.current.value;return Y(r,{[1]:()=>n.some(l=>o(l,c)),[0]:()=>o(n,c)})});return a!==-1&&(t=a),{...e,listboxState:0,activeOptionIndex:t}},[2](e,t){return e.disabled===t.disabled?e:{...e,disabled:t.disabled}},[3](e,t){return e.orientation===t.orientation?e:{...e,orientation:t.orientation}},[4](e,t){var n;if(e.disabled||e.listboxState===1)return e;let r=vt(e),o=nr(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:o,activationTrigger:(n=t.trigger)!=null?n:1}},[5]:(e,t)=>{if(e.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(s=>{var c;return!s.dataRef.current.disabled&&((c=s.dataRef.current.textValue)==null?void 0:c.startsWith(r))}),a=o?e.options.indexOf(o):-1;return a===-1||a===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:a,activationTrigger:1}},[6](e){return e.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},[7]:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=vt(e,o=>[...o,n]);if(e.activeOptionIndex===null){let{value:o,mode:a,compare:s}=e.propsRef.current,c=t.dataRef.current.value;Y(a,{[1]:()=>o.some(l=>s(l,c)),[0]:()=>s(o,c)})&&(r.activeOptionIndex=r.options.indexOf(n))}return{...e,...r}},[8]:(e,t)=>{let n=vt(e,r=>{let o=r.findIndex(a=>a.id===t.id);return o!==-1&&r.splice(o,1),r});return{...e,...n,activationTrigger:1}}},rn=i.createContext(null);rn.displayName="ListboxContext";function Ve(e){let t=i.useContext(rn);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ve),n}return t}function Go(e,t){return Y(t.type,jo,e,t)}let Yo=i.Fragment,Qo=re(function(e,t){let{value:n,defaultValue:r,name:o,onChange:a,by:s=(R,w)=>R===w,disabled:c=!1,horizontal:l=!1,multiple:f=!1,...d}=e;const u=l?"horizontal":"vertical";let b=oe(t),[v,m]=_o(n,a,r),p=i.useReducer(Go,{listboxState:1,propsRef:{current:{value:v,onChange:m,mode:f?1:0,compare:M(typeof s=="string"?(R,w)=>{let C=s;return(R==null?void 0:R[C])===(w==null?void 0:w[C])}:s)}},labelRef:i.createRef(),buttonRef:i.createRef(),optionsRef:i.createRef(),disabled:c,orientation:u,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1}),[{listboxState:g,propsRef:h,optionsRef:$,buttonRef:x},E]=p;h.current.value=v,h.current.mode=f?1:0,H(()=>{h.current.onChange=R=>Y(h.current.mode,{[0](){return m(R)},[1](){let w=h.current.value.slice(),{compare:C}=h.current,I=w.findIndex(N=>C(N,R));return I===-1?w.push(R):w.splice(I,1),m(w)}})},[m,h]),H(()=>E({type:2,disabled:c}),[c]),H(()=>E({type:3,orientation:u}),[u]),zn([x,$],(R,w)=>{var C;E({type:1}),Yn(w,Qn.Loose)||(R.preventDefault(),(C=x.current)==null||C.focus())},g===0);let S=i.useMemo(()=>({open:g===0,disabled:c,value:v}),[g,c,v]),_={ref:b};return y.createElement(rn.Provider,{value:p},y.createElement(jn,{value:Y(g,{[0]:Se.Open,[1]:Se.Closed})},o!=null&&v!=null&&Po({[o]:v}).map(([R,w])=>y.createElement(xo,{features:Eo.Hidden,...Ro({key:R,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:R,value:w})})),ae({ourProps:_,theirProps:d,slot:S,defaultTag:Yo,name:"Listbox"})))}),Xo="button",Zo=re(function(e,t){var n;let[r,o]=Ve("Listbox.Button"),a=oe(r.buttonRef,t),s=`headlessui-listbox-button-${me()}`,c=Ae(),l=M(p=>{switch(p.key){case O.Space:case O.Enter:case O.ArrowDown:p.preventDefault(),o({type:0}),c.nextFrame(()=>{r.propsRef.current.value||o({type:4,focus:L.First})});break;case O.ArrowUp:p.preventDefault(),o({type:0}),c.nextFrame(()=>{r.propsRef.current.value||o({type:4,focus:L.Last})});break}}),f=M(p=>{switch(p.key){case O.Space:p.preventDefault();break}}),d=M(p=>{if(Xn(p.currentTarget))return p.preventDefault();r.listboxState===0?(o({type:1}),c.nextFrame(()=>{var g;return(g=r.buttonRef.current)==null?void 0:g.focus({preventScroll:!0})})):(p.preventDefault(),o({type:0}))}),u=er(()=>{if(r.labelRef.current)return[r.labelRef.current.id,s].join(" ")},[r.labelRef.current,s]),b=i.useMemo(()=>({open:r.listboxState===0,disabled:r.disabled,value:r.propsRef.current.value}),[r]),v=e,m={ref:a,id:s,type:tr(e,r.buttonRef),"aria-haspopup":!0,"aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.disabled?void 0:r.listboxState===0,"aria-labelledby":u,disabled:r.disabled,onKeyDown:l,onKeyUp:f,onClick:d};return ae({ourProps:m,theirProps:v,slot:b,defaultTag:Xo,name:"Listbox.Button"})}),Jo="label",ea=re(function(e,t){let[n]=Ve("Listbox.Label"),r=`headlessui-listbox-label-${me()}`,o=oe(n.labelRef,t),a=M(()=>{var c;return(c=n.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})}),s=i.useMemo(()=>({open:n.listboxState===0,disabled:n.disabled}),[n]);return ae({ourProps:{ref:o,id:r,onClick:a},theirProps:e,slot:s,defaultTag:Jo,name:"Listbox.Label"})}),ta="ul",na=Je.RenderStrategy|Je.Static,ra=re(function(e,t){var n;let[r,o]=Ve("Listbox.Options"),a=oe(r.optionsRef,t),s=`headlessui-listbox-options-${me()}`,c=Ae(),l=Ae(),f=Gn(),d=(()=>f!==null?f===Se.Open:r.listboxState===0)();i.useEffect(()=>{var g;let h=r.optionsRef.current;!h||r.listboxState===0&&h!==((g=So(h))==null?void 0:g.activeElement)&&h.focus({preventScroll:!0})},[r.listboxState,r.optionsRef]);let u=M(g=>{switch(l.dispose(),g.key){case O.Space:if(r.searchQuery!=="")return g.preventDefault(),g.stopPropagation(),o({type:5,value:g.key});case O.Enter:if(g.preventDefault(),g.stopPropagation(),r.activeOptionIndex!==null){let{dataRef:h}=r.options[r.activeOptionIndex];r.propsRef.current.onChange(h.current.value)}r.propsRef.current.mode===0&&(o({type:1}),Ce().nextFrame(()=>{var h;return(h=r.buttonRef.current)==null?void 0:h.focus({preventScroll:!0})}));break;case Y(r.orientation,{vertical:O.ArrowDown,horizontal:O.ArrowRight}):return g.preventDefault(),g.stopPropagation(),o({type:4,focus:L.Next});case Y(r.orientation,{vertical:O.ArrowUp,horizontal:O.ArrowLeft}):return g.preventDefault(),g.stopPropagation(),o({type:4,focus:L.Previous});case O.Home:case O.PageUp:return g.preventDefault(),g.stopPropagation(),o({type:4,focus:L.First});case O.End:case O.PageDown:return g.preventDefault(),g.stopPropagation(),o({type:4,focus:L.Last});case O.Escape:return g.preventDefault(),g.stopPropagation(),o({type:1}),c.nextFrame(()=>{var h;return(h=r.buttonRef.current)==null?void 0:h.focus({preventScroll:!0})});case O.Tab:g.preventDefault(),g.stopPropagation();break;default:g.key.length===1&&(o({type:5,value:g.key}),l.setTimeout(()=>o({type:6}),350));break}}),b=er(()=>{var g,h,$;return($=(g=r.labelRef.current)==null?void 0:g.id)!=null?$:(h=r.buttonRef.current)==null?void 0:h.id},[r.labelRef.current,r.buttonRef.current]),v=i.useMemo(()=>({open:r.listboxState===0}),[r]),m=e,p={"aria-activedescendant":r.activeOptionIndex===null||(n=r.options[r.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":r.propsRef.current.mode===1?!0:void 0,"aria-labelledby":b,"aria-orientation":r.orientation,id:s,onKeyDown:u,role:"listbox",tabIndex:0,ref:a};return ae({ourProps:p,theirProps:m,slot:v,defaultTag:ta,features:na,visible:d,name:"Listbox.Options"})}),oa="li",aa=re(function(e,t){let{disabled:n=!1,value:r,...o}=e,[a,s]=Ve("Listbox.Option"),c=`headlessui-listbox-option-${me()}`,l=a.activeOptionIndex!==null?a.options[a.activeOptionIndex].id===c:!1,{value:f,compare:d}=a.propsRef.current,u=Y(a.propsRef.current.mode,{[1]:()=>f.some(S=>d(S,r)),[0]:()=>d(f,r)}),b=i.useRef(null),v=oe(t,b);H(()=>{if(a.listboxState!==0||!l||a.activationTrigger===0)return;let S=Ce();return S.requestAnimationFrame(()=>{var _,R;(R=(_=b.current)==null?void 0:_.scrollIntoView)==null||R.call(_,{block:"nearest"})}),S.dispose},[b,l,a.listboxState,a.activationTrigger,a.activeOptionIndex]);let m=i.useRef({disabled:n,value:r,domRef:b});H(()=>{m.current.disabled=n},[m,n]),H(()=>{m.current.value=r},[m,r]),H(()=>{var S,_;m.current.textValue=(_=(S=b.current)==null?void 0:S.textContent)==null?void 0:_.toLowerCase()},[m,b]);let p=M(()=>a.propsRef.current.onChange(r));H(()=>(s({type:7,id:c,dataRef:m}),()=>s({type:8,id:c})),[m,c]);let g=M(S=>{if(n)return S.preventDefault();p(),a.propsRef.current.mode===0&&(s({type:1}),Ce().nextFrame(()=>{var _;return(_=a.buttonRef.current)==null?void 0:_.focus({preventScroll:!0})}))}),h=M(()=>{if(n)return s({type:4,focus:L.Nothing});s({type:4,focus:L.Specific,id:c})}),$=M(()=>{n||l||s({type:4,focus:L.Specific,id:c,trigger:0})}),x=M(()=>{n||!l||s({type:4,focus:L.Nothing})}),E=i.useMemo(()=>({active:l,selected:u,disabled:n}),[l,u,n]);return ae({ourProps:{id:c,ref:v,role:"option",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,"aria-selected":u,disabled:void 0,onClick:g,onFocus:h,onPointerMove:$,onMouseMove:$,onPointerLeave:x,onMouseLeave:x},theirProps:o,slot:E,defaultTag:oa,name:"Listbox.Option"})}),He=Object.assign(Qo,{Button:Zo,Label:ea,Options:ra,Option:aa});var ca=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ca||{}),ia=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ia||{}),sa=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(sa||{});function ht(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=Zn(t(e.items.slice()),a=>a.dataRef.current.domRef.current),o=n?r.indexOf(n):null;return o===-1&&(o=null),{items:r,activeItemIndex:o}}let la={[1](e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},[0](e){return e.menuState===0?e:{...e,menuState:0}},[2]:(e,t)=>{var n;let r=ht(e),o=nr(t,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeItemIndex:o,activationTrigger:(n=t.trigger)!=null?n:1}},[3]:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(s=>{var c;return((c=s.dataRef.current.textValue)==null?void 0:c.startsWith(r))&&!s.dataRef.current.disabled}),a=o?e.items.indexOf(o):-1;return a===-1||a===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:a,activationTrigger:1}},[4](e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},[5]:(e,t)=>{let n=ht(e,r=>[...r,{id:t.id,dataRef:t.dataRef}]);return{...e,...n}},[6]:(e,t)=>{let n=ht(e,r=>{let o=r.findIndex(a=>a.id===t.id);return o!==-1&&r.splice(o,1),r});return{...e,...n,activationTrigger:1}}},on=i.createContext(null);on.displayName="MenuContext";function st(e){let t=i.useContext(on);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,st),n}return t}function ua(e,t){return Y(t.type,la,e,t)}let da=i.Fragment,fa=re(function(e,t){let n=i.useReducer(ua,{menuState:1,buttonRef:i.createRef(),itemsRef:i.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:r,itemsRef:o,buttonRef:a},s]=n,c=oe(t);zn([a,o],(u,b)=>{var v;s({type:1}),Yn(b,Qn.Loose)||(u.preventDefault(),(v=a.current)==null||v.focus())},r===0);let l=i.useMemo(()=>({open:r===0}),[r]),f=e,d={ref:c};return y.createElement(on.Provider,{value:n},y.createElement(jn,{value:Y(r,{[0]:Se.Open,[1]:Se.Closed})},ae({ourProps:d,theirProps:f,slot:l,defaultTag:da,name:"Menu"})))}),pa="button",ma=re(function(e,t){var n;let[r,o]=st("Menu.Button"),a=oe(r.buttonRef,t),s=`headlessui-menu-button-${me()}`,c=Ae(),l=M(m=>{switch(m.key){case O.Space:case O.Enter:case O.ArrowDown:m.preventDefault(),m.stopPropagation(),o({type:0}),c.nextFrame(()=>o({type:2,focus:L.First}));break;case O.ArrowUp:m.preventDefault(),m.stopPropagation(),o({type:0}),c.nextFrame(()=>o({type:2,focus:L.Last}));break}}),f=M(m=>{switch(m.key){case O.Space:m.preventDefault();break}}),d=M(m=>{if(Xn(m.currentTarget))return m.preventDefault();e.disabled||(r.menuState===0?(o({type:1}),c.nextFrame(()=>{var p;return(p=r.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})})):(m.preventDefault(),o({type:0})))}),u=i.useMemo(()=>({open:r.menuState===0}),[r]),b=e,v={ref:a,id:s,type:tr(e,r.buttonRef),"aria-haspopup":!0,"aria-controls":(n=r.itemsRef.current)==null?void 0:n.id,"aria-expanded":e.disabled?void 0:r.menuState===0,onKeyDown:l,onKeyUp:f,onClick:d};return ae({ourProps:v,theirProps:b,slot:u,defaultTag:pa,name:"Menu.Button"})}),va="div",ha=Je.RenderStrategy|Je.Static,ba=re(function(e,t){var n,r;let[o,a]=st("Menu.Items"),s=oe(o.itemsRef,t),c=Io(o.itemsRef),l=`headlessui-menu-items-${me()}`,f=Ae(),d=Gn(),u=(()=>d!==null?d===Se.Open:o.menuState===0)();i.useEffect(()=>{let h=o.itemsRef.current;!h||o.menuState===0&&h!==(c==null?void 0:c.activeElement)&&h.focus({preventScroll:!0})},[o.menuState,o.itemsRef,c]),Oo({container:o.itemsRef.current,enabled:o.menuState===0,accept(h){return h.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});let b=M(h=>{var $,x;switch(f.dispose(),h.key){case O.Space:if(o.searchQuery!=="")return h.preventDefault(),h.stopPropagation(),a({type:3,value:h.key});case O.Enter:if(h.preventDefault(),h.stopPropagation(),a({type:1}),o.activeItemIndex!==null){let{dataRef:E}=o.items[o.activeItemIndex];(x=($=E.current)==null?void 0:$.domRef.current)==null||x.click()}Jn(o.buttonRef.current);break;case O.ArrowDown:return h.preventDefault(),h.stopPropagation(),a({type:2,focus:L.Next});case O.ArrowUp:return h.preventDefault(),h.stopPropagation(),a({type:2,focus:L.Previous});case O.Home:case O.PageUp:return h.preventDefault(),h.stopPropagation(),a({type:2,focus:L.First});case O.End:case O.PageDown:return h.preventDefault(),h.stopPropagation(),a({type:2,focus:L.Last});case O.Escape:h.preventDefault(),h.stopPropagation(),a({type:1}),Ce().nextFrame(()=>{var E;return(E=o.buttonRef.current)==null?void 0:E.focus({preventScroll:!0})});break;case O.Tab:h.preventDefault(),h.stopPropagation(),a({type:1}),Ce().nextFrame(()=>{Co(o.buttonRef.current,h.shiftKey?vn.Previous:vn.Next)});break;default:h.key.length===1&&(a({type:3,value:h.key}),f.setTimeout(()=>a({type:4}),350));break}}),v=M(h=>{switch(h.key){case O.Space:h.preventDefault();break}}),m=i.useMemo(()=>({open:o.menuState===0}),[o]),p=e,g={"aria-activedescendant":o.activeItemIndex===null||(n=o.items[o.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=o.buttonRef.current)==null?void 0:r.id,id:l,onKeyDown:b,onKeyUp:v,role:"menu",tabIndex:0,ref:s};return ae({ourProps:g,theirProps:p,slot:m,defaultTag:va,features:ha,visible:u,name:"Menu.Items"})}),ga=i.Fragment,ya=re(function(e,t){let{disabled:n=!1,...r}=e,[o,a]=st("Menu.Item"),s=`headlessui-menu-item-${me()}`,c=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===s:!1,l=i.useRef(null),f=oe(t,l);H(()=>{if(o.menuState!==0||!c||o.activationTrigger===0)return;let g=Ce();return g.requestAnimationFrame(()=>{var h,$;($=(h=l.current)==null?void 0:h.scrollIntoView)==null||$.call(h,{block:"nearest"})}),g.dispose},[l,c,o.menuState,o.activationTrigger,o.activeItemIndex]);let d=i.useRef({disabled:n,domRef:l});H(()=>{d.current.disabled=n},[d,n]),H(()=>{var g,h;d.current.textValue=(h=(g=l.current)==null?void 0:g.textContent)==null?void 0:h.toLowerCase()},[d,l]),H(()=>(a({type:5,id:s,dataRef:d}),()=>a({type:6,id:s})),[d,s]);let u=M(g=>{if(n)return g.preventDefault();a({type:1}),Jn(o.buttonRef.current)}),b=M(()=>{if(n)return a({type:2,focus:L.Nothing});a({type:2,focus:L.Specific,id:s})}),v=M(()=>{n||c||a({type:2,focus:L.Specific,id:s,trigger:0})}),m=M(()=>{n||!c||a({type:2,focus:L.Nothing})}),p=i.useMemo(()=>({active:c,disabled:n}),[c,n]);return ae({ourProps:{id:s,ref:f,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,disabled:void 0,onClick:u,onFocus:b,onPointerMove:v,onMouseMove:v,onPointerLeave:m,onMouseLeave:m},theirProps:r,slot:p,defaultTag:ga,name:"Menu.Item"})}),wa=Object.assign(fa,{Button:ma,Items:ba,Item:ya});const Ct=ar(({className:e})=>{const{openHistoryRequestDrawer:t}=Lo();return y.createElement("button",{type:"button",className:F("ctw-btn-clear ctw-link",e),onClick:t,"data-zus-telemetry-click":"Request records"},"Request Records")},"RequestRecordsButton");try{Ct.displayName="RequestRecordsButton",Ct.__docgenInfo={description:"",displayName:"RequestRecordsButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}}}}}catch{}const _t=({className:e,columns:t,data:n,emptyMessage:r,isLoading:o,onRowClick:a,rowActions:s,showTableHead:c})=>{const l=Vo(),f=i.useRef(null),d=Uo(f),u=typeof c=="boolean"?c:!d.sm,b=l.data?r:y.createElement("div",{className:"ctw-space-y-4"},"Patient not found. Please fill out a short form to"," ",y.createElement(Ct,{className:"ctw-lowercase"}),".");return y.createElement("div",{ref:f,className:F(e,"ctw-scrollable-pass-through-height ctw-resource-table")},y.createElement(Bo,{getRowClassName:v=>({"ctw-tr-archived":v.isArchived}),showTableHead:u,stacked:d.sm,emptyMessage:b,isLoading:!!l.data&&o,records:n,RowActions:s,columns:t,handleRowClick:a}))};try{_t.displayName="ResourceTable",_t.__docgenInfo={description:"",displayName:"ResourceTable",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<M>[]"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"M[]"}},emptyMessage:{defaultValue:null,description:"",name:"emptyMessage",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},onRowClick:{defaultValue:null,description:"",name:"onRowClick",required:!1,type:{name:"((record: M) => void)"}},rowActions:{defaultValue:null,description:"",name:"rowActions",required:!1,type:{name:"ComponentType<{ record: M; }>"}},showTableHead:{defaultValue:null,description:"",name:"showTableHead",required:!1,type:{name:"boolean"}}}}}catch{}function D(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function $a(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function an(...e){return t=>e.forEach(n=>$a(n,t))}function z(...e){return i.useCallback(an(...e),e)}function qe(e,t=[]){let n=[];function r(a,s){const c=i.createContext(s),l=n.length;n=[...n,s];function f(u){const{scope:b,children:v,...m}=u,p=(b==null?void 0:b[e][l])||c,g=i.useMemo(()=>m,Object.values(m));return i.createElement(p.Provider,{value:g},v)}function d(u,b){const v=(b==null?void 0:b[e][l])||c,m=i.useContext(v);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${u}\` must be used within \`${a}\``)}return f.displayName=a+"Provider",[f,d]}const o=()=>{const a=n.map(s=>i.createContext(s));return function(c){const l=(c==null?void 0:c[e])||a;return i.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return o.scopeName=e,[r,xa(o,...t)]}function xa(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const s=r.reduce((c,{useScope:l,scopeName:f})=>{const u=l(a)[`__scope${f}`];return{...c,...u}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function Q(e){const t=i.useRef(e);return i.useEffect(()=>{t.current=e}),i.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function ir({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=Ea({defaultProp:t,onChange:n}),a=e!==void 0,s=a?e:r,c=Q(n),l=i.useCallback(f=>{if(a){const u=typeof f=="function"?f(e):f;u!==e&&c(u)}else o(f)},[a,e,o,c]);return[s,l]}function Ea({defaultProp:e,onChange:t}){const n=i.useState(e),[r]=n,o=i.useRef(r),a=Q(t);return i.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),n}const ke=i.forwardRef((e,t)=>{const{children:n,...r}=e,o=i.Children.toArray(n),a=o.find(Sa);if(a){const s=a.props.children,c=o.map(l=>l===a?i.Children.count(s)>1?i.Children.only(null):i.isValidElement(s)?s.props.children:null:l);return i.createElement(Pt,T({},r,{ref:t}),i.isValidElement(s)?i.cloneElement(s,void 0,c):null)}return i.createElement(Pt,T({},r,{ref:t}),n)});ke.displayName="Slot";const Pt=i.forwardRef((e,t)=>{const{children:n,...r}=e;return i.isValidElement(n)?i.cloneElement(n,{...Ca(r,n.props),ref:an(t,n.ref)}):i.Children.count(n)>1?i.Children.only(null):null});Pt.displayName="SlotClone";const Ra=({children:e})=>i.createElement(i.Fragment,null,e);function Sa(e){return i.isValidElement(e)&&e.type===Ra}function Ca(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...c)=>{a(...c),o(...c)}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}const _a=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"],j=_a.reduce((e,t)=>{const n=i.forwardRef((r,o)=>{const{asChild:a,...s}=r,c=a?ke:t;return i.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),i.createElement(c,T({},s,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function sr(e,t){e&&en.flushSync(()=>e.dispatchEvent(t))}function lr(e){const t=e+"CollectionProvider",[n,r]=qe(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=v=>{const{scope:m,children:p}=v,g=y.useRef(null),h=y.useRef(new Map).current;return y.createElement(o,{scope:m,itemMap:h,collectionRef:g},p)},c=e+"CollectionSlot",l=y.forwardRef((v,m)=>{const{scope:p,children:g}=v,h=a(c,p),$=z(m,h.collectionRef);return y.createElement(ke,{ref:$},g)}),f=e+"CollectionItemSlot",d="data-radix-collection-item",u=y.forwardRef((v,m)=>{const{scope:p,children:g,...h}=v,$=y.useRef(null),x=z(m,$),E=a(f,p);return y.useEffect(()=>(E.itemMap.set($,{ref:$,...h}),()=>void E.itemMap.delete($))),y.createElement(ke,{[d]:"",ref:x},g)});function b(v){const m=a(e+"CollectionConsumer",v);return y.useCallback(()=>{const g=m.collectionRef.current;if(!g)return[];const h=Array.from(g.querySelectorAll(`[${d}]`));return Array.from(m.itemMap.values()).sort((E,S)=>h.indexOf(E.ref.current)-h.indexOf(S.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:s,Slot:l,ItemSlot:u},b,r]}const Pa=i.createContext(void 0);function ur(e){const t=i.useContext(Pa);return e||t||"ltr"}function Oa(e,t=globalThis==null?void 0:globalThis.document){const n=Q(e);i.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const Ot="dismissableLayer.update",Ia="dismissableLayer.pointerDownOutside",Ta="dismissableLayer.focusOutside";let $n;const Na=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Da=i.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:c,onDismiss:l,...f}=e,d=i.useContext(Na),[u,b]=i.useState(null),v=(n=u==null?void 0:u.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,m]=i.useState({}),p=z(t,w=>b(w)),g=Array.from(d.layers),[h]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),$=g.indexOf(h),x=u?g.indexOf(u):-1,E=d.layersWithOutsidePointerEventsDisabled.size>0,S=x>=$,_=Aa(w=>{const C=w.target,I=[...d.branches].some(N=>N.contains(C));!S||I||(a==null||a(w),c==null||c(w),w.defaultPrevented||l==null||l())},v),R=ka(w=>{const C=w.target;[...d.branches].some(N=>N.contains(C))||(s==null||s(w),c==null||c(w),w.defaultPrevented||l==null||l())},v);return Oa(w=>{x===d.layers.size-1&&(o==null||o(w),!w.defaultPrevented&&l&&(w.preventDefault(),l()))},v),i.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&($n=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),xn(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=$n)}},[u,v,r,d]),i.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),xn())},[u,d]),i.useEffect(()=>{const w=()=>m({});return document.addEventListener(Ot,w),()=>document.removeEventListener(Ot,w)},[]),i.createElement(j.div,T({},f,{ref:p,style:{pointerEvents:E?S?"auto":"none":void 0,...e.style},onFocusCapture:D(e.onFocusCapture,R.onFocusCapture),onBlurCapture:D(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:D(e.onPointerDownCapture,_.onPointerDownCapture)}))});function Aa(e,t=globalThis==null?void 0:globalThis.document){const n=Q(e),r=i.useRef(!1),o=i.useRef(()=>{});return i.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let f=function(){dr(Ia,n,l,{discrete:!0})};const l={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function ka(e,t=globalThis==null?void 0:globalThis.document){const n=Q(e),r=i.useRef(!1);return i.useEffect(()=>{const o=a=>{a.target&&!r.current&&dr(Ta,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xn(){const e=new CustomEvent(Ot);document.dispatchEvent(e)}function dr(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?sr(o,a):o.dispatchEvent(a)}let bt=0;function Ma(){i.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:En()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:En()),bt++,()=>{bt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),bt--}},[])}function En(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const gt="focusScope.autoFocusOnMount",yt="focusScope.autoFocusOnUnmount",Rn={bubbles:!1,cancelable:!0},Fa=i.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...s}=e,[c,l]=i.useState(null),f=Q(o),d=Q(a),u=i.useRef(null),b=z(t,p=>l(p)),v=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(r){let p=function(h){if(v.paused||!c)return;const $=h.target;c.contains($)?u.current=$:fe(u.current,{select:!0})},g=function(h){v.paused||!c||c.contains(h.relatedTarget)||fe(u.current,{select:!0})};return document.addEventListener("focusin",p),document.addEventListener("focusout",g),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g)}}},[r,c,v.paused]),i.useEffect(()=>{if(c){Cn.add(v);const p=document.activeElement;if(!c.contains(p)){const h=new CustomEvent(gt,Rn);c.addEventListener(gt,f),c.dispatchEvent(h),h.defaultPrevented||(La(Wa(fr(c)),{select:!0}),document.activeElement===p&&fe(c))}return()=>{c.removeEventListener(gt,f),setTimeout(()=>{const h=new CustomEvent(yt,Rn);c.addEventListener(yt,d),c.dispatchEvent(h),h.defaultPrevented||fe(p??document.body,{select:!0}),c.removeEventListener(yt,d),Cn.remove(v)},0)}}},[c,f,d,v]);const m=i.useCallback(p=>{if(!n&&!r||v.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,h=document.activeElement;if(g&&h){const $=p.currentTarget,[x,E]=Va($);x&&E?!p.shiftKey&&h===E?(p.preventDefault(),n&&fe(x,{select:!0})):p.shiftKey&&h===x&&(p.preventDefault(),n&&fe(E,{select:!0})):h===$&&p.preventDefault()}},[n,r,v.paused]);return i.createElement(j.div,T({tabIndex:-1},s,{ref:b,onKeyDown:m}))});function La(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(fe(r,{select:t}),document.activeElement!==n)return}function Va(e){const t=fr(e),n=Sn(t,e),r=Sn(t.reverse(),e);return[n,r]}function fr(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Sn(e,t){for(const n of e)if(!qa(n,{upTo:t}))return n}function qa(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ba(e){return e instanceof HTMLInputElement&&"select"in e}function fe(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Ba(e)&&t&&e.select()}}const Cn=Ua();function Ua(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=_n(e,t),e.unshift(t)},remove(t){var n;e=_n(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function _n(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Wa(e){return e.filter(t=>t.tagName!=="A")}const ie=Boolean(globalThis==null?void 0:globalThis.document)?i.useLayoutEffect:()=>{},Ka=ao["useId".toString()]||(()=>{});let Ha=0;function It(e){const[t,n]=i.useState(Ka());return ie(()=>{e||n(r=>r??String(Ha++))},[e]),e||(t?`radix-${t}`:"")}function ve(e){return e.split("-")[0]}function Be(e){return e.split("-")[1]}function _e(e){return["top","bottom"].includes(ve(e))?"x":"y"}function cn(e){return e==="y"?"height":"width"}function Pn(e,t,n){let{reference:r,floating:o}=e;const a=r.x+r.width/2-o.width/2,s=r.y+r.height/2-o.height/2,c=_e(t),l=cn(c),f=r[l]/2-o[l]/2,d=c==="x";let u;switch(ve(t)){case"top":u={x:a,y:r.y-o.height};break;case"bottom":u={x:a,y:r.y+r.height};break;case"right":u={x:r.x+r.width,y:s};break;case"left":u={x:r.x-o.width,y:s};break;default:u={x:r.x,y:r.y}}switch(Be(t)){case"start":u[c]-=f*(n&&d?-1:1);break;case"end":u[c]+=f*(n&&d?-1:1)}return u}const za=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:s}=n,c=await(s.isRTL==null?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:d}=Pn(l,r,c),u=r,b={},v=0;for(let m=0;m<a.length;m++){const{name:p,fn:g}=a[m],{x:h,y:$,data:x,reset:E}=await g({x:f,y:d,initialPlacement:r,placement:u,strategy:o,middlewareData:b,rects:l,platform:s,elements:{reference:e,floating:t}});f=h??f,d=$??d,b={...b,[p]:{...b[p],...x}},E&&v<=50&&(v++,typeof E=="object"&&(E.placement&&(u=E.placement),E.rects&&(l=E.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:f,y:d}=Pn(l,u,c)),m=-1)}return{x:f,y:d,placement:u,strategy:o,middlewareData:b}};function pr(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function et(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Me(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:s,elements:c,strategy:l}=e,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:b=!1,padding:v=0}=t,m=pr(v),p=c[b?u==="floating"?"reference":"floating":u],g=et(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(p)))==null||n?p:p.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:d,strategy:l})),h=et(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:u==="floating"?{...s.floating,x:r,y:o}:s.reference,offsetParent:await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),strategy:l}):s[u]);return{top:g.top-h.top+m.top,bottom:h.bottom-g.bottom+m.bottom,left:g.left-h.left+m.left,right:h.right-g.right+m.right}}const ja=Math.min,pe=Math.max;function Tt(e,t,n){return pe(e,ja(t,n))}const On=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e??{},{x:o,y:a,placement:s,rects:c,platform:l}=t;if(n==null)return{};const f=pr(r),d={x:o,y:a},u=_e(s),b=Be(s),v=cn(u),m=await l.getDimensions(n),p=u==="y"?"top":"left",g=u==="y"?"bottom":"right",h=c.reference[v]+c.reference[u]-d[u]-c.floating[v],$=d[u]-c.reference[u],x=await(l.getOffsetParent==null?void 0:l.getOffsetParent(n));let E=x?u==="y"?x.clientHeight||0:x.clientWidth||0:0;E===0&&(E=c.floating[v]);const S=h/2-$/2,_=f[p],R=E-m[v]-f[g],w=E/2-m[v]/2+S,C=Tt(_,w,R),I=(b==="start"?f[p]:f[g])>0&&w!==C&&c.reference[v]<=c.floating[v];return{[u]:d[u]-(I?w<_?_-w:R-w:0),data:{[u]:C,centerOffset:w-C}}}}),Ga={left:"right",right:"left",bottom:"top",top:"bottom"};function tt(e){return e.replace(/left|right|bottom|top/g,t=>Ga[t])}function Ya(e,t,n){n===void 0&&(n=!1);const r=Be(e),o=_e(e),a=cn(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=tt(s)),{main:s,cross:tt(s)}}const Qa={start:"end",end:"start"};function In(e){return e.replace(/start|end/g,t=>Qa[t])}const mr=["top","right","bottom","left"];mr.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const Xa=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:o,rects:a,initialPlacement:s,platform:c,elements:l}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:u,fallbackStrategy:b="bestFit",flipAlignment:v=!0,...m}=e,p=ve(r),g=u||(p===s||!v?[tt(s)]:function(w){const C=tt(w);return[In(w),C,In(C)]}(s)),h=[s,...g],$=await Me(t,m),x=[];let E=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&x.push($[p]),d){const{main:w,cross:C}=Ya(r,a,await(c.isRTL==null?void 0:c.isRTL(l.floating)));x.push($[w],$[C])}if(E=[...E,{placement:r,overflows:x}],!x.every(w=>w<=0)){var S,_;const w=((S=(_=o.flip)==null?void 0:_.index)!=null?S:0)+1,C=h[w];if(C)return{data:{index:w,overflows:E},reset:{placement:C}};let I="bottom";switch(b){case"bestFit":{var R;const N=(R=E.map(V=>[V,V.overflows.filter(k=>k>0).reduce((k,U)=>k+U,0)]).sort((V,k)=>V[1]-k[1])[0])==null?void 0:R[0].placement;N&&(I=N);break}case"initialPlacement":I=s}if(r!==I)return{reset:{placement:I}}}return{}}}};function Tn(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Nn(e){return mr.some(t=>e[t]>=0)}const Za=function(e){let{strategy:t="referenceHidden",...n}=e===void 0?{}:e;return{name:"hide",async fn(r){const{rects:o}=r;switch(t){case"referenceHidden":{const a=Tn(await Me(r,{...n,elementContext:"reference"}),o.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Nn(a)}}}case"escaped":{const a=Tn(await Me(r,{...n,altBoundary:!0}),o.floating);return{data:{escapedOffsets:a,escaped:Nn(a)}}}default:return{}}}}},Ja=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await async function(a,s){const{placement:c,platform:l,elements:f}=a,d=await(l.isRTL==null?void 0:l.isRTL(f.floating)),u=ve(c),b=Be(c),v=_e(c)==="x",m=["left","top"].includes(u)?-1:1,p=d&&v?-1:1,g=typeof s=="function"?s(a):s;let{mainAxis:h,crossAxis:$,alignmentAxis:x}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...g};return b&&typeof x=="number"&&($=b==="end"?-1*x:x),v?{x:$*p,y:h*m}:{x:h*m,y:$*p}}(t,e);return{x:n+o.x,y:r+o.y,data:o}}}};function vr(e){return e==="x"?"y":"x"}const ec=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:c={fn:g=>{let{x:h,y:$}=g;return{x:h,y:$}}},...l}=e,f={x:n,y:r},d=await Me(t,l),u=_e(ve(o)),b=vr(u);let v=f[u],m=f[b];if(a){const g=u==="y"?"bottom":"right";v=Tt(v+d[u==="y"?"top":"left"],v,v-d[g])}if(s){const g=b==="y"?"bottom":"right";m=Tt(m+d[b==="y"?"top":"left"],m,m-d[g])}const p=c.fn({...t,[u]:v,[b]:m});return{...p,data:{x:p.x-n,y:p.y-r}}}}},tc=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:s}=t,{offset:c=0,mainAxis:l=!0,crossAxis:f=!0}=e,d={x:n,y:r},u=_e(o),b=vr(u);let v=d[u],m=d[b];const p=typeof c=="function"?c({...a,placement:o}):c,g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const S=u==="y"?"height":"width",_=a.reference[u]-a.floating[S]+g.mainAxis,R=a.reference[u]+a.reference[S]-g.mainAxis;v<_?v=_:v>R&&(v=R)}if(f){var h,$,x,E;const S=u==="y"?"width":"height",_=["top","left"].includes(ve(o)),R=a.reference[b]-a.floating[S]+(_&&(h=($=s.offset)==null?void 0:$[b])!=null?h:0)+(_?0:g.crossAxis),w=a.reference[b]+a.reference[S]+(_?0:(x=(E=s.offset)==null?void 0:E[b])!=null?x:0)-(_?g.crossAxis:0);m<R?m=R:m>w&&(m=w)}return{[u]:v,[b]:m}}}},nc=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:a}=t,{apply:s,...c}=e,l=await Me(t,c),f=ve(n),d=Be(n);let u,b;f==="top"||f==="bottom"?(u=f,b=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=f,u=d==="end"?"top":"bottom");const v=pe(l.left,0),m=pe(l.right,0),p=pe(l.top,0),g=pe(l.bottom,0),h={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(p!==0||g!==0?p+g:pe(l.top,l.bottom)):l[u]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(v!==0||m!==0?v+m:pe(l.left,l.right)):l[b])},$=await o.getDimensions(a.floating);s==null||s({...t,...h});const x=await o.getDimensions(a.floating);return $.width!==x.width||$.height!==x.height?{reset:{rects:!0}}:{}}}};function hr(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function ce(e){if(e==null)return window;if(!hr(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ue(e){return ce(e).getComputedStyle(e)}function ee(e){return hr(e)?"":e?(e.nodeName||"").toLowerCase():""}function br(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function X(e){return e instanceof ce(e).HTMLElement}function ue(e){return e instanceof ce(e).Element}function sn(e){return typeof ShadowRoot>"u"?!1:e instanceof ce(e).ShadowRoot||e instanceof ShadowRoot}function lt(e){const{overflow:t,overflowX:n,overflowY:r}=Ue(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function rc(e){return["table","td","th"].includes(ee(e))}function Dn(e){const t=/firefox/i.test(br()),n=Ue(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"}function gr(){return!/^((?!chrome|android).)*safari/i.test(br())}const An=Math.min,De=Math.max,nt=Math.round;function te(e,t,n){var r,o,a,s;t===void 0&&(t=!1),n===void 0&&(n=!1);const c=e.getBoundingClientRect();let l=1,f=1;t&&X(e)&&(l=e.offsetWidth>0&&nt(c.width)/e.offsetWidth||1,f=e.offsetHeight>0&&nt(c.height)/e.offsetHeight||1);const d=ue(e)?ce(e):window,u=!gr()&&n,b=(c.left+(u&&(r=(o=d.visualViewport)==null?void 0:o.offsetLeft)!=null?r:0))/l,v=(c.top+(u&&(a=(s=d.visualViewport)==null?void 0:s.offsetTop)!=null?a:0))/f,m=c.width/l,p=c.height/f;return{width:m,height:p,top:v,right:b+m,bottom:v+p,left:b,x:b,y:v}}function se(e){return(t=e,(t instanceof ce(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function ut(e){return ue(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function yr(e){return te(se(e)).left+ut(e).scrollLeft}function oc(e,t,n){const r=X(t),o=se(t),a=te(e,r&&function(l){const f=te(l);return nt(f.width)!==l.offsetWidth||nt(f.height)!==l.offsetHeight}(t),n==="fixed");let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(r||!r&&n!=="fixed")if((ee(t)!=="body"||lt(o))&&(s=ut(t)),X(t)){const l=te(t,!0);c.x=l.x+t.clientLeft,c.y=l.y+t.clientTop}else o&&(c.x=yr(o));return{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function wr(e){return ee(e)==="html"?e:e.assignedSlot||e.parentNode||(sn(e)?e.host:null)||se(e)}function kn(e){return X(e)&&getComputedStyle(e).position!=="fixed"?e.offsetParent:null}function Nt(e){const t=ce(e);let n=kn(e);for(;n&&rc(n)&&getComputedStyle(n).position==="static";)n=kn(n);return n&&(ee(n)==="html"||ee(n)==="body"&&getComputedStyle(n).position==="static"&&!Dn(n))?t:n||function(r){let o=wr(r);for(sn(o)&&(o=o.host);X(o)&&!["html","body"].includes(ee(o));){if(Dn(o))return o;o=o.parentNode}return null}(e)||t}function Mn(e){if(X(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=te(e);return{width:t.width,height:t.height}}function $r(e){const t=wr(e);return["html","body","#document"].includes(ee(t))?e.ownerDocument.body:X(t)&&lt(t)?t:$r(t)}function rt(e,t){var n;t===void 0&&(t=[]);const r=$r(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),a=ce(r),s=o?[a].concat(a.visualViewport||[],lt(r)?r:[]):r,c=t.concat(s);return o?c:c.concat(rt(s))}function Fn(e,t,n){return t==="viewport"?et(function(r,o){const a=ce(r),s=se(r),c=a.visualViewport;let l=s.clientWidth,f=s.clientHeight,d=0,u=0;if(c){l=c.width,f=c.height;const b=gr();(b||!b&&o==="fixed")&&(d=c.offsetLeft,u=c.offsetTop)}return{width:l,height:f,x:d,y:u}}(e,n)):ue(t)?function(r,o){const a=te(r,!1,o==="fixed"),s=a.top+r.clientTop,c=a.left+r.clientLeft;return{top:s,left:c,x:c,y:s,right:c+r.clientWidth,bottom:s+r.clientHeight,width:r.clientWidth,height:r.clientHeight}}(t,n):et(function(r){var o;const a=se(r),s=ut(r),c=(o=r.ownerDocument)==null?void 0:o.body,l=De(a.scrollWidth,a.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),f=De(a.scrollHeight,a.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0);let d=-s.scrollLeft+yr(r);const u=-s.scrollTop;return Ue(c||a).direction==="rtl"&&(d+=De(a.clientWidth,c?c.clientWidth:0)-l),{width:l,height:f,x:d,y:u}}(se(e)))}function ac(e){const t=rt(e),n=["absolute","fixed"].includes(Ue(e).position)&&X(e)?Nt(e):e;return ue(n)?t.filter(r=>ue(r)&&function(o,a){const s=a.getRootNode==null?void 0:a.getRootNode();if(o.contains(a))return!0;if(s&&sn(s)){let c=a;do{if(c&&o===c)return!0;c=c.parentNode||c.host}while(c)}return!1}(r,n)&&ee(r)!=="body"):[]}const cc={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?ac(t):[].concat(n),r],s=a[0],c=a.reduce((l,f)=>{const d=Fn(t,f,o);return l.top=De(d.top,l.top),l.right=An(d.right,l.right),l.bottom=An(d.bottom,l.bottom),l.left=De(d.left,l.left),l},Fn(t,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=X(n),a=se(n);if(n===a)return t;let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((o||!o&&r!=="fixed")&&((ee(n)!=="body"||lt(a))&&(s=ut(n)),X(n))){const l=te(n,!0);c.x=l.x+n.clientLeft,c.y=l.y+n.clientTop}return{...t,x:t.x-s.scrollLeft+c.x,y:t.y-s.scrollTop+c.y}},isElement:ue,getDimensions:Mn,getOffsetParent:Nt,getDocumentElement:se,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:oc(t,Nt(n),r),floating:{...Mn(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Ue(e).direction==="rtl"};function ic(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:s=!0,animationFrame:c=!1}=r,l=o&&!c,f=a&&!c,d=l||f?[...ue(e)?rt(e):[],...rt(t)]:[];d.forEach(m=>{l&&m.addEventListener("scroll",n,{passive:!0}),f&&m.addEventListener("resize",n)});let u,b=null;if(s){let m=!0;b=new ResizeObserver(()=>{m||n(),m=!1}),ue(e)&&!c&&b.observe(e),b.observe(t)}let v=c?te(e):null;return c&&function m(){const p=te(e);!v||p.x===v.x&&p.y===v.y&&p.width===v.width&&p.height===v.height||n(),v=p,u=requestAnimationFrame(m)}(),n(),()=>{var m;d.forEach(p=>{l&&p.removeEventListener("scroll",n),f&&p.removeEventListener("resize",n)}),(m=b)==null||m.disconnect(),b=null,c&&cancelAnimationFrame(u)}}const sc=(e,t,n)=>za(e,t,{platform:cc,...n});var Dt=typeof document<"u"?i.useLayoutEffect:i.useEffect;function At(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!At(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!At(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function lc(e){const t=i.useRef(e);return Dt(()=>{t.current=e}),t}function uc(e){let{middleware:t,placement:n="bottom",strategy:r="absolute",whileElementsMounted:o}=e===void 0?{}:e;const a=i.useRef(null),s=i.useRef(null),c=lc(o),l=i.useRef(null),[f,d]=i.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[u,b]=i.useState(t);At(u==null?void 0:u.map(x=>{let{options:E}=x;return E}),t==null?void 0:t.map(x=>{let{options:E}=x;return E}))||b(t);const v=i.useCallback(()=>{!a.current||!s.current||sc(a.current,s.current,{middleware:u,placement:n,strategy:r}).then(x=>{m.current&&en.flushSync(()=>{d(x)})})},[u,n,r]);Dt(()=>{m.current&&v()},[v]);const m=i.useRef(!1);Dt(()=>(m.current=!0,()=>{m.current=!1}),[]);const p=i.useCallback(()=>{if(typeof l.current=="function"&&(l.current(),l.current=null),a.current&&s.current)if(c.current){const x=c.current(a.current,s.current,v);l.current=x}else v()},[v,c]),g=i.useCallback(x=>{a.current=x,p()},[p]),h=i.useCallback(x=>{s.current=x,p()},[p]),$=i.useMemo(()=>({reference:a,floating:s}),[]);return i.useMemo(()=>({...f,update:v,refs:$,reference:g,floating:h}),[f,v,$,g,h])}const dc=e=>{const{element:t,padding:n}=e;function r(o){return Object.prototype.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return r(t)?t.current!=null?On({element:t.current,padding:n}).fn(o):{}:t?On({element:t,padding:n}).fn(o):{}}}};function fc(e){const[t,n]=i.useState(void 0);return ie(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let s,c;if("borderBoxSize"in a){const l=a.borderBoxSize,f=Array.isArray(l)?l[0]:l;s=f.inlineSize,c=f.blockSize}else s=e.offsetWidth,c=e.offsetHeight;n({width:s,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const xr="Popper",[ln,Er]=qe(xr),[pc,Rr]=ln(xr),mc=e=>{const{__scopePopper:t,children:n}=e,[r,o]=i.useState(null);return i.createElement(pc,{scope:t,anchor:r,onAnchorChange:o},n)},vc="PopperAnchor",hc=i.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,a=Rr(vc,n),s=i.useRef(null),c=z(t,s);return i.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:i.createElement(j.div,T({},o,{ref:c}))}),ot="PopperContent",[bc,cl]=ln(ot),[gc,yc]=ln(ot,{hasParent:!1,positionUpdateFns:new Set}),wc=i.forwardRef((e,t)=>{var n,r,o,a,s,c,l,f;const{__scopePopper:d,side:u="bottom",sideOffset:b=0,align:v="center",alignOffset:m=0,arrowPadding:p=0,collisionBoundary:g=[],collisionPadding:h=0,sticky:$="partial",hideWhenDetached:x=!1,avoidCollisions:E=!0,onPlaced:S,..._}=e,R=Rr(ot,d),[w,C]=i.useState(null),I=z(t,$e=>C($e)),[N,V]=i.useState(null),k=fc(N),U=(n=k==null?void 0:k.width)!==null&&n!==void 0?n:0,W=(r=k==null?void 0:k.height)!==null&&r!==void 0?r:0,pt=u+(v!=="center"?"-"+v:""),mt=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},Z=Array.isArray(g)?g:[g],P=Z.length>0,A={padding:mt,boundary:Z.filter(xc),altBoundary:P},{reference:B,floating:J,strategy:de,x:be,y:Oe,placement:ge,middlewareData:K,update:ye}=uc({strategy:"fixed",placement:pt,whileElementsMounted:ic,middleware:[Ec(),Ja({mainAxis:b+W,alignmentAxis:m}),E?ec({mainAxis:!0,crossAxis:!1,limiter:$==="partial"?tc():void 0,...A}):void 0,N?dc({element:N,padding:p}):void 0,E?Xa({...A}):void 0,nc({...A,apply:({elements:$e,availableWidth:ro,availableHeight:oo})=>{$e.floating.style.setProperty("--radix-popper-available-width",`${ro}px`),$e.floating.style.setProperty("--radix-popper-available-height",`${oo}px`)}}),Rc({arrowWidth:U,arrowHeight:W}),x?Za({strategy:"referenceHidden"}):void 0].filter($c)});ie(()=>{B(R.anchor)},[B,R.anchor]);const q=be!==null&&Oe!==null,[Ie,Qr]=Sr(ge),Ke=Q(S);ie(()=>{q&&(Ke==null||Ke())},[q,Ke]);const Xr=(o=K.arrow)===null||o===void 0?void 0:o.x,Zr=(a=K.arrow)===null||a===void 0?void 0:a.y,Jr=((s=K.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[eo,to]=i.useState();ie(()=>{w&&to(window.getComputedStyle(w).zIndex)},[w]);const{hasParent:no,positionUpdateFns:we}=yc(ot,d),Te=!no;i.useLayoutEffect(()=>{if(!Te)return we.add(ye),()=>{we.delete(ye)}},[Te,we,ye]),ie(()=>{Te&&q&&Array.from(we).reverse().forEach($e=>requestAnimationFrame($e))},[Te,q,we]);const mn={"data-side":Ie,"data-align":Qr,..._,ref:I,style:{..._.style,animation:q?void 0:"none",opacity:(c=K.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}};return i.createElement("div",{ref:J,"data-radix-popper-content-wrapper":"",style:{position:de,left:0,top:0,transform:q?`translate3d(${Math.round(be)}px, ${Math.round(Oe)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:eo,["--radix-popper-transform-origin"]:[(l=K.transformOrigin)===null||l===void 0?void 0:l.x,(f=K.transformOrigin)===null||f===void 0?void 0:f.y].join(" ")},dir:e.dir},i.createElement(bc,{scope:d,placedSide:Ie,onArrowChange:V,arrowX:Xr,arrowY:Zr,shouldHideArrow:Jr},Te?i.createElement(gc,{scope:d,hasParent:!0,positionUpdateFns:we},i.createElement(j.div,mn)):i.createElement(j.div,mn)))});function $c(e){return e!==void 0}function xc(e){return e!==null}const Ec=()=>({name:"anchorCssProperties",fn(e){const{rects:t,elements:n}=e,{width:r,height:o}=t.reference;return n.floating.style.setProperty("--radix-popper-anchor-width",`${r}px`),n.floating.style.setProperty("--radix-popper-anchor-height",`${o}px`),{}}}),Rc=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,a,s;const{placement:c,rects:l,middlewareData:f}=t,u=((n=f.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,b=u?0:e.arrowWidth,v=u?0:e.arrowHeight,[m,p]=Sr(c),g={start:"0%",center:"50%",end:"100%"}[p],h=((r=(o=f.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+b/2,$=((a=(s=f.arrow)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0)+v/2;let x="",E="";return m==="bottom"?(x=u?g:`${h}px`,E=`${-v}px`):m==="top"?(x=u?g:`${h}px`,E=`${l.floating.height+v}px`):m==="right"?(x=`${-v}px`,E=u?g:`${$}px`):m==="left"&&(x=`${l.floating.width+v}px`,E=u?g:`${$}px`),{data:{x,y:E}}}});function Sr(e){const[t,n="center"]=e.split("-");return[t,n]}const Sc=mc,Cc=hc,_c=wc,Pc=i.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=e;return r?uo.createPortal(i.createElement(j.div,T({},o,{ref:t})),r):null});function Oc(e,t){return i.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const un=e=>{const{present:t,children:n}=e,r=Ic(t),o=typeof n=="function"?n({present:r.isPresent}):i.Children.only(n),a=z(r.ref,o.ref);return typeof n=="function"||r.isPresent?i.cloneElement(o,{ref:a}):null};un.displayName="Presence";function Ic(e){const[t,n]=i.useState(),r=i.useRef({}),o=i.useRef(e),a=i.useRef("none"),s=e?"mounted":"unmounted",[c,l]=Oc(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const f=ze(r.current);a.current=c==="mounted"?f:"none"},[c]),ie(()=>{const f=r.current,d=o.current;if(d!==e){const b=a.current,v=ze(f);e?l("MOUNT"):v==="none"||(f==null?void 0:f.display)==="none"?l("UNMOUNT"):l(d&&b!==v?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),ie(()=>{if(t){const f=u=>{const v=ze(r.current).includes(u.animationName);u.target===t&&v&&en.flushSync(()=>l("ANIMATION_END"))},d=u=>{u.target===t&&(a.current=ze(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:i.useCallback(f=>{f&&(r.current=getComputedStyle(f)),n(f)},[])}}function ze(e){return(e==null?void 0:e.animationName)||"none"}const wt="rovingFocusGroup.onEntryFocus",Tc={bubbles:!1,cancelable:!0},dn="RovingFocusGroup",[kt,Cr,Nc]=lr(dn),[Dc,_r]=qe(dn,[Nc]),[Ac,kc]=Dc(dn),Mc=i.forwardRef((e,t)=>i.createElement(kt.Provider,{scope:e.__scopeRovingFocusGroup},i.createElement(kt.Slot,{scope:e.__scopeRovingFocusGroup},i.createElement(Fc,T({},e,{ref:t}))))),Fc=i.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:f,...d}=e,u=i.useRef(null),b=z(t,u),v=ur(a),[m=null,p]=ir({prop:s,defaultProp:c,onChange:l}),[g,h]=i.useState(!1),$=Q(f),x=Cr(n),E=i.useRef(!1),[S,_]=i.useState(0);return i.useEffect(()=>{const R=u.current;if(R)return R.addEventListener(wt,$),()=>R.removeEventListener(wt,$)},[$]),i.createElement(Ac,{scope:n,orientation:r,dir:v,loop:o,currentTabStopId:m,onItemFocus:i.useCallback(R=>p(R),[p]),onItemShiftTab:i.useCallback(()=>h(!0),[]),onFocusableItemAdd:i.useCallback(()=>_(R=>R+1),[]),onFocusableItemRemove:i.useCallback(()=>_(R=>R-1),[])},i.createElement(j.div,T({tabIndex:g||S===0?-1:0,"data-orientation":r},d,{ref:b,style:{outline:"none",...e.style},onMouseDown:D(e.onMouseDown,()=>{E.current=!0}),onFocus:D(e.onFocus,R=>{const w=!E.current;if(R.target===R.currentTarget&&w&&!g){const C=new CustomEvent(wt,Tc);if(R.currentTarget.dispatchEvent(C),!C.defaultPrevented){const I=x().filter(W=>W.focusable),N=I.find(W=>W.active),V=I.find(W=>W.id===m),U=[N,V,...I].filter(Boolean).map(W=>W.ref.current);Pr(U)}}E.current=!1}),onBlur:D(e.onBlur,()=>h(!1))})))}),Lc="RovingFocusGroupItem",Vc=i.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:a,...s}=e,c=It(),l=a||c,f=kc(Lc,n),d=f.currentTabStopId===l,u=Cr(n),{onFocusableItemAdd:b,onFocusableItemRemove:v}=f;return i.useEffect(()=>{if(r)return b(),()=>v()},[r,b,v]),i.createElement(kt.ItemSlot,{scope:n,id:l,focusable:r,active:o},i.createElement(j.span,T({tabIndex:d?0:-1,"data-orientation":f.orientation},s,{ref:t,onMouseDown:D(e.onMouseDown,m=>{r?f.onItemFocus(l):m.preventDefault()}),onFocus:D(e.onFocus,()=>f.onItemFocus(l)),onKeyDown:D(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){f.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const p=Uc(m,f.orientation,f.dir);if(p!==void 0){m.preventDefault();let h=u().filter($=>$.focusable).map($=>$.ref.current);if(p==="last")h.reverse();else if(p==="prev"||p==="next"){p==="prev"&&h.reverse();const $=h.indexOf(m.currentTarget);h=f.loop?Wc(h,$+1):h.slice($+1)}setTimeout(()=>Pr(h))}})})))}),qc={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Bc(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Uc(e,t,n){const r=Bc(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return qc[r]}function Pr(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Wc(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const Kc=Mc,Hc=Vc;var zc=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},xe=new WeakMap,je=new WeakMap,Ge={},$t=0,Or=function(e){return e&&(e.host||Or(e.parentNode))},jc=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Or(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return Boolean(n)})},Gc=function(e,t,n,r){var o=jc(t,Array.isArray(e)?e:[e]);Ge[n]||(Ge[n]=new WeakMap);var a=Ge[n],s=[],c=new Set,l=new Set(o),f=function(u){!u||c.has(u)||(c.add(u),f(u.parentNode))};o.forEach(f);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(b){if(c.has(b))d(b);else{var v=b.getAttribute(r),m=v!==null&&v!=="false",p=(xe.get(b)||0)+1,g=(a.get(b)||0)+1;xe.set(b,p),a.set(b,g),s.push(b),p===1&&m&&je.set(b,!0),g===1&&b.setAttribute(n,"true"),m||b.setAttribute(r,"true")}})};return d(t),c.clear(),$t++,function(){s.forEach(function(u){var b=xe.get(u)-1,v=a.get(u)-1;xe.set(u,b),a.set(u,v),b||(je.has(u)||u.removeAttribute(r),je.delete(u)),v||u.removeAttribute(n)}),$t--,$t||(xe=new WeakMap,xe=new WeakMap,je=new WeakMap,Ge={})}},Yc=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||zc(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),Gc(r,o,n,"aria-hidden")):function(){return null}},G=function(){return G=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},G.apply(this,arguments)};function Ir(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Qc(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Xe="right-scroll-bar-position",Ze="width-before-scroll-bar",Xc="with-scroll-bars-hidden",Zc="--removed-body-scroll-bar-size";function Jc(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ei(e,t){var n=i.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function ti(e,t){return ei(t||null,function(n){return e.forEach(function(r){return Jc(r,n)})})}function ni(e){return e}function ri(e,t){t===void 0&&(t=ni);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var s=t(a,r);return n.push(s),function(){n=n.filter(function(c){return c!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var c=n;n=[],c.forEach(a),s=n}var l=function(){var d=s;s=[],d.forEach(a)},f=function(){return Promise.resolve().then(l)};f(),n={push:function(d){s.push(d),f()},filter:function(d){return s=s.filter(d),n}}}};return o}function oi(e){e===void 0&&(e={});var t=ri(null);return t.options=G({async:!0,ssr:!1},e),t}var Tr=function(e){var t=e.sideCar,n=Ir(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return i.createElement(r,G({},n))};Tr.isSideCarExport=!0;function ai(e,t){return e.useMedium(t),Tr}var Nr=oi(),xt=function(){},dt=i.forwardRef(function(e,t){var n=i.useRef(null),r=i.useState({onScrollCapture:xt,onWheelCapture:xt,onTouchMoveCapture:xt}),o=r[0],a=r[1],s=e.forwardProps,c=e.children,l=e.className,f=e.removeScrollBar,d=e.enabled,u=e.shards,b=e.sideCar,v=e.noIsolation,m=e.inert,p=e.allowPinchZoom,g=e.as,h=g===void 0?"div":g,$=Ir(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),x=b,E=ti([n,t]),S=G(G({},$),o);return i.createElement(i.Fragment,null,d&&i.createElement(x,{sideCar:Nr,removeScrollBar:f,shards:u,noIsolation:v,inert:m,setCallbacks:a,allowPinchZoom:!!p,lockRef:n}),s?i.cloneElement(i.Children.only(c),G(G({},S),{ref:E})):i.createElement(h,G({},S,{className:l,ref:E}),c))});dt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dt.classNames={fullWidth:Ze,zeroRight:Xe};var ci=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ii(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ci();return t&&e.setAttribute("nonce",t),e}function si(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function li(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ui=function(){var e=0,t=null;return{add:function(n){e==0&&(t=ii())&&(si(t,n),li(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},di=function(){var e=ui();return function(t,n){i.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Dr=function(){var e=di(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},fi={left:0,top:0,right:0,gap:0},Et=function(e){return parseInt(e||"",10)||0},pi=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Et(n),Et(r),Et(o)]},mi=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return fi;var t=pi(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},vi=Dr(),hi=function(e,t,n,r){var o=e.left,a=e.top,s=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Xc,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xe,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Ze,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Xe," .").concat(Xe,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ze," .").concat(Ze,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(Zc,": ").concat(c,`px;
  }
`)},bi=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r,a=i.useMemo(function(){return mi(o)},[o]);return i.createElement(vi,{styles:hi(a,!t,o,n?"":"!important")})},Mt=!1;if(typeof window<"u")try{var Ye=Object.defineProperty({},"passive",{get:function(){return Mt=!0,!0}});window.addEventListener("test",Ye,Ye),window.removeEventListener("test",Ye,Ye)}catch{Mt=!1}var Ee=Mt?{passive:!1}:!1,gi=function(e){return e.tagName==="TEXTAREA"},Ar=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!gi(e)&&n[t]==="visible")},yi=function(e){return Ar(e,"overflowY")},wi=function(e){return Ar(e,"overflowX")},Ln=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=kr(e,n);if(r){var o=Mr(e,n),a=o[1],s=o[2];if(a>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},$i=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},xi=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},kr=function(e,t){return e==="v"?yi(t):wi(t)},Mr=function(e,t){return e==="v"?$i(t):xi(t)},Ei=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ri=function(e,t,n,r,o){var a=Ei(e,window.getComputedStyle(t).direction),s=a*r,c=n.target,l=t.contains(c),f=!1,d=s>0,u=0,b=0;do{var v=Mr(e,c),m=v[0],p=v[1],g=v[2],h=p-g-a*m;(m||h)&&kr(e,c)&&(u+=h,b+=m),c=c.parentNode}while(!l&&c!==document.body||l&&(t.contains(c)||t===c));return(d&&(o&&u===0||!o&&s>u)||!d&&(o&&b===0||!o&&-s>b))&&(f=!0),f},Qe=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Vn=function(e){return[e.deltaX,e.deltaY]},qn=function(e){return e&&"current"in e?e.current:e},Si=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ci=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_i=0,Re=[];function Pi(e){var t=i.useRef([]),n=i.useRef([0,0]),r=i.useRef(),o=i.useState(_i++)[0],a=i.useState(function(){return Dr()})[0],s=i.useRef(e);i.useEffect(function(){s.current=e},[e]),i.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var p=Qc([e.lockRef.current],(e.shards||[]).map(qn),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var c=i.useCallback(function(p,g){if("touches"in p&&p.touches.length===2)return!s.current.allowPinchZoom;var h=Qe(p),$=n.current,x="deltaX"in p?p.deltaX:$[0]-h[0],E="deltaY"in p?p.deltaY:$[1]-h[1],S,_=p.target,R=Math.abs(x)>Math.abs(E)?"h":"v";if("touches"in p&&R==="h"&&_.type==="range")return!1;var w=Ln(R,_);if(!w)return!0;if(w?S=R:(S=R==="v"?"h":"v",w=Ln(R,_)),!w)return!1;if(!r.current&&"changedTouches"in p&&(x||E)&&(r.current=S),!S)return!0;var C=r.current||S;return Ri(C,g,p,C==="h"?x:E,!0)},[]),l=i.useCallback(function(p){var g=p;if(!(!Re.length||Re[Re.length-1]!==a)){var h="deltaY"in g?Vn(g):Qe(g),$=t.current.filter(function(S){return S.name===g.type&&S.target===g.target&&Si(S.delta,h)})[0];if($&&$.should){g.cancelable&&g.preventDefault();return}if(!$){var x=(s.current.shards||[]).map(qn).filter(Boolean).filter(function(S){return S.contains(g.target)}),E=x.length>0?c(g,x[0]):!s.current.noIsolation;E&&g.cancelable&&g.preventDefault()}}},[]),f=i.useCallback(function(p,g,h,$){var x={name:p,delta:g,target:h,should:$};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(E){return E!==x})},1)},[]),d=i.useCallback(function(p){n.current=Qe(p),r.current=void 0},[]),u=i.useCallback(function(p){f(p.type,Vn(p),p.target,c(p,e.lockRef.current))},[]),b=i.useCallback(function(p){f(p.type,Qe(p),p.target,c(p,e.lockRef.current))},[]);i.useEffect(function(){return Re.push(a),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:b}),document.addEventListener("wheel",l,Ee),document.addEventListener("touchmove",l,Ee),document.addEventListener("touchstart",d,Ee),function(){Re=Re.filter(function(p){return p!==a}),document.removeEventListener("wheel",l,Ee),document.removeEventListener("touchmove",l,Ee),document.removeEventListener("touchstart",d,Ee)}},[]);var v=e.removeScrollBar,m=e.inert;return i.createElement(i.Fragment,null,m?i.createElement(a,{styles:Ci(o)}):null,v?i.createElement(bi,{gapMode:"margin"}):null)}const Oi=ai(Nr,Pi);var Fr=i.forwardRef(function(e,t){return i.createElement(dt,G({},e,{ref:t,sideCar:Oi}))});Fr.classNames=dt.classNames;const Ii=Fr,Ti=["Enter"," "],Ni=["ArrowDown","PageUp","Home"],Lr=["ArrowUp","PageDown","End"],Di=[...Ni,...Lr],ft="Menu",[Ft,Ai,ki]=lr(ft),[he,Vr]=qe(ft,[ki,Er,_r]),fn=Er(),qr=_r(),[Mi,We]=he(ft),[Fi,pn]=he(ft),Li=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:a,modal:s=!0}=e,c=fn(t),[l,f]=i.useState(null),d=i.useRef(!1),u=Q(a),b=ur(o);return i.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),i.createElement(Sc,c,i.createElement(Mi,{scope:t,open:n,onOpenChange:u,content:l,onContentChange:f},i.createElement(Fi,{scope:t,onClose:i.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:b,modal:s},r)))},Vi=i.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=fn(n);return i.createElement(Cc,T({},o,r,{ref:t}))}),Br="MenuPortal",[qi,Bi]=he(Br,{forceMount:void 0}),Ui=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,a=We(Br,t);return i.createElement(qi,{scope:t,forceMount:n},i.createElement(un,{present:n||a.open},i.createElement(Pc,{asChild:!0,container:o},r)))},le="MenuContent",[Wi,Ur]=he(le),Ki=i.forwardRef((e,t)=>{const n=Bi(le,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,a=We(le,e.__scopeMenu),s=pn(le,e.__scopeMenu);return i.createElement(Ft.Provider,{scope:e.__scopeMenu},i.createElement(un,{present:r||a.open},i.createElement(Ft.Slot,{scope:e.__scopeMenu},s.modal?i.createElement(Hi,T({},o,{ref:t})):i.createElement(zi,T({},o,{ref:t})))))}),Hi=i.forwardRef((e,t)=>{const n=We(le,e.__scopeMenu),r=i.useRef(null),o=z(t,r);return i.useEffect(()=>{const a=r.current;if(a)return Yc(a)},[]),i.createElement(Wr,T({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:D(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),zi=i.forwardRef((e,t)=>{const n=We(le,e.__scopeMenu);return i.createElement(Wr,T({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),Wr=i.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:c,onEntryFocus:l,onEscapeKeyDown:f,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:b,onDismiss:v,disableOutsideScroll:m,...p}=e,g=We(le,n),h=pn(le,n),$=fn(n),x=qr(n),E=Ai(n),[S,_]=i.useState(null),R=i.useRef(null),w=z(t,R,g.onContentChange),C=i.useRef(0),I=i.useRef(""),N=i.useRef(0),V=i.useRef(null),k=i.useRef("right"),U=i.useRef(0),W=m?Ii:i.Fragment,pt=m?{as:ke,allowPinchZoom:!0}:void 0,mt=P=>{var A,B;const J=I.current+P,de=E().filter(q=>!q.disabled),be=document.activeElement,Oe=(A=de.find(q=>q.ref.current===be))===null||A===void 0?void 0:A.textValue,ge=de.map(q=>q.textValue),K=ns(ge,J,Oe),ye=(B=de.find(q=>q.textValue===K))===null||B===void 0?void 0:B.ref.current;(function q(Ie){I.current=Ie,window.clearTimeout(C.current),Ie!==""&&(C.current=window.setTimeout(()=>q(""),1e3))})(J),ye&&setTimeout(()=>ye.focus())};i.useEffect(()=>()=>window.clearTimeout(C.current),[]),Ma();const Z=i.useCallback(P=>{var A,B;return k.current===((A=V.current)===null||A===void 0?void 0:A.side)&&os(P,(B=V.current)===null||B===void 0?void 0:B.area)},[]);return i.createElement(Wi,{scope:n,searchRef:I,onItemEnter:i.useCallback(P=>{Z(P)&&P.preventDefault()},[Z]),onItemLeave:i.useCallback(P=>{var A;Z(P)||((A=R.current)===null||A===void 0||A.focus(),_(null))},[Z]),onTriggerLeave:i.useCallback(P=>{Z(P)&&P.preventDefault()},[Z]),pointerGraceTimerRef:N,onPointerGraceIntentChange:i.useCallback(P=>{V.current=P},[])},i.createElement(W,pt,i.createElement(Fa,{asChild:!0,trapped:o,onMountAutoFocus:D(a,P=>{var A;P.preventDefault(),(A=R.current)===null||A===void 0||A.focus()}),onUnmountAutoFocus:s},i.createElement(Da,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:b,onDismiss:v},i.createElement(Kc,T({asChild:!0},x,{dir:h.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:_,onEntryFocus:D(l,P=>{h.isUsingKeyboardRef.current||P.preventDefault()})}),i.createElement(_c,T({role:"menu","aria-orientation":"vertical","data-state":Ji(g.open),"data-radix-menu-content":"",dir:h.dir},$,p,{ref:w,style:{outline:"none",...p.style},onKeyDown:D(p.onKeyDown,P=>{const B=P.target.closest("[data-radix-menu-content]")===P.currentTarget,J=P.ctrlKey||P.altKey||P.metaKey,de=P.key.length===1;B&&(P.key==="Tab"&&P.preventDefault(),!J&&de&&mt(P.key));const be=R.current;if(P.target!==be||!Di.includes(P.key))return;P.preventDefault();const ge=E().filter(K=>!K.disabled).map(K=>K.ref.current);Lr.includes(P.key)&&ge.reverse(),es(ge)}),onBlur:D(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(C.current),I.current="")}),onPointerMove:D(e.onPointerMove,Vt(P=>{const A=P.target,B=U.current!==P.clientX;if(P.currentTarget.contains(A)&&B){const J=P.clientX>U.current?"right":"left";k.current=J,U.current=P.clientX}}))})))))))}),Lt="MenuItem",Bn="menu.itemSelect",ji=i.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,a=i.useRef(null),s=pn(Lt,e.__scopeMenu),c=Ur(Lt,e.__scopeMenu),l=z(t,a),f=i.useRef(!1),d=()=>{const u=a.current;if(!n&&u){const b=new CustomEvent(Bn,{bubbles:!0,cancelable:!0});u.addEventListener(Bn,v=>r==null?void 0:r(v),{once:!0}),sr(u,b),b.defaultPrevented?f.current=!1:s.onClose()}};return i.createElement(Gi,T({},o,{ref:l,disabled:n,onClick:D(e.onClick,d),onPointerDown:u=>{var b;(b=e.onPointerDown)===null||b===void 0||b.call(e,u),f.current=!0},onPointerUp:D(e.onPointerUp,u=>{var b;f.current||(b=u.currentTarget)===null||b===void 0||b.click()}),onKeyDown:D(e.onKeyDown,u=>{const b=c.searchRef.current!=="";n||b&&u.key===" "||Ti.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})}))}),Gi=i.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...a}=e,s=Ur(Lt,n),c=qr(n),l=i.useRef(null),f=z(t,l),[d,u]=i.useState(!1),[b,v]=i.useState("");return i.useEffect(()=>{const m=l.current;if(m){var p;v(((p=m.textContent)!==null&&p!==void 0?p:"").trim())}},[a.children]),i.createElement(Ft.ItemSlot,{scope:n,disabled:r,textValue:o??b},i.createElement(Hc,T({asChild:!0},c,{focusable:!r}),i.createElement(j.div,T({role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},a,{ref:f,onPointerMove:D(e.onPointerMove,Vt(m=>{r?s.onItemLeave(m):(s.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus())})),onPointerLeave:D(e.onPointerLeave,Vt(m=>s.onItemLeave(m))),onFocus:D(e.onFocus,()=>u(!0)),onBlur:D(e.onBlur,()=>u(!1))}))))}),Yi="MenuRadioGroup";he(Yi,{value:void 0,onValueChange:()=>{}});const Qi="MenuItemIndicator";he(Qi,{checked:!1});const Xi=i.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.createElement(j.div,T({role:"separator","aria-orientation":"horizontal"},r,{ref:t}))}),Zi="MenuSub";he(Zi);function Ji(e){return e?"open":"closed"}function es(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function ts(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function ns(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let s=ts(e,Math.max(a,0));o.length===1&&(s=s.filter(f=>f!==n));const l=s.find(f=>f.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function rs(e,t){const{x:n,y:r}=e;let o=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const c=t[a].x,l=t[a].y,f=t[s].x,d=t[s].y;l>r!=d>r&&n<(f-c)*(r-l)/(d-l)+c&&(o=!o)}return o}function os(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return rs(n,t)}function Vt(e){return t=>t.pointerType==="mouse"?e(t):void 0}const as=Li,cs=Vi,is=Ui,ss=Ki,ls=ji,us=Xi,Kr="DropdownMenu",[ds,il]=qe(Kr,[Vr]),Pe=Vr(),[fs,Hr]=ds(Kr),ps=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:a,onOpenChange:s,modal:c=!0}=e,l=Pe(t),f=i.useRef(null),[d=!1,u]=ir({prop:o,defaultProp:a,onChange:s});return i.createElement(fs,{scope:t,triggerId:It(),triggerRef:f,contentId:It(),open:d,onOpenChange:u,onOpenToggle:i.useCallback(()=>u(b=>!b),[u]),modal:c},i.createElement(as,T({},l,{open:d,onOpenChange:u,dir:r,modal:c}),n))},ms="DropdownMenuTrigger",vs=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,a=Hr(ms,n),s=Pe(n);return i.createElement(cs,T({asChild:!0},s),i.createElement(j.button,T({type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},o,{ref:an(t,a.triggerRef),onPointerDown:D(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:D(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})))}),hs=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Pe(t);return i.createElement(is,T({},r,n))},bs="DropdownMenuContent",gs=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Hr(bs,n),a=Pe(n),s=i.useRef(!1);return i.createElement(ss,T({id:o.contentId,"aria-labelledby":o.triggerId},a,r,{ref:t,onCloseAutoFocus:D(e.onCloseAutoFocus,c=>{var l;s.current||(l=o.triggerRef.current)===null||l===void 0||l.focus(),s.current=!1,c.preventDefault()}),onInteractOutside:D(e.onInteractOutside,c=>{const l=c.detail.originalEvent,f=l.button===0&&l.ctrlKey===!0,d=l.button===2||f;(!o.modal||d)&&(s.current=!0)}),style:{...e.style,["--radix-dropdown-menu-content-transform-origin"]:"var(--radix-popper-transform-origin)"}}))}),ys=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Pe(n);return i.createElement(ls,T({},o,r,{ref:t}))}),ws=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Pe(n);return i.createElement(us,T({},o,r,{ref:t}))}),$s=ps,xs=vs,Es=hs,Rs=gs,Un=ys,Ss=ws;function Fe({children:e,icon:t}){return y.createElement("div",{className:"ctw-flex ctw-items-center ctw-space-x-3"},t&&y.createElement(ne,{icon:t,className:"ctw-mb-[2px] ctw-w-4 ctw-text-content-lighter"}),y.createElement("div",null,e))}try{Fe.displayName="MenuItem",Fe.__docgenInfo={description:"",displayName:"MenuItem",props:{icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"IconDefinition"}}}}}catch{}function Le({children:e,items:t,onItemSelect:n,type:r,buttonClassName:o,pinnedActions:a=[],isOpen:s}){const{ctwProviderRef:c}=fo(),[l,f]=i.useState(s);return y.createElement(wa,null,y.createElement($s,{modal:!1,open:l,onOpenChange:d=>f(d)},y.createElement(xs,{className:F(o),"aria-label":"dropdown"},e),y.createElement(Es,{container:c.current},y.createElement(Rs,{align:"start",onFocusOutside:d=>d.preventDefault(),className:"ctw-dropdown-action-menu",collisionPadding:10},t.map(d=>y.createElement(Un,{key:d.key,className:F("ctw-dropdown-action-menu-item ctw-bg-bg-white"),onClick:u=>{r==="checkbox"&&u.preventDefault(),n({key:d.key,name:d.name,value:!d.isSelected})}},y.createElement(Cs,{inputType:r,menuItem:d,onClick:n}))),a.length>0&&y.createElement(y.Fragment,null,y.createElement(Ss,{className:"ctw-dropdown-separator"}),a.map(d=>y.createElement(Un,{onClick:()=>d.action(),key:d.name,className:F(d.className,"ctw-dropdown-action-menu-item")},y.createElement(Fe,{icon:d.icon},d.name))))))))}const Cs=({inputType:e,menuItem:t,onClick:n})=>{switch(e){case"checkbox":return y.createElement("div",null,y.createElement("label",{htmlFor:t.name,className:"ctw-flex ctw-cursor-pointer ctw-items-center ctw-space-x-3"},y.createElement("input",{type:"checkbox",className:"ctw-m-0 ctw-mb-px ctw-w-4",name:t.name,onClick:r=>{n({key:t.key,name:t.name,value:!t.isSelected}),r.stopPropagation()},checked:t.isSelected,onChange:r=>{r.stopPropagation()}}),y.createElement("span",null,t.name)));case"select":return y.createElement("div",{className:"ctw-flex ctw-w-full ctw-justify-between"},y.createElement("span",{className:F({"ctw-font-semibold":t.isSelected})},t.name),t.isSelected&&y.createElement(ne,{icon:Hn,className:"ctw-inline-block ctw-h-4 ctw-stroke-0 ctw-align-middle ctw-text-primary-dark"}));default:return y.createElement("div",null,t.name)}};try{Le.displayName="DropdownMenuAction",Le.__docgenInfo={description:"",displayName:"DropdownMenuAction",props:{buttonClassName:{defaultValue:null,description:"",name:"buttonClassName",required:!1,type:{name:"Argument"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"OptionsItem[]"}},onItemSelect:{defaultValue:null,description:"",name:"onItemSelect",required:!0,type:{name:"(clickedItem: { key: string; name: string; value: boolean; }) => void"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"select"'}]}},customOptionRender:{defaultValue:null,description:"",name:"customOptionRender",required:!1,type:{name:"((optionsItem: OptionsItem) => Element)"}},pinnedActions:{defaultValue:{value:"[]"},description:"",name:"pinnedActions",required:!1,type:{name:"MenuItem[]"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!1,type:{name:"boolean"}}}}}catch{}const qt=({className:e,defaultView:t,onChange:n,options:r})=>{const[o,a]=i.useState(t);return y.createElement(Le,{type:"select",buttonClassName:F(e,"ctw-bg-transparent ctw-border-none ctw-p-0"),onItemSelect:s=>{const c=r.filter(l=>l.display===s.key)[0];n(c),a(c)},items:r.map(s=>({key:s.display,name:s.display,isSelected:o.display===s.display}))},y.createElement("div",{className:"ctw-btn-default ctw-flex ctw-items-center ctw-space-x-2"},y.createElement("span",null,y.createElement("span",{className:"ctw-font-normal"},o.display)," "),y.createElement(ne,{icon:it,className:"ctw-w-2"})))};try{qt.displayName="ViewButton",qt.__docgenInfo={description:"",displayName:"ViewButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}},defaultView:{defaultValue:null,description:"",name:"defaultView",required:!0,type:{name:"ViewOption"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(view: ViewOption) => void"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ViewOption[]"}}}}}catch{}function zr({display:e},t){return y.createElement(y.Fragment,null,rr(e)?e(t):e)}function Rt(e,t,n){return t.reduce((r,o)=>{const a=e.find(s=>s.key===o);return{...r,[a.key]:{key:a.key,type:a.type,selected:a.type==="tag"?!0:n[a.key]}}},{})}function at(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];if(typeof r<"u"){const{type:o}=r;return o==="tag"?hn(n,[],t):hn(n,r.selected,t)}return t},{})}try{at.displayName="filterChangeEventToValuesRecord",at.__docgenInfo={description:"",displayName:"filterChangeEventToValuesRecord",props:{}}}catch{}const _s="ctw-flex ctw-items-center ctw-max-w-[15rem] ctw-space-x-2 ctw-capitalize ctw-text-content-black ctw-bg-bg-dark ctw-text-sm ctw-rounded ctw-py-2 ctw-px-3 ctw-relative ctw-cursor-pointer ctw-border-0 ctw-border-transparent  ctw-whitespace-nowrap";function Bt({filter:e,filterValues:t,isOpen:n,onRemove:r,onChange:o}){const a=e.key in t?t[e.key]:[],s=e.values.map(l=>({key:Ne(l)?l:l.key,name:Ne(l)?l:l.display,isSelected:a.includes(Ne(l)?l:l.key)})),c=s.filter(l=>l.isSelected).map(l=>l.key);return y.createElement(Le,{isOpen:n,items:s,type:"checkbox",pinnedActions:To([r?{icon:Jt,name:"Remove Filter",action:r}:null]),buttonClassName:F(e.className,_s),onItemSelect:l=>o(l.key,l.value)},y.createElement("div",{className:"ctw-truncate ctw-font-medium ctw-text-content-black"},zr(e,{active:!0}),c.length>0&&y.createElement("span",{className:"ctw-font-normal"},": ",c.join(", "))),y.createElement(ne,{icon:it,className:"ctw-w-2"}))}try{Bt.displayName="FilterBarCheckboxPill",Bt.__docgenInfo={description:"",displayName:"FilterBarCheckboxPill",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterOptionCheckbox"}},filterValues:{defaultValue:null,description:"",name:"filterValues",required:!0,type:{name:"FilterValuesRecord"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(key: string, isSelected: boolean) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"(() => void)"}}}}}catch{}function ct({useBasicStyles:e=!1,btnClassName:t,children:n,optionsClassName:r,items:o,defaultIndex:a=0,onChange:s}){const[c,l]=i.useState(a),f=o[c]??{display:"Choose a selection"};return y.createElement("div",{className:"ctw-relative ctw-inline-block"},y.createElement(He,{value:c,onChange:d=>{const u=o[d];u.divider||(s(d,u),l(d))}},y.createElement(He.Button,{className:F(t,!e&&"after:ctw-bg-content-black",!e&&"focus-visible:ctw-outline-primary-dark","ctw-relative ctw-cursor-pointer ctw-justify-between ctw-space-x-2 ctw-border-0 ctw-border-transparent")},n||Wn(f,{listView:!1}),!e&&y.createElement(ne,{icon:it,className:"ctw-w-2"})),y.createElement(He.Options,{className:F(r,"ctw-list-box")},o.map((d,u)=>d.divider?y.createElement("div",{key:"divider",className:"ctw-border-top"}):y.createElement(He.Option,{key:d.key,value:u,as:i.Fragment},({active:b,selected:v})=>y.createElement("li",{className:F("ctw-flex ctw-cursor-pointer ctw-justify-between ctw-px-3 ctw-py-2","hover:ctw-bg-bg-lighter",d.className,{"ctw-text-medium":b||v,"ctw-text-content-black":!(b||v),"ctw-bg-bg-lighter":b})},y.createElement("span",{className:F("ctw-inline-flex ctw-align-middle",{"ctw-font-semibold":v&&!e})},Wn(d,{active:b,selected:v,listView:!0})),!e&&v&&!d.key.startsWith("_")&&y.createElement("span",{className:"ctw-inline-flex ctw-pb-0.5"},y.createElement(ne,{icon:Hn,className:"ctw-inline-block ctw-h-4 ctw-stroke-0 ctw-align-middle ctw-text-primary-dark"}))))))))}function Wn(e,t){return e.divider?null:y.createElement(Fe,{icon:e.icon},Do(e.display)?e.display(t):e.display)}try{ct.displayName="ListBox",ct.__docgenInfo={description:"",displayName:"ListBox",props:{btnClassName:{defaultValue:null,description:"",name:"btnClassName",required:!1,type:{name:"Argument"}},defaultIndex:{defaultValue:{value:"0"},description:"",name:"defaultIndex",required:!1,type:{name:"number"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"MinListBoxItem[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(index: number, item: ListBoxItem) => void"}},optionsClassName:{defaultValue:null,description:"",name:"optionsClassName",required:!1,type:{name:"Argument"}},useBasicStyles:{defaultValue:{value:"false"},description:"",name:"useBasicStyles",required:!1,type:{name:"boolean"}}}}}catch{}const Ps="ctw-flex ctw-items-center ctw-capitalize ctw-text-content-black ctw-bg-bg-dark ctw-text-sm ctw-rounded ctw-py-2 ctw-px-3 ctw-relative ctw-cursor-pointer ctw-border-0 ctw-border-transparent",jr=e=>rr(e)?e({active:!1}):e,Os=(e,t,n)=>({key:t,display:({listView:r,filter:o})=>r?y.createElement(Fe,{icon:n},e):o&&jr(o.display)}),St=Os("remove filter","_remove",Jt);function Ut({filter:e,onChange:t,onRemove:n}){const o=[...e.values.map(a=>Ne(a)?a:a.display),St];return y.createElement(ct,{defaultIndex:o.length-1,btnClassName:Ps,optionsClassName:"ctw-capitalize",items:o.map(a=>({display:({listView:s})=>a===St?a.display({listView:s,filter:e}):s?y.createElement("span",{className:"ctw-whitespace-nowrap"},a):y.createElement("div",{className:"ctw-truncate ctw-font-medium ctw-text-content-black"},jr(e.display),y.createElement("span",{className:"ctw-font-normal"},": ",a)),key:Ne(a)?a:a.key,className:F("ctw-capitalize",{"ctw-border ctw-capitalize ctw-border-solid ctw-border-divider-light ctw-border-0 ctw-border-t":a===St})})),onChange:(a,s)=>{s.key==="_remove"?n():s.key==="_reset"?t("",!1):t(s.key,!0)}})}try{Ut.displayName="FilterBarSelectPill",Ut.__docgenInfo={description:"",displayName:"FilterBarSelectPill",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterOptionSelect"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(key: string, isSelected: boolean) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"() => void"}}}}}catch{}const Is="ctw-flex ctw-items-center ctw-max-w-[15rem] ctw-capitalize ctw-text-content-black ctw-bg-bg-dark ctw-text-sm ctw-rounded ctw-py-2 ctw-px-3 ctw-relative ctw-cursor-pointer ctw-border-0 ctw-border-transparent";function Wt({filter:e,onRemove:t}){return y.createElement("button",{key:e.key,type:"button",className:F(Is,e.className,"ctw-space-x-2"),onClick:t},y.createElement("div",null,zr(e,{active:!0})),y.createElement(ne,{icon:co,className:"ctw-w-2 ctw-text-content-light"}))}try{Wt.displayName="FilterBarTagPill",Wt.__docgenInfo={description:"",displayName:"FilterBarTagPill",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterItem"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"() => void"}}}}}catch{}function Kt({onRemove:e,filter:t,filterValues:n,isOpen:r,updateSelectedFilterValues:o}){const a=()=>e(t.key);switch(t.type){case"tag":return y.createElement(Wt,{filter:t,onRemove:a});case"select":return y.createElement(Ut,{filter:t,onRemove:a,onChange:o});case"checkbox":return y.createElement(Bt,{isOpen:r,filter:t,filterValues:n,onRemove:a,onChange:o});default:throw new Error("ActiveFilterItem has invalid filter type")}}try{Kt.displayName="FilterBarPill",Kt.__docgenInfo={description:`Filter pill component that can render any pill type. It abstracts the various
pill types (located in ./filter-bar-pills folder). In practice this component
will only be used by the FilterBar component.`,displayName:"FilterBarPill",props:{onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"(key: string) => void"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterItem"}},filterValues:{defaultValue:null,description:"",name:"filterValues",required:!0,type:{name:"FilterValuesRecord"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},updateSelectedFilterValues:{defaultValue:null,description:"",name:"updateSelectedFilterValues",required:!0,type:{name:"(valueKey: string, isSelected: boolean) => void"}}}}}catch{}const Ht=["_remove","_reset"],Ts=e=>e.filter(t=>!Ht.includes(t)),zt=({className:e,onChange:t,filters:n,defaultState:r={}})=>{const[o,a]=i.useState(),[s,c]=i.useState(Object.keys(r)),[l,f]=i.useState(at(r)),[d,u]=i.useState(at(r));i.useEffect(()=>{if(n.some(({key:w})=>Ht.includes(w)))throw new Error(`Filters should not use keys ${Ht.join(", ")}`)},[n]);const b=()=>{c([]),f({}),t({})},v=()=>{f(d),c(Object.keys(d)),t(Rt(n,Object.keys(d),d))},m=w=>{const C=s.includes(w);C||a(w);const I=Ts(C?s.filter(V=>V!==w):gn(s.concat(w)));c(I);let N;C&&w in l&&(N=yn(w,l),f(N)),C||w in l||(N={...l,[w]:[]},f(N)),t(Rt(n,I,l))},p=(w,C,I)=>{let N;const V=n.find(U=>U.key===w),k=l[w];I?N={...l,[w]:(V==null?void 0:V.type)==="checkbox"?gn(k.concat(C)):C}:Array.isArray(k)?N={...l,[w]:k.filter(U=>U!==C)}:N=yn(w,l),f(N),t(Rt(n,s,N))},g=w=>{const C=s.includes(w.key);return{display:C&&w.toggleDisplay?w.toggleDisplay:w.display,icon:C&&w.toggleIcon?w.toggleIcon:w.icon,key:w.key,className:F("ctw-capitalize",w.className)}},[h,$]=bn(({key:w})=>s.includes(w),n),x=h.filter(w=>w.toggleDisplay),[E,S]=bn(w=>!w.belowDivider,[...$,...x]);po(d)||S.push({display:"reset filters",icon:io,key:"_reset",type:"tag"}),S.push({display:"remove all filters",icon:Jt,key:"_remove",type:"tag"});const _=E.length&&S.length?[{divider:!0}]:[],R=[...E.map(g),..._,...S.map(g)];return y.createElement("div",{className:F(e,"ctw-relative ctw-flex ctw-items-center ctw-space-x-2")},h.map(w=>y.createElement(Kt,{isOpen:o===w.key,key:w.key,filter:w,filterValues:l,onRemove:m,updateSelectedFilterValues:(C,I)=>p(w.key,C,I)})),y.createElement(ct,{useBasicStyles:!0,btnClassName:"!ctw-text-content-light ctw-btn-clear !ctw-font-normal !ctw-py-2",items:R,onChange:(w,C)=>{switch(C.key){case"_remove":return b();case"_reset":return v();default:return m(C.key)}}},y.createElement("div",{className:"ctw-space-x-1"},y.createElement(ne,{icon:so,className:"ctw-w-4"}),y.createElement("span",null,"Add Filters"))))};try{zt.displayName="FilterBar",zt.__docgenInfo={description:`FilterBar - A configurable filter bar with base menu and pills to control
which filters are active.

Use the defaultState param to pre-set filters on mount.

example:
\`\`\`
<FilterBar
  defaultState={{
    "furry-things": {
      type: "checkbox",
      selected: ["cats", "dogs", "dice"],
    },
   "who-called-shotgun": {
      type: "select",
      selected: "Kristen",
    },
    dismissed: {
      type: "tag",
      selected: true,
    },
  }}
  filters={filters}
  onChange={handleOnChange}
/>
\`\`\``,displayName:"FilterBar",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(filters: FilterChangeEvent) => void"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterItem[]"}},defaultState:{defaultValue:{value:"{}"},description:"",name:"defaultState",required:!1,type:{name:"FilterChangeEvent"}}}}}catch{}const jt=({className:e,defaultSort:t,onChange:n,options:r})=>{const[o,a]=i.useState(t);return y.createElement(Le,{type:"select",buttonClassName:F(e,"ctw-bg-transparent ctw-border-none ctw-p-0"),onItemSelect:s=>{const c=r.filter(l=>l.display===s.key)[0];n(c),a(c)},items:r.map(s=>({key:s.display,name:s.display,isSelected:o.display===s.display}))},y.createElement("div",{className:"ctw-btn-default ctw-flex ctw-items-center ctw-space-x-2"},y.createElement("span",null,"Sort: ",y.createElement("span",{className:"ctw-font-normal"},o.display)," "),y.createElement(ne,{icon:it,className:"ctw-w-2"})))};try{jt.displayName="SortButton",jt.__docgenInfo={description:"",displayName:"SortButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}},defaultSort:{defaultValue:null,description:"",name:"defaultSort",required:!0,type:{name:"SortOption<T>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(sort: SortOption<T>) => void"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"SortOption<T>[]"}}}}}catch{}const Kn=({action:e,className:t,filterOptions:n,sortOptions:r,viewOptions:o})=>!o&&!r&&!n&&!e?null:y.createElement("div",{className:F(t,"ctw-flex ctw-flex-wrap ctw-items-center ctw-justify-between ctw-py-2 sm:ctw-pt-1.5")},y.createElement("div",{className:"ctw-flex ctw-flex-wrap ctw-gap-x-2"},o&&y.createElement(qt,{...o}),r&&y.createElement(jt,{...r}),n&&n.filters.length>0&&y.createElement(zt,{...n})),e);try{Kn.displayName="ResourceTableActions",Kn.__docgenInfo={description:"",displayName:"ResourceTableActions",props:{action:{defaultValue:null,description:"",name:"action",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},filterOptions:{defaultValue:null,description:"",name:"filterOptions",required:!1,type:{name:"FilterBarProps"}},sortOptions:{defaultValue:null,description:"",name:"sortOptions",required:!1,type:{name:"SortButtonProps<T>"}},viewOptions:{defaultValue:null,description:"",name:"viewOptions",required:!1,type:{name:"ViewButtonProps"}}}}}catch{}const Ns=(e,t)=>t?e.filter(n=>{var a;const r=(a=No(t,{key:"isArchived"}))==null?void 0:a.selected,o=Boolean(n.isArchived);return!r&&o?!1:Object.entries(t).every(([s,c])=>{const l=String(n[c.key]);switch(c.type){case"checkbox":if(Ao(c.selected))return c.selected.filter(d=>nn(or(e.map(u=>u[c.key]))).includes(d)).includes(l);break;case"select":return l===c.selected}return!0})}):e;function sl(e,t){return nn(or(e.map(n=>String(n[t]))))}function ll({defaultFilters:e={},defaultSort:t,defaultView:n,records:r}){const[o,a]=i.useState(n),[s,c]=i.useState(e),[l,f]=i.useState(t),[d,u]=i.useState(r??[]);return i.useEffect(()=>{const b=Ns(r??[],[...Object.values(s),...(o==null?void 0:o.filters)??[]]),v=ko(b,l.sorts);u(v)},[s,l,r,o]),{setFilters:c,setSort:f,setViewOption:a,data:d,filters:s,sortOption:l}}const ul=[{title:"Report",widthPercent:30,minWidth:320,dataIndex:"displayName"},{title:"Category",dataIndex:"category"},{title:"Started On",dataIndex:"effectiveStart"},{title:"Status",render:e=>y.createElement("div",{className:"ctw-flex"},y.createElement("div",{className:F("ctw-text-md",Gr(e.resource.status))},""),y.createElement("div",{className:"ctw-ml-1"},y.createElement("div",null,tn(e.resource.status))))},{title:"Observations",render:e=>y.createElement("div",{className:"ctw-text-center"},e.results.length)}],Ds=[{title:"Observation Info",render:e=>y.createElement("div",{className:"ctw-flex"},e.effectiveStart&&y.createElement("div",null,y.createElement("span",{className:"ctw-inline-flex ctw-h-5 ctw-rounded-full ctw-bg-notification-light ctw-px-2 ctw-text-xs ctw-leading-5 ctw-text-notification-main"},e.effectiveStart)," "),y.createElement("div",{className:F("ctw-text-md",Gr(e.resource.status))},""),y.createElement("div",{className:"ctw-ml-1"},y.createElement("div",null,tn(e.resource.status)," ")))},{title:"Date and Id",render:e=>{var t;return y.createElement("div",{className:"ctw-ml-1"},mo(e.category)||e.display," ",(t=e.resource.identifier)==null?void 0:t[0].value)}},{title:"Reading",render:e=>y.createElement("div",{className:"ctw-ml-1"},e.value," ",e.interpretation)},{title:"Notes",render:e=>e.notes&&y.createElement("blockquote",{className:"ctw-mx-3 ctw-my-1 ctw-rounded ctw-bg-bg-lighter ctw-p-1.5 ctw-text-xs ctw-font-light ctw-italic"},e.notes)}];function Gr(e){switch(e){case"final":case"amended":case"appended":case"corrected":return"ctw-text-success-main";case"cancelled":case"entered-in-error":return"ctw-text-caution-main";case"registered":case"partial":case"preliminary":case"unknown":default:return"ctw-text-content-lighter"}}const Gt=({className:e,data:t})=>y.createElement("div",{className:e},y.createElement("div",{className:"ctw-text-base ctw-font-medium ctw-uppercase ctw-text-content-light"},"observations"),y.createElement(_t,{className:"ctw-patient-observation-details",columns:Ds,data:t,isLoading:!1,emptyMessage:"There are no observations available."}));try{Gt.displayName="ObservationsTable",Gt.__docgenInfo={description:"",displayName:"ObservationsTable",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ObservationModel[]"}}}}}catch{}const Yt=e=>[{label:"Organization",value:e.performer},{label:"Identifier",value:e.identifier},{label:"Service category",value:e.category},{label:"Status",value:tn(e.resource.status)}],Qt=({diagnosticReport:e})=>{const[t,n]=i.useState([]);return i.useEffect(()=>{n(nn(e.results.map(r=>{const o=vo("Observation",void 0,e.includedResources,r.reference);if(o)return new Mo(o,{[e.id]:e.resource})})))},[e]),y.createElement("div",{className:"ctw-space-y-6","data-zus-telemetry-namespace":"Observations"},y.createElement("div",{className:"ctw-text-2xl"},e.displayName),y.createElement(lo,{details:Yt(e)}),y.createElement(Gt,{data:t}))},Xt=ar(Qt,"Observations");try{Yt.displayName="diagnosticReportData",Yt.__docgenInfo={description:"",displayName:"diagnosticReportData",props:{kind:{defaultValue:null,description:"",name:"kind",required:!0,type:{name:'"DiagnosticReport"'}},category:{defaultValue:null,description:"",name:"category",required:!0,type:{name:"string | CodeableConcept[]"}},displayName:{defaultValue:null,description:"",name:"displayName",required:!0,type:{name:"any"}},effectiveEnd:{defaultValue:null,description:"",name:"effectiveEnd",required:!0,type:{name:"string | undefined"}},identifier:{defaultValue:null,description:"",name:"identifier",required:!0,type:{name:"string"}},effectiveStart:{defaultValue:null,description:"",name:"effectiveStart",required:!0,type:{name:"string | undefined"}},performer:{defaultValue:null,description:"",name:"performer",required:!0,type:{name:"string | undefined"}},organization:{defaultValue:null,description:"",name:"organization",required:!0,type:{name:"Reference | undefined"}},reportCategory:{defaultValue:null,description:"",name:"reportCategory",required:!0,type:{name:"string"}},results:{defaultValue:null,description:"",name:"results",required:!0,type:{name:"Reference[]"}},resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"DiagnosticReport"}},includedResources:{defaultValue:null,description:"",name:"includedResources",required:!1,type:{name:"ResourceMap"}},revIncludes:{defaultValue:null,description:"",name:"revIncludes",required:!1,type:{name:"Resource[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},key:{defaultValue:null,description:"",name:"key",required:!0,type:{name:"string"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"string"}},isArchived:{defaultValue:null,description:"",name:"isArchived",required:!0,type:{name:"boolean"}},isSummaryResource:{defaultValue:null,description:"",name:"isSummaryResource",required:!0,type:{name:"boolean"}},resourceType:{defaultValue:null,description:"",name:"resourceType",required:!0,type:{name:"string"}},resourceTypeTitle:{defaultValue:null,description:"",name:"resourceTypeTitle",required:!0,type:{name:"string"}},getBasicResourceByAction:{defaultValue:null,description:"",name:"getBasicResourceByAction",required:!0,type:{name:"(profileAction: string) => Basic | undefined"}},isEnriched:{defaultValue:null,description:"",name:"isEnriched",required:!0,type:{name:"() => boolean"}},toString:{defaultValue:null,description:"",name:"toString",required:!1,type:{name:"() => string"}}}}}catch{}try{Qt.displayName="Component",Qt.__docgenInfo={description:"",displayName:"Component",props:{diagnosticReport:{defaultValue:null,description:"",name:"diagnosticReport",required:!0,type:{name:"DiagnosticReportModel"}}}}}catch{}try{Xt.displayName="ObservationDetails",Xt.__docgenInfo={description:"",displayName:"ObservationDetails",props:{diagnosticReport:{defaultValue:null,description:"",name:"diagnosticReport",required:!0,type:{name:"DiagnosticReportModel"}}}}}catch{}function dl(){const{openDrawer:e}=qo();return t=>{e({component:n=>y.createElement(Zt,{diagnosticReport:t,...n})})}}function Zt({className:e,diagnosticReport:t,isOpen:n,onClose:r}){return y.createElement(wn,{className:e,title:"Diagnostic Report",isOpen:n,onClose:r,showCloseFooter:!0},y.createElement(wn.Body,null,y.createElement(Xt,{diagnosticReport:t})))}try{Zt.displayName="ObservationsDrawer",Zt.__docgenInfo={description:"",displayName:"ObservationsDrawer",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},diagnosticReport:{defaultValue:null,description:"",name:"diagnosticReport",required:!0,type:{name:"DiagnosticReportModel"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}}}catch{}function fl(){return cr(yo,[],Yr("builder"))}function pl(){return cr(ho,[],Yr("outside"))}function Yr(e){const t=e==="builder"?wo:$o;return async(n,r)=>{try{const{resources:o,bundle:a}=await t("DiagnosticReport",n,{patientUPID:r.UPID,_include:["DiagnosticReport:result"]});return o.map(s=>new Fo(s,bo(a)))}catch(o){throw go.logError(o,`Failed fetching ${e} DiagnosticReport resources`)}}}export{ct as L,Kn as R,ll as a,_t as b,Ct as c,pl as d,dl as e,ul as f,fl as g,sl as u};
