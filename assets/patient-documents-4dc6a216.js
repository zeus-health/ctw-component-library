import{R as r,r as D}from"./index-6f814c40.js";import{c as h}from"./index-74f03c09.js";import{V as _,D as y,u as f,a as w}from"./view-fhir-3c3eec0b.js";import{w as g}from"./error-boundary-a59a4bdf.js";import{L as E,M as P,ab as C,am as v,b as N}from"./patient-provider-a690f3c5.js";import{T as b}from"./table-c0cb6876.js";import"./_baseForOwn-b2e5e443.js";import"./sortBy-400dab6d.js";import{o as R}from"./sortBy-a6efb69f.js";import"./_baseClone-39df8af0.js";import"./_baseIsEqual-f087c1ca.js";import{i as T}from"./isEqual-8b7b0b49.js";import"./_createSet-fb89f2da.js";import{u as I}from"./use-breakpoints-26675c3e.js";const s=(e=!1)=>{const a=[{widthPercent:20,minWidth:100,title:"Date Created",render:t=>r.createElement("div",{className:"group-hover:ctw-underline"},t.dateCreated)},{widthPercent:30,minWidth:200,title:"Title",render:t=>r.createElement("div",null,t.title)},{widthPercent:30,minWidth:200,title:"Managing Organization",render:t=>r.createElement("div",null,t.custodian)}];return e&&a.push({widthPercent:20,minWidth:150,render:t=>r.createElement(_,{name:"Document Resource",resource:t.resource})}),a};try{s.displayName="patientDocumentColumns",s.__docgenInfo={description:"",displayName:"patientDocumentColumns",props:{}}}catch{}const i=e=>{const a=e.map(n=>new y(n));return f(a,(n,o)=>T(m(n),m(o)))},m=e=>[e.dateCreated,e.custodian,e.title];try{i.displayName="applyDocumentFilters",i.__docgenInfo={description:"",displayName:"applyDocumentFilters",props:{}}}catch{}function M(){return E(v,[],P(async(e,a)=>{try{const{resources:t}=await C("DocumentReference",e,{patientUPID:a.UPID});return R(i(t),[n=>n.resource.content[0].attachment.creation||""],["desc"])}catch(t){throw new Error(`Failed fetching document information for patient: ${t}`)}},"req.patient_document"))}function W({className:e}){const a=D.useRef(null),t=I(a),n=M(),{featureFlags:o}=N(),u=w({header:c=>`${c.dateCreated} - ${c.title}`,details:k}),d=n.data??[],{isLoading:p}=n;return r.createElement("div",{ref:a,"data-zus-telemetry-namespace":"Documents",className:h("ctw-patient-documents ctw-scrollable-pass-through-height ctw-bg-white",e,{"ctw-stacked":t.sm})},r.createElement(b,{stacked:t.sm,isLoading:p,records:d,columns:s(o==null?void 0:o.enableViewFhirButton),handleRowClick:u}))}const l=g(W,"PatientDocuments"),k=e=>[{label:"status",value:e.status},{label:"docStatus",value:e.docStatus},{label:"Managing Organization",value:e.custodian},{label:"Section Display",value:e.sectionDisplays&&r.createElement("div",null,e.sectionDisplays.map((a,t)=>r.createElement("div",{key:a+t},a)))}];try{l.displayName="PatientDocuments",l.__docgenInfo={description:"",displayName:"PatientDocuments",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}export{l as P};
