import{r as n,R as e}from"./index-6f814c40.js";import{Z as g}from"./zus-da29a567.js";import{w as v}from"./error-boundary-e93dc1e5.js";import{C as y,L as x}from"./combobox-field-580526d0.js";import{aB as C,aC as _,aD as b,C as N}from"./patient-helper-1a1504df.js";import{s as P}from"./requests-82316ba7.js";import"./_commonjsHelpers-042e6b4d.js";import"./index-74f03c09.js";import"./use-breakpoints-7a604744.js";import"./_baseToString-ba0098b0.js";import"./_equalByTag-3aa7c076.js";import"./sortBy-64fcb484.js";import"./sortBy-3860efd7.js";import"./_baseForOwn-56487e0e.js";import"./_baseIsEqual-4b283a92.js";import"./_baseClone-0c3bfcab.js";import"./_createSet-3c80ad01.js";import"./toNumber-e7174cd4.js";import"./isPlainObject-8f51cb87.js";import"./mapValues-fd7519e7.js";import"./pickBy-f8467f8e.js";import"./_basePickBy-a17ae44f.js";import"./debounce-d7732be0.js";import"./isEmpty-ee15a061.js";import"./use-watch-c090a07f.js";import"./calculate-active-index-dd804c80.js";import"./request-5a1df4c1.js";import"./_commonjs-dynamic-modules-302442b1.js";import"./values-4e3b2a32.js";import"./uniq-f1be3f26.js";function T(t,a,c){return C(b,[t,a,c],_,!!c)}const p=v(({pageSize:t=250,removeBranding:a=!1,onSearchClick:c})=>{const[w,i]=n.useState([]),[h,E]=n.useState(),{data:{patients:l}={},isFetching:s,isError:m}=T(t,0,h);n.useEffect(()=>{!s&&l&&i(l)},[l,m,s]),n.useEffect(()=>{m&&i([])},[m,s]);const S=w.map(r=>({value:r,label:r.fullName,key:r.id}));return e.createElement("div",{className:"ctw-max-w-3xl ctw-space-y-5 ctw-text-center"},e.createElement("h3",{className:"ctw-my-0"},"Search for a Patient"),!a&&e.createElement("div",{className:"ctw-flex ctw-justify-center ctw-space-x-2 ctw-text-sm ctw-font-light ctw-italic ctw-text-content-light"},e.createElement("span",null,"Powered by"),e.createElement("img",{src:g,alt:"Zus"})),e.createElement(y,{enableSearchIcon:!0,options:S,readonly:!1,isLoading:s,name:"patient-search",defaultSearchTerm:"",onCustomSelectChange:c,renderCustomOption:r=>e.createElement(k,{option:r}),onSearchChange:r=>{E(r),i([])},defaultValue:{},placeholder:"Search by patient name or identifier"}))},"PatientsSearch"),k=({option:t})=>e.createElement(x.Option,{value:t.label,className:({active:a})=>`ctw-relative ctw-flex ctw-cursor-default ctw-select-none ctw-space-x-2 ctw-py-2 ctw-pr-4 ctw-pl-4 ${a?"ctw-bg-primary-light ctw-text-primary-dark":"ctw-text-content-black"}`},e.createElement("div",{className:"ctw-space-x-1"},e.createElement("span",{className:"ctw-font-medium"},t.value.fullName),e.createElement("span",{className:"ctw-font-medium"},t.value.gender&&`(${t.value.gender[0].toUpperCase()})`)),e.createElement("div",{className:"ctw-font-medium"},t.value.officialOrUsualIdentifier),e.createElement("div",{className:"ctw-space-x-1"},e.createElement("span",null,t.value.dob),e.createElement("span",null,t.value.age&&`(${t.value.age})`)));try{p.displayName="PatientSearch",p.__docgenInfo={description:"",displayName:"PatientSearch",props:{pageSize:{defaultValue:null,description:"",name:"pageSize",required:!1,type:{name:"number"}},removeBranding:{defaultValue:null,description:"",name:"removeBranding",required:!1,type:{name:"boolean"}},onSearchClick:{defaultValue:null,description:"",name:"onSearchClick",required:!1,type:{name:"((e: unknown) => void)"}}}}}catch{}const B=17,oe={tags:["autodocs"],component:p,decorators:[(t,{args:a})=>e.createElement(N,{env:"dev",authToken:"ey.12345",builderId:"12345"},e.createElement(t,{args:a}))],...P(B)},o={};var u,d,f;o.parameters={...o.parameters,docs:{...(u=o.parameters)==null?void 0:u.docs,source:{originalSource:"{}",...(f=(d=o.parameters)==null?void 0:d.docs)==null?void 0:f.source}}};const ie=["Basic"];export{o as Basic,ie as __namedExportsOrder,oe as default};
