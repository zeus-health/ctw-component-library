import{R as t,r as i}from"./index-6f814c40.js";import{c as m}from"./index-74f03c09.js";import"./_baseToString-7c0e3f59.js";import{o as W}from"./sortBy-cdc8b01b.js";import"./_baseClone-3ae78372.js";import"./sortBy-ee350c06.js";import{i as V}from"./_equalByTag-eda72788.js";import"./_baseForOwn-03e9c2f3.js";import{i as $}from"./isString-933c0e0c.js";import"./_createSet-6ff8e1d4.js";import{S as G}from"./spinner-66aa4ba7.js";const g=10,b=({total:e,count:a,changeCount:r})=>{const n=a>=e||e===0,l=e>g;return t.createElement("div",{className:"ctw-pagination !ctw-mt-1 sm:!ctw-mt-2"},t.createElement("div",{className:"ctw-text-gray-600 ctw-text-sm"},"Showing"," ",t.createElement("span",{className:"ctw-font-medium"},Math.min(a,e))," of"," ",t.createElement("span",{className:"ctw-font-medium"},e)," records"),(!n||l)&&t.createElement("div",{className:"ctw-leading-5"},!n&&t.createElement("button",{type:"button",className:"ctw-btn-clear ctw-link ctw-whitespace-nowrap",onClick:()=>r(e)},"Show All"),n&&l&&t.createElement("button",{type:"button",className:"ctw-btn-clear ctw-link ctw-whitespace-nowrap",onClick:()=>r(g)},"Clear")))};try{b.displayName="PaginationList",b.__docgenInfo={description:"",displayName:"PaginationList",props:{total:{defaultValue:null,description:"",name:"total",required:!0,type:{name:"number"}},count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},changeCount:{defaultValue:null,description:"",name:"changeCount",required:!0,type:{name:"(amount: number) => void"}}}}}catch{}const E=({columns:e})=>t.createElement("colgroup",null,e.map((a,r)=>t.createElement("col",{key:a.title??r,className:a.className,width:a.widthPercent?`${a.widthPercent}%`:"0*",style:{minWidth:a.minWidth}})));try{E.displayName="TableColGroup",E.__docgenInfo={description:"",displayName:"TableColGroup",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}}}}}catch{}function O(e,a){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:a},e),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"}))}const U=i.forwardRef(O),J=U;function X(e,a){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:a},e),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"}))}const Z=i.forwardRef(X),R=Z,K=({sortOrder:e})=>{const a="ctw-text-gray-900 ctw-h-4",r=m(a,"ctw-opacity-100");switch(e){case"desc":return t.createElement(J,{className:r});case"asc":return t.createElement(R,{className:r});default:return t.createElement(R,{className:m(a,"ctw-opacity-0 group-hover:ctw-opacity-100")})}},_=({columns:e,sort:a,onSort:r})=>t.createElement("thead",{"data-zus-telemetry-namespace":"TableHead"},t.createElement("tr",null,e.map((n,l)=>t.createElement("th",{className:m("ctw-group",n.sortIndices&&"ctw-cursor-pointer"),key:n.title??l,scope:"col",...n.sortIndices&&r?{"data-zus-telemetry-click":`sort=${n.title}`}:null,onClick:u=>{n.sortIndices&&r&&r(n.title||"")}},t.createElement("div",{className:"ctw-flex ctw-items-center ctw-space-x-2"},t.createElement("div",null,n.title),n.sortIndices&&t.createElement(K,{sortOrder:(a==null?void 0:a.columnTitle)===n.title?a==null?void 0:a.dir:void 0}))))));try{_.displayName="TableHead",_.__docgenInfo={description:"",displayName:"TableHead",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}},sort:{defaultValue:null,description:"",name:"sort",required:!1,type:{name:"TableSort"}},onSort:{defaultValue:null,description:"",name:"onSort",required:!1,type:{name:"((sortColumn: string) => void)"}}}}}catch{}function me(e){return!!(e&&typeof e=="object"&&"preventDefault"in e)}const Q=e=>e==null||Number.isNaN(e)||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0;function Y(e,a,r){const n=a.find(l=>l.title===(r==null?void 0:r.columnTitle));return r&&(n!=null&&n.sortIndices)?(n.sortIndices=n.sortIndices.map(l=>({dir:r.dir,...l})),ee(e,n.sortIndices)):e}function ee(e,a){const r=u=>d=>{const o=d[u];return!$(o)||!o?0:new Date(o).getTime()},n=[],l=[];return a.forEach(u=>{const{index:d,dir:o,isDate:s}=u;n.push(p=>Q(p[d]),s?r(d):d),l.push("asc",o||"asc")}),W(e,n,l)}const T=({column:e,record:a,index:r})=>{const n=e.dataIndex?a[e.dataIndex]:void 0;return t.createElement("td",{key:e.title??r,className:m({"ctw-font-medium ctw-text-content-black":r===0},e.className,"ctw-hyphens-auto ctw-break-words")},e.render?e.render(a):n)};try{T.displayName="TableDataCell",T.__docgenInfo={description:"",displayName:"TableDataCell",props:{column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"TableColumn<T>"}},record:{defaultValue:null,description:"",name:"record",required:!0,type:{name:"MinRecordItem"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}}}}}catch{}const h=({children:e,colSpan:a})=>t.createElement("tr",null,t.createElement("td",{className:"ctw-table-full-length-row",colSpan:a},e));try{h.displayName="TableFullLengthRow",h.__docgenInfo={description:"",displayName:"TableFullLengthRow",props:{colSpan:{defaultValue:null,description:"",name:"colSpan",required:!0,type:{name:"number"}}}}}catch{}const N=({records:e,columns:a,isLoading:r,emptyMessage:n,handleRowClick:l,RowActions:u,getRowClassName:d})=>r?t.createElement(h,{colSpan:a.length},t.createElement("div",{className:"ctw-flex ctw-justify-center ctw-space-x-2"},t.createElement("span",null,"Loading..."),t.createElement(G,null))):e.length===0?t.createElement(h,{colSpan:a.length},t.createElement("span",{className:"ctw-empty-message -ctw-mt-3.5 sm:ctw-mt-0"},n)):t.createElement(t.Fragment,null,e.map(o=>t.createElement("tr",{"data-zus-telemetry-click":l?"Table row":null,className:m("ctw-group ctw-relative ctw-mx-px",V(d)?d(o):"",{"ctw-cursor-pointer hover:ctw-bg-bg-lighter":V(l)}),key:o.id,onClick:({target:s})=>{s instanceof HTMLElement&&s.querySelectorAll("button").length||l&&l(o)}},a.map((s,p)=>t.createElement(T,{key:s.title??p,column:s,record:o,index:p})),u&&t.createElement("td",{className:"ctw-table-row-actions group-hover:ctw-visible"},t.createElement(u,{record:o})))));try{N.displayName="TableRows",N.__docgenInfo={description:"",displayName:"TableRows",props:{RowActions:{defaultValue:null,description:"",name:"RowActions",required:!1,type:{name:"ComponentType<{ record: T; }>"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}},emptyMessage:{defaultValue:null,description:"",name:"emptyMessage",required:!0,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},getRowClassName:{defaultValue:null,description:"",name:"getRowClassName",required:!1,type:{name:"((record: T) => Argument)"}},handleRowClick:{defaultValue:null,description:"",name:"handleRowClick",required:!1,type:{name:"((record: T) => void)"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},records:{defaultValue:null,description:"",name:"records",required:!0,type:{name:"T[]"}}}}}catch{}const S=({className:e,columns:a,records:r,isLoading:n=!1,emptyMessage:l="No records found",showTableHead:u=!0,removeLeftAndRightBorders:d=!1,stacked:o,sort:s,onSort:p,handleRowClick:k,RowActions:I,getRowClassName:L,hidePagination:x=!1,children:A})=>{const v=i.useRef(null),y=i.useRef(null),[M,D]=i.useState(!1),[P,j]=i.useState(!1),[C,F]=i.useState(g),H=Y(r,a,s),f=()=>{const c=y.current,w=v.current;if(c&&w){D(c.scrollLeft>0);const B=c.scrollLeft+c.clientWidth;j(B<w.clientWidth)}},z=c=>{const w={columnTitle:c,dir:"asc"};c===(s==null?void 0:s.columnTitle)&&(w.dir=s.dir==="asc"?"desc":"asc"),p&&p(w)};i.useEffect(()=>{const c=y.current;return f(),c==null||c.addEventListener("scroll",f),window.addEventListener("resize",f),()=>{c==null||c.removeEventListener("scroll",f),window.removeEventListener("resize",f)}},[y,n]);const q=!n&&r.length>0;return t.createElement("div",{"data-zus-telemetry-namespace":"Table",className:m("ctw-space-y-4",{"ctw-table-stacked":o})},t.createElement("div",{className:m("ctw-table-container",e,{"ctw-table-scroll-left-shadow":M,"ctw-table-scroll-right-shadow":P,"ctw-border-x-0":d})},t.createElement("div",{className:"ctw-scrollbar",ref:y},t.createElement("table",{ref:v},q&&t.createElement(E,{columns:a}),u&&q&&t.createElement(_,{columns:a,sort:s,onSort:z}),t.createElement("tbody",{className:m({"ctw-h-[7rem]":r.length===0})},t.createElement(N,{getRowClassName:L,records:H.slice(0,C),handleRowClick:k,RowActions:I,columns:a,isLoading:n,emptyMessage:l}))))),!x&&!n&&t.createElement(b,{total:r.length,count:C,changeCount:F}),A)};try{S.displayName="Table",S.__docgenInfo={description:"",displayName:"Table",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}},records:{defaultValue:null,description:"",name:"records",required:!0,type:{name:"T[]"}},removeLeftAndRightBorders:{defaultValue:{value:"false"},description:"",name:"removeLeftAndRightBorders",required:!1,type:{name:"boolean"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},emptyMessage:{defaultValue:null,description:"Displayed when we have 0 records.",name:"emptyMessage",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},showTableHead:{defaultValue:{value:"true"},description:"",name:"showTableHead",required:!1,type:{name:"boolean"}},stacked:{defaultValue:null,description:"",name:"stacked",required:!1,type:{name:"boolean"}},sort:{defaultValue:null,description:"",name:"sort",required:!1,type:{name:"TableSort"}},onSort:{defaultValue:null,description:"",name:"onSort",required:!1,type:{name:"((sort: TableSort) => void)"}},hidePagination:{defaultValue:{value:"false"},description:"",name:"hidePagination",required:!1,type:{name:"boolean"}},handleRowClick:{defaultValue:null,description:"",name:"handleRowClick",required:!1,type:{name:"((record: T) => void)"}},RowActions:{defaultValue:null,description:"",name:"RowActions",required:!1,type:{name:"ComponentType<{ record: T; }>"}},getRowClassName:{defaultValue:null,description:"",name:"getRowClassName",required:!1,type:{name:"((record: T) => Argument)"}}}}}catch{}export{J as C,S as T,me as i};
//# sourceMappingURL=table-12f80a1c.js.map
