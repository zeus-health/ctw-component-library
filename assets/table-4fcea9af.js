import{R as r,r as f}from"./index-6f814c40.js";import{c as w}from"./index-74f03c09.js";import{a as j}from"./_baseToString-7c0e3f59.js";import{p as ne,w as ae,r as re,a as ie,t as le,s as se,g as ce,b as oe,j as de,i as F,e as P,k as ue,d as me}from"./_equalByTag-eda72788.js";import{f as pe,k as D,g as fe,h as ge,c as he,i as ye}from"./_baseClone-17ec433b.js";import{k as W,l as we,e as _e,o as be}from"./sortBy-64bfa6a0.js";import{c as ve,k as Ee}from"./_baseForOwn-7324d3a8.js";import{_ as Te}from"./_arrayIncludes-66d8e0f7.js";import{a as Ne}from"./_createSet-541d31f8.js";import{i as Ce}from"./_baseIsEqual-7d59e24c.js";import{i as Ie}from"./isPlainObject-f51be120.js";import{S as Le}from"./spinner-66aa4ba7.js";const T=10,N=({total:e,count:t,changeCount:n})=>{const a=t>=e||e===0,i=e>T;return r.createElement("div",{className:"ctw-pagination"},r.createElement("div",{className:"ctw-text-gray-600 ctw-text-sm"},"Showing"," ",r.createElement("span",{className:"ctw-font-medium"},Math.min(t,e))," of"," ",r.createElement("span",{className:"ctw-font-medium"},e)," results"),(!a||i)&&r.createElement("div",{className:"ctw-leading-5"},!a&&r.createElement("button",{type:"button",className:"ctw-btn-clear ctw-link ctw-whitespace-nowrap",onClick:()=>n(e)},"Show All"),a&&i&&r.createElement("button",{type:"button",className:"ctw-btn-clear ctw-link ctw-whitespace-nowrap",onClick:()=>n(T)},"Clear")))};try{N.displayName="PaginationList",N.__docgenInfo={description:"",displayName:"PaginationList",props:{total:{defaultValue:null,description:"",name:"total",required:!0,type:{name:"number"}},count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},changeCount:{defaultValue:null,description:"",name:"changeCount",required:!0,type:{name:"(amount: number) => void"}}}}}catch{}const C=({columns:e})=>r.createElement("colgroup",null,e.map((t,n)=>r.createElement("col",{key:t.title??n,className:t.className,style:{minWidth:t.minWidth,width:`${t.widthPercent}%`}})));try{C.displayName="TableColGroup",C.__docgenInfo={description:"",displayName:"TableColGroup",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}}}}}catch{}function Ve(e,t){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"}))}const Se=f.forwardRef(Ve),qe=Se;function Ae(e,t){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"}))}const Re=f.forwardRef(Ae),A=Re,ke=({sortOrder:e})=>{const t="ctw-text-gray-900 ctw-h-4",n=w(t,"ctw-opacity-100");switch(e){case"desc":return r.createElement(qe,{className:n});case"asc":return r.createElement(A,{className:n});default:return r.createElement(A,{className:w(t,"ctw-opacity-0 group-hover:ctw-opacity-100")})}},I=({columns:e,sort:t,onSort:n})=>r.createElement("thead",null,r.createElement("tr",null,e.map((a,i)=>r.createElement("th",{className:w("ctw-group",a.sortIndices&&"ctw-cursor-pointer"),key:a.title??i,scope:"col",onClick:()=>a.sortIndices&&n&&n(a.title||"")},r.createElement("div",{className:"ctw-flex ctw-items-center ctw-space-x-2"},r.createElement("div",null,a.title),a.sortIndices&&r.createElement(ke,{sortOrder:(t==null?void 0:t.columnTitle)===a.title?t==null?void 0:t.dir:void 0}))))));try{I.displayName="TableHead",I.__docgenInfo={description:"",displayName:"TableHead",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}},sort:{defaultValue:null,description:"",name:"sort",required:!1,type:{name:"TableSort"}},onSort:{defaultValue:null,description:"",name:"onSort",required:!1,type:{name:"((sortColumn: string) => void)"}}}}}catch{}var Me=ne,xe=Te,Oe=Ne,$e=j,je=ae,R=re,Fe=Math.min;function Pe(e,t,n){for(var a=n?Oe:xe,i=e[0].length,c=e.length,s=c,l=Array(c),o=1/0,y=[];s--;){var d=e[s];s&&t&&(d=$e(d,je(t))),o=Fe(d.length,o),l[s]=!n&&(t||i>=120&&d.length>=120)?new Me(s&&d):void 0}d=e[0];var g=-1,h=l[0];e:for(;++g<i&&y.length<o;){var m=d[g],p=t?t(m):m;if(m=n||m!==0?m:0,!(h?R(h,p):a(y,p,n))){for(s=c;--s;){var v=l[s];if(!(v?R(v,p):a(e[s],p,n)))continue e}h&&h.push(p),y.push(m)}}return y}var De=Pe,We=Ce,Ge=ie;function He(e){return Ge(e)&&We(e)}var G=He,Be=G;function Ue(e){return Be(e)?e:[]}var Je=Ue,Xe=j,Ze=De,Ke=W,Qe=Je,Ye=we,ze=Ke(function(e){var t=Ye(e),n=Xe(e,Qe);return t=typeof t=="function"?t:void 0,t&&n.pop(),n.length&&n[0]===e[0]?Ze(n,void 0,t):[]}),tn=ze,et=le,tt=et.isFinite;function nt(e){return typeof e=="number"&&tt(e)}var nn=nt,at=ve,rt=se;function it(e,t,n){(n!==void 0&&!rt(e[t],n)||n===void 0&&!(t in e))&&at(e,t,n)}var H=it;function lt(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var B=lt,st=pe,ct=D;function ot(e){return st(e,ct(e))}var dt=ot,k=H,ut=fe,mt=ge,pt=he,ft=ye,M=ce,x=oe,gt=G,ht=de,yt=F,wt=P,_t=Ie,bt=ue,O=B,vt=dt;function Et(e,t,n,a,i,c,s){var l=O(e,n),o=O(t,n),y=s.get(o);if(y){k(e,n,y);return}var d=c?c(l,o,n+"",e,t,s):void 0,g=d===void 0;if(g){var h=x(o),m=!h&&ht(o),p=!h&&!m&&bt(o);d=o,h||m||p?x(l)?d=l:gt(l)?d=pt(l):m?(g=!1,d=ut(o,!0)):p?(g=!1,d=mt(o,!0)):d=[]:_t(o)||M(o)?(d=l,M(l)?d=vt(l):(!wt(l)||yt(l))&&(d=ft(o))):g=!1}g&&(s.set(o,d),i(d,o,a,c,s),s.delete(o)),k(e,n,d)}var Tt=Et,Nt=me,Ct=H,It=Ee,Lt=Tt,Vt=P,St=D,qt=B;function U(e,t,n,a,i){e!==t&&It(t,function(c,s){if(i||(i=new Nt),Vt(c))Lt(e,t,s,n,U,a,i);else{var l=a?a(qt(e,s),c,s+"",e,t,i):void 0;l===void 0&&(l=c),Ct(e,s,l)}},St)}var J=U,At=W,Rt=_e;function kt(e){return At(function(t,n){var a=-1,i=n.length,c=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(c=e.length>3&&typeof c=="function"?(i--,c):void 0,s&&Rt(n[0],n[1],s)&&(c=i<3?void 0:c,i=1),t=Object(t);++a<i;){var l=n[a];l&&e(t,l,a,c)}return t})}var X=kt,Mt=J,xt=X,Ot=xt(function(e,t,n){Mt(e,t,n)}),an=Ot,$t=J,jt=X,Ft=jt(function(e,t,n,a){$t(e,t,n,a)}),rn=Ft;function ln(e){return!!(e&&typeof e=="object"&&"preventDefault"in e)}const Pt=e=>e==null||Number.isNaN(e)||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0;function Dt(e,t,n){const a=t.find(i=>i.title===(n==null?void 0:n.columnTitle));return n&&(a!=null&&a.sortIndices)?(a.sortIndices=a.sortIndices.map(i=>i.dir?i:{index:i.index,dir:n.dir}),Wt(e,a.sortIndices)):e}function Wt(e,t){let n=[],a=[];return t.forEach(i=>{const{index:c,dir:s}=i;n=n.concat([l=>Pt(l[c]),c]),a=a.concat(["asc",s||"asc"])}),be(e,n,a)}const L=({column:e,record:t,index:n})=>{const a=e.dataIndex?t[e.dataIndex]:void 0;return r.createElement("td",{key:e.title??n,className:w({"ctw-font-medium ctw-text-content-black":n===0},e.className,"ctw-hyphens-auto ctw-break-words")},e.render?e.render(t):a)};try{L.displayName="TableDataCell",L.__docgenInfo={description:"",displayName:"TableDataCell",props:{column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"TableColumn<T>"}},record:{defaultValue:null,description:"",name:"record",required:!0,type:{name:"MinRecordItem"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}}}}}catch{}const E=({children:e,colSpan:t})=>r.createElement("tr",null,r.createElement("td",{className:"ctw-table-full-length-row",colSpan:t},e));try{E.displayName="TableFullLengthRow",E.__docgenInfo={description:"",displayName:"TableFullLengthRow",props:{colSpan:{defaultValue:null,description:"",name:"colSpan",required:!0,type:{name:"number"}}}}}catch{}const V=({records:e,columns:t,isLoading:n,emptyMessage:a,handleRowClick:i,RowActions:c})=>n?r.createElement(E,{colSpan:t.length},r.createElement("div",{className:"ctw-flex ctw-justify-center ctw-space-x-2"},r.createElement("span",null,"Loading..."),r.createElement(Le,null))):e.length===0?r.createElement(E,{colSpan:t.length},a):r.createElement(r.Fragment,null,e.map(s=>r.createElement("tr",{className:w("ctw-group ctw-relative ctw-mx-px",{"ctw-cursor-pointer hover:ctw-bg-bg-lighter":F(i)}),key:s.id,onClick:({target:l})=>{l instanceof HTMLElement&&l.querySelectorAll("button").length||i&&i(s)}},t.map((l,o)=>r.createElement(L,{key:l.title??o,column:l,record:s,index:o})),c&&r.createElement("td",{className:"ctw-table-row-actions group-hover:ctw-visible"},r.createElement(c,{record:s})))));try{V.displayName="TableRows",V.__docgenInfo={description:"",displayName:"TableRows",props:{records:{defaultValue:null,description:"",name:"records",required:!0,type:{name:"T[]"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},emptyMessage:{defaultValue:null,description:"",name:"emptyMessage",required:!0,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},handleRowClick:{defaultValue:null,description:"",name:"handleRowClick",required:!1,type:{name:"((record: T) => void)"}},RowActions:{defaultValue:null,description:"",name:"RowActions",required:!1,type:{name:"ComponentType<{ record: T; }>"}}}}}catch{}const $=({className:e,columns:t,records:n,isLoading:a=!1,emptyMessage:i="No records found",showTableHead:c=!0,stacked:s,sort:l,onSort:o,handleRowClick:y,RowActions:d,hidePagination:g=!1,children:h})=>{const m=f.useRef(null),p=f.useRef(null),[v,Z]=f.useState(!1),[K,Q]=f.useState(!1),[S,Y]=f.useState(T),z=Dt(n,t,l),_=()=>{const u=p.current,b=m.current;if(u&&b){Z(u.scrollLeft>0);const te=u.scrollLeft+u.clientWidth;Q(te<b.clientWidth)}},ee=u=>{const b={columnTitle:u,dir:"asc"};u===(l==null?void 0:l.columnTitle)&&(b.dir=l.dir==="asc"?"desc":"asc"),o&&o(b)};f.useEffect(()=>{const u=p.current;return _(),u==null||u.addEventListener("scroll",_),window.addEventListener("resize",_),()=>{u==null||u.removeEventListener("scroll",_),window.removeEventListener("resize",_)}},[p,a]);const q=!a&&n.length>0;return r.createElement("div",{className:w("ctw-space-y-4",{"ctw-table-stacked":s})},r.createElement("div",{className:w("ctw-table-container",e,{"ctw-table-scroll-left-shadow":v,"ctw-table-scroll-right-shadow":K})},r.createElement("div",{className:"ctw-scrollbar",ref:p},r.createElement("table",{ref:m},q&&r.createElement(C,{columns:t}),c&&q&&r.createElement(I,{columns:t,sort:l,onSort:ee}),r.createElement("tbody",null,r.createElement(V,{records:z.slice(0,S),handleRowClick:y,RowActions:d,columns:t,isLoading:a,emptyMessage:i}))))),!g&&n.length>0&&!a&&r.createElement(N,{total:n.length,count:S,changeCount:Y}),h)};try{$.displayName="Table",$.__docgenInfo={description:"",displayName:"Table",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}},records:{defaultValue:null,description:"",name:"records",required:!0,type:{name:"T[]"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},emptyMessage:{defaultValue:null,description:"Displayed when we have 0 records.",name:"emptyMessage",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},showTableHead:{defaultValue:{value:"true"},description:"",name:"showTableHead",required:!1,type:{name:"boolean"}},stacked:{defaultValue:null,description:"",name:"stacked",required:!1,type:{name:"boolean"}},sort:{defaultValue:null,description:"",name:"sort",required:!1,type:{name:"TableSort"}},onSort:{defaultValue:null,description:"",name:"onSort",required:!1,type:{name:"((sort: TableSort) => void)"}},hidePagination:{defaultValue:{value:"false"},description:"",name:"hidePagination",required:!1,type:{name:"boolean"}},handleRowClick:{defaultValue:null,description:"",name:"handleRowClick",required:!1,type:{name:"((record: T) => void)"}},RowActions:{defaultValue:null,description:"",name:"RowActions",required:!1,type:{name:"ComponentType<{ record: T; }>"}}}}}catch{}export{$ as T,nn as _,an as a,tn as b,ln as i,rn as m};
//# sourceMappingURL=table-4fcea9af.js.map
