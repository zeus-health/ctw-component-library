var le=Object.defineProperty;var me=(s,r,e)=>r in s?le(s,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[r]=e;var A=(s,r,e)=>(me(s,typeof r!="symbol"?r+"":r,e),e);import{r as l,R as o}from"./index-6f814c40.js";import{ag as pe,ah as fe,T as D,G as f,R as L,ai as he,F as R,a as y,c as w,n as k,aj as F,ak as $,a8 as j,al as U,am as B,an as H,ao as z,ap as V,aq as Y,ar as ge,U as ye,w as Ee,as as we,u as Re,af as Me,h as Se,S as be,e as ve,at as Q,au as De,av as Ne}from"./patient-helper-0b747938.js";import{b as p,j as N,g as m,k as _e,f as b,l as X,m as S,n as _,q as Ie,r as Te,o as xe,v as Ce,w as G,x as I,y as Pe,z as Ae,A as Le,d as Oe}from"./values-4e3b2a32.js";import{c as qe}from"./index-74f03c09.js";import{a as ke,D as Fe}from"./collapsible-data-list-details-4804f43b.js";import{w as $e}from"./error-boundary-4eaecb6c.js";import{L as je}from"./loading-c7ff698a.js";import"./_baseToString-ba0098b0.js";import{o as W,c as K}from"./sortBy-64fcb484.js";import"./_baseClone-0c3bfcab.js";import"./sortBy-3860efd7.js";import"./_equalByTag-3aa7c076.js";import{h as Ue}from"./_baseForOwn-56487e0e.js";import"./_createSet-3c80ad01.js";import{g as Be,f as He,c as Z,u as ze}from"./patient-provider-a6365251.js";import{q as Ve}from"./request-5a1df4c1.js";import{c as O}from"./_basePickBy-a17ae44f.js";import{u as Ye}from"./uniqWith-ade993ae.js";import{i as J}from"./isString-b8ede3fb.js";function Qe(s,r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:r},s),l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"}))}const Xe=l.forwardRef(Qe),Ge=Xe;async function We(s,r,e,t){if(!r.id)throw new Error(`Tried to ${t} a resource that hasn't been created yet.`);if(!r.isSummaryResource)throw new Error(`Tried to ${t} a patient record resource.`);const n={resourceType:"Basic",id:s==null?void 0:s.id,code:{coding:[{system:pe,code:"adminact",display:"Administrative Activity"},{system:fe,code:t}]},subject:{reference:`${r.resourceType}/${r.id}`,type:r.resourceType},author:await Be(e)};if((await He(n,e)).id)D.reportActionFailure(t);else throw D.reportActionFailure(t),new Error(`Failed to ${t} resource with id of ${r.id}`)}const T=({date:s,title:r,subtitle:e,data:t,hideEmpty:n,documentButton:i})=>{const[a,c]=l.useState(!1);return o.createElement("div",{className:"ctw-collapsible-data-list ctw-space-y-1","data-zus-telemetry-namespace":"CollapsibleDataList"},o.createElement(Ke,{date:s,title:r,subtitle:e,isDetailShown:a,setIsDetailShown:c,hasDocument:!!i}),a&&o.createElement(ke,{data:t,hideEmpty:n,documentButton:i}))},Ke=({date:s,title:r,subtitle:e,isDetailShown:t,hasDocument:n=!1,setIsDetailShown:i})=>o.createElement("button",{type:"button","aria-label":"details",onClick:()=>i(!t),"data-zus-telemetry-namespace":"DetailSummary","data-zus-telemetry-click":t?"Collapse":"Expand",className:"ctw-w-full ctw-cursor-pointer ctw-border-none ctw-bg-transparent ctw-p-0 ctw-text-base ctw-outline-none"},o.createElement("div",{className:"ctw-flex ctw-items-center ctw-justify-between ctw-rounded-lg ctw-bg-bg-white ctw-p-3 ctw-text-left ctw-outline ctw-outline-1 ctw-outline-bg-dark"},o.createElement("div",{className:"ctw-flex ctw-space-x-3"},s&&o.createElement("div",{className:"ctw-min-w-[5rem]"},s),o.createElement("div",null,o.createElement("div",{className:"ctw-font-semibold ctw-text-content-black"},r),o.createElement("div",{className:"ctw-text-content-light"},e))),o.createElement("div",{className:"ctw-flex ctw-items-center ctw-space-x-3"},n&&o.createElement(Fe,{className:"ctw-fill-content-light hover:ctw-fill-content-light",height:16}),o.createElement("div",{className:"ctw-justify-right ctw-flex"},o.createElement(Ge,{className:qe("ctw-h-5 ctw-w-5 ctw-text-primary-dark",{"ctw-rotate-90":t})})))));try{T.displayName="CollapsibleDataList",T.__docgenInfo={description:"",displayName:"CollapsibleDataList",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},date:{defaultValue:null,description:"",name:"date",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},subtitle:{defaultValue:null,description:"",name:"subtitle",required:!1,type:{name:"string"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"CollapsibleDataListEntry[]"}},hideEmpty:{defaultValue:null,description:"",name:"hideEmpty",required:!1,type:{name:"boolean"}},documentButton:{defaultValue:null,description:"",name:"documentButton",required:!1,type:{name:"ReactNode"}},binaryId:{defaultValue:null,description:"",name:"binaryId",required:!1,type:{name:"string"}}}}}catch{}const x=({entries:s,limit:r})=>{const[e,t]=l.useState(!r||s.length<=r),n=e||!r?s:s.slice(0,r);return o.createElement("div",{className:"ctw-space-y-3","data-zus-telemetry-namespace":"CollapsibleDataListStack"},o.createElement("div",{className:"ctw-text-base ctw-font-medium ctw-uppercase ctw-text-content-light"},"History"),n.map((i,a)=>o.createElement("div",{key:`${i.id}-${a}`},o.createElement(T,{id:i.id,date:i.date,title:i.title,subtitle:i.subtitle,data:i.data,hideEmpty:i.hideEmpty,documentButton:i.documentButton}))),!e&&o.createElement("div",{className:"ctw-text-center"},o.createElement("button",{type:"button",className:"ctw-btn-primary",onClick:()=>t(!0)},"Load ",s.length-r," More")))};try{x.displayName="CollapsibleDataListStack",x.__docgenInfo={description:"",displayName:"CollapsibleDataListStack",props:{entries:{defaultValue:null,description:"",name:"entries",required:!0,type:{name:"CollapsibleDataListStackEntries"}},limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}}}}}catch{}const Ze={active:"Currently taking","entered-in-error":"Never taken","not-taken":"Prescribed, not taken",completed:"No longer taking","on-hold":"On hold",intended:"Intend to take",stopped:"No longer taking"};function ee(s,r){var t;if(s.medicationCodeableConcept)return s.medicationCodeableConcept;const e=f("Medication",s.contained,r,(t=s.medicationReference)==null?void 0:t.reference);return e==null?void 0:e.code}function te(s,r){var e;return(e=re(s,r))==null?void 0:e.code}function re(s,r){var n,i;const e=ee(s,r),t=(n=e==null?void 0:e.coding)==null?void 0:n.find(a=>a.system===L&&a.extension===void 0);return t||((i=e==null?void 0:e.coding)==null?void 0:i.find(a=>{var c;return a.system===L&&((c=a.extension)==null?void 0:c.some(u=>u.url===he&&u.valueString==="Standardization"))}))}function se(s,r){var t,n,i;let e;switch(s.resourceType){case"MedicationAdministration":case"MedicationDispense":e=(n=(t=s.performer)==null?void 0:t[0])==null?void 0:n.actor;break;case"MedicationRequest":e=s.performer||((i=s.dispenseRequest)==null?void 0:i.performer);break;case"MedicationStatement":default:return}if(e!=null&&e.reference&&e.type==="Organization")return f("Organization",s.contained,r,e.reference)}function Je(s){return Ue(Ze,s,"")}class ne extends R{get dosageDisplay(){const{text:r,route:e,dose:t}=this.resource.dosage||{};return r||p([t==null?void 0:t.value,t==null?void 0:t.unit]).join(" ")}get dosageRoute(){const{route:r}=this.resource.dosage||{};return r==null?void 0:r.text}get effectivePeriod(){const{start:r,end:e}=this.resource.effectivePeriod||{};return{start:r?y(r):"",end:e?y(e):""}}}class ie extends R{get includedPerformer(){var t,n,i,a;const r=(n=(t=this.resource.performer)==null?void 0:t[0])==null?void 0:n.actor.reference,e=f("Practitioner",this.resource.contained,this.includedResources,r);return e?new Z(e).fullName:(a=(i=this.resource.performer)==null?void 0:i[0])==null?void 0:a.actor.display}get performer(){return se(this.resource,this.includedResources)}get performerDetails(){var e,t;const{performer:r}=this;return{name:(r==null?void 0:r.name)??"",address:((e=r==null?void 0:r.address)==null?void 0:e[0].text)??"",telecom:((t=r==null?void 0:r.telecom)==null?void 0:t[0].value)??""}}get status(){return this.resource.status}get quantityDisplay(){const{value:r,unit:e="units"}=this.resource.quantity||{};return r?`${r} ${e}`:void 0}get supplied(){const{value:r,unit:e="days"}=this.resource.daysSupply||{};return r?`${r} ${e}`:void 0}}class ae extends R{get includedRequester(){var t,n;const r=(t=this.resource.requester)==null?void 0:t.reference,e=f("Practitioner",this.resource.contained,this.includedResources,r);return e?new Z(e).fullName:(n=this.resource.requester)==null?void 0:n.display}get pharmacy(){var n,i,a;const{reference:r,display:e}=((n=this.resource.dispenseRequest)==null?void 0:n.performer)||{},t=f("Organization",this.resource.contained,this.includedResources,r);if(t){const c=(i=t.telecom)==null?void 0:i[0].value,{city:u,state:d,postalCode:h,text:g,line:C=[]}=((a=t.address)==null?void 0:a[0])||{},E=p([u,`${d} ${h}`]).join(", ");return{telecom:c,name:t.name,address:g??p([C,E]).join(`
`)}}return{name:e}}}class v extends R{constructor(){super(...arguments);A(this,"builderPatientRxNormStatus")}get basedOn(){var e,t;return(t=(e=this.resource.basedOn)==null?void 0:e[0])==null?void 0:t.type}get category(){return w(this.resource.category)}get context(){var e;return(e=this.resource.context)==null?void 0:e.display}get dateAsserted(){return y(this.resource.dateAsserted)}set dateAsserted(e){e instanceof Date?this.resource.dateAsserted=k(e):this.resource.dateAsserted=e}get derivedFrom(){var e;return((e=this.resource.derivedFrom)==null?void 0:e.map(({display:t})=>t||""))||[]}get aggregatedFrom(){const e=N(t=>t.url===F||t.url===$,this.resource.extension);return e!=null&&e.extension?p(e.extension.map(m("valueReference"))):p(this.resource.derivedFrom)}get display(){return w(ee(this.resource,this.includedResources))}get dosage(){var e,t;return(t=(e=this.resource.dosage)==null?void 0:e[0])==null?void 0:t.text}get effectiveStart(){var e;return y((e=this.resource.effectivePeriod)==null?void 0:e.start)}get identifier(){var e,t;return(t=(e=this.resource.identifier)==null?void 0:e[0])==null?void 0:t.value}get informationSource(){return this.resource.informationSource||void 0}set informationSource(e){this.resource.informationSource=e}get medicationReference(){var e;return(e=this.resource.medicationReference)==null?void 0:e.display}get notesDisplay(){var e;return((e=this.resource.note)==null?void 0:e.map(({text:t})=>t))||[]}get partOf(){var e,t;return(t=(e=this.resource.partOf)==null?void 0:e[0])==null?void 0:t.display}get patientStatus(){var e;return Je((e=this.builderPatientRxNormStatus)==null?void 0:e[this.rxNorm??""])}get rxNorm(){return te(this.resource,this.includedResources)}get rxNormCodeableConcept(){const e=re(this.resource,this.includedResources);return{...e??{},display:(e==null?void 0:e.display)??this.display}}get reason(){var e;return w((e=this.resource.reasonCode)==null?void 0:e[0])}get reasonReference(){return this.resource.reasonReference}get isArchived(){return!!this.getBasicResourceByAction("archive")}get isInactive(){return!["active","intended","unknown"].includes(this.status)}get status(){return this.resource.status}get displayStatus(){return this.isArchived?"Dismissed":_e(this.resource.status)}get statusReason(){var e;return w((e=this.resource.statusReason)==null?void 0:e[0])}get subject(){return this.resource.subject}get subjectID(){var t;const[,e]=((t=this.resource.subject.reference)==null?void 0:t.split("/"))||[];return e||""}get patient(){const e=f("Patient",this.resource.contained,this.includedResources,this.resource.subject.reference);if(e)return new j(e,this.includedResources)}get lastFillDate(){var e,t;return y((t=(e=this.resource.extension)==null?void 0:e.find(n=>n.url===U))==null?void 0:t.valueDateTime)}get quantity(){var t,n;const e=(n=(t=this.resource.extension)==null?void 0:t.find(i=>i.url===B))==null?void 0:n.valueQuantity;if(e)return`${e.value} ${e.unit||""}`}get daysSupply(){var e,t,n,i;return(i=(n=(t=(e=this.resource.extension)==null?void 0:e.find(a=>a.url===H))==null?void 0:t.valueQuantity)==null?void 0:n.value)==null?void 0:i.toString()}get refills(){var e,t,n;return(n=(t=(e=this.resource.extension)==null?void 0:e.find(i=>i.url===z))==null?void 0:t.valueUnsignedInt)==null?void 0:n.toString()}get lastPrescriber(){var n,i;const e=(i=(n=this.resource.extension)==null?void 0:n.find(a=>a.url===V))==null?void 0:i.valueReference;if(!(e!=null&&e.type)||!e.reference)return;const t=f(e.type,this.resource.contained,this.includedResources,e.reference);if(t!=null&&t.name){if(typeof t.name=="string")return t.name;const{family:a,given:c=[]}=t.name[0];return p([a,c[0]]).join(", ")}return e.display}get lastPrescribedDate(){var e,t;return y((t=(e=this.resource.extension)==null?void 0:e.find(n=>n.url===Y))==null?void 0:t.valueDateTime)}}class oe extends R{get performer(){var r;return(r=se(this.resource,this.includedResources))==null?void 0:r.name}get status(){return this.resource.status}get dosage(){var r,e,t;switch(this.resource.resourceType){case"MedicationStatement":return(e=(r=this.resource.dosage)==null?void 0:r[0])==null?void 0:e.text;case"MedicationAdministration":return new ne(this.resource,this.includedResources).dosageDisplay;case"MedicationDispense":case"MedicationRequest":return w((t=this.resource.dosageInstruction)==null?void 0:t[0]);default:return""}}get date(){var r,e,t,n,i,a;switch(this.resource.resourceType){case"MedicationStatement":return this.resource.dateAsserted??((r=this.resource.effectivePeriod)==null?void 0:r.start);case"MedicationAdministration":return(e=this.resource.effectivePeriod)==null?void 0:e.start;case"MedicationDispense":return this.resource.whenHandedOver??this.resource.whenPrepared;case"MedicationRequest":return this.resource.authoredOn??((a=(i=(n=(t=this.resource.dosageInstruction)==null?void 0:t[0].timing)==null?void 0:n.repeat)==null?void 0:i.boundsPeriod)==null?void 0:a.start);default:return""}}get dateLocal(){return y(this.date)}get patient(){var e;const r=f("Patient",this.resource.contained,this.includedResources,(e=this.resource.subject)==null?void 0:e.reference);if(r)return new j(r,this.includedResources)}get prescriber(){switch(this.resource.resourceType){case"MedicationStatement":return new v(this.resource,this.includedResources).lastPrescriber;case"MedicationDispense":return new ie(this.resource,this.includedResources).includedPerformer;case"MedicationRequest":return new ae(this.resource,this.includedResources).includedRequester;default:return}}}function kt(s,r){const e=i=>a=>{const c=a[i];return!J(c)||!c?0:new Date(c).getTime()},t=[],n=[];return r.forEach(i=>{const{key:a,dir:c,isDate:u}=i;t.push(d=>ge(d[a]),u?e(a):a),n.push("asc",c)}),W(s,t,n)}function et(s,r,e,t=!1){const n=J(r)?m(r):r;return t?tt(s,n,e):W(s,r,e)}function tt(s,r,e){return s.sort((t,n)=>{const i=r(t),a=r(n);if(!i&&!a)return 0;if(!i)return e==="asc"?-1:1;if(!a)return e==="asc"?1:-1;const c=new Date(i).getTime(),u=new Date(a).getTime();return e==="asc"?c-u:u-c}),s}const rt=s=>{const r=m("resource.medicationCodeableConcept.coding.0",s);return r?`${r.system}_${r.code}`:""},st=s=>{const r=new Date(s.dateLocal??0);return k(r)},nt=s=>{const r=new Date(s.date??0);return s.resourceType==="MedicationRequest"?r.getTime()-1:r.getTime()},it=s=>{if(s.length===0)return s;const r=(n,i)=>[n,n.resourceType,i],e=b(X(st),S(n=>_(nt,"asc",n)),S(n=>n.map(r)),S(at))(s);return _(n=>new Date(n).getTime(),"desc",Ie(e)).map(n=>e[n]).reduce(Te)};function at(s=[]){const r=new Map,e=s.map(([t,n,i])=>{const a=rt(t);if(n==="MedicationDispense")r.set(a,i);else if(r.has(a)&&n==="MedicationRequest"){const c=r.get(a);return{model:t,type:n,sortOrder:c-.1}}return{model:t,type:n,sortOrder:i}});return _(m("sortOrder"),"desc",e).map(m("model"))}const ot=s=>Ve.invalidateQueries({queryKey:s});function ct(){return ot([ye])}const ut=async(s,r)=>{const e=await r(),t=s.getBasicResourceByAction("archive");await We(t,s,e,"archive"),await ct()},ce=xe(["informationSourceNot","informationSource"]);function ue(s,r={},e=!1){let t=e?dt(s.resources,s.bundle):s.resources;return r.informationSource&&(t=t.filter(n=>{var i;return((i=n.informationSource)==null?void 0:i.type)===r.informationSource})),r.informationSourceNot&&(t=t.filter(n=>{var i;return((i=n.informationSource)==null?void 0:i.type)!==r.informationSourceNot})),t}async function Ft(s,r,e=[]){const[t={}]=e;try{const n=await ve("MedicationStatement",s,{patientUPID:r.UPID,_include:"MedicationStatement:medication",...ce(t)}),i=ue(n,t,!1);return{bundle:n.bundle,medications:i}}catch(n){throw Q("Failed fetching medications for patient",n)}}async function $t(s,r,e=[]){const[t={}]=e;try{const n=D.timeMetric("req.active_medications"),i=await De("MedicationStatement",s,"ActiveMedications",{patientUPID:r.UPID,_include:"MedicationStatement:medication",...ce(t)}),a=ue(i,t,!0);return n(),{bundle:i.bundle,medications:a}}catch(n){throw Q("Failed fetching medications for patient",n)}}function dt(s,r){const e=Ne(r);return s.filter(t=>te(t,e)!==void 0)}function jt(s,r){const e=s.filter(n=>!r.some(i=>i.rxNorm===n.rxNorm));return{builderMedications:r.map(n=>{var d,h;const i=N(g=>g.rxNorm===n.rxNorm,s);if(!i)return n;const a=O(n.resource),c=[U,Y,B,H,z,V];a.extension=(d=i.resource.extension)==null?void 0:d.filter(g=>c.includes(g.url));const u=O(N({url:F},i.resource.extension));return u&&(u.url=$,(h=a.extension)==null||h.push(u)),new v(a,n.includedResources,n.revIncludes)}),otherProviderMedications:e}}function de(s){const r=s?new v(s).aggregatedFrom:[],e=b(m("reference"),Ce("/"),G),t=b(X(m("type")),S(I(e)))(r);return ze(we,[(s==null?void 0:s.id)||"empty"],Ee(async(n,i)=>{try{if(!s)return{includedResources:{},medications:[]};const[a,c,u,d]=await Promise.all([M("MedicationStatement",n,i.UPID,t.MedicationStatement),M("MedicationAdministration",n,i.UPID,t.MedicationAdministration),M("MedicationRequest",n,i.UPID,t.MedicationRequest,["MedicationRequest:requester"]),M("MedicationDispense",n,i.UPID,t.MedicationDispense,["MedicationDispense:performer","MedicationDispense:prescription"])]),h=Me(p([a.bundle,c.bundle,u.bundle,d.bundle])),g=p([...a.resources,...c.resources,...u.resources,...d.resources]).map(E=>new oe(E,h));return{medications:et(Ye(g,(E,P)=>E.date===P.date&&E.resource.resourceType===P.resource.resourceType),"date","desc",!0),includedResources:h}}catch(a){throw new Error(`Failed fetching medication history for medication ${s==null?void 0:s.id}: ${a}`)}},"req.medication_history"))}function Ut(s){const[r,e]=l.useState(),t=de(s);return l.useEffect(()=>{const{includedResources:n={},medications:i=[]}=t.data||{};if(r===void 0&&i.length){const a=b(I(m("resource")),Pe(Ae("resourceType","MedicationRequest")),Le(c=>Date.parse(c.authoredOn)),I(c=>new oe(c,n)),G,m("prescriber"))(i);e(a||"")}},[r,t.data]),{isLoading:t.isFetching,lastPrescriber:r}}function M(s,r,e,t=[],n=[]){return t.length>0?Se(s,r,{_id:t.join(","),_include:[`${s}:patient`,`${s}:medication`,...n],"_include:iterate":"Patient:organization","patient.identifier":`${be}|${e}`}):{resources:[],bundle:void 0}}function Bt(){const{getRequestContext:s}=Re();return l.useCallback(async r=>{await ut(r,s)},[s])}const lt=10,q=$e(({medication:s})=>{const[r,e]=l.useState([]),t=de(s.resource),n=t.isLoading;return l.useEffect(()=>{if(t.data){const{medications:i}=t.data;e(it(i).map(pt))}},[t.data]),n?o.createElement(o.Fragment,null,o.createElement("h2",{className:"ctw-text-lg ctw-font-semibold"},"Medication History"),o.createElement(je,{message:""})):o.createElement(o.Fragment,null,o.createElement("h2",{className:"ctw-text-lg ctw-font-semibold"},"Medication History"),r.length?o.createElement(x,{entries:r,limit:lt}):o.createElement("span",null,"No history available for this medication."))},"MedicationHistory");function mt(s){var t,n;const r=s.resource,e=new v(r,s.includedResources);return{date:s.dateLocal,id:s.id,title:"Medication Reviewed",hideEmpty:!1,subtitle:(n=(t=e.patient)==null?void 0:t.organization)==null?void 0:n.name,data:[{label:"Status",value:Oe(e.displayStatus)},{label:"Instructions",value:e.dosage}]}}function pt(s){if(s.resourceType==="MedicationStatement")return mt(s);if(s.resourceType==="MedicationRequest")return ft(s);if(s.resourceType==="MedicationDispense")return ht(s);if(s.resourceType==="MedicationAdministration")return gt(s);throw new Error(`Unknown medication resource type "${s.resourceType}"`)}function ft(s){const r=s.resource,{prescriber:e}=s,{name:t,address:n,telecom:i}=new ae(r,s.includedResources).pharmacy,{numberOfRepeatsAllowed:a="",initialFill:c}=r.dispenseRequest||{},{value:u="",unit:d=""}=(c==null?void 0:c.quantity)||{};return{date:s.dateLocal,id:s.id,title:"Prescription Ordered",subtitle:e,hideEmpty:!1,data:[{label:"Quantity",value:[u,d].join(" ")},{label:"Refills Allowed",value:a},{label:"Instructions",value:s.dosage},{label:"Prescriber",value:e},{label:"Pharmacy",value:o.createElement(o.Fragment,null,t&&o.createElement("div",null,t),n&&o.createElement("div",null,n),i&&o.createElement("div",null,"T: ",i))}]}}function ht(s){const r=s.resource,e=new ie(r,s.includedResources),{quantityDisplay:t,supplied:n,performerDetails:i}=e,{name:a,address:c,telecom:u}=i;return{date:s.dateLocal,hideEmpty:!1,id:s.id,title:"Medication Filled",subtitle:K([t,n?`${n} supplied`:null]).join(", "),data:[{label:"Quantity",value:t},{label:"Days supply",value:n},{label:"Pharmacy",value:o.createElement(o.Fragment,null,a&&o.createElement("div",null,a),c&&o.createElement("div",null,c),u&&o.createElement("div",null,"T: ",u))}]}}function gt(s){const r=s.resource,e=new ne(r,s.includedResources);return{id:s.id,date:s.dateLocal,hideEmpty:!1,title:"Medication Administered",subtitle:K([e.dosageDisplay,e.dosageRoute]).join(", "),data:[{label:"Dosage",value:e.dosageDisplay},{label:"Route",value:e.dosageRoute},{label:"Start Date",value:e.effectivePeriod.start},{label:"End Date",value:e.effectivePeriod.end}]}}try{q.displayName="MedicationHistory",q.__docgenInfo={description:"Displays the history of a medication",displayName:"MedicationHistory",props:{medication:{defaultValue:null,description:"",name:"medication",required:!0,type:{name:"MedicationStatementModel"}}}}}catch{}export{x as C,v as M,kt as a,Ut as b,q as c,jt as d,$t as e,Ft as g,We as r,et as s,Bt as u};
