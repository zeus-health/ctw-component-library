import{r as f,R as r}from"./index-6f814c40.js";import{c as _}from"./index-74f03c09.js";import{a as F}from"./_baseToString-7c0e3f59.js";import{p as ne,w as re,r as le,a as ie,t as se,s as ce,g as oe,b as de,j as ue,i as T,e as P,k as me,d as pe}from"./_equalByTag-eda72788.js";import{f as fe,k as D,g as ge,h as ye,c as he,i as we}from"./_baseClone-17ec433b.js";import{k as W,l as _e,e as be,o as ve}from"./sortBy-dc46a6e7.js";import{c as Ee,k as Te}from"./_baseForOwn-7324d3a8.js";import{a as Ne,b as Ce}from"./_createSet-6ff8e1d4.js";import{i as Ie}from"./_baseIsEqual-7d59e24c.js";import{i as Ve}from"./isPlainObject-f51be120.js";import{S as Le}from"./spinner-66aa4ba7.js";function qe(e,t){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"}))}const Ae=f.forwardRef(qe),Re=Ae;function Se(e,t){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"}))}const ke=f.forwardRef(Se),S=ke;var Me=ne,xe=Ne,Oe=Ce,$e=F,je=re,k=le,Fe=Math.min;function Pe(e,t,a){for(var n=a?Oe:xe,l=e[0].length,c=e.length,s=c,i=Array(c),o=1/0,m=[];s--;){var d=e[s];s&&t&&(d=$e(d,je(t))),o=Fe(d.length,o),i[s]=!a&&(t||l>=120&&d.length>=120)?new Me(s&&d):void 0}d=e[0];var y=-1,h=i[0];e:for(;++y<l&&m.length<o;){var p=d[y],g=t?t(p):p;if(p=a||p!==0?p:0,!(h?k(h,g):n(m,g,a))){for(s=c;--s;){var w=i[s];if(!(w?k(w,g):n(e[s],g,a)))continue e}h&&h.push(g),m.push(p)}}return m}var De=Pe,We=Ie,He=ie;function Ge(e){return He(e)&&We(e)}var H=Ge,Be=H;function Ue(e){return Be(e)?e:[]}var ze=Ue,Je=F,Xe=De,Ze=W,Ke=ze,Qe=_e,Ye=Ze(function(e){var t=Qe(e),a=Je(e,Ke);return t=typeof t=="function"?t:void 0,t&&a.pop(),a.length&&a[0]===e[0]?Xe(a,void 0,t):[]}),ta=Ye,et=se,tt=et.isFinite;function at(e){return typeof e=="number"&&tt(e)}var aa=at,nt=Ee,rt=ce;function lt(e,t,a){(a!==void 0&&!rt(e[t],a)||a===void 0&&!(t in e))&&nt(e,t,a)}var G=lt;function it(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var B=it,st=fe,ct=D;function ot(e){return st(e,ct(e))}var dt=ot,M=G,ut=ge,mt=ye,pt=he,ft=we,x=oe,O=de,gt=H,yt=ue,ht=T,wt=P,_t=Ve,bt=me,$=B,vt=dt;function Et(e,t,a,n,l,c,s){var i=$(e,a),o=$(t,a),m=s.get(o);if(m){M(e,a,m);return}var d=c?c(i,o,a+"",e,t,s):void 0,y=d===void 0;if(y){var h=O(o),p=!h&&yt(o),g=!h&&!p&&bt(o);d=o,h||p||g?O(i)?d=i:gt(i)?d=pt(i):p?(y=!1,d=ut(o,!0)):g?(y=!1,d=mt(o,!0)):d=[]:_t(o)||x(o)?(d=i,x(i)?d=vt(i):(!wt(i)||ht(i))&&(d=ft(o))):y=!1}y&&(s.set(o,d),l(d,o,n,c,s),s.delete(o)),M(e,a,d)}var Tt=Et,Nt=pe,Ct=G,It=Te,Vt=Tt,Lt=P,qt=D,At=B;function U(e,t,a,n,l){e!==t&&It(t,function(c,s){if(l||(l=new Nt),Lt(c))Vt(e,t,s,a,U,n,l);else{var i=n?n(At(e,s),c,s+"",e,t,l):void 0;i===void 0&&(i=c),Ct(e,s,i)}},qt)}var z=U,Rt=W,St=be;function kt(e){return Rt(function(t,a){var n=-1,l=a.length,c=l>1?a[l-1]:void 0,s=l>2?a[2]:void 0;for(c=e.length>3&&typeof c=="function"?(l--,c):void 0,s&&St(a[0],a[1],s)&&(c=l<3?void 0:c,l=1),t=Object(t);++n<l;){var i=a[n];i&&e(t,i,n,c)}return t})}var J=kt,Mt=z,xt=J,Ot=xt(function(e,t,a){Mt(e,t,a)}),na=Ot,$t=z,jt=J,Ft=jt(function(e,t,a,n){$t(e,t,a,n)}),ra=Ft;const N=10,C=({total:e,count:t,changeCount:a})=>{const n=t>=e||e===0,l=e>N;return r.createElement("div",{className:"ctw-pagination"},r.createElement("div",{className:"ctw-text-gray-600 ctw-text-sm"},"Showing"," ",r.createElement("span",{className:"ctw-font-medium"},Math.min(t,e))," of"," ",r.createElement("span",{className:"ctw-font-medium"},e)," results"),(!n||l)&&r.createElement("div",{className:"ctw-leading-5"},!n&&r.createElement("button",{type:"button",className:"ctw-btn-clear ctw-link ctw-whitespace-nowrap",onClick:()=>a(e)},"Show All"),n&&l&&r.createElement("button",{type:"button",className:"ctw-btn-clear ctw-link ctw-whitespace-nowrap",onClick:()=>a(N)},"Clear")))};try{C.displayName="PaginationList",C.__docgenInfo={description:"",displayName:"PaginationList",props:{total:{defaultValue:null,description:"",name:"total",required:!0,type:{name:"number"}},count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},changeCount:{defaultValue:null,description:"",name:"changeCount",required:!0,type:{name:"(amount: number) => void"}}}}}catch{}const I=({columns:e})=>r.createElement("colgroup",null,e.map((t,a)=>r.createElement("col",{key:t.title??a,className:t.className,width:t.widthPercent?`${t.widthPercent}%`:"0*",style:{minWidth:t.minWidth}})));try{I.displayName="TableColGroup",I.__docgenInfo={description:"",displayName:"TableColGroup",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}}}}}catch{}const Pt=({sortOrder:e})=>{const t="ctw-text-gray-900 ctw-h-4",a=_(t,"ctw-opacity-100");switch(e){case"desc":return r.createElement(Re,{className:a});case"asc":return r.createElement(S,{className:a});default:return r.createElement(S,{className:_(t,"ctw-opacity-0 group-hover:ctw-opacity-100")})}},V=({columns:e,sort:t,onSort:a})=>r.createElement("thead",{"data-zus-telemetry-namespace":"TableHead"},r.createElement("tr",null,e.map((n,l)=>r.createElement("th",{className:_("ctw-group",n.sortIndices&&"ctw-cursor-pointer"),key:n.title??l,scope:"col",...n.sortIndices&&a?{"data-zus-telemetry-click":`sort=${n.title}`}:null,onClick:c=>{n.sortIndices&&a&&a(n.title||"")}},r.createElement("div",{className:"ctw-flex ctw-items-center ctw-space-x-2"},r.createElement("div",null,n.title),n.sortIndices&&r.createElement(Pt,{sortOrder:(t==null?void 0:t.columnTitle)===n.title?t==null?void 0:t.dir:void 0}))))));try{V.displayName="TableHead",V.__docgenInfo={description:"",displayName:"TableHead",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}},sort:{defaultValue:null,description:"",name:"sort",required:!1,type:{name:"TableSort"}},onSort:{defaultValue:null,description:"",name:"onSort",required:!1,type:{name:"((sortColumn: string) => void)"}}}}}catch{}function la(e){return!!(e&&typeof e=="object"&&"preventDefault"in e)}const Dt=e=>e==null||Number.isNaN(e)||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0;function Wt(e,t,a){const n=t.find(l=>l.title===(a==null?void 0:a.columnTitle));return a&&(n!=null&&n.sortIndices)?(n.sortIndices=n.sortIndices.map(l=>l.dir?l:{index:l.index,dir:a.dir}),Ht(e,n.sortIndices)):e}function Ht(e,t){let a=[],n=[];return t.forEach(l=>{const{index:c,dir:s}=l;a=a.concat([i=>Dt(i[c]),c]),n=n.concat(["asc",s||"asc"])}),ve(e,a,n)}const L=({column:e,record:t,index:a})=>{const n=e.dataIndex?t[e.dataIndex]:void 0;return r.createElement("td",{key:e.title??a,className:_({"ctw-font-medium ctw-text-content-black":a===0},e.className,"ctw-hyphens-auto ctw-break-words")},e.render?e.render(t):n)};try{L.displayName="TableDataCell",L.__docgenInfo={description:"",displayName:"TableDataCell",props:{column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"TableColumn<T>"}},record:{defaultValue:null,description:"",name:"record",required:!0,type:{name:"MinRecordItem"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}}}}}catch{}const E=({children:e,colSpan:t})=>r.createElement("tr",null,r.createElement("td",{className:"ctw-table-full-length-row",colSpan:t},e));try{E.displayName="TableFullLengthRow",E.__docgenInfo={description:"",displayName:"TableFullLengthRow",props:{colSpan:{defaultValue:null,description:"",name:"colSpan",required:!0,type:{name:"number"}}}}}catch{}const q=({records:e,columns:t,isLoading:a,emptyMessage:n,handleRowClick:l,RowActions:c,getRowClassName:s})=>a?r.createElement(E,{colSpan:t.length},r.createElement("div",{className:"ctw-flex ctw-justify-center ctw-space-x-2"},r.createElement("span",null,"Loading..."),r.createElement(Le,null))):e.length===0?r.createElement(E,{colSpan:t.length},n):r.createElement(r.Fragment,null,e.map(i=>r.createElement("tr",{"data-zus-telemetry-click":l?"Table row":null,className:_("ctw-group ctw-relative ctw-mx-px",T(s)?s(i):"",{"ctw-cursor-pointer hover:ctw-bg-bg-lighter":T(l)}),key:i.id,onClick:({target:o})=>{o instanceof HTMLElement&&o.querySelectorAll("button").length||l&&l(i)}},t.map((o,m)=>r.createElement(L,{key:o.title??m,column:o,record:i,index:m})),c&&r.createElement("td",{className:"ctw-table-row-actions group-hover:ctw-visible"},r.createElement(c,{record:i})))));try{q.displayName="TableRows",q.__docgenInfo={description:"",displayName:"TableRows",props:{RowActions:{defaultValue:null,description:"",name:"RowActions",required:!1,type:{name:"ComponentType<{ record: T; }>"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}},emptyMessage:{defaultValue:null,description:"",name:"emptyMessage",required:!0,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},getRowClassName:{defaultValue:null,description:"",name:"getRowClassName",required:!1,type:{name:"((record: T) => Argument)"}},handleRowClick:{defaultValue:null,description:"",name:"handleRowClick",required:!1,type:{name:"((record: T) => void)"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},records:{defaultValue:null,description:"",name:"records",required:!0,type:{name:"T[]"}}}}}catch{}const j=({className:e,columns:t,records:a,isLoading:n=!1,emptyMessage:l="No records found",showTableHead:c=!0,stacked:s,sort:i,onSort:o,handleRowClick:m,RowActions:d,getRowClassName:y,hidePagination:h=!1,children:p})=>{const g=f.useRef(null),w=f.useRef(null),[X,Z]=f.useState(!1),[K,Q]=f.useState(!1),[A,Y]=f.useState(N),ee=Wt(a,t,i),b=()=>{const u=w.current,v=g.current;if(u&&v){Z(u.scrollLeft>0);const ae=u.scrollLeft+u.clientWidth;Q(ae<v.clientWidth)}},te=u=>{const v={columnTitle:u,dir:"asc"};u===(i==null?void 0:i.columnTitle)&&(v.dir=i.dir==="asc"?"desc":"asc"),o&&o(v)};f.useEffect(()=>{const u=w.current;return b(),u==null||u.addEventListener("scroll",b),window.addEventListener("resize",b),()=>{u==null||u.removeEventListener("scroll",b),window.removeEventListener("resize",b)}},[w,n]);const R=!n&&a.length>0;return r.createElement("div",{"data-zus-telemetry-namespace":"Table",className:_("ctw-space-y-4",{"ctw-table-stacked":s})},r.createElement("div",{className:_("ctw-table-container",e,{"ctw-table-scroll-left-shadow":X,"ctw-table-scroll-right-shadow":K})},r.createElement("div",{className:"ctw-scrollbar",ref:w},r.createElement("table",{ref:g},R&&r.createElement(I,{columns:t}),c&&R&&r.createElement(V,{columns:t,sort:i,onSort:te}),r.createElement("tbody",null,r.createElement(q,{getRowClassName:y,records:ee.slice(0,A),handleRowClick:m,RowActions:d,columns:t,isLoading:n,emptyMessage:l}))))),!h&&a.length>0&&!n&&r.createElement(C,{total:a.length,count:A,changeCount:Y}),p)};try{j.displayName="Table",j.__docgenInfo={description:"",displayName:"Table",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}},records:{defaultValue:null,description:"",name:"records",required:!0,type:{name:"T[]"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},emptyMessage:{defaultValue:null,description:"Displayed when we have 0 records.",name:"emptyMessage",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},showTableHead:{defaultValue:{value:"true"},description:"",name:"showTableHead",required:!1,type:{name:"boolean"}},stacked:{defaultValue:null,description:"",name:"stacked",required:!1,type:{name:"boolean"}},sort:{defaultValue:null,description:"",name:"sort",required:!1,type:{name:"TableSort"}},onSort:{defaultValue:null,description:"",name:"onSort",required:!1,type:{name:"((sort: TableSort) => void)"}},hidePagination:{defaultValue:{value:"false"},description:"",name:"hidePagination",required:!1,type:{name:"boolean"}},handleRowClick:{defaultValue:null,description:"",name:"handleRowClick",required:!1,type:{name:"((record: T) => void)"}},RowActions:{defaultValue:null,description:"",name:"RowActions",required:!1,type:{name:"ComponentType<{ record: T; }>"}},getRowClassName:{defaultValue:null,description:"",name:"getRowClassName",required:!1,type:{name:"((record: T) => Argument)"}}}}}catch{}export{j as T,aa as _,ra as a,ta as b,la as i,na as m};
//# sourceMappingURL=table-6b2e8f20.js.map
