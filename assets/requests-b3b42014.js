import{R as E,r as ye}from"./index-6f814c40.js";import{W as kt,g as Hr,X as _n,D as Vt}from"./drawer-23c402cd.js";import{l as L}from"./table-71021ffa.js";import{r as en,t as It,E as In,q as kr,s as On,v as Rn,w as Fn,x as tn,y as Pn,Q as zn,z as Ln,A as Bn,j as Or,B as Mn,m as Ge,F as Rr,f as rn,n as nn,l as Un,o as Hn,b as an,k as on,G as kn,H as sn,I as Vn,J as Vr,K as qn,L as Gn,M as $n,N as jn,O as Wn,R as Yn,U as qr,V as lt,W as cn,X as Kn}from"./index-89e87d39.js";import{q as ln,c as Jn,a as Qn}from"./index-7a14e213.js";import{c as un}from"./index-74f03c09.js";import{S as Xn}from"./spinner-66aa4ba7.js";import"./action-list-c7a6be07.js";function Zn(t,a){en(2,arguments);var o=It(t),s=It(a);return o.getTime()<s.getTime()}function ei(t,a){en(2,arguments);var o=It(t),s=It(a);return o.getTime()===s.getTime()}const Ot=({isOpen:t,onAfterClosed:a,children:o,className:s})=>E.createElement(kt,{appear:!0,show:t,as:ye.Fragment},E.createElement(Hr,{as:"div",className:"ctw-relative ctw-z-[10100]",onClose:()=>{}},E.createElement(kt.Child,{as:ye.Fragment,enter:"ctw-ease-out ctw-duration-300",enterFrom:"ctw-opacity-0",enterTo:"ctw-opacity-100",leave:"ctw-ease-in ctw-duration-200",leaveFrom:"ctw-opacity-100",leaveTo:"ctw-opacity-0",afterLeave:a},E.createElement("div",{className:"ctw-fixed ctw-inset-0  ctw-transition-opacity"},E.createElement("div",{className:"ctw-h-full ctw-w-full ctw-bg-content-light ctw-opacity-75"}))),E.createElement("div",{className:"ctw-fixed ctw-inset-0 ctw-overflow-auto"},E.createElement("div",{className:"ctw-flex ctw-min-h-full ctw-items-center ctw-justify-center ctw-p-4 ctw-text-center"},E.createElement(kt.Child,{as:ye.Fragment,enter:"ctw-ease-out ctw-duration-300",enterFrom:"ctw-opacity-0 ctw-scale-95",enterTo:"ctw-opacity-100 ctw-scale-100",leave:"ctw-ease-in ctw-duration-200",leaveFrom:"ctw-opacity-100 ctw-scale-100",leaveTo:"ctw-opacity-0 ctw-scale-95"},E.createElement(Hr.Panel,{className:un("ctw-min-w-fit ctw-max-w-lg ctw-transform ctw-rounded-lg ctw-bg-white ctw-py-10 ctw-px-10 ctw-align-middle ctw-shadow-xl",s)},E.createElement("div",{className:"ctw-flex ctw-h-full ctw-flex-col ctw-space-y-6"},o)))))));try{Ot.displayName="Modal",Ot.__docgenInfo={description:"",displayName:"Modal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onAfterClosed:{defaultValue:null,description:"",name:"onAfterClosed",required:!1,type:{name:"(() => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Qt=({resource:t,resourceName:a,onDelete:o,onClose:s,...p})=>{const[h,b]=ye.useState(),[m,C]=ye.useState(!1),B=async()=>{try{C(!0),await o(),C(!1),s()}catch(W){throw C(!1),b("Something went wrong. Please try again."),W}},H=t.resourceType.toLowerCase();return E.createElement(Ot,{onAfterClosed:()=>b(void 0),...p},h&&E.createElement(In,{header:h}),E.createElement("div",{className:"ctw-items-left ctw-flex ctw-h-full ctw-flex-col ctw-space-y-2 ctw-overflow-y-auto"},E.createElement("span",{className:"ctw-text-left ctw-text-lg ctw-font-medium ctw-text-content-black"},`Remove this ${H}?`),E.createElement("span",{className:"ctw-subtext ctw-max-w-sm ctw-text-left ctw-text-content-light"},"This will remove"," ",E.createElement("span",{className:"ctw-font-medium"},a)," from this patient's ",H," list.")),E.createElement("div",{className:"ctw-flex ctw-w-full ctw-space-x-4"},E.createElement("button",{type:"button",onClick:s,className:"ctw-btn-default ctw-flex-1"},"Cancel"),E.createElement("button",{type:"button",disabled:m,onClick:B,className:"ctw-btn-primary ctw-save-button ctw-flex-1"},m?"Removing...":"Remove",m&&E.createElement(Xn,{className:"ctw-ml-2 ctw-text-white"}))))};try{Qt.displayName="ModalConfirmDelete",Qt.__docgenInfo={description:"",displayName:"ModalConfirmDelete",props:{resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"Resource"}},resourceName:{defaultValue:null,description:"",name:"resourceName",required:!0,type:{name:"string"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!0,type:{name:"() => Promise<void>"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}}}}}catch{}const Rt=({condition:t})=>{var a;return E.createElement("div",{className:"ctw-py-2"},E.createElement("div",{className:"ctw-text-2xl"},t.display," (",(a=t.preferredCoding)==null?void 0:a.code,")"),E.createElement("div",{className:"ctw-text-sm"},t.ccsChapter))};try{Rt.displayName="ConditionHeader",Rt.__docgenInfo={description:"",displayName:"ConditionHeader",props:{condition:{defaultValue:null,description:"",name:"condition",required:!0,type:{name:"ConditionModel"}}}}}catch{}async function ti(t,a,o,s){var b;if(!a.id)throw new Error(`Tried to ${s} a resource that hasn't been created yet.`);if(!a.isSummaryResource)throw new Error(`Tried to ${s} a patient record resource.`);if(t){const m=L.filter((b=t.meta)==null?void 0:b.tag,{system:kr});try{await On(t,o,m)}catch{throw new Error(`There was an error setting ${s} for a resource.`)}}const p={resourceType:"Basic",id:t==null?void 0:t.id,meta:{tag:[{system:kr,code:s}]},code:{coding:[{system:Rn,code:"adminact",display:"Administrative Activity"}],text:"Administrative Activity"},subject:{reference:`${a.resourceType}/${a.id}`,type:a.resourceType},author:await Fn(o)};if(!(await tn(p,o)).id)throw new Error(`Failed to ${s} resource with id of ${a.id}`)}const ri=async(t,a)=>{if(!t.id)throw new Error("Tried to edit a resource that hasn't been created yet.");const o=L.cloneDeep(t);if(o.verificationStatus={coding:[{code:"entered-in-error",system:Pn}]},delete o.clinicalStatus,!(await tn(o,a)).id)throw new Error(`Failed to edit resource with id of ${t.id}`);await ln.invalidateQueries([zn])},ro=async(t,a)=>{const o=t.getBasicResourceByAction("archive")||t.getBasicResourceByAction("unarchive"),s=t.isArchived?"unarchive":"archive";await ti(o,t,a,s),await ln.invalidateQueries([Ln])},ni=async(t,a)=>{const{authToken:o,contextBuilderId:s}=t;return(await(await Jn(`${Bn(t.env)}?display=${a}`,{headers:{Authorization:`Bearer ${o}`,...s&&{"Zus-Account":s}}})).json()).conditionsList},Xt=({defaultCoding:t,readonly:a,...o})=>{const{getRequestContext:s}=Or(),[p,h]=ye.useState(!1),[b,m]=ye.useState(),C=async B=>{h(!0);const H=await s(),W=await ni(H,B);W&&m(W.map(oe=>({value:oe,label:oe.display}))),h(!1)};return E.createElement(Mn,{options:b||[],isLoading:p,name:`${o.name}`,defaultSearchTerm:o.defaultValue,readonly:a,onSearchChange:C,defaultValue:t})};try{Xt.displayName="ConditionsAutoComplete",Xt.__docgenInfo={description:"",displayName:"ConditionsAutoComplete",props:{defaultCoding:{defaultValue:null,description:"",name:"defaultCoding",required:!1,type:{name:"Coding"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!0,type:{name:"boolean | undefined"}}}}}catch{}const Zt=({condition:t})=>[{label:"Condition",field:"condition",value:t.display,readonly:!1,render:(a,o)=>E.createElement(Xt,{readonly:a,...o,defaultCoding:t.preferredCoding??{}})},...dn(t)],er=({condition:t})=>[{label:"id",value:t.id,field:"id",readonly:!0,hidden:!0},...dn(t)],dn=t=>[{label:"subject",value:t.subjectID,field:"subjectID",readonly:!0,hidden:!0},{label:"Status",value:t.status==="Unknown"?"Select One":t.status,field:"status"},{label:"Onset",value:t.onset,field:"onset"},{label:"Abatement",value:t.abatement,field:"abatement"},{label:"Note",value:t.notes,lines:3,field:"note"}],pn=Ge.object({id:Ge.string().optional(),subjectID:Ge.string({required_error:"Condition subjectID must be specified."}),status:Ge.enum(["Active","Pending","Inactive","Refuted","Entered In Error"]),onset:Ge.date().max(new Date,{message:"Onset cannot be a future date."}).optional(),abatement:Ge.date().max(new Date,{message:"Abatement cannot be a future date."}).optional(),note:Ge.string().optional()}),mn=(t,a)=>{t.abatement&&t.status!=="Inactive"&&a.addIssue({code:Ge.ZodIssueCode.custom,message:"Status must be inactive.",path:["abatement"]}),t.abatement&&t.onset&&t.abatement<t.onset&&a.addIssue({code:Ge.ZodIssueCode.custom,message:"Abatement date must be after onset date.",path:["abatement"]})},ii=pn.superRefine((t,a)=>mn(t,a)),ai=pn.extend({condition:Ge.object({code:Ge.string({required_error:"Please choose a condition."}),display:Ge.string().optional(),system:Ge.string().optional()})}).superRefine((t,a)=>mn(t,a));try{Zt.displayName="getAddConditionData",Zt.__docgenInfo={description:"",displayName:"getAddConditionData",props:{condition:{defaultValue:null,description:"",name:"condition",required:!0,type:{name:"ConditionModel"}}}}}catch{}try{er.displayName="getEditingPatientConditionData",er.__docgenInfo={description:"",displayName:"getEditingPatientConditionData",props:{condition:{defaultValue:null,description:"",name:"condition",required:!0,type:{name:"ConditionModel"}}}}}catch{}function no(){var s;const{openDrawer:t}=Rr(),o=((s=rn().data)==null?void 0:s.id)??"";return p=>{const h=new nn(p?Un(p.resource):Hn(o));t({component:b=>E.createElement(an,{title:"Add Condition",schema:ai,action:L.curry(on)(h,o),data:Zt({condition:h}),...b})})}}function oi(){var s;const{openDrawer:t}=Rr(),o=((s=rn().data)==null?void 0:s.id)??"";return p=>{t({component:h=>E.createElement(an,{title:"Edit Condition",header:E.createElement(Rt,{condition:p}),schema:ii,action:L.curry(on)(p,o),data:er({condition:p}),...h})})}}function io(){const{openModal:t}=kn(),{getRequestContext:a}=Or();return o=>{t({component:s=>E.createElement(Qt,{resource:o.resource,resourceName:o.display??"unnamed condition",onDelete:async()=>{const p=await a();await ri(o.resource,p)},...s})})}}var si=Qn(),hn={},Mt={};Mt.byteLength=ui;Mt.toByteArray=pi;Mt.fromByteArray=hi;var nt=[],Ye=[],ci=typeof Uint8Array<"u"?Uint8Array:Array,qt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var vt=0,li=qt.length;vt<li;++vt)nt[vt]=qt[vt],Ye[qt.charCodeAt(vt)]=vt;Ye["-".charCodeAt(0)]=62;Ye["_".charCodeAt(0)]=63;function yn(t){var a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=t.indexOf("=");o===-1&&(o=a);var s=o===a?0:4-o%4;return[o,s]}function ui(t){var a=yn(t),o=a[0],s=a[1];return(o+s)*3/4-s}function di(t,a,o){return(a+o)*3/4-o}function pi(t){var a,o=yn(t),s=o[0],p=o[1],h=new ci(di(t,s,p)),b=0,m=p>0?s-4:s,C;for(C=0;C<m;C+=4)a=Ye[t.charCodeAt(C)]<<18|Ye[t.charCodeAt(C+1)]<<12|Ye[t.charCodeAt(C+2)]<<6|Ye[t.charCodeAt(C+3)],h[b++]=a>>16&255,h[b++]=a>>8&255,h[b++]=a&255;return p===2&&(a=Ye[t.charCodeAt(C)]<<2|Ye[t.charCodeAt(C+1)]>>4,h[b++]=a&255),p===1&&(a=Ye[t.charCodeAt(C)]<<10|Ye[t.charCodeAt(C+1)]<<4|Ye[t.charCodeAt(C+2)]>>2,h[b++]=a>>8&255,h[b++]=a&255),h}function mi(t){return nt[t>>18&63]+nt[t>>12&63]+nt[t>>6&63]+nt[t&63]}function fi(t,a,o){for(var s,p=[],h=a;h<o;h+=3)s=(t[h]<<16&16711680)+(t[h+1]<<8&65280)+(t[h+2]&255),p.push(mi(s));return p.join("")}function hi(t){for(var a,o=t.length,s=o%3,p=[],h=16383,b=0,m=o-s;b<m;b+=h)p.push(fi(t,b,b+h>m?m:b+h));return s===1?(a=t[o-1],p.push(nt[a>>2]+nt[a<<4&63]+"==")):s===2&&(a=(t[o-2]<<8)+t[o-1],p.push(nt[a>>10]+nt[a>>4&63]+nt[a<<2&63]+"=")),p.join("")}var Fr={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Fr.read=function(t,a,o,s,p){var h,b,m=p*8-s-1,C=(1<<m)-1,B=C>>1,H=-7,W=o?p-1:0,oe=o?-1:1,ie=t[a+W];for(W+=oe,h=ie&(1<<-H)-1,ie>>=-H,H+=m;H>0;h=h*256+t[a+W],W+=oe,H-=8);for(b=h&(1<<-H)-1,h>>=-H,H+=s;H>0;b=b*256+t[a+W],W+=oe,H-=8);if(h===0)h=1-B;else{if(h===C)return b?NaN:(ie?-1:1)*(1/0);b=b+Math.pow(2,s),h=h-B}return(ie?-1:1)*b*Math.pow(2,h-s)};Fr.write=function(t,a,o,s,p,h){var b,m,C,B=h*8-p-1,H=(1<<B)-1,W=H>>1,oe=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,ie=s?0:h-1,me=s?1:-1,Ve=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(m=isNaN(a)?1:0,b=H):(b=Math.floor(Math.log(a)/Math.LN2),a*(C=Math.pow(2,-b))<1&&(b--,C*=2),b+W>=1?a+=oe/C:a+=oe*Math.pow(2,1-W),a*C>=2&&(b++,C/=2),b+W>=H?(m=0,b=H):b+W>=1?(m=(a*C-1)*Math.pow(2,p),b=b+W):(m=a*Math.pow(2,W-1)*Math.pow(2,p),b=0));p>=8;t[o+ie]=m&255,ie+=me,m/=256,p-=8);for(b=b<<p|m,B+=p;B>0;t[o+ie]=b&255,ie+=me,b/=256,B-=8);t[o+ie-me]|=Ve*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var a=Mt,o=Fr,s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=m,t.SlowBuffer=ce,t.INSPECT_MAX_BYTES=50;var p=2147483647;t.kMaxLength=p,m.TYPED_ARRAY_SUPPORT=h(),!m.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var c=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(c,n),c.foo()===42}catch{return!1}}Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}});function b(c){if(c>p)throw new RangeError('The value "'+c+'" is invalid for option "size"');var n=new Uint8Array(c);return Object.setPrototypeOf(n,m.prototype),n}function m(c,n,i){if(typeof c=="number"){if(typeof n=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return W(c)}return C(c,n,i)}m.poolSize=8192;function C(c,n,i){if(typeof c=="string")return oe(c,n);if(ArrayBuffer.isView(c))return me(c);if(c==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);if(R(c,ArrayBuffer)||c&&R(c.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(R(c,SharedArrayBuffer)||c&&R(c.buffer,SharedArrayBuffer)))return Ve(c,n,i);if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var l=c.valueOf&&c.valueOf();if(l!=null&&l!==c)return m.from(l,n,i);var v=de(c);if(v)return v;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof c[Symbol.toPrimitive]=="function")return m.from(c[Symbol.toPrimitive]("string"),n,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c)}m.from=function(c,n,i){return C(c,n,i)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array);function B(c){if(typeof c!="number")throw new TypeError('"size" argument must be of type number');if(c<0)throw new RangeError('The value "'+c+'" is invalid for option "size"')}function H(c,n,i){return B(c),c<=0?b(c):n!==void 0?typeof i=="string"?b(c).fill(n,i):b(c).fill(n):b(c)}m.alloc=function(c,n,i){return H(c,n,i)};function W(c){return B(c),b(c<0?0:w(c)|0)}m.allocUnsafe=function(c){return W(c)},m.allocUnsafeSlow=function(c){return W(c)};function oe(c,n){if((typeof n!="string"||n==="")&&(n="utf8"),!m.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var i=De(c,n)|0,l=b(i),v=l.write(c,n);return v!==i&&(l=l.slice(0,v)),l}function ie(c){for(var n=c.length<0?0:w(c.length)|0,i=b(n),l=0;l<n;l+=1)i[l]=c[l]&255;return i}function me(c){if(R(c,Uint8Array)){var n=new Uint8Array(c);return Ve(n.buffer,n.byteOffset,n.byteLength)}return ie(c)}function Ve(c,n,i){if(n<0||c.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<n+(i||0))throw new RangeError('"length" is outside of buffer bounds');var l;return n===void 0&&i===void 0?l=new Uint8Array(c):i===void 0?l=new Uint8Array(c,n):l=new Uint8Array(c,n,i),Object.setPrototypeOf(l,m.prototype),l}function de(c){if(m.isBuffer(c)){var n=w(c.length)|0,i=b(n);return i.length===0||c.copy(i,0,0,n),i}if(c.length!==void 0)return typeof c.length!="number"||it(c.length)?b(0):ie(c);if(c.type==="Buffer"&&Array.isArray(c.data))return ie(c.data)}function w(c){if(c>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+" bytes");return c|0}function ce(c){return+c!=c&&(c=0),m.alloc(+c)}m.isBuffer=function(n){return n!=null&&n._isBuffer===!0&&n!==m.prototype},m.compare=function(n,i){if(R(n,Uint8Array)&&(n=m.from(n,n.offset,n.byteLength)),R(i,Uint8Array)&&(i=m.from(i,i.offset,i.byteLength)),!m.isBuffer(n)||!m.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===i)return 0;for(var l=n.length,v=i.length,S=0,A=Math.min(l,v);S<A;++S)if(n[S]!==i[S]){l=n[S],v=i[S];break}return l<v?-1:v<l?1:0},m.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(n,i){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return m.alloc(0);var l;if(i===void 0)for(i=0,l=0;l<n.length;++l)i+=n[l].length;var v=m.allocUnsafe(i),S=0;for(l=0;l<n.length;++l){var A=n[l];if(R(A,Uint8Array))S+A.length>v.length?m.from(A).copy(v,S):Uint8Array.prototype.set.call(v,A,S);else if(m.isBuffer(A))A.copy(v,S);else throw new TypeError('"list" argument must be an Array of Buffers');S+=A.length}return v};function De(c,n){if(m.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||R(c,ArrayBuffer))return c.byteLength;if(typeof c!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof c);var i=c.length,l=arguments.length>2&&arguments[2]===!0;if(!l&&i===0)return 0;for(var v=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return O(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return ae(c).length;default:if(v)return l?-1:O(c).length;n=(""+n).toLowerCase(),v=!0}}m.byteLength=De;function K(c,n,i){var l=!1;if((n===void 0||n<0)&&(n=0),n>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,n>>>=0,i<=n))return"";for(c||(c="utf8");;)switch(c){case"hex":return Ue(this,n,i);case"utf8":case"utf-8":return be(this,n,i);case"ascii":return Be(this,n,i);case"latin1":case"binary":return Me(this,n,i);case"base64":return le(this,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie(this,n,i);default:if(l)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),l=!0}}m.prototype._isBuffer=!0;function pe(c,n,i){var l=c[n];c[n]=c[i],c[i]=l}m.prototype.swap16=function(){var n=this.length;if(n%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<n;i+=2)pe(this,i,i+1);return this},m.prototype.swap32=function(){var n=this.length;if(n%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<n;i+=4)pe(this,i,i+3),pe(this,i+1,i+2);return this},m.prototype.swap64=function(){var n=this.length;if(n%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<n;i+=8)pe(this,i,i+7),pe(this,i+1,i+6),pe(this,i+2,i+5),pe(this,i+3,i+4);return this},m.prototype.toString=function(){var n=this.length;return n===0?"":arguments.length===0?be(this,0,n):K.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(n){if(!m.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:m.compare(this,n)===0},m.prototype.inspect=function(){var n="",i=t.INSPECT_MAX_BYTES;return n=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(n+=" ... "),"<Buffer "+n+">"},s&&(m.prototype[s]=m.prototype.inspect),m.prototype.compare=function(n,i,l,v,S){if(R(n,Uint8Array)&&(n=m.from(n,n.offset,n.byteLength)),!m.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(i===void 0&&(i=0),l===void 0&&(l=n?n.length:0),v===void 0&&(v=0),S===void 0&&(S=this.length),i<0||l>n.length||v<0||S>this.length)throw new RangeError("out of range index");if(v>=S&&i>=l)return 0;if(v>=S)return-1;if(i>=l)return 1;if(i>>>=0,l>>>=0,v>>>=0,S>>>=0,this===n)return 0;for(var A=S-v,G=l-i,Y=Math.min(A,G),D=this.slice(v,S),_=n.slice(i,l),X=0;X<Y;++X)if(D[X]!==_[X]){A=D[X],G=_[X];break}return A<G?-1:G<A?1:0};function se(c,n,i,l,v){if(c.length===0)return-1;if(typeof i=="string"?(l=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,it(i)&&(i=v?0:c.length-1),i<0&&(i=c.length+i),i>=c.length){if(v)return-1;i=c.length-1}else if(i<0)if(v)i=0;else return-1;if(typeof n=="string"&&(n=m.from(n,l)),m.isBuffer(n))return n.length===0?-1:k(c,n,i,l,v);if(typeof n=="number")return n=n&255,typeof Uint8Array.prototype.indexOf=="function"?v?Uint8Array.prototype.indexOf.call(c,n,i):Uint8Array.prototype.lastIndexOf.call(c,n,i):k(c,[n],i,l,v);throw new TypeError("val must be string, number or Buffer")}function k(c,n,i,l,v){var S=1,A=c.length,G=n.length;if(l!==void 0&&(l=String(l).toLowerCase(),l==="ucs2"||l==="ucs-2"||l==="utf16le"||l==="utf-16le")){if(c.length<2||n.length<2)return-1;S=2,A/=2,G/=2,i/=2}function Y(qe,je){return S===1?qe[je]:qe.readUInt16BE(je*S)}var D;if(v){var _=-1;for(D=i;D<A;D++)if(Y(c,D)===Y(n,_===-1?0:D-_)){if(_===-1&&(_=D),D-_+1===G)return _*S}else _!==-1&&(D-=D-_),_=-1}else for(i+G>A&&(i=A-G),D=i;D>=0;D--){for(var X=!0,he=0;he<G;he++)if(Y(c,D+he)!==Y(n,he)){X=!1;break}if(X)return D}return-1}m.prototype.includes=function(n,i,l){return this.indexOf(n,i,l)!==-1},m.prototype.indexOf=function(n,i,l){return se(this,n,i,l,!0)},m.prototype.lastIndexOf=function(n,i,l){return se(this,n,i,l,!1)};function we(c,n,i,l){i=Number(i)||0;var v=c.length-i;l?(l=Number(l),l>v&&(l=v)):l=v;var S=n.length;l>S/2&&(l=S/2);for(var A=0;A<l;++A){var G=parseInt(n.substr(A*2,2),16);if(it(G))return A;c[i+A]=G}return A}function Pe(c,n,i,l){return U(O(n,c.length-i),c,i,l)}function ze(c,n,i,l){return U(He(n),c,i,l)}function Le(c,n,i,l){return U(ae(n),c,i,l)}function _e(c,n,i,l){return U(Ce(n,c.length-i),c,i,l)}m.prototype.write=function(n,i,l,v){if(i===void 0)v="utf8",l=this.length,i=0;else if(l===void 0&&typeof i=="string")v=i,l=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(l)?(l=l>>>0,v===void 0&&(v="utf8")):(v=l,l=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var S=this.length-i;if((l===void 0||l>S)&&(l=S),n.length>0&&(l<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");v||(v="utf8");for(var A=!1;;)switch(v){case"hex":return we(this,n,i,l);case"utf8":case"utf-8":return Pe(this,n,i,l);case"ascii":case"latin1":case"binary":return ze(this,n,i,l);case"base64":return Le(this,n,i,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,n,i,l);default:if(A)throw new TypeError("Unknown encoding: "+v);v=(""+v).toLowerCase(),A=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function le(c,n,i){return n===0&&i===c.length?a.fromByteArray(c):a.fromByteArray(c.slice(n,i))}function be(c,n,i){i=Math.min(c.length,i);for(var l=[],v=n;v<i;){var S=c[v],A=null,G=S>239?4:S>223?3:S>191?2:1;if(v+G<=i){var Y,D,_,X;switch(G){case 1:S<128&&(A=S);break;case 2:Y=c[v+1],(Y&192)===128&&(X=(S&31)<<6|Y&63,X>127&&(A=X));break;case 3:Y=c[v+1],D=c[v+2],(Y&192)===128&&(D&192)===128&&(X=(S&15)<<12|(Y&63)<<6|D&63,X>2047&&(X<55296||X>57343)&&(A=X));break;case 4:Y=c[v+1],D=c[v+2],_=c[v+3],(Y&192)===128&&(D&192)===128&&(_&192)===128&&(X=(S&15)<<18|(Y&63)<<12|(D&63)<<6|_&63,X>65535&&X<1114112&&(A=X))}}A===null?(A=65533,G=1):A>65535&&(A-=65536,l.push(A>>>10&1023|55296),A=56320|A&1023),l.push(A),v+=G}return Se(l)}var xe=4096;function Se(c){var n=c.length;if(n<=xe)return String.fromCharCode.apply(String,c);for(var i="",l=0;l<n;)i+=String.fromCharCode.apply(String,c.slice(l,l+=xe));return i}function Be(c,n,i){var l="";i=Math.min(c.length,i);for(var v=n;v<i;++v)l+=String.fromCharCode(c[v]&127);return l}function Me(c,n,i){var l="";i=Math.min(c.length,i);for(var v=n;v<i;++v)l+=String.fromCharCode(c[v]);return l}function Ue(c,n,i){var l=c.length;(!n||n<0)&&(n=0),(!i||i<0||i>l)&&(i=l);for(var v="",S=n;S<i;++S)v+=pt[c[S]];return v}function Ie(c,n,i){for(var l=c.slice(n,i),v="",S=0;S<l.length-1;S+=2)v+=String.fromCharCode(l[S]+l[S+1]*256);return v}m.prototype.slice=function(n,i){var l=this.length;n=~~n,i=i===void 0?l:~~i,n<0?(n+=l,n<0&&(n=0)):n>l&&(n=l),i<0?(i+=l,i<0&&(i=0)):i>l&&(i=l),i<n&&(i=n);var v=this.subarray(n,i);return Object.setPrototypeOf(v,m.prototype),v};function ee(c,n,i){if(c%1!==0||c<0)throw new RangeError("offset is not uint");if(c+n>i)throw new RangeError("Trying to access beyond buffer length")}m.prototype.readUintLE=m.prototype.readUIntLE=function(n,i,l){n=n>>>0,i=i>>>0,l||ee(n,i,this.length);for(var v=this[n],S=1,A=0;++A<i&&(S*=256);)v+=this[n+A]*S;return v},m.prototype.readUintBE=m.prototype.readUIntBE=function(n,i,l){n=n>>>0,i=i>>>0,l||ee(n,i,this.length);for(var v=this[n+--i],S=1;i>0&&(S*=256);)v+=this[n+--i]*S;return v},m.prototype.readUint8=m.prototype.readUInt8=function(n,i){return n=n>>>0,i||ee(n,1,this.length),this[n]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(n,i){return n=n>>>0,i||ee(n,2,this.length),this[n]|this[n+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(n,i){return n=n>>>0,i||ee(n,2,this.length),this[n]<<8|this[n+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(n,i){return n=n>>>0,i||ee(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+this[n+3]*16777216},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(n,i){return n=n>>>0,i||ee(n,4,this.length),this[n]*16777216+(this[n+1]<<16|this[n+2]<<8|this[n+3])},m.prototype.readIntLE=function(n,i,l){n=n>>>0,i=i>>>0,l||ee(n,i,this.length);for(var v=this[n],S=1,A=0;++A<i&&(S*=256);)v+=this[n+A]*S;return S*=128,v>=S&&(v-=Math.pow(2,8*i)),v},m.prototype.readIntBE=function(n,i,l){n=n>>>0,i=i>>>0,l||ee(n,i,this.length);for(var v=i,S=1,A=this[n+--v];v>0&&(S*=256);)A+=this[n+--v]*S;return S*=128,A>=S&&(A-=Math.pow(2,8*i)),A},m.prototype.readInt8=function(n,i){return n=n>>>0,i||ee(n,1,this.length),this[n]&128?(255-this[n]+1)*-1:this[n]},m.prototype.readInt16LE=function(n,i){n=n>>>0,i||ee(n,2,this.length);var l=this[n]|this[n+1]<<8;return l&32768?l|4294901760:l},m.prototype.readInt16BE=function(n,i){n=n>>>0,i||ee(n,2,this.length);var l=this[n+1]|this[n]<<8;return l&32768?l|4294901760:l},m.prototype.readInt32LE=function(n,i){return n=n>>>0,i||ee(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},m.prototype.readInt32BE=function(n,i){return n=n>>>0,i||ee(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},m.prototype.readFloatLE=function(n,i){return n=n>>>0,i||ee(n,4,this.length),o.read(this,n,!0,23,4)},m.prototype.readFloatBE=function(n,i){return n=n>>>0,i||ee(n,4,this.length),o.read(this,n,!1,23,4)},m.prototype.readDoubleLE=function(n,i){return n=n>>>0,i||ee(n,8,this.length),o.read(this,n,!0,52,8)},m.prototype.readDoubleBE=function(n,i){return n=n>>>0,i||ee(n,8,this.length),o.read(this,n,!1,52,8)};function M(c,n,i,l,v,S){if(!m.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>v||n<S)throw new RangeError('"value" argument is out of bounds');if(i+l>c.length)throw new RangeError("Index out of range")}m.prototype.writeUintLE=m.prototype.writeUIntLE=function(n,i,l,v){if(n=+n,i=i>>>0,l=l>>>0,!v){var S=Math.pow(2,8*l)-1;M(this,n,i,l,S,0)}var A=1,G=0;for(this[i]=n&255;++G<l&&(A*=256);)this[i+G]=n/A&255;return i+l},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(n,i,l,v){if(n=+n,i=i>>>0,l=l>>>0,!v){var S=Math.pow(2,8*l)-1;M(this,n,i,l,S,0)}var A=l-1,G=1;for(this[i+A]=n&255;--A>=0&&(G*=256);)this[i+A]=n/G&255;return i+l},m.prototype.writeUint8=m.prototype.writeUInt8=function(n,i,l){return n=+n,i=i>>>0,l||M(this,n,i,1,255,0),this[i]=n&255,i+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(n,i,l){return n=+n,i=i>>>0,l||M(this,n,i,2,65535,0),this[i]=n&255,this[i+1]=n>>>8,i+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(n,i,l){return n=+n,i=i>>>0,l||M(this,n,i,2,65535,0),this[i]=n>>>8,this[i+1]=n&255,i+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(n,i,l){return n=+n,i=i>>>0,l||M(this,n,i,4,4294967295,0),this[i+3]=n>>>24,this[i+2]=n>>>16,this[i+1]=n>>>8,this[i]=n&255,i+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(n,i,l){return n=+n,i=i>>>0,l||M(this,n,i,4,4294967295,0),this[i]=n>>>24,this[i+1]=n>>>16,this[i+2]=n>>>8,this[i+3]=n&255,i+4},m.prototype.writeIntLE=function(n,i,l,v){if(n=+n,i=i>>>0,!v){var S=Math.pow(2,8*l-1);M(this,n,i,l,S-1,-S)}var A=0,G=1,Y=0;for(this[i]=n&255;++A<l&&(G*=256);)n<0&&Y===0&&this[i+A-1]!==0&&(Y=1),this[i+A]=(n/G>>0)-Y&255;return i+l},m.prototype.writeIntBE=function(n,i,l,v){if(n=+n,i=i>>>0,!v){var S=Math.pow(2,8*l-1);M(this,n,i,l,S-1,-S)}var A=l-1,G=1,Y=0;for(this[i+A]=n&255;--A>=0&&(G*=256);)n<0&&Y===0&&this[i+A+1]!==0&&(Y=1),this[i+A]=(n/G>>0)-Y&255;return i+l},m.prototype.writeInt8=function(n,i,l){return n=+n,i=i>>>0,l||M(this,n,i,1,127,-128),n<0&&(n=255+n+1),this[i]=n&255,i+1},m.prototype.writeInt16LE=function(n,i,l){return n=+n,i=i>>>0,l||M(this,n,i,2,32767,-32768),this[i]=n&255,this[i+1]=n>>>8,i+2},m.prototype.writeInt16BE=function(n,i,l){return n=+n,i=i>>>0,l||M(this,n,i,2,32767,-32768),this[i]=n>>>8,this[i+1]=n&255,i+2},m.prototype.writeInt32LE=function(n,i,l){return n=+n,i=i>>>0,l||M(this,n,i,4,2147483647,-2147483648),this[i]=n&255,this[i+1]=n>>>8,this[i+2]=n>>>16,this[i+3]=n>>>24,i+4},m.prototype.writeInt32BE=function(n,i,l){return n=+n,i=i>>>0,l||M(this,n,i,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[i]=n>>>24,this[i+1]=n>>>16,this[i+2]=n>>>8,this[i+3]=n&255,i+4};function ut(c,n,i,l,v,S){if(i+l>c.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function ue(c,n,i,l,v){return n=+n,i=i>>>0,v||ut(c,n,i,4),o.write(c,n,i,l,23,4),i+4}m.prototype.writeFloatLE=function(n,i,l){return ue(this,n,i,!0,l)},m.prototype.writeFloatBE=function(n,i,l){return ue(this,n,i,!1,l)};function dt(c,n,i,l,v){return n=+n,i=i>>>0,v||ut(c,n,i,8),o.write(c,n,i,l,52,8),i+8}m.prototype.writeDoubleLE=function(n,i,l){return dt(this,n,i,!0,l)},m.prototype.writeDoubleBE=function(n,i,l){return dt(this,n,i,!1,l)},m.prototype.copy=function(n,i,l,v){if(!m.isBuffer(n))throw new TypeError("argument should be a Buffer");if(l||(l=0),!v&&v!==0&&(v=this.length),i>=n.length&&(i=n.length),i||(i=0),v>0&&v<l&&(v=l),v===l||n.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("sourceEnd out of bounds");v>this.length&&(v=this.length),n.length-i<v-l&&(v=n.length-i+l);var S=v-l;return this===n&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,l,v):Uint8Array.prototype.set.call(n,this.subarray(l,v),i),S},m.prototype.fill=function(n,i,l,v){if(typeof n=="string"){if(typeof i=="string"?(v=i,i=0,l=this.length):typeof l=="string"&&(v=l,l=this.length),v!==void 0&&typeof v!="string")throw new TypeError("encoding must be a string");if(typeof v=="string"&&!m.isEncoding(v))throw new TypeError("Unknown encoding: "+v);if(n.length===1){var S=n.charCodeAt(0);(v==="utf8"&&S<128||v==="latin1")&&(n=S)}}else typeof n=="number"?n=n&255:typeof n=="boolean"&&(n=Number(n));if(i<0||this.length<i||this.length<l)throw new RangeError("Out of range index");if(l<=i)return this;i=i>>>0,l=l===void 0?this.length:l>>>0,n||(n=0);var A;if(typeof n=="number")for(A=i;A<l;++A)this[A]=n;else{var G=m.isBuffer(n)?n:m.from(n,v),Y=G.length;if(Y===0)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(A=0;A<l-i;++A)this[A+i]=G[A%Y]}return this};var te=/[^+/0-9A-Za-z-_]/g;function I(c){if(c=c.split("=")[0],c=c.trim().replace(te,""),c.length<2)return"";for(;c.length%4!==0;)c=c+"=";return c}function O(c,n){n=n||1/0;for(var i,l=c.length,v=null,S=[],A=0;A<l;++A){if(i=c.charCodeAt(A),i>55295&&i<57344){if(!v){if(i>56319){(n-=3)>-1&&S.push(239,191,189);continue}else if(A+1===l){(n-=3)>-1&&S.push(239,191,189);continue}v=i;continue}if(i<56320){(n-=3)>-1&&S.push(239,191,189),v=i;continue}i=(v-55296<<10|i-56320)+65536}else v&&(n-=3)>-1&&S.push(239,191,189);if(v=null,i<128){if((n-=1)<0)break;S.push(i)}else if(i<2048){if((n-=2)<0)break;S.push(i>>6|192,i&63|128)}else if(i<65536){if((n-=3)<0)break;S.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((n-=4)<0)break;S.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return S}function He(c){for(var n=[],i=0;i<c.length;++i)n.push(c.charCodeAt(i)&255);return n}function Ce(c,n){for(var i,l,v,S=[],A=0;A<c.length&&!((n-=2)<0);++A)i=c.charCodeAt(A),l=i>>8,v=i%256,S.push(v),S.push(l);return S}function ae(c){return a.toByteArray(I(c))}function U(c,n,i,l){for(var v=0;v<l&&!(v+i>=n.length||v>=c.length);++v)n[v+i]=c[v];return v}function R(c,n){return c instanceof n||c!=null&&c.constructor!=null&&c.constructor.name!=null&&c.constructor.name===n.name}function it(c){return c!==c}var pt=function(){for(var c="0123456789abcdef",n=new Array(256),i=0;i<16;++i)for(var l=i*16,v=0;v<16;++v)n[l+v]=c[i]+c[v];return n}()})(hn);var x={};(function(t){var a=t;(function(o){function s(e){var r=Array.prototype.slice,u=e.length,f=function(y,F){return function(){return F.apply(this,y.concat(r.call(arguments)))}},d=function(){var y=r.call(arguments);return y.length<u?f(y,d):e.apply(this,r.apply(arguments,[0,u]))};return d}var p=function(e,r){for(var u=0;u<r.length;u+=1)e(r[u],u,r)},h=function(e,r,u){var f=r;return p(function(d,y){f=e(f,d,y)},u),f},b=function(e,r){var u=new Array(r.length);return p(function(f,d){u[d]=e(f)},r),u},m=function(e,r){var u=[];return p(function(f,d){e(f,d)&&u.push(f)},r),u},C=function(e,r){for(var u=0;u<e.length;u+=1)if(e[u]===r)return!0;return!1};function B(e){return function(){return e}}function H(e){return e.toString()}var W=function(e,r){return r.join(e)},oe=function(e,r,u){return e+u+r},ie=Array.prototype.concat,me=32767;function Ve(e){for(var r=[],u=0;u<e.length;u+=me){var f=e.slice(u,u+me);r=ie.apply(r,f)}return r}function de(e,r){for(var u=Object(e),f=1;f<arguments.length;f++){var d=arguments[f];if(d!=null)for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(u[y]=d[y])}return u}w.prototype=new Object,w.prototype.constructor=w,w.superclass=Object.prototype;function w(){this.init()}w.prototype.init=function(){this.reduceActions=[],this.reduceActions[3]=function(e){return new we(e[0],e[2])},this.reduceActions[5]=function(e){return new Pe(e[0],e[2])},this.reduceActions[7]=function(e){return new ze(e[0],e[2])},this.reduceActions[8]=function(e){return new Le(e[0],e[2])},this.reduceActions[10]=function(e){return new _e(e[0],e[2])},this.reduceActions[11]=function(e){return new le(e[0],e[2])},this.reduceActions[12]=function(e){return new be(e[0],e[2])},this.reduceActions[13]=function(e){return new xe(e[0],e[2])},this.reduceActions[15]=function(e){return new Se(e[0],e[2])},this.reduceActions[16]=function(e){return new Be(e[0],e[2])},this.reduceActions[18]=function(e){return new Me(e[0],e[2])},this.reduceActions[19]=function(e){return new Ue(e[0],e[2])},this.reduceActions[20]=function(e){return new Ie(e[0],e[2])},this.reduceActions[22]=function(e){return new se(e[1])},this.reduceActions[24]=function(e){return new ee(e[0],e[2])},this.reduceActions[25]=function(e){return new M(void 0,void 0,e[0])},this.reduceActions[27]=function(e){return e[0].locationPath=e[2],e[0]},this.reduceActions[28]=function(e){return e[0].locationPath=e[2],e[0].locationPath.steps.unshift(new I(I.DESCENDANTORSELF,O.nodeTest,[])),e[0]},this.reduceActions[29]=function(e){return new M(e[0],[],void 0)},this.reduceActions[30]=function(e){return _.instance_of(e[0],M)?(e[0].filterPredicates==null&&(e[0].filterPredicates=[]),e[0].filterPredicates.push(e[1]),e[0]):new M(e[0],[e[1]],void 0)},this.reduceActions[32]=function(e){return e[1]},this.reduceActions[33]=function(e){return new U(e[0])},this.reduceActions[34]=function(e){return new R(e[0])},this.reduceActions[36]=function(e){return new Ce(e[0],[])},this.reduceActions[37]=function(e){return new Ce(e[0],e[2])},this.reduceActions[38]=function(e){return[e[0]]},this.reduceActions[39]=function(e){return e[2].unshift(e[0]),e[2]},this.reduceActions[43]=function(e){return new te(!0,[])},this.reduceActions[44]=function(e){return e[1].absolute=!0,e[1]},this.reduceActions[46]=function(e){return new te(!1,[e[0]])},this.reduceActions[47]=function(e){return e[0].steps.push(e[2]),e[0]},this.reduceActions[49]=function(e){return new I(e[0],e[1],[])},this.reduceActions[50]=function(e){return new I(I.CHILD,e[0],[])},this.reduceActions[51]=function(e){return new I(e[0],e[1],e[2])},this.reduceActions[52]=function(e){return new I(I.CHILD,e[0],e[1])},this.reduceActions[54]=function(e){return[e[0]]},this.reduceActions[55]=function(e){return e[1].unshift(e[0]),e[1]},this.reduceActions[56]=function(e){return e[0]=="ancestor"?I.ANCESTOR:e[0]=="ancestor-or-self"?I.ANCESTORORSELF:e[0]=="attribute"?I.ATTRIBUTE:e[0]=="child"?I.CHILD:e[0]=="descendant"?I.DESCENDANT:e[0]=="descendant-or-self"?I.DESCENDANTORSELF:e[0]=="following"?I.FOLLOWING:e[0]=="following-sibling"?I.FOLLOWINGSIBLING:e[0]=="namespace"?I.NAMESPACE:e[0]=="parent"?I.PARENT:e[0]=="preceding"?I.PRECEDING:e[0]=="preceding-sibling"?I.PRECEDINGSIBLING:e[0]=="self"?I.SELF:-1},this.reduceActions[57]=function(e){return I.ATTRIBUTE},this.reduceActions[59]=function(e){return e[0]=="comment"?O.commentTest:e[0]=="text"?O.textTest:e[0]=="processing-instruction"?O.anyPiTest:e[0]=="node"?O.nodeTest:new O(-1,void 0)},this.reduceActions[60]=function(e){return new O.PITest(e[2])},this.reduceActions[61]=function(e){return e[1]},this.reduceActions[63]=function(e){return e[1].absolute=!0,e[1].steps.unshift(new I(I.DESCENDANTORSELF,O.nodeTest,[])),e[1]},this.reduceActions[64]=function(e){return e[0].steps.push(new I(I.DESCENDANTORSELF,O.nodeTest,[])),e[0].steps.push(e[2]),e[0]},this.reduceActions[65]=function(e){return new I(I.SELF,O.nodeTest,[])},this.reduceActions[66]=function(e){return new I(I.PARENT,O.nodeTest,[])},this.reduceActions[67]=function(e){return new He(e[1])},this.reduceActions[68]=function(e){return O.nameTestAny},this.reduceActions[69]=function(e){return new O.NameTestPrefixAny(e[0].split(":")[0])},this.reduceActions[70]=function(e){return new O.NameTestQName(e[0])}},w.actionTable=[" s s        sssssssss    s ss  s  ss","                 s                  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                rrrrr               "," s s        sssssssss    s ss  s  ss","rs  rrrrrrrr s  sssssrrrrrr  rrs rs "," s s        sssssssss    s ss  s  ss","                            s       ","                            s       ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","  s                                 ","                            s       "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr  r  ","a                                   ","r       s                    rr  r  ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrs  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  srrrrrrrr         rrrrrrs rr sr  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                sssss               ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  srrrrrrrr         rrrrrrs rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","              s                     ","                             s      ","                rrrrr               "," s s        sssssssss    s sss s  ss","r  srrrrrrrr         rrrrrrs rr  r  "," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss      ss  s  ss"," s s        sssssssss    s ss  s  ss"," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr rr  "," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             rr     ","                             s      ","                             rs     ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","                                 r  ","                                 s  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  "," s s        sssssssss    s ss  s  ss","r  rrrrrrrrr         rrrrrrr rr rr  ","                             r      "],w.actionTableNumber=[` 1 0        /.-,+*)('    & %$  #  "!`,"                 J                  ","a  aaaaaaaaa         aaaaaaa aa  a  ","                YYYYY               ",` 1 0        /.-,+*)('    & %$  #  "!`,`K1  KKKKKKKK .  +*)('KKKKKK  KK# K" `,` 1 0        /.-,+*)('    & %$  #  "!`,"                            N       ","                            O       ","e  eeeeeeeee         eeeeeee ee ee  ","f  fffffffff         fffffff ff ff  ","d  ddddddddd         ddddddd dd dd  ","B  BBBBBBBBB         BBBBBBB BB BB  ","A  AAAAAAAAA         AAAAAAA AA AA  ","  P                                 ","                            Q       ",` 1           .  +*)('          #  " `,"b  bbbbbbbbb         bbbbbbb bb  b  ","                                    ","!       S                    !!  !  ",'"      T"                    ""  "  ',"$   V  $$            U       $$  $  ","&   &ZY&&            &XW     &&  &  ",")   )))))            )))\\[   ))  )  ",".   ....._^]         .....   ..  .  ","1   11111111         11111   11  1  ","5   55555555         55555`  55  5  ","7   77777777         777777  77  7  ","9   99999999         999999  99  9  ",":  c::::::::         ::::::b :: a:  ","I  fIIIIIIII         IIIIIIe II  I  ","=  =========         ======= == ==  ","?  ?????????         ??????? ?? ??  ","C  CCCCCCCCC         CCCCCCC CC CC  ","J   JJJJJJJJ         JJJJJJ  JJ  J  ","M   MMMMMMMM         MMMMMM  MM  M  ","N  NNNNNNNNN         NNNNNNN NN  N  ","P  PPPPPPPPP         PPPPPPP PP  P  ","                +*)('               ","R  RRRRRRRRR         RRRRRRR RR aR  ","U  UUUUUUUUU         UUUUUUU UU  U  ","Z  ZZZZZZZZZ         ZZZZZZZ ZZ ZZ  ","c  ccccccccc         ccccccc cc cc  ","                             j      ","L  fLLLLLLLL         LLLLLLe LL  L  ","6   66666666         66666   66  6  ","              k                     ","                             l      ","                XXXXX               ",` 1 0        /.-,+*)('    & %$m #  "!`,"_  f________         ______e __  _  ",` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('      %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1           .  +*)('          #  " `,` 1           .  +*)('          #  " `,">  >>>>>>>>>         >>>>>>> >> >>  ",` 1           .  +*)('          #  " `,` 1           .  +*)('          #  " `,"Q  QQQQQQQQQ         QQQQQQQ QQ aQ  ","V  VVVVVVVVV         VVVVVVV VV aV  ","T  TTTTTTTTT         TTTTTTT TT  T  ","@  @@@@@@@@@         @@@@@@@ @@ @@  ","                                   ","[  [[[[[[[[[         [[[[[[[ [[ [[  ","D  DDDDDDDDD         DDDDDDD DD DD  ","                             HH     ","                                   ","                             F     ","#      T#                    ##  #  ","%   V  %%            U       %%  %  ","'   'ZY''            'XW     ''  '  ","(   (ZY((            (XW     ((  (  ","+   +++++            +++\\[   ++  +  ","*   *****            ***\\[   **  *  ","-   -----            ---\\[   --  -  ",",   ,,,,,            ,,,\\[   ,,  ,  ","0   00000_^]         00000   00  0  ","/   /////_^]         /////   //  /  ","2   22222222         22222   22  2  ","3   33333333         33333   33  3  ","4   44444444         44444   44  4  ","8   88888888         888888  88  8  ","                                 ^  ","                                   ",";  f;;;;;;;;         ;;;;;;e ;;  ;  ","<  f<<<<<<<<         <<<<<<e <<  <  ","O  OOOOOOOOO         OOOOOOO OO  O  ","`  `````````         ``````` ``  `  ","S  SSSSSSSSS         SSSSSSS SS  S  ","W  WWWWWWWWW         WWWWWWW WW  W  ","\\  \\\\\\\\\\\\\\\\\\         \\\\\\\\\\\\\\ \\\\ \\\\  ","E  EEEEEEEEE         EEEEEEE EE EE  ",` 1 0        /.-,+*)('    & %$  #  "!`,"]  ]]]]]]]]]         ]]]]]]] ]] ]]  ","                             G      "],w.gotoTable=["3456789:;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","L456789:;<=>?@ AB  CDEFGH IJ ","            M        EFGH IJ ","       N;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","            S        EFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","              e              ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                        h  J ","              i          j   ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ ABpqCDEFGH IJ ","                             ","  r6789:;<=>?@ AB  CDEFGH IJ ","   s789:;<=>?@ AB  CDEFGH IJ ","    t89:;<=>?@ AB  CDEFGH IJ ","    u89:;<=>?@ AB  CDEFGH IJ ","     v9:;<=>?@ AB  CDEFGH IJ ","     w9:;<=>?@ AB  CDEFGH IJ ","     x9:;<=>?@ AB  CDEFGH IJ ","     y9:;<=>?@ AB  CDEFGH IJ ","      z:;<=>?@ AB  CDEFGH IJ ","      {:;<=>?@ AB  CDEFGH IJ ","       |;<=>?@ AB  CDEFGH IJ ","       };<=>?@ AB  CDEFGH IJ ","       ~;<=>?@ AB  CDEFGH IJ ","         =>?@ AB  CDEFGH IJ ","456789:;<=>?@ AB  CDEFGH IJ","                    EFGH IJ ","                    EFGH IJ ","                             ","                      GH IJ ","                      GH IJ ","              i             ","              i             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ ABqCDEFGH IJ ","                             ","                             "],w.productions=[[1,1,2],[2,1,3],[3,1,4],[3,3,3,-9,4],[4,1,5],[4,3,4,-8,5],[5,1,6],[5,3,5,-22,6],[5,3,5,-5,6],[6,1,7],[6,3,6,-23,7],[6,3,6,-24,7],[6,3,6,-6,7],[6,3,6,-7,7],[7,1,8],[7,3,7,-25,8],[7,3,7,-26,8],[8,1,9],[8,3,8,-12,9],[8,3,8,-11,9],[8,3,8,-10,9],[9,1,10],[9,2,-26,9],[10,1,11],[10,3,10,-27,11],[11,1,12],[11,1,13],[11,3,13,-28,14],[11,3,13,-4,14],[13,1,15],[13,2,13,16],[15,1,17],[15,3,-29,2,-30],[15,1,-15],[15,1,-16],[15,1,18],[18,3,-13,-29,-30],[18,4,-13,-29,19,-30],[19,1,20],[19,3,20,-31,19],[20,1,2],[12,1,14],[12,1,21],[21,1,-28],[21,2,-28,14],[21,1,22],[14,1,23],[14,3,14,-28,23],[14,1,24],[23,2,25,26],[23,1,26],[23,3,25,26,27],[23,2,26,27],[23,1,28],[27,1,16],[27,2,16,27],[25,2,-14,-3],[25,1,-32],[26,1,29],[26,3,-20,-29,-30],[26,4,-21,-29,-15,-30],[16,3,-33,30,-34],[30,1,2],[22,2,-4,14],[24,3,14,-4,23],[28,1,-35],[28,1,-2],[17,2,-36,-18],[29,1,-17],[29,1,-19],[29,1,-18]],w.DOUBLEDOT=2,w.DOUBLECOLON=3,w.DOUBLESLASH=4,w.NOTEQUAL=5,w.LESSTHANOREQUAL=6,w.GREATERTHANOREQUAL=7,w.AND=8,w.OR=9,w.MOD=10,w.DIV=11,w.MULTIPLYOPERATOR=12,w.FUNCTIONNAME=13,w.AXISNAME=14,w.LITERAL=15,w.NUMBER=16,w.ASTERISKNAMETEST=17,w.QNAME=18,w.NCNAMECOLONASTERISK=19,w.NODETYPE=20,w.PROCESSINGINSTRUCTIONWITHLITERAL=21,w.EQUALS=22,w.LESSTHAN=23,w.GREATERTHAN=24,w.PLUS=25,w.MINUS=26,w.BAR=27,w.SLASH=28,w.LEFTPARENTHESIS=29,w.RIGHTPARENTHESIS=30,w.COMMA=31,w.AT=32,w.LEFTBRACKET=33,w.RIGHTBRACKET=34,w.DOT=35,w.DOLLAR=36,w.prototype.tokenize=function(e){for(var r=[],u=[],f=e+"\0",d=0,y=f.charAt(d++);;){for(;y==" "||y=="	"||y=="\r"||y==`
`;)y=f.charAt(d++);if(y=="\0"||d>=f.length)break;if(y=="("){r.push(w.LEFTPARENTHESIS),u.push(y),y=f.charAt(d++);continue}if(y==")"){r.push(w.RIGHTPARENTHESIS),u.push(y),y=f.charAt(d++);continue}if(y=="["){r.push(w.LEFTBRACKET),u.push(y),y=f.charAt(d++);continue}if(y=="]"){r.push(w.RIGHTBRACKET),u.push(y),y=f.charAt(d++);continue}if(y=="@"){r.push(w.AT),u.push(y),y=f.charAt(d++);continue}if(y==","){r.push(w.COMMA),u.push(y),y=f.charAt(d++);continue}if(y=="|"){r.push(w.BAR),u.push(y),y=f.charAt(d++);continue}if(y=="+"){r.push(w.PLUS),u.push(y),y=f.charAt(d++);continue}if(y=="-"){r.push(w.MINUS),u.push(y),y=f.charAt(d++);continue}if(y=="="){r.push(w.EQUALS),u.push(y),y=f.charAt(d++);continue}if(y=="$"){r.push(w.DOLLAR),u.push(y),y=f.charAt(d++);continue}if(y=="."){if(y=f.charAt(d++),y=="."){r.push(w.DOUBLEDOT),u.push(".."),y=f.charAt(d++);continue}if(y>="0"&&y<="9"){var F="."+y;for(y=f.charAt(d++);y>="0"&&y<="9";)F+=y,y=f.charAt(d++);r.push(w.NUMBER),u.push(F);continue}r.push(w.DOT),u.push(".");continue}if(y=="'"||y=='"'){for(var V=y,Q="";d<f.length&&(y=f.charAt(d))!==V;)Q+=y,d+=1;if(y!==V)throw X.fromMessage("Unterminated string literal: "+V+Q);d+=1,r.push(w.LITERAL),u.push(Q),y=f.charAt(d++);continue}if(y>="0"&&y<="9"){var F=y;for(y=f.charAt(d++);y>="0"&&y<="9";)F+=y,y=f.charAt(d++);if(y=="."&&f.charAt(d)>="0"&&f.charAt(d)<="9")for(F+=y,F+=f.charAt(d++),y=f.charAt(d++);y>="0"&&y<="9";)F+=y,y=f.charAt(d++);r.push(w.NUMBER),u.push(F);continue}if(y=="*"){if(r.length>0){var P=r[r.length-1];if(P!=w.AT&&P!=w.DOUBLECOLON&&P!=w.LEFTPARENTHESIS&&P!=w.LEFTBRACKET&&P!=w.AND&&P!=w.OR&&P!=w.MOD&&P!=w.DIV&&P!=w.MULTIPLYOPERATOR&&P!=w.SLASH&&P!=w.DOUBLESLASH&&P!=w.BAR&&P!=w.PLUS&&P!=w.MINUS&&P!=w.EQUALS&&P!=w.NOTEQUAL&&P!=w.LESSTHAN&&P!=w.LESSTHANOREQUAL&&P!=w.GREATERTHAN&&P!=w.GREATERTHANOREQUAL){r.push(w.MULTIPLYOPERATOR),u.push(y),y=f.charAt(d++);continue}}r.push(w.ASTERISKNAMETEST),u.push(y),y=f.charAt(d++);continue}if(y==":"&&f.charAt(d)==":"){r.push(w.DOUBLECOLON),u.push("::"),d++,y=f.charAt(d++);continue}if(y=="/"){if(y=f.charAt(d++),y=="/"){r.push(w.DOUBLESLASH),u.push("//"),y=f.charAt(d++);continue}r.push(w.SLASH),u.push("/");continue}if(y=="!"&&f.charAt(d)=="="){r.push(w.NOTEQUAL),u.push("!="),d++,y=f.charAt(d++);continue}if(y=="<"){if(f.charAt(d)=="="){r.push(w.LESSTHANOREQUAL),u.push("<="),d++,y=f.charAt(d++);continue}r.push(w.LESSTHAN),u.push("<"),y=f.charAt(d++);continue}if(y==">"){if(f.charAt(d)=="="){r.push(w.GREATERTHANOREQUAL),u.push(">="),d++,y=f.charAt(d++);continue}r.push(w.GREATERTHAN),u.push(">"),y=f.charAt(d++);continue}if(y=="_"||_.isLetter(y.charCodeAt(0))){var $=y;for(y=f.charAt(d++);_.isNCNameChar(y.charCodeAt(0));)$+=y,y=f.charAt(d++);if(r.length>0){var P=r[r.length-1];if(P!=w.AT&&P!=w.DOUBLECOLON&&P!=w.LEFTPARENTHESIS&&P!=w.LEFTBRACKET&&P!=w.AND&&P!=w.OR&&P!=w.MOD&&P!=w.DIV&&P!=w.MULTIPLYOPERATOR&&P!=w.SLASH&&P!=w.DOUBLESLASH&&P!=w.BAR&&P!=w.PLUS&&P!=w.MINUS&&P!=w.EQUALS&&P!=w.NOTEQUAL&&P!=w.LESSTHAN&&P!=w.LESSTHANOREQUAL&&P!=w.GREATERTHAN&&P!=w.GREATERTHANOREQUAL){if($=="and"){r.push(w.AND),u.push($);continue}if($=="or"){r.push(w.OR),u.push($);continue}if($=="mod"){r.push(w.MOD),u.push($);continue}if($=="div"){r.push(w.DIV),u.push($);continue}}}if(y==":"){if(f.charAt(d)=="*"){r.push(w.NCNAMECOLONASTERISK),u.push($+":*"),d++,y=f.charAt(d++);continue}if(f.charAt(d)=="_"||_.isLetter(f.charCodeAt(d))){for($+=":",y=f.charAt(d++);_.isNCNameChar(y.charCodeAt(0));)$+=y,y=f.charAt(d++);if(y=="("){r.push(w.FUNCTIONNAME),u.push($);continue}r.push(w.QNAME),u.push($);continue}if(f.charAt(d)==":"){r.push(w.AXISNAME),u.push($);continue}}if(y=="("){if($=="comment"||$=="text"||$=="node"){r.push(w.NODETYPE),u.push($);continue}if($=="processing-instruction"){f.charAt(d)==")"?r.push(w.NODETYPE):r.push(w.PROCESSINGINSTRUCTIONWITHLITERAL),u.push($);continue}r.push(w.FUNCTIONNAME),u.push($);continue}r.push(w.QNAME),u.push($);continue}throw new Error("Unexpected character "+y)}return r.push(1),u.push("[EOF]"),[r,u]},w.SHIFT="s",w.REDUCE="r",w.ACCEPT="a",w.prototype.parse=function(Q){var r,u,f=this.tokenize(Q);if(f!=null){r=f[0],u=f[1];var d=0,y=[],F=[],V=[],Q,P,$;for(y.push(0),F.push(1),V.push("_S"),P=r[d],$=u[d++];;)switch(Q=y[y.length-1],w.actionTable[Q].charAt(P-1)){case w.SHIFT:F.push(-P),V.push($),y.push(w.actionTableNumber[Q].charCodeAt(P-1)-32),P=r[d],$=u[d++];break;case w.REDUCE:for(var Ae=w.productions[w.actionTableNumber[Q].charCodeAt(P-1)-32][1],re=[],Je=0;Je<Ae;Je++)F.pop(),re.unshift(V.pop()),y.pop();var rt=y[y.length-1];F.push(w.productions[w.actionTableNumber[Q].charCodeAt(P-1)-32][0]),this.reduceActions[w.actionTableNumber[Q].charCodeAt(P-1)-32]==null?V.push(re[0]):V.push(this.reduceActions[w.actionTableNumber[Q].charCodeAt(P-1)-32](re)),y.push(w.gotoTable[rt].charCodeAt(w.productions[w.actionTableNumber[Q].charCodeAt(P-1)-32][0]-2)-33);break;case w.ACCEPT:return new ce(V.pop());default:throw new Error("XPath parse error")}}},ce.prototype=new Object,ce.prototype.constructor=ce,ce.superclass=Object.prototype;function ce(e){this.expression=e}ce.prototype.toString=function(){return this.expression.toString()};function De(e,r,u){r in e||(e[r]=u)}ce.prototype.evaluate=function(e){return e.contextNode=e.expressionContextNode,e.contextSize=1,e.contextPosition=1,e.isHtml&&(De(e,"caseInsensitive",!0),De(e,"allowAnyNamespaceForNoPrefix",!0)),De(e,"caseInsensitive",!1),this.expression.evaluate(e)},ce.XML_NAMESPACE_URI="http://www.w3.org/XML/1998/namespace",ce.XMLNS_NAMESPACE_URI="http://www.w3.org/2000/xmlns/",K.prototype=new Object,K.prototype.constructor=K,K.superclass=Object.prototype;function K(){}K.prototype.init=function(){},K.prototype.toString=function(){return"<Expression>"},K.prototype.evaluate=function(e){throw new Error("Could not evaluate expression.")},pe.prototype=new K,pe.prototype.constructor=pe,pe.superclass=K.prototype;function pe(e){arguments.length>0&&this.init(e)}pe.prototype.init=function(e){this.rhs=e},se.prototype=new pe,se.prototype.constructor=se,se.superclass=pe.prototype;function se(e){arguments.length>0&&this.init(e)}se.prototype.init=function(e){se.superclass.init.call(this,e)},se.prototype.evaluate=function(e){return this.rhs.evaluate(e).number().negate()},se.prototype.toString=function(){return"-"+this.rhs.toString()},k.prototype=new K,k.prototype.constructor=k,k.superclass=K.prototype;function k(e,r){arguments.length>0&&this.init(e,r)}k.prototype.init=function(e,r){this.lhs=e,this.rhs=r},we.prototype=new k,we.prototype.constructor=we,we.superclass=k.prototype;function we(e,r){arguments.length>0&&this.init(e,r)}we.prototype.init=function(e,r){we.superclass.init.call(this,e,r)},we.prototype.toString=function(){return"("+this.lhs.toString()+" or "+this.rhs.toString()+")"},we.prototype.evaluate=function(e){var r=this.lhs.evaluate(e).bool();return r.booleanValue()?r:this.rhs.evaluate(e).bool()},Pe.prototype=new k,Pe.prototype.constructor=Pe,Pe.superclass=k.prototype;function Pe(e,r){arguments.length>0&&this.init(e,r)}Pe.prototype.init=function(e,r){Pe.superclass.init.call(this,e,r)},Pe.prototype.toString=function(){return"("+this.lhs.toString()+" and "+this.rhs.toString()+")"},Pe.prototype.evaluate=function(e){var r=this.lhs.evaluate(e).bool();return r.booleanValue()?this.rhs.evaluate(e).bool():r},ze.prototype=new k,ze.prototype.constructor=ze,ze.superclass=k.prototype;function ze(e,r){arguments.length>0&&this.init(e,r)}ze.prototype.init=function(e,r){ze.superclass.init.call(this,e,r)},ze.prototype.toString=function(){return"("+this.lhs.toString()+" = "+this.rhs.toString()+")"},ze.prototype.evaluate=function(e){return this.lhs.evaluate(e).equals(this.rhs.evaluate(e))},Le.prototype=new k,Le.prototype.constructor=Le,Le.superclass=k.prototype;function Le(e,r){arguments.length>0&&this.init(e,r)}Le.prototype.init=function(e,r){Le.superclass.init.call(this,e,r)},Le.prototype.toString=function(){return"("+this.lhs.toString()+" != "+this.rhs.toString()+")"},Le.prototype.evaluate=function(e){return this.lhs.evaluate(e).notequal(this.rhs.evaluate(e))},_e.prototype=new k,_e.prototype.constructor=_e,_e.superclass=k.prototype;function _e(e,r){arguments.length>0&&this.init(e,r)}_e.prototype.init=function(e,r){_e.superclass.init.call(this,e,r)},_e.prototype.evaluate=function(e){return this.lhs.evaluate(e).lessthan(this.rhs.evaluate(e))},_e.prototype.toString=function(){return"("+this.lhs.toString()+" < "+this.rhs.toString()+")"},le.prototype=new k,le.prototype.constructor=le,le.superclass=k.prototype;function le(e,r){arguments.length>0&&this.init(e,r)}le.prototype.init=function(e,r){le.superclass.init.call(this,e,r)},le.prototype.evaluate=function(e){return this.lhs.evaluate(e).greaterthan(this.rhs.evaluate(e))},le.prototype.toString=function(){return"("+this.lhs.toString()+" > "+this.rhs.toString()+")"},be.prototype=new k,be.prototype.constructor=be,be.superclass=k.prototype;function be(e,r){arguments.length>0&&this.init(e,r)}be.prototype.init=function(e,r){be.superclass.init.call(this,e,r)},be.prototype.evaluate=function(e){return this.lhs.evaluate(e).lessthanorequal(this.rhs.evaluate(e))},be.prototype.toString=function(){return"("+this.lhs.toString()+" <= "+this.rhs.toString()+")"},xe.prototype=new k,xe.prototype.constructor=xe,xe.superclass=k.prototype;function xe(e,r){arguments.length>0&&this.init(e,r)}xe.prototype.init=function(e,r){xe.superclass.init.call(this,e,r)},xe.prototype.evaluate=function(e){return this.lhs.evaluate(e).greaterthanorequal(this.rhs.evaluate(e))},xe.prototype.toString=function(){return"("+this.lhs.toString()+" >= "+this.rhs.toString()+")"},Se.prototype=new k,Se.prototype.constructor=Se,Se.superclass=k.prototype;function Se(e,r){arguments.length>0&&this.init(e,r)}Se.prototype.init=function(e,r){Se.superclass.init.call(this,e,r)},Se.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().plus(this.rhs.evaluate(e).number())},Se.prototype.toString=function(){return"("+this.lhs.toString()+" + "+this.rhs.toString()+")"},Be.prototype=new k,Be.prototype.constructor=Be,Be.superclass=k.prototype;function Be(e,r){arguments.length>0&&this.init(e,r)}Be.prototype.init=function(e,r){Be.superclass.init.call(this,e,r)},Be.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().minus(this.rhs.evaluate(e).number())},Be.prototype.toString=function(){return"("+this.lhs.toString()+" - "+this.rhs.toString()+")"},Me.prototype=new k,Me.prototype.constructor=Me,Me.superclass=k.prototype;function Me(e,r){arguments.length>0&&this.init(e,r)}Me.prototype.init=function(e,r){Me.superclass.init.call(this,e,r)},Me.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().multiply(this.rhs.evaluate(e).number())},Me.prototype.toString=function(){return"("+this.lhs.toString()+" * "+this.rhs.toString()+")"},Ue.prototype=new k,Ue.prototype.constructor=Ue,Ue.superclass=k.prototype;function Ue(e,r){arguments.length>0&&this.init(e,r)}Ue.prototype.init=function(e,r){Ue.superclass.init.call(this,e,r)},Ue.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().div(this.rhs.evaluate(e).number())},Ue.prototype.toString=function(){return"("+this.lhs.toString()+" div "+this.rhs.toString()+")"},Ie.prototype=new k,Ie.prototype.constructor=Ie,Ie.superclass=k.prototype;function Ie(e,r){arguments.length>0&&this.init(e,r)}Ie.prototype.init=function(e,r){Ie.superclass.init.call(this,e,r)},Ie.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().mod(this.rhs.evaluate(e).number())},Ie.prototype.toString=function(){return"("+this.lhs.toString()+" mod "+this.rhs.toString()+")"},ee.prototype=new k,ee.prototype.constructor=ee,ee.superclass=k.prototype;function ee(e,r){arguments.length>0&&this.init(e,r)}ee.prototype.init=function(e,r){ee.superclass.init.call(this,e,r)},ee.prototype.evaluate=function(e){return this.lhs.evaluate(e).nodeset().union(this.rhs.evaluate(e).nodeset())},ee.prototype.toString=function(){return b(H,[this.lhs,this.rhs]).join(" | ")},M.prototype=new K,M.prototype.constructor=M,M.superclass=K.prototype;function M(e,r,u){arguments.length>0&&this.init(e,r,u)}M.prototype.init=function(e,r,u){M.superclass.init.call(this),this.filter=e,this.filterPredicates=r,this.locationPath=u};function ut(e){for(;e&&e.parentNode;)e=e.parentNode;return e}M.applyPredicates=function(e,r,u){if(e.length===0)return u;var f=r.extend({});return h(function(d,y){return f.contextSize=d.length,m(function(F,V){return f.contextNode=F,f.contextPosition=V+1,M.predicateMatches(y,f)},d)},u,e)},M.getRoot=function(e,r){var u=r[0];if(u.nodeType===9)return u;if(e.virtualRoot)return e.virtualRoot;var f=u.ownerDocument;if(f)return f;for(var d=u;d.parentNode!=null;)d=d.parentNode;return d},M.applyStep=function(e,r,u){var f=[];switch(r.contextNode=u,e.axis){case I.ANCESTOR:if(r.contextNode===r.virtualRoot)break;var d;for(r.contextNode.nodeType==2?d=M.getOwnerElement(r.contextNode):d=r.contextNode.parentNode;d!=null&&(e.nodeTest.matches(d,r)&&f.push(d),d!==r.virtualRoot);)d=d.parentNode;break;case I.ANCESTORORSELF:for(var d=r.contextNode;d!=null&&(e.nodeTest.matches(d,r)&&f.push(d),d!==r.virtualRoot);d=d.nodeType==2?M.getOwnerElement(d):d.parentNode);break;case I.ATTRIBUTE:var y=r.contextNode.attributes;if(y!=null)for(var F=0;F<y.length;F++){var d=y.item(F);e.nodeTest.matches(d,r)&&f.push(d)}break;case I.CHILD:for(var d=r.contextNode.firstChild;d!=null;d=d.nextSibling)e.nodeTest.matches(d,r)&&f.push(d);break;case I.DESCENDANT:for(var re=[r.contextNode.firstChild];re.length>0;)for(var d=re.pop();d!=null;)e.nodeTest.matches(d,r)&&f.push(d),d.firstChild!=null?(re.push(d.nextSibling),d=d.firstChild):d=d.nextSibling;break;case I.DESCENDANTORSELF:e.nodeTest.matches(r.contextNode,r)&&f.push(r.contextNode);for(var re=[r.contextNode.firstChild];re.length>0;)for(var d=re.pop();d!=null;)e.nodeTest.matches(d,r)&&f.push(d),d.firstChild!=null?(re.push(d.nextSibling),d=d.firstChild):d=d.nextSibling;break;case I.FOLLOWING:if(r.contextNode===r.virtualRoot)break;var re=[];r.contextNode.firstChild!=null?re.unshift(r.contextNode.firstChild):re.unshift(r.contextNode.nextSibling);for(var d=r.contextNode.parentNode;d!=null&&d.nodeType!=9&&d!==r.virtualRoot;d=d.parentNode)re.unshift(d.nextSibling);do for(var d=re.pop();d!=null;)e.nodeTest.matches(d,r)&&f.push(d),d.firstChild!=null?(re.push(d.nextSibling),d=d.firstChild):d=d.nextSibling;while(re.length>0);break;case I.FOLLOWINGSIBLING:if(r.contextNode===r.virtualRoot)break;for(var d=r.contextNode.nextSibling;d!=null;d=d.nextSibling)e.nodeTest.matches(d,r)&&f.push(d);break;case I.NAMESPACE:var V={};if(r.contextNode.nodeType==1){V.xml=ce.XML_NAMESPACE_URI,V.xmlns=ce.XMLNS_NAMESPACE_URI;for(var d=r.contextNode;d!=null&&d.nodeType==1;d=d.parentNode)for(var F=0;F<d.attributes.length;F++){var Q=d.attributes.item(F),P=String(Q.name);if(P=="xmlns")V[""]==null&&(V[""]=Q.value);else if(P.length>6&&P.substring(0,6)=="xmlns:"){var $=P.substring(6,P.length);V[$]==null&&(V[$]=Q.value)}}for(var $ in V){var Ae=new v($,V[$],r.contextNode);e.nodeTest.matches(Ae,r)&&f.push(Ae)}}break;case I.PARENT:d=null,r.contextNode!==r.virtualRoot&&(r.contextNode.nodeType==2?d=M.getOwnerElement(r.contextNode):d=r.contextNode.parentNode),d!=null&&e.nodeTest.matches(d,r)&&f.push(d);break;case I.PRECEDING:var re;r.virtualRoot!=null?re=[r.virtualRoot]:re=[ut(r.contextNode)];e:for(;re.length>0;)for(var d=re.pop();d!=null;){if(d==r.contextNode)break e;e.nodeTest.matches(d,r)&&f.unshift(d),d.firstChild!=null?(re.push(d.nextSibling),d=d.firstChild):d=d.nextSibling}break;case I.PRECEDINGSIBLING:if(r.contextNode===r.virtualRoot)break;for(var d=r.contextNode.previousSibling;d!=null;d=d.previousSibling)e.nodeTest.matches(d,r)&&f.push(d);break;case I.SELF:e.nodeTest.matches(r.contextNode,r)&&f.push(r.contextNode);break}return f};function ue(e,r,u){return M.applyPredicates(e.predicates,r,M.applyStep(e,r,u))}function dt(e,r,u){return Ve(b(ue.bind(null,u,e),r))}M.applySteps=function(e,r,u){return h(dt.bind(null,r),u,e)},M.prototype.applyFilter=function(e,r){if(!this.filter)return{nodes:[e.contextNode]};var u=this.filter.evaluate(e);if(!_.instance_of(u,l)){if(this.filterPredicates!=null&&this.filterPredicates.length>0||this.locationPath!=null)throw new Error("Path expression filter must evaluate to a nodeset if predicates or location path are used");return{nonNodes:u}}return{nodes:M.applyPredicates(this.filterPredicates||[],r,u.toUnsortedArray())}},M.applyLocationPath=function(e,r,u){if(!e)return u;var f=e.absolute?[M.getRoot(r,u)]:u;return M.applySteps(e.steps,r,f)},M.prototype.evaluate=function(e){var r=de(new S,e),u=this.applyFilter(e,r);if("nonNodes"in u)return u.nonNodes;var f=new l;return f.addArray(M.applyLocationPath(this.locationPath,r,u.nodes)),f},M.predicateMatches=function(e,r){var u=e.evaluate(r);return _.instance_of(u,R)?r.contextPosition===u.numberValue():u.booleanValue()},M.predicateString=function(e){return oe("[","]",e.toString())},M.predicatesString=function(e){return W("",b(M.predicateString,e))},M.prototype.toString=function(){if(this.filter!=null){var e=H(this.filter);return _.instance_of(this.filter,U)?oe("'","'",e):this.filterPredicates!=null&&this.filterPredicates.length?oe("(",")",e)+M.predicatesString(this.filterPredicates):this.locationPath!=null?e+(this.locationPath.absolute?"":"/")+H(this.locationPath):e}return H(this.locationPath)},M.getOwnerElement=function(e){if(e.ownerElement)return e.ownerElement;try{if(e.selectSingleNode)return e.selectSingleNode("..")}catch{}for(var r=e.nodeType==9?e:e.ownerDocument,u=r.getElementsByTagName("*"),f=0;f<u.length;f++)for(var d=u.item(f),y=d.attributes,F=0;F<y.length;F++){var V=y.item(F);if(V===e)return d}return null},te.prototype=new Object,te.prototype.constructor=te,te.superclass=Object.prototype;function te(e,r){arguments.length>0&&this.init(e,r)}te.prototype.init=function(e,r){this.absolute=e,this.steps=r},te.prototype.toString=function(){return(this.absolute?"/":"")+b(H,this.steps).join("/")},I.prototype=new Object,I.prototype.constructor=I,I.superclass=Object.prototype;function I(e,r,u){arguments.length>0&&this.init(e,r,u)}I.prototype.init=function(e,r,u){this.axis=e,this.nodeTest=r,this.predicates=u},I.prototype.toString=function(){return I.STEPNAMES[this.axis]+"::"+this.nodeTest.toString()+M.predicatesString(this.predicates)},I.ANCESTOR=0,I.ANCESTORORSELF=1,I.ATTRIBUTE=2,I.CHILD=3,I.DESCENDANT=4,I.DESCENDANTORSELF=5,I.FOLLOWING=6,I.FOLLOWINGSIBLING=7,I.NAMESPACE=8,I.PARENT=9,I.PRECEDING=10,I.PRECEDINGSIBLING=11,I.SELF=12,I.STEPNAMES=h(function(e,r){return e[r[0]]=r[1],e},{},[[I.ANCESTOR,"ancestor"],[I.ANCESTORORSELF,"ancestor-or-self"],[I.ATTRIBUTE,"attribute"],[I.CHILD,"child"],[I.DESCENDANT,"descendant"],[I.DESCENDANTORSELF,"descendant-or-self"],[I.FOLLOWING,"following"],[I.FOLLOWINGSIBLING,"following-sibling"],[I.NAMESPACE,"namespace"],[I.PARENT,"parent"],[I.PRECEDING,"preceding"],[I.PRECEDINGSIBLING,"preceding-sibling"],[I.SELF,"self"]]),O.prototype=new Object,O.prototype.constructor=O,O.superclass=Object.prototype;function O(e,r){arguments.length>0&&this.init(e,r)}O.prototype.init=function(e,r){this.type=e,this.value=r},O.prototype.toString=function(){return"<unknown nodetest type>"},O.prototype.matches=function(e,r){console.warn("unknown node test type")},O.NAMETESTANY=0,O.NAMETESTPREFIXANY=1,O.NAMETESTQNAME=2,O.COMMENT=3,O.TEXT=4,O.PI=5,O.NODE=6,O.isNodeType=function(e){return function(r){return C(e,r.nodeType)}},O.makeNodeTestType=function(e,r,u){var f=u||function(){};return f.prototype=new O(e),f.prototype.constructor=f,de(f.prototype,r),f},O.makeNodeTypeTest=function(e,r,u){return new(O.makeNodeTestType(e,{matches:O.isNodeType(r),toString:B(u)}))},O.hasPrefix=function(e){return e.prefix||(e.nodeName||e.tagName).indexOf(":")!==-1},O.isElementOrAttribute=O.isNodeType([1,2]),O.nameSpaceMatches=function(e,r,u){var f=u.namespaceURI||"";if(!e)return!f||r.allowAnyNamespaceForNoPrefix&&!O.hasPrefix(u);var d=r.namespaceResolver.getNamespace(e,r.expressionContextNode);if(d==null)throw new Error("Cannot resolve QName "+e);return d===f},O.localNameMatches=function(e,r,u){var f=u.localName||u.nodeName;return r.caseInsensitive?e.toLowerCase()===f.toLowerCase():e===f},O.NameTestPrefixAny=O.makeNodeTestType(O.NAMETESTPREFIXANY,{matches:function(e,r){return O.isElementOrAttribute(e)&&O.nameSpaceMatches(this.prefix,r,e)},toString:function(){return this.prefix+":*"}},function(r){this.prefix=r}),O.NameTestQName=O.makeNodeTestType(O.NAMETESTQNAME,{matches:function(e,r){return O.isNodeType([1,2,v.XPATH_NAMESPACE_NODE])(e)&&O.nameSpaceMatches(this.prefix,r,e)&&O.localNameMatches(this.localName,r,e)},toString:function(){return this.name}},function(r){var u=r.split(":");this.name=r,this.prefix=u.length>1?u[0]:null,this.localName=u[u.length>1?1:0]}),O.PITest=O.makeNodeTestType(O.PI,{matches:function(e,r){return O.isNodeType([7])(e)&&(e.target||e.nodeName)===this.name},toString:function(){return oe('processing-instruction("','")',this.name)}},function(e){this.name=e}),O.nameTestAny=O.makeNodeTypeTest(O.NAMETESTANY,[1,2,v.XPATH_NAMESPACE_NODE],"*"),O.textTest=O.makeNodeTypeTest(O.TEXT,[3,4],"text()"),O.commentTest=O.makeNodeTypeTest(O.COMMENT,[8],"comment()"),O.nodeTest=O.makeNodeTypeTest(O.NODE,[1,2,3,4,7,8,9],"node()"),O.anyPiTest=O.makeNodeTypeTest(O.PI,[7],"processing-instruction()"),He.prototype=new K,He.prototype.constructor=He,He.superclass=K.prototype;function He(e){arguments.length>0&&this.init(e)}He.prototype.init=function(e){this.variable=e},He.prototype.toString=function(){return"$"+this.variable},He.prototype.evaluate=function(e){var r=_.resolveQName(this.variable,e.namespaceResolver,e.contextNode,!1);if(r[0]==null)throw new Error("Cannot resolve QName "+fn);var u=e.variableResolver.getVariable(r[1],r[0]);if(!u)throw X.fromMessage("Undeclared variable: "+this.toString());return u},Ce.prototype=new K,Ce.prototype.constructor=Ce,Ce.superclass=K.prototype;function Ce(e,r){arguments.length>0&&this.init(e,r)}Ce.prototype.init=function(e,r){this.functionName=e,this.arguments=r},Ce.prototype.toString=function(){for(var e=this.functionName+"(",r=0;r<this.arguments.length;r++)r>0&&(e+=", "),e+=this.arguments[r].toString();return e+")"},Ce.prototype.evaluate=function(e){var r=G.getFunctionFromContext(this.functionName,e);if(!r)throw new Error("Unknown function "+this.functionName);var u=[e].concat(this.arguments);return r.apply(e.functionResolver.thisArg,u)};var ae=new Object;ae.equals=function(e,r){return e.equals(r)},ae.notequal=function(e,r){return e.notequal(r)},ae.lessthan=function(e,r){return e.lessthan(r)},ae.greaterthan=function(e,r){return e.greaterthan(r)},ae.lessthanorequal=function(e,r){return e.lessthanorequal(r)},ae.greaterthanorequal=function(e,r){return e.greaterthanorequal(r)},U.prototype=new K,U.prototype.constructor=U,U.superclass=K.prototype;function U(e){arguments.length>0&&this.init(e)}U.prototype.init=function(e){this.str=String(e)},U.prototype.toString=function(){return this.str},U.prototype.evaluate=function(e){return this},U.prototype.string=function(){return this},U.prototype.number=function(){return new R(this.str)},U.prototype.bool=function(){return new c(this.str)},U.prototype.nodeset=function(){throw new Error("Cannot convert string to nodeset")},U.prototype.stringValue=function(){return this.str},U.prototype.numberValue=function(){return this.number().numberValue()},U.prototype.booleanValue=function(){return this.bool().booleanValue()},U.prototype.equals=function(e){return _.instance_of(e,c)?this.bool().equals(e):_.instance_of(e,R)?this.number().equals(e):_.instance_of(e,l)?e.compareWithString(this,ae.equals):new c(this.str==e.str)},U.prototype.notequal=function(e){return _.instance_of(e,c)?this.bool().notequal(e):_.instance_of(e,R)?this.number().notequal(e):_.instance_of(e,l)?e.compareWithString(this,ae.notequal):new c(this.str!=e.str)},U.prototype.lessthan=function(e){return this.number().lessthan(e)},U.prototype.greaterthan=function(e){return this.number().greaterthan(e)},U.prototype.lessthanorequal=function(e){return this.number().lessthanorequal(e)},U.prototype.greaterthanorequal=function(e){return this.number().greaterthanorequal(e)},R.prototype=new K,R.prototype.constructor=R,R.superclass=K.prototype;function R(e){arguments.length>0&&this.init(e)}R.prototype.init=function(e){this.num=typeof e=="string"?this.parse(e):Number(e)},R.prototype.numberFormat=/^\s*-?[0-9]*\.?[0-9]+\s*$/,R.prototype.parse=function(e){return this.numberFormat.test(e)?parseFloat(e):Number.NaN};function it(e){for(var r=e.split("e-"),u=r[0].replace(".",""),f=Number(r[1]),d=0;d<f-1;d+=1)u="0"+u;return"0."+u}function pt(e){for(var r=e.split("e"),u=r[0].replace(".",""),f=Number(r[1]),d=f+1-u.length,y=0;y<d;y+=1)u+="0";return u}R.prototype.toString=function(){var e=this.num.toString();return e.indexOf("e-")!==-1?it(e):e.indexOf("e")!==-1?pt(e):e},R.prototype.evaluate=function(e){return this},R.prototype.string=function(){return new U(this.toString())},R.prototype.number=function(){return this},R.prototype.bool=function(){return new c(this.num)},R.prototype.nodeset=function(){throw new Error("Cannot convert number to nodeset")},R.prototype.stringValue=function(){return this.string().stringValue()},R.prototype.numberValue=function(){return this.num},R.prototype.booleanValue=function(){return this.bool().booleanValue()},R.prototype.negate=function(){return new R(-this.num)},R.prototype.equals=function(e){return _.instance_of(e,c)?this.bool().equals(e):_.instance_of(e,U)?this.equals(e.number()):_.instance_of(e,l)?e.compareWithNumber(this,ae.equals):new c(this.num==e.num)},R.prototype.notequal=function(e){return _.instance_of(e,c)?this.bool().notequal(e):_.instance_of(e,U)?this.notequal(e.number()):_.instance_of(e,l)?e.compareWithNumber(this,ae.notequal):new c(this.num!=e.num)},R.prototype.lessthan=function(e){return _.instance_of(e,l)?e.compareWithNumber(this,ae.greaterthan):_.instance_of(e,c)||_.instance_of(e,U)?this.lessthan(e.number()):new c(this.num<e.num)},R.prototype.greaterthan=function(e){return _.instance_of(e,l)?e.compareWithNumber(this,ae.lessthan):_.instance_of(e,c)||_.instance_of(e,U)?this.greaterthan(e.number()):new c(this.num>e.num)},R.prototype.lessthanorequal=function(e){return _.instance_of(e,l)?e.compareWithNumber(this,ae.greaterthanorequal):_.instance_of(e,c)||_.instance_of(e,U)?this.lessthanorequal(e.number()):new c(this.num<=e.num)},R.prototype.greaterthanorequal=function(e){return _.instance_of(e,l)?e.compareWithNumber(this,ae.lessthanorequal):_.instance_of(e,c)||_.instance_of(e,U)?this.greaterthanorequal(e.number()):new c(this.num>=e.num)},R.prototype.plus=function(e){return new R(this.num+e.num)},R.prototype.minus=function(e){return new R(this.num-e.num)},R.prototype.multiply=function(e){return new R(this.num*e.num)},R.prototype.div=function(e){return new R(this.num/e.num)},R.prototype.mod=function(e){return new R(this.num%e.num)},c.prototype=new K,c.prototype.constructor=c,c.superclass=K.prototype;function c(e){arguments.length>0&&this.init(e)}c.prototype.init=function(e){this.b=Boolean(e)},c.prototype.toString=function(){return this.b.toString()},c.prototype.evaluate=function(e){return this},c.prototype.string=function(){return new U(this.b)},c.prototype.number=function(){return new R(this.b)},c.prototype.bool=function(){return this},c.prototype.nodeset=function(){throw new Error("Cannot convert boolean to nodeset")},c.prototype.stringValue=function(){return this.string().stringValue()},c.prototype.numberValue=function(){return this.number().numberValue()},c.prototype.booleanValue=function(){return this.b},c.prototype.not=function(){return new c(!this.b)},c.prototype.equals=function(e){return _.instance_of(e,U)||_.instance_of(e,R)?this.equals(e.bool()):_.instance_of(e,l)?e.compareWithBoolean(this,ae.equals):new c(this.b==e.b)},c.prototype.notequal=function(e){return _.instance_of(e,U)||_.instance_of(e,R)?this.notequal(e.bool()):_.instance_of(e,l)?e.compareWithBoolean(this,ae.notequal):new c(this.b!=e.b)},c.prototype.lessthan=function(e){return this.number().lessthan(e)},c.prototype.greaterthan=function(e){return this.number().greaterthan(e)},c.prototype.lessthanorequal=function(e){return this.number().lessthanorequal(e)},c.prototype.greaterthanorequal=function(e){return this.number().greaterthanorequal(e)},c.true_=new c(!0),c.false_=new c(!1),n.prototype=new Object,n.prototype.constructor=n,n.superclass=Object.prototype;function n(e){this.init(e)}n.prototype.init=function(e){this.left=null,this.right=null,this.node=e,this.depth=1},n.prototype.balance=function(){var e=this.left==null?0:this.left.depth,r=this.right==null?0:this.right.depth;if(e>r+1){var u=this.left.left==null?0:this.left.left.depth,f=this.left.right==null?0:this.left.right.depth;u<f&&this.left.rotateRR(),this.rotateLL()}else if(e+1<r){var d=this.right.right==null?0:this.right.right.depth,y=this.right.left==null?0:this.right.left.depth;y>d&&this.right.rotateLL(),this.rotateRR()}},n.prototype.rotateLL=function(){var e=this.node,r=this.right;this.node=this.left.node,this.right=this.left,this.left=this.left.left,this.right.left=this.right.right,this.right.right=r,this.right.node=e,this.right.updateInNewLocation(),this.updateInNewLocation()},n.prototype.rotateRR=function(){var e=this.node,r=this.left;this.node=this.right.node,this.left=this.right,this.right=this.right.right,this.left.right=this.left.left,this.left.left=r,this.left.node=e,this.left.updateInNewLocation(),this.updateInNewLocation()},n.prototype.updateInNewLocation=function(){this.getDepthFromChildren()},n.prototype.getDepthFromChildren=function(){this.depth=this.node==null?0:1,this.left!=null&&(this.depth=this.left.depth+1),this.right!=null&&this.depth<=this.right.depth&&(this.depth=this.right.depth+1)};function i(e,r){if(e===r)return 0;if(e.compareDocumentPosition){var u=e.compareDocumentPosition(r);return u&1||u&10?1:u&20?-1:0}for(var f=0,d=0,y=e;y!=null;y=y.parentNode||y.ownerElement)f++;for(var F=r;F!=null;F=F.parentNode||F.ownerElement)d++;if(f>d){for(;f>d;)e=e.parentNode||e.ownerElement,f--;if(e===r)return 1}else if(d>f){for(;d>f;)r=r.parentNode||r.ownerElement,d--;if(e===r)return-1}for(var V=e.parentNode||e.ownerElement,Q=r.parentNode||r.ownerElement;V!==Q;)e=V,r=Q,V=e.parentNode||e.ownerElement,Q=r.parentNode||r.ownerElement;var P=_.isAttribute(e),$=_.isAttribute(r);if(P&&!$)return-1;if(!P&&$)return 1;if(V)for(var Ae=P?V.attributes:V.childNodes,re=Ae.length,Je=0;Je<re;Je+=1){var rt=Ae[Je];if(rt===e)return-1;if(rt===r)return 1}throw new Error("Unexpected: could not determine node order")}n.prototype.add=function(e){if(e===this.node)return!1;var r=i(e,this.node),u=!1;return r==-1?this.left==null?(this.left=new n(e),u=!0):(u=this.left.add(e),u&&this.balance()):r==1&&(this.right==null?(this.right=new n(e),u=!0):(u=this.right.add(e),u&&this.balance())),u&&this.getDepthFromChildren(),u},l.prototype=new K,l.prototype.constructor=l,l.superclass=K.prototype;function l(){this.init()}l.prototype.init=function(){this.tree=null,this.nodes=[],this.size=0},l.prototype.toString=function(){var e=this.first();return e==null?"":this.stringForNode(e)},l.prototype.evaluate=function(e){return this},l.prototype.string=function(){return new U(this.toString())},l.prototype.stringValue=function(){return this.toString()},l.prototype.number=function(){return new R(this.string())},l.prototype.numberValue=function(){return Number(this.string())},l.prototype.bool=function(){return new c(this.booleanValue())},l.prototype.booleanValue=function(){return!!this.size},l.prototype.nodeset=function(){return this},l.prototype.stringForNode=function(e){return e.nodeType==9||e.nodeType==1||e.nodeType===11?this.stringForContainerNode(e):e.nodeType===2?e.value||e.nodeValue:e.isNamespaceNode?e.namespace:e.nodeValue},l.prototype.stringForContainerNode=function(e){for(var r="",u=e.firstChild;u!=null;u=u.nextSibling){var f=u.nodeType;(f===1||f===3||f===4||f===9||f===11)&&(r+=this.stringForNode(u))}return r},l.prototype.buildTree=function(){if(!this.tree&&this.nodes.length){this.tree=new n(this.nodes[0]);for(var e=1;e<this.nodes.length;e+=1)this.tree.add(this.nodes[e])}return this.tree},l.prototype.first=function(){var e=this.buildTree();if(e==null)return null;for(;e.left!=null;)e=e.left;return e.node},l.prototype.add=function(e){for(var r=0;r<this.nodes.length;r+=1)if(e===this.nodes[r])return;this.tree=null,this.nodes.push(e),this.size+=1},l.prototype.addArray=function(e){var r=this;p(function(u){r.add(u)},e)},l.prototype.toArray=function(){var e=[];return this.toArrayRec(this.buildTree(),e),e},l.prototype.toArrayRec=function(e,r){e!=null&&(this.toArrayRec(e.left,r),r.push(e.node),this.toArrayRec(e.right,r))},l.prototype.toUnsortedArray=function(){return this.nodes.slice()},l.prototype.compareWithString=function(e,r){for(var u=this.toUnsortedArray(),f=0;f<u.length;f++){var d=u[f],y=new U(this.stringForNode(d)),F=r(y,e);if(F.booleanValue())return F}return new c(!1)},l.prototype.compareWithNumber=function(e,r){for(var u=this.toUnsortedArray(),f=0;f<u.length;f++){var d=u[f],y=new R(this.stringForNode(d)),F=r(y,e);if(F.booleanValue())return F}return new c(!1)},l.prototype.compareWithBoolean=function(e,r){return r(this.bool(),e)},l.prototype.compareWithNodeSet=function(e,r){for(var u=this.toUnsortedArray(),f=function(V,Q){return r(Q,V)},d=0;d<u.length;d++){var y=new U(this.stringForNode(u[d])),F=e.compareWithString(y,f);if(F.booleanValue())return F}return new c(!1)},l.compareWith=s(function(e,r){return _.instance_of(r,U)?this.compareWithString(r,e):_.instance_of(r,R)?this.compareWithNumber(r,e):_.instance_of(r,c)?this.compareWithBoolean(r,e):this.compareWithNodeSet(r,e)}),l.prototype.equals=l.compareWith(ae.equals),l.prototype.notequal=l.compareWith(ae.notequal),l.prototype.lessthan=l.compareWith(ae.lessthan),l.prototype.greaterthan=l.compareWith(ae.greaterthan),l.prototype.lessthanorequal=l.compareWith(ae.lessthanorequal),l.prototype.greaterthanorequal=l.compareWith(ae.greaterthanorequal),l.prototype.union=function(e){var r=new l;return r.addArray(this.toUnsortedArray()),r.addArray(e.toUnsortedArray()),r},v.prototype=new Object,v.prototype.constructor=v,v.superclass=Object.prototype;function v(e,r,u){this.isXPathNamespace=!0,this.ownerDocument=u.ownerDocument,this.nodeName="#namespace",this.prefix=e,this.localName=e,this.namespaceURI=r,this.nodeValue=r,this.ownerElement=u,this.nodeType=v.XPATH_NAMESPACE_NODE}v.prototype.toString=function(){return'{ "'+this.prefix+'", "'+this.namespaceURI+'" }'},S.prototype=new Object,S.prototype.constructor=S,S.superclass=Object.prototype;function S(e,r,u){this.variableResolver=e??new A,this.namespaceResolver=r??new Y,this.functionResolver=u??new G}S.prototype.extend=function(e){return de(new S,this,e)},A.prototype=new Object,A.prototype.constructor=A,A.superclass=Object.prototype;function A(){}A.prototype.getVariable=function(e,r){return null},G.prototype=new Object,G.prototype.constructor=G,G.superclass=Object.prototype;function G(e){this.thisArg=e??D,this.functions=new Object,this.addStandardFunctions()}G.prototype.addStandardFunctions=function(){this.functions["{}last"]=D.last,this.functions["{}position"]=D.position,this.functions["{}count"]=D.count,this.functions["{}id"]=D.id,this.functions["{}local-name"]=D.localName,this.functions["{}namespace-uri"]=D.namespaceURI,this.functions["{}name"]=D.name,this.functions["{}string"]=D.string,this.functions["{}concat"]=D.concat,this.functions["{}starts-with"]=D.startsWith,this.functions["{}contains"]=D.contains,this.functions["{}substring-before"]=D.substringBefore,this.functions["{}substring-after"]=D.substringAfter,this.functions["{}substring"]=D.substring,this.functions["{}string-length"]=D.stringLength,this.functions["{}normalize-space"]=D.normalizeSpace,this.functions["{}translate"]=D.translate,this.functions["{}boolean"]=D.boolean_,this.functions["{}not"]=D.not,this.functions["{}true"]=D.true_,this.functions["{}false"]=D.false_,this.functions["{}lang"]=D.lang,this.functions["{}number"]=D.number,this.functions["{}sum"]=D.sum,this.functions["{}floor"]=D.floor,this.functions["{}ceiling"]=D.ceiling,this.functions["{}round"]=D.round},G.prototype.addFunction=function(e,r,u){this.functions["{"+e+"}"+r]=u},G.getFunctionFromContext=function(e,r){var u=_.resolveQName(e,r.namespaceResolver,r.contextNode,!1);if(u[0]===null)throw new Error("Cannot resolve QName "+name);return r.functionResolver.getFunction(u[1],u[0])},G.prototype.getFunction=function(e,r){return this.functions["{"+r+"}"+e]},Y.prototype=new Object,Y.prototype.constructor=Y,Y.superclass=Object.prototype;function Y(){}Y.prototype.getNamespace=function(e,r){if(e=="xml")return ce.XML_NAMESPACE_URI;if(e=="xmlns")return ce.XMLNS_NAMESPACE_URI;for(r.nodeType==9?r=r.documentElement:r.nodeType==2?r=M.getOwnerElement(r):r.nodeType!=1&&(r=r.parentNode);r!=null&&r.nodeType==1;){for(var u=r.attributes,f=0;f<u.length;f++){var d=u.item(f),y=d.name||d.nodeName;if(y==="xmlns"&&e===""||y==="xmlns:"+e)return String(d.value||d.nodeValue)}r=r.parentNode}return null};var D=new Object;D.last=function(e){if(arguments.length!=1)throw new Error("Function last expects ()");return new R(e.contextSize)},D.position=function(e){if(arguments.length!=1)throw new Error("Function position expects ()");return new R(e.contextPosition)},D.count=function(){var e=arguments[0],r;if(arguments.length!=2||!_.instance_of(r=arguments[1].evaluate(e),l))throw new Error("Function count expects (node-set)");return new R(r.size)},D.id=function(){var e=arguments[0],r;if(arguments.length!=2)throw new Error("Function id expects (object)");r=arguments[1].evaluate(e),_.instance_of(r,l)?r=r.toArray().join(" "):r=r.stringValue();for(var u=r.split(/[\x0d\x0a\x09\x20]+/),f=new l,d=e.contextNode.nodeType==9?e.contextNode:e.contextNode.ownerDocument,y=0;y<u.length;y++){var F;d.getElementById?F=d.getElementById(u[y]):F=_.getElementById(d,u[y]),F!=null&&f.add(F)}return f},D.localName=function(e,r){var u;if(arguments.length==1)u=e.contextNode;else if(arguments.length==2)u=r.evaluate(e).first();else throw new Error("Function local-name expects (node-set?)");return u==null?new U(""):new U(u.localName||u.baseName||u.target||u.nodeName||"")},D.namespaceURI=function(){var e=arguments[0],r;if(arguments.length==1)r=e.contextNode;else if(arguments.length==2)r=arguments[1].evaluate(e).first();else throw new Error("Function namespace-uri expects (node-set?)");return r==null?new U(""):new U(r.namespaceURI)},D.name=function(){var e=arguments[0],r;if(arguments.length==1)r=e.contextNode;else if(arguments.length==2)r=arguments[1].evaluate(e).first();else throw new Error("Function name expects (node-set?)");return r==null?new U(""):r.nodeType==1?new U(r.nodeName):r.nodeType==2?new U(r.name||r.nodeName):r.nodeType===7?new U(r.target||r.nodeName):r.localName==null?new U(""):new U(r.localName)},D.string=function(){var e=arguments[0];if(arguments.length==1)return new U(l.prototype.stringForNode(e.contextNode));if(arguments.length==2)return arguments[1].evaluate(e).string();throw new Error("Function string expects (object?)")},D.concat=function(e){if(arguments.length<3)throw new Error("Function concat expects (string, string[, string]*)");for(var r="",u=1;u<arguments.length;u++)r+=arguments[u].evaluate(e).stringValue();return new U(r)},D.startsWith=function(){var e=arguments[0];if(arguments.length!=3)throw new Error("Function startsWith expects (string, string)");var r=arguments[1].evaluate(e).stringValue(),u=arguments[2].evaluate(e).stringValue();return new c(r.substring(0,u.length)==u)},D.contains=function(){var e=arguments[0];if(arguments.length!=3)throw new Error("Function contains expects (string, string)");var r=arguments[1].evaluate(e).stringValue(),u=arguments[2].evaluate(e).stringValue();return new c(r.indexOf(u)!==-1)},D.substringBefore=function(){var e=arguments[0];if(arguments.length!=3)throw new Error("Function substring-before expects (string, string)");var r=arguments[1].evaluate(e).stringValue(),u=arguments[2].evaluate(e).stringValue();return new U(r.substring(0,r.indexOf(u)))},D.substringAfter=function(){var e=arguments[0];if(arguments.length!=3)throw new Error("Function substring-after expects (string, string)");var r=arguments[1].evaluate(e).stringValue(),u=arguments[2].evaluate(e).stringValue();if(u.length==0)return new U(r);var f=r.indexOf(u);return f==-1?new U(""):new U(r.substring(f+u.length))},D.substring=function(){var e=arguments[0];if(!(arguments.length==3||arguments.length==4))throw new Error("Function substring expects (string, number, number?)");var r=arguments[1].evaluate(e).stringValue(),u=Math.round(arguments[2].evaluate(e).numberValue())-1,f=arguments.length==4?u+Math.round(arguments[3].evaluate(e).numberValue()):void 0;return new U(r.substring(u,f))},D.stringLength=function(){var e=arguments[0],r;if(arguments.length==1)r=l.prototype.stringForNode(e.contextNode);else if(arguments.length==2)r=arguments[1].evaluate(e).stringValue();else throw new Error("Function string-length expects (string?)");return new R(r.length)},D.normalizeSpace=function(){var e=arguments[0],r;if(arguments.length==1)r=l.prototype.stringForNode(e.contextNode);else if(arguments.length==2)r=arguments[1].evaluate(e).stringValue();else throw new Error("Function normalize-space expects (string?)");for(var u=0,f=r.length-1;_.isSpace(r.charCodeAt(f));)f--;for(var d="";u<=f&&_.isSpace(r.charCodeAt(u));)u++;for(;u<=f;)if(_.isSpace(r.charCodeAt(u)))for(d+=" ";u<=f&&_.isSpace(r.charCodeAt(u));)u++;else d+=r.charAt(u),u++;return new U(d)},D.translate=function(e,r,u,f){if(arguments.length!=4)throw new Error("Function translate expects (string, string, string)");var d=r.evaluate(e).stringValue(),y=u.evaluate(e).stringValue(),F=f.evaluate(e).stringValue(),V=h(function(P,$,Ae){return $ in P||(P[$]=Ae>F.length?"":F[Ae]),P},{},y),Q=W("",b(function(P){return P in V?V[P]:P},d));return new U(Q)},D.boolean_=function(){var e=arguments[0];if(arguments.length!=2)throw new Error("Function boolean expects (object)");return arguments[1].evaluate(e).bool()},D.not=function(e,r){if(arguments.length!=2)throw new Error("Function not expects (object)");return r.evaluate(e).bool().not()},D.true_=function(){if(arguments.length!=1)throw new Error("Function true expects ()");return c.true_},D.false_=function(){if(arguments.length!=1)throw new Error("Function false expects ()");return c.false_},D.lang=function(){var e=arguments[0];if(arguments.length!=2)throw new Error("Function lang expects (string)");for(var r,u=e.contextNode;u!=null&&u.nodeType!=9;u=u.parentNode){var f=u.getAttributeNS(ce.XML_NAMESPACE_URI,"lang");if(f!=null){r=String(f);break}}if(r==null)return c.false_;var d=arguments[1].evaluate(e).stringValue();return new c(r.substring(0,d.length)==d&&(r.length==d.length||r.charAt(d.length)=="-"))},D.number=function(){var e=arguments[0];if(!(arguments.length==1||arguments.length==2))throw new Error("Function number expects (object?)");return arguments.length==1?new R(l.prototype.stringForNode(e.contextNode)):arguments[1].evaluate(e).number()},D.sum=function(){var e=arguments[0],r;if(arguments.length!=2||!_.instance_of(r=arguments[1].evaluate(e),l))throw new Error("Function sum expects (node-set)");r=r.toUnsortedArray();for(var u=0,f=0;f<r.length;f++)u+=new R(l.prototype.stringForNode(r[f])).numberValue();return new R(u)},D.floor=function(){var e=arguments[0];if(arguments.length!=2)throw new Error("Function floor expects (number)");return new R(Math.floor(arguments[1].evaluate(e).numberValue()))},D.ceiling=function(){var e=arguments[0];if(arguments.length!=2)throw new Error("Function ceiling expects (number)");return new R(Math.ceil(arguments[1].evaluate(e).numberValue()))},D.round=function(){var e=arguments[0];if(arguments.length!=2)throw new Error("Function round expects (number)");return new R(Math.round(arguments[1].evaluate(e).numberValue()))};var _=new Object;_.isAttribute=function(e){return e&&(e.nodeType===2||e.ownerElement)},_.splitQName=function(e){var r=e.indexOf(":");return r==-1?[null,e]:[e.substring(0,r),e.substring(r+1)]},_.resolveQName=function(e,r,u,f){var d=_.splitQName(e);return d[0]!=null?d[0]=r.getNamespace(d[0],u):f?(d[0]=r.getNamespace("",u),d[0]==null&&(d[0]="")):d[0]="",d},_.isSpace=function(e){return e==9||e==13||e==10||e==32},_.isLetter=function(e){return e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=255||e>=256&&e<=305||e>=308&&e<=318||e>=321&&e<=328||e>=330&&e<=382||e>=384&&e<=451||e>=461&&e<=496||e>=500&&e<=501||e>=506&&e<=535||e>=592&&e<=680||e>=699&&e<=705||e==902||e>=904&&e<=906||e==908||e>=910&&e<=929||e>=931&&e<=974||e>=976&&e<=982||e==986||e==988||e==990||e==992||e>=994&&e<=1011||e>=1025&&e<=1036||e>=1038&&e<=1103||e>=1105&&e<=1116||e>=1118&&e<=1153||e>=1168&&e<=1220||e>=1223&&e<=1224||e>=1227&&e<=1228||e>=1232&&e<=1259||e>=1262&&e<=1269||e>=1272&&e<=1273||e>=1329&&e<=1366||e==1369||e>=1377&&e<=1414||e>=1488&&e<=1514||e>=1520&&e<=1522||e>=1569&&e<=1594||e>=1601&&e<=1610||e>=1649&&e<=1719||e>=1722&&e<=1726||e>=1728&&e<=1742||e>=1744&&e<=1747||e==1749||e>=1765&&e<=1766||e>=2309&&e<=2361||e==2365||e>=2392&&e<=2401||e>=2437&&e<=2444||e>=2447&&e<=2448||e>=2451&&e<=2472||e>=2474&&e<=2480||e==2482||e>=2486&&e<=2489||e>=2524&&e<=2525||e>=2527&&e<=2529||e>=2544&&e<=2545||e>=2565&&e<=2570||e>=2575&&e<=2576||e>=2579&&e<=2600||e>=2602&&e<=2608||e>=2610&&e<=2611||e>=2613&&e<=2614||e>=2616&&e<=2617||e>=2649&&e<=2652||e==2654||e>=2674&&e<=2676||e>=2693&&e<=2699||e==2701||e>=2703&&e<=2705||e>=2707&&e<=2728||e>=2730&&e<=2736||e>=2738&&e<=2739||e>=2741&&e<=2745||e==2749||e==2784||e>=2821&&e<=2828||e>=2831&&e<=2832||e>=2835&&e<=2856||e>=2858&&e<=2864||e>=2866&&e<=2867||e>=2870&&e<=2873||e==2877||e>=2908&&e<=2909||e>=2911&&e<=2913||e>=2949&&e<=2954||e>=2958&&e<=2960||e>=2962&&e<=2965||e>=2969&&e<=2970||e==2972||e>=2974&&e<=2975||e>=2979&&e<=2980||e>=2984&&e<=2986||e>=2990&&e<=2997||e>=2999&&e<=3001||e>=3077&&e<=3084||e>=3086&&e<=3088||e>=3090&&e<=3112||e>=3114&&e<=3123||e>=3125&&e<=3129||e>=3168&&e<=3169||e>=3205&&e<=3212||e>=3214&&e<=3216||e>=3218&&e<=3240||e>=3242&&e<=3251||e>=3253&&e<=3257||e==3294||e>=3296&&e<=3297||e>=3333&&e<=3340||e>=3342&&e<=3344||e>=3346&&e<=3368||e>=3370&&e<=3385||e>=3424&&e<=3425||e>=3585&&e<=3630||e==3632||e>=3634&&e<=3635||e>=3648&&e<=3653||e>=3713&&e<=3714||e==3716||e>=3719&&e<=3720||e==3722||e==3725||e>=3732&&e<=3735||e>=3737&&e<=3743||e>=3745&&e<=3747||e==3749||e==3751||e>=3754&&e<=3755||e>=3757&&e<=3758||e==3760||e>=3762&&e<=3763||e==3773||e>=3776&&e<=3780||e>=3904&&e<=3911||e>=3913&&e<=3945||e>=4256&&e<=4293||e>=4304&&e<=4342||e==4352||e>=4354&&e<=4355||e>=4357&&e<=4359||e==4361||e>=4363&&e<=4364||e>=4366&&e<=4370||e==4412||e==4414||e==4416||e==4428||e==4430||e==4432||e>=4436&&e<=4437||e==4441||e>=4447&&e<=4449||e==4451||e==4453||e==4455||e==4457||e>=4461&&e<=4462||e>=4466&&e<=4467||e==4469||e==4510||e==4520||e==4523||e>=4526&&e<=4527||e>=4535&&e<=4536||e==4538||e>=4540&&e<=4546||e==4587||e==4592||e==4601||e>=7680&&e<=7835||e>=7840&&e<=7929||e>=7936&&e<=7957||e>=7960&&e<=7965||e>=7968&&e<=8005||e>=8008&&e<=8013||e>=8016&&e<=8023||e==8025||e==8027||e==8029||e>=8031&&e<=8061||e>=8064&&e<=8116||e>=8118&&e<=8124||e==8126||e>=8130&&e<=8132||e>=8134&&e<=8140||e>=8144&&e<=8147||e>=8150&&e<=8155||e>=8160&&e<=8172||e>=8178&&e<=8180||e>=8182&&e<=8188||e==8486||e>=8490&&e<=8491||e==8494||e>=8576&&e<=8578||e>=12353&&e<=12436||e>=12449&&e<=12538||e>=12549&&e<=12588||e>=44032&&e<=55203||e>=19968&&e<=40869||e==12295||e>=12321&&e<=12329},_.isNCNameChar=function(e){return e>=48&&e<=57||e>=1632&&e<=1641||e>=1776&&e<=1785||e>=2406&&e<=2415||e>=2534&&e<=2543||e>=2662&&e<=2671||e>=2790&&e<=2799||e>=2918&&e<=2927||e>=3047&&e<=3055||e>=3174&&e<=3183||e>=3302&&e<=3311||e>=3430&&e<=3439||e>=3664&&e<=3673||e>=3792&&e<=3801||e>=3872&&e<=3881||e==46||e==45||e==95||_.isLetter(e)||e>=768&&e<=837||e>=864&&e<=865||e>=1155&&e<=1158||e>=1425&&e<=1441||e>=1443&&e<=1465||e>=1467&&e<=1469||e==1471||e>=1473&&e<=1474||e==1476||e>=1611&&e<=1618||e==1648||e>=1750&&e<=1756||e>=1757&&e<=1759||e>=1760&&e<=1764||e>=1767&&e<=1768||e>=1770&&e<=1773||e>=2305&&e<=2307||e==2364||e>=2366&&e<=2380||e==2381||e>=2385&&e<=2388||e>=2402&&e<=2403||e>=2433&&e<=2435||e==2492||e==2494||e==2495||e>=2496&&e<=2500||e>=2503&&e<=2504||e>=2507&&e<=2509||e==2519||e>=2530&&e<=2531||e==2562||e==2620||e==2622||e==2623||e>=2624&&e<=2626||e>=2631&&e<=2632||e>=2635&&e<=2637||e>=2672&&e<=2673||e>=2689&&e<=2691||e==2748||e>=2750&&e<=2757||e>=2759&&e<=2761||e>=2763&&e<=2765||e>=2817&&e<=2819||e==2876||e>=2878&&e<=2883||e>=2887&&e<=2888||e>=2891&&e<=2893||e>=2902&&e<=2903||e>=2946&&e<=2947||e>=3006&&e<=3010||e>=3014&&e<=3016||e>=3018&&e<=3021||e==3031||e>=3073&&e<=3075||e>=3134&&e<=3140||e>=3142&&e<=3144||e>=3146&&e<=3149||e>=3157&&e<=3158||e>=3202&&e<=3203||e>=3262&&e<=3268||e>=3270&&e<=3272||e>=3274&&e<=3277||e>=3285&&e<=3286||e>=3330&&e<=3331||e>=3390&&e<=3395||e>=3398&&e<=3400||e>=3402&&e<=3405||e==3415||e==3633||e>=3636&&e<=3642||e>=3655&&e<=3662||e==3761||e>=3764&&e<=3769||e>=3771&&e<=3772||e>=3784&&e<=3789||e>=3864&&e<=3865||e==3893||e==3895||e==3897||e==3902||e==3903||e>=3953&&e<=3972||e>=3974&&e<=3979||e>=3984&&e<=3989||e==3991||e>=3993&&e<=4013||e>=4017&&e<=4023||e==4025||e>=8400&&e<=8412||e==8417||e>=12330&&e<=12335||e==12441||e==12442||e==183||e==720||e==721||e==903||e==1600||e==3654||e==3782||e==12293||e>=12337&&e<=12341||e>=12445&&e<=12446||e>=12540&&e<=12542},_.coalesceText=function(e){for(var r=e.firstChild;r!=null;r=r.nextSibling)if(r.nodeType==3||r.nodeType==4){var u=r.nodeValue,f=r;for(r=r.nextSibling;r!=null&&(r.nodeType==3||r.nodeType==4);){u+=r.nodeValue;var d=r;r=r.nextSibling,d.parentNode.removeChild(d)}if(f.nodeType==4){var y=f.parentNode;if(f.nextSibling==null)y.removeChild(f),y.appendChild(y.ownerDocument.createTextNode(u));else{var F=f.nextSibling;y.removeChild(f),y.insertBefore(y.ownerDocument.createTextNode(u),F)}}else f.nodeValue=u;if(r==null)break}else r.nodeType==1&&_.coalesceText(r)},_.instance_of=function(e,r){for(;e!=null;){if(e.constructor===r)return!0;if(e===Object)return!1;e=e.constructor.superclass}return!1},_.getElementById=function(e,r){if(e.nodeType==1&&(e.getAttribute("id")==r||e.getAttributeNS(null,"id")==r))return e;for(var u=e.firstChild;u!=null;u=u.nextSibling){var f=_.getElementById(u,r);if(f!=null)return f}return null};var X=function(){function e(u,f){var d=f?": "+f.toString():"";switch(u){case r.INVALID_EXPRESSION_ERR:return"Invalid expression"+d;case r.TYPE_ERR:return"Type error"+d}return null}function r(u,f,d){var y=Error.call(this,e(u,f)||d);return y.code=u,y.exception=f,y}return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.superclass=Error,r.prototype.toString=function(){return this.message},r.fromMessage=function(u,f){return new r(null,f,u)},r.INVALID_EXPRESSION_ERR=51,r.TYPE_ERR=52,r}();he.prototype={},he.prototype.constructor=he,he.superclass=Object.prototype;function he(e,r,u){this.xpath=u.parse(e),this.context=new S,this.context.namespaceResolver=new qe(r)}he.getOwnerDocument=function(e){return e.nodeType===9?e:e.ownerDocument},he.detectHtmlDom=function(e){if(!e)return!1;var r=he.getOwnerDocument(e);try{return r.implementation.hasFeature("HTML","2.0")}catch{return!0}},he.prototype.evaluate=function(e,r,u){this.context.expressionContextNode=e,this.context.caseInsensitive=he.detectHtmlDom(e);var f=this.xpath.evaluate(this.context);return new j(f,r)},qe.prototype={},qe.prototype.constructor=qe,qe.superclass=Object.prototype;function qe(e){this.xpathNSResolver=e}qe.prototype.getNamespace=function(e,r){return this.xpathNSResolver==null?null:this.xpathNSResolver.lookupNamespaceURI(e)},je.prototype={},je.prototype.constructor=je,je.superclass=Object.prototype;function je(e){this.node=e,this.namespaceResolver=new Y}je.prototype.lookupNamespaceURI=function(e){return this.namespaceResolver.getNamespace(e,this.node)},j.prototype={},j.prototype.constructor=j,j.superclass=Object.prototype;function j(e,r){switch(r==j.ANY_TYPE&&(e.constructor===U?r=j.STRING_TYPE:e.constructor===R?r=j.NUMBER_TYPE:e.constructor===c?r=j.BOOLEAN_TYPE:e.constructor===l&&(r=j.UNORDERED_NODE_ITERATOR_TYPE)),this.resultType=r,r){case j.NUMBER_TYPE:this.numberValue=e.numberValue();return;case j.STRING_TYPE:this.stringValue=e.stringValue();return;case j.BOOLEAN_TYPE:this.booleanValue=e.booleanValue();return;case j.ANY_UNORDERED_NODE_TYPE:case j.FIRST_ORDERED_NODE_TYPE:if(e.constructor===l){this.singleNodeValue=e.first();return}break;case j.UNORDERED_NODE_ITERATOR_TYPE:case j.ORDERED_NODE_ITERATOR_TYPE:if(e.constructor===l){this.invalidIteratorState=!1,this.nodes=e.toArray(),this.iteratorIndex=0;return}break;case j.UNORDERED_NODE_SNAPSHOT_TYPE:case j.ORDERED_NODE_SNAPSHOT_TYPE:if(e.constructor===l){this.nodes=e.toArray(),this.snapshotLength=this.nodes.length;return}break}throw new X(X.TYPE_ERR)}j.prototype.iterateNext=function(){if(this.resultType!=j.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=j.ORDERED_NODE_ITERATOR_TYPE)throw new X(X.TYPE_ERR);return this.nodes[this.iteratorIndex++]},j.prototype.snapshotItem=function(e){if(this.resultType!=j.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=j.ORDERED_NODE_SNAPSHOT_TYPE)throw new X(X.TYPE_ERR);return this.nodes[e]},j.ANY_TYPE=0,j.NUMBER_TYPE=1,j.STRING_TYPE=2,j.BOOLEAN_TYPE=3,j.UNORDERED_NODE_ITERATOR_TYPE=4,j.ORDERED_NODE_ITERATOR_TYPE=5,j.UNORDERED_NODE_SNAPSHOT_TYPE=6,j.ORDERED_NODE_SNAPSHOT_TYPE=7,j.ANY_UNORDERED_NODE_TYPE=8,j.FIRST_ORDERED_NODE_TYPE=9;function mt(e,r){e.createExpression=function(u,f){try{return new he(u,f,r)}catch(d){throw new X(X.INVALID_EXPRESSION_ERR,d)}},e.createNSResolver=function(u){return new je(u)},e.evaluate=function(u,f,d,y,F){if(y<0||y>9)throw{code:0,toString:function(){return"Request type not supported"}};return e.createExpression(u,d,r).evaluate(f,y,F)}}try{var We=!0;try{document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("XPath",null)&&(We=!1)}catch{}We&&mt(document,new w)}catch{}mt(o,new w),function(){var e=new w,r=new Y,u=new G,f=new A;function d(N){return{getNamespace:function(Z,fe){var ge=N(Z,fe);return ge||r.getNamespace(Z,fe)}}}function y(N){return d(N.getNamespace.bind(N))}function F(N){return d(function(Z){return N[Z]})}function V(N){return N&&typeof N.getNamespace=="function"?y(N):typeof N=="function"?d(N):typeof N=="object"?F(N):r}function Q(N){if(N===null||typeof N>"u"||N instanceof U||N instanceof c||N instanceof R||N instanceof l)return N;switch(typeof N){case"string":return new U(N);case"boolean":return new c(N);case"number":return new R(N)}var Z=new l;return Z.addArray([].concat(N)),Z}function P(N){return function(Z){var fe=Array.prototype.slice.call(arguments,1).map(function(Ct){return Ct.evaluate(Z)}),ge=N.apply(this,[].concat(Z,fe));return Q(ge)}}function $(N){return{getFunction:function(Z,fe){var ge=N(Z,fe);return ge?P(ge):u.getFunction(Z,fe)}}}function Ae(N){return $(N.getFunction.bind(N))}function re(N){return $(function(Z){return N[Z]})}function Je(N){return N&&typeof N.getFunction=="function"?Ae(N):typeof N=="function"?$(N):typeof N=="object"?re(N):u}function rt(N){return{getVariable:function(Z,fe){var ge=N(Z,fe);return Q(ge)}}}function yt(N){if(N){if(typeof N.getVariable=="function")return rt(N.getVariable.bind(N));if(typeof N=="function")return rt(N);if(typeof N=="object")return rt(function(Z){return N[Z]})}return f}function gt(N,Z,fe){N in fe&&(Z[N]=fe[N])}function Ut(N){var Z=new S;return N?(Z.namespaceResolver=V(N.namespaces),Z.functionResolver=Je(N.functions),Z.variableResolver=yt(N.variables),Z.expressionContextNode=N.node,gt("allowAnyNamespaceForNoPrefix",Z,N),gt("isHtml",Z,N)):Z.namespaceResolver=r,Z}function Qe(N,Z){var fe=Ut(Z);return N.evaluate(fe)}var bt={evaluate:function(N){return Qe(this.expression,N)},evaluateNumber:function(N){return this.evaluate(N).numberValue()},evaluateString:function(N){return this.evaluate(N).stringValue()},evaluateBoolean:function(N){return this.evaluate(N).booleanValue()},evaluateNodeSet:function(N){return this.evaluate(N).nodeset()},select:function(N){return this.evaluateNodeSet(N).toArray()},select1:function(N){return this.select(N)[0]}};function St(N){var Z=e.parse(N);return Object.create(bt,{expression:{value:Z}})}o.parse=St}(),de(o,{XPath:ce,XPathParser:w,XPathResult:j,Step:I,PathExpr:M,NodeTest:O,LocationPath:te,OrOperation:we,AndOperation:Pe,BarOperation:ee,EqualsOperation:ze,NotEqualOperation:Le,LessThanOperation:_e,GreaterThanOperation:le,LessThanOrEqualOperation:be,GreaterThanOrEqualOperation:xe,PlusOperation:Se,MinusOperation:Be,MultiplyOperation:Me,DivOperation:Ue,ModOperation:Ie,UnaryMinusOperation:se,FunctionCall:Ce,VariableReference:He,XPathContext:S,XNodeSet:l,XBoolean:c,XString:U,XNumber:R,NamespaceResolver:Y,FunctionResolver:G,VariableResolver:A,Utilities:_}),o.select=function(e,r,u){return o.selectWithResolver(e,r,null,u)},o.useNamespaces=function(e){var r={mappings:e||{},lookupNamespaceURI:function(u){return this.mappings[u]}};return function(u,f,d){return o.selectWithResolver(u,f,r,d)}},o.selectWithResolver=function(e,r,u,f){var d=new he(e,u,new w),y=j.ANY_TYPE,F=d.evaluate(r,y,null);return F.resultType==j.STRING_TYPE?F=F.stringValue:F.resultType==j.NUMBER_TYPE?F=F.numberValue:F.resultType==j.BOOLEAN_TYPE?F=F.booleanValue:(F=F.nodes,f&&(F=F[0])),F},o.select1=function(e,r){return o.select(e,r,!0)}})(a)})(x);const tr=({dataChunk:t,indexKey:a,chunkSize:o})=>{var h,b;if(!t[0].value&&!((h=t[1])!=null&&h.value)&&!((b=t[2])!=null&&b.value))return null;let s=null,p=t;return o===3&&(p=t.slice(0,2),[s]=t.slice(2)),E.createElement(E.Fragment,null,E.createElement("tr",null,p.map((m,C)=>{var H,W;if(!m.value)return null;let B=1;return(C===0&&(!p[C+1]||!p[C+1].value)||C===1&&(!p[C-1]||!p[C-1].value))&&(B=3),E.createElement(E.Fragment,{key:`${p[0].label}-${String(p[0].value)}-${C}-${a}-${((H=p[1])==null?void 0:H.label)||""}-${((W=p[1])==null?void 0:W.value)||""}`},E.createElement("td",{className:"ctw-ccda-common-td1",rowSpan:s&&s.value&&C===0?2:1},m.label.replace(/:/g,"")),E.createElement("td",{className:"ctw-ccda-common-td2",colSpan:B,rowSpan:s&&s.value&&C===0?2:1},m.value))})),s&&s.value&&E.createElement("tr",null,E.createElement("td",{className:"ctw-ccda-common-td1"},s.label.replace(/:/g,"")),E.createElement("td",{className:"ctw-ccda-common-td2"},s.value)))};try{tr.displayName="BasicRow",tr.__docgenInfo={description:"",displayName:"BasicRow",props:{dataChunk:{defaultValue:null,description:"",name:"dataChunk",required:!0,type:{name:"TableInfo[]"}},indexKey:{defaultValue:null,description:"",name:"indexKey",required:!0,type:{name:"number"}},chunkSize:{defaultValue:null,description:"",name:"chunkSize",required:!1,type:{name:"enum",value:[{value:"2"},{value:"3"}]}}}}}catch{}const rr=({tuple:t,indexKey:a})=>!t[0].value&&!t[1].value?null:E.createElement("tr",null,t.map((o,s)=>{if(!o.value)return null;let p=1;return(s===0&&!t[1].value||s===1&&!t[0].value)&&(p=3),E.createElement(E.Fragment,{key:`${t[0].label}-${t[0].value}-${s}-${a}-${t[1].label||""}-${t[1].value}`},E.createElement("td",{className:"ctw-ccda-common-td1"},o.label.replace(/:/g,"")),E.createElement("td",{className:"ctw-ccda-common-td2",colSpan:p},o.value))}));try{rr.displayName="TupleRow",rr.__docgenInfo={description:"",displayName:"TupleRow",props:{tuple:{defaultValue:null,description:"",name:"tuple",required:!0,type:{name:"[TableInfo, TableInfo]"}},indexKey:{defaultValue:null,description:"",name:"indexKey",required:!0,type:{name:"number"}}}}}catch{}const Ne=({data:t,chunkSize:a=2})=>{const[o,s]=L.partition(t,h=>!L.isArray(h)),p=L.chunk(o,a);return E.createElement("table",{className:"ctw-ccda-common-table"},E.createElement("tbody",null,p.map((h,b)=>E.createElement(tr,{key:`${h[0].label}-${b}`,dataChunk:h,chunkSize:a,indexKey:b})),s.map((h,b)=>E.createElement(rr,{key:`${h[0].label}-${h[1].label}-${b}`,tuple:h,indexKey:b}))))};try{Ne.displayName="Table",Ne.__docgenInfo={description:"",displayName:"Table",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"(TableInfo | [TableInfo, TableInfo])[]"}},chunkSize:{defaultValue:{value:"2"},description:"",name:"chunkSize",required:!1,type:{name:"enum",value:[{value:"2"},{value:"3"}]}}}}}catch{}const Gr=t=>{var o;if(t.text)return t.text;let a="";return a+=t.use?`${L.capitalize(t.use)}: `:"",a+=L.isEmpty(t.line)?"":`${(o=t.line)==null?void 0:o.join(`
`)}
`,a+=t.city?`${t.city}, `:"",a+=t.state?`${t.state} `:"",a+=t.postalCode||"",a+=t.country?`
${t.country}`:"",a},yi=t=>L.isEmpty(t)?"":L.isArray(t)?t.map(Gr).join(`
`):Gr(t);function gi(t){return L.isArray(t)&&t.every(a=>typeof a=="object")}function vi(t){return L.isArray(t)&&t.every(a=>typeof a=="string")}const $r=t=>{if(t.text)return t.text;let a="";return t.given&&t.given.length>0&&(a=t.given.join(" "),t.family&&(a=`${a} ${t.family}`)),t.prefix&&t.prefix.length>0&&(a=`${t.prefix.join(" ")} ${a}`),a},gn=t=>L.isEmpty(t)?"":typeof t=="string"?t:vi(t)?t.reduce((a,o,s)=>`${a}${s===0?"":`
`}${o}`,""):gi(t)?t.map($r).join(", "):$r(t),jr=({use:t,system:a,value:o})=>{const s=t?` (${t})`:"";return`${a?`${L.capitalize(a)}${s}:`:""} ${o}`.trim()},bi=t=>L.isEmpty(t)?"":L.isArray(t)?t.map(jr).join(`
`):jr(t),xi={BAD:"bad",DIR:"direct",H:"home",HP:"primary home",HV:"vacation home",PHYS:"physical",PST:"postal",PUB:"public",TMP:"temporary",WP:"work",CONF:"confidential"},vn=t=>{if(!t)return"";const a=o=>{const s=String(x.select1("string(@use)",o)),p={line:L.map(x.select("*[name()='streetAddressLine']",o),h=>String(x.select("string(text())",h))).filter(Boolean),city:String(x.select("string(*[name()='city'])",o)),state:String(x.select("string(*[name()='state'])",o)),postalCode:String(x.select("string(*[name()='postalCode'])",o)),country:String(x.select("string(*[name()='country'])",o)),use:xi[s]};return yi(p)};return L.isArray(t)?t.map(a).join(`
`):a(t)},Ei={BAD:"bad",CONF:"confidential",OLD:"old",H:"home",HP:"primary home",HV:"vacation Home",TMP:"temporary",WP:"work",DIR:"direct",PUB:"public",AS:"answering service",EC:"emergency:",MC:"mobile",PG:"pager"},Gt={tel:"phone",mailto:"email"},wi=t=>{if(!t)return"";const a=o=>{const p=String(x.select1("string(@value)",o)).split(":");let h,b;if(p.length===2&&([h,b]=p),p.length===1&&([b]=p),!b)return"";const m=b.includes("@")?Gt.mailto:Gt.tel,B={system:Gt[h]||m,value:b,use:Ei[String(x.select1("string(@use)",o))]};return bi(B)};return L.isArray(t)?t.map(a).join(`
`):a(t)},Re=(t,a)=>{const o=vn(t),s=wi(a);return`${o||""}${o&&s?`
`:""}${s||""}`},Si={A:"Artist/Stage",ABC:"Alphabetic",ASGN:"Assigned",C:"License",I:"Indigenous/Tribal",IDE:"Ideographic",L:"Legal",P:"Pseudonym",PHON:"Phonetic",R:"Religious",SNDX:"Soundex",SRCH:"Search",SYL:"Syllabic"},et=t=>{if(!t)return"";const a=o=>{const s={use:Si[String(x.select("string(@use)",o))],given:L.map(x.select("(*[name()='given'])",o),p=>String(x.select1("string(text())",p))),family:String(x.select1("string(*[name()='family']/text())",o)),prefix:L.map(x.select("(*[name()='prefix'])",o),p=>String(x.select1("string(text())",p))),suffix:L.map(x.select("(*[name()='suffix'])",o),p=>String(x.select1("string(text())",p)))};return gn(s)};return L.isArray(t)?t.map(a).join(`
`):a(t)},at=t=>{if(!t)return"";const a=String(x.select1("string(@root)",t)),o=String(x.select1("string(@extension)",t));return`${o}${o?" (":""}${a}${o?")":""}`},Ci=t=>{const a=t.replace(/:/g,""),o=a.lastIndexOf("+"),s=a.lastIndexOf("-");if(o>0)return{index:a.length-o-1,timezoneSign:"+"};if(s>0){const p=a[s-3];return L.isFinite(Number(p))||p==="T"?{index:a.length-s-1,timezoneSign:"-"}:{index:-1}}return{index:-1}},ot=t=>t&&t.length>1&&t.split("").every(a=>L.isFinite(Number(a))),Ai=({year:t,month:a,day:o,hour:s,minute:p,second:h,timezoneHour:b,timezoneMinute:m,timezoneSign:C})=>{let B="";return ot(t)&&(B+=t,ot(a)&&(B+=`-${a}`,ot(o)&&(B+=`-${o}`,ot(s)?(B+=`T${s}`,ot(p)?B+=`:${p}`:B+=":00",ot(h)?B+=`:${h}`:B+=":00",C&&ot(b)?(B+=`${C}${b}`,ot(m)?B+=`:${m}`:B+=":00"):B+="-00:00"):B+="T00:00:00-00:00"))),B},$e=t=>{if(!t)return"";const{index:a,timezoneSign:o}=Ci(t);let s=t.replace(/T/g,"").replace(/-/g,"").replace("+","").replace(/:/g,""),p="";(a===4||a===2)&&s.length>9&&(p=s.substring(s.length-a),s=s.substring(0,s.length-a));const h=s.slice(0,4),b=s.slice(4,6),m=s.slice(6,8),C=s.slice(8,10),B=s.slice(10,12),H=s.slice(12,14),W=p.slice(0,2),oe=p.slice(2);return m?Ai({year:h,month:b,day:m,hour:C,minute:B,second:H,timezoneHour:W,timezoneMinute:oe,timezoneSign:o}):""},Pr=t=>{if(!t)return{};const a=String(x.select1("string(*[name()='low']/@value)",t)),o=String(x.select1("string(*[name()='high']/@value)",t));if(!a&&!o)return{};if(a&&!o)return{start:$e(a)};if(!a&&o)return{end:$e(o)};let s=$e(a),p=$e(o);return(s.includes("T")||p.includes("T"))&&(s=$e(s),p=$e(p)),Zn(new Date(s),new Date(p))||ei(new Date(s),new Date(p))?{start:s,end:p}:{start:s}},Ft=(t,a,o,s=!0)=>{if(L.isArray(a))return a.reduce((h,b)=>Ft(h,b,o),t);const p=s?L.escapeRegExp:L.identity;return t.replace(new RegExp(p(a),"g"),o)},xt=(t,a,o)=>{const s=[`</${a}>`,`<${a}>`,`</${a}`,`<${a}`],p=[`</${o}>`,`<${o}>`,`</${o}`,`<${o}`];return s.reduce((h,b,m)=>Ft(h,s[m],p[m]),t)},Ti=t=>{let a=t.toString();return a=Ft(a,["<list/>","<item/>","<content/>","<paragraph/>","<section/>","<br/>",'<text xmlns="urn:hl7-org:v3">',"<text />","<text/>"],""),a=Ft(a,' styleCode="(.*?)"',"",!1),a=xt(a,"section","div"),a=xt(a,"list","ul"),a=xt(a,"item","li"),a=xt(a,"content","div"),a=xt(a,"paragraph","p"),a},ht=t=>{if(!t)return"";const[a,o]=t.split("T");return sn(new Date(a),"MMMM dd, yyyy")+(o.split("").some(s=>Number(s)>0)?`, ${o}`:"")},Ni=t=>!!t,zr=t=>!!t,Di=t=>{const a=x.select("*[name()='ClinicalDocument']/*[name()='authenticator']",t);if(!L.isEmpty(a))return a.map(o=>{const s=x.select1("*[name()='assignedEntity']",o);if(!s)return;const p=x.select1("*[name()='assignedPerson']",s),h=et(x.select("*[name()='name']",p)),b=Re(x.select("*[name()='addr']",s),x.select("*[name()='telecom']",s)),m=$e(String(x.select1("string(*[name()='time']/@value)",o)));return{name:h,contactDetails:b,time:m}}).filter(zr)},nr=({document:t})=>{const a=Di(t);if(!a||L.isEmpty(a))return null;const o=a.flatMap(s=>[{label:"Authenticator",value:`${s.name||"Unknown"}${s.time?` signed at ${s.time}`:""}`},{label:"Contact Details",value:s.contactDetails}]);return E.createElement(Ne,{data:o})};try{nr.displayName="Authenticator",nr.__docgenInfo={description:"",displayName:"Authenticator",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const bn=t=>{const a=x.select("*[name()='ClinicalDocument']/*[name()='author']",t);return L.isEmpty(a)?void 0:a.map(s=>{const p=x.select1("*[name()='assignedAuthor']/*[name()='assignedPerson']/*[name()='name']",s),h=x.select1("*[name()='assignedAuthor']/*[name()='assignedAuthoringDevice']",s);let b="";if(p)b=et(p);else if(h){const B=String(x.select1("string(*[name()='manufacturerModelName'])",h)),H=String(x.select1("string(*[name()='softwareName'])",h));b=[B,H].filter(Boolean).join("; ")}const m=String(x.select1("string(*[name()='assignedAuthor']/*[name()='representedOrganization']/*[name()='name'])",s)),C=$e(String(x.select1("string(*[name()='time'])",s)));return[{label:"Name:",value:b},{label:"Organization:",value:m},{label:"Authored on",value:C}]}).reduce((s,p,h)=>({...s,[`author${h+1}`]:p}),{})},_i=t=>{const a=x.select("*[name()='ClinicalDocument']/*[name()='author']",t);if(L.isEmpty(a))return;const o=bn(t);return a.map((s,p)=>{const h=x.select1("*[name()='assignedAuthor']",s),b=Re(x.select("*[name()='addr']",h),x.select("*[name()='telecom']",h)),m=x.select1("*[name()='representedOrganization']",h),C={name:o[`author${p+1}`][0].value,contactDetails:b,organization:{name:o[`author${p+1}`][1].value,contactDetails:""}};if(m){const B=Re(x.select("*[name()='addr']",m),x.select("*[name()='telecom']",m));return{...C,organization:{...C.organization,contactDetails:B}}}return C})},ir=({document:t})=>{const a=_i(t);if(!a||L.isEmpty(a))return null;const o=a.flatMap(s=>[{label:"Author",value:`${s.name||"Unknown"}${s.organization.name?`, Organization: ${s.organization.name}`:""}`},{label:"Contact Details",value:s.contactDetails},{label:"Contact Details (Organization)",value:s.organization.contactDetails}]);return E.createElement(Ne,{data:o,chunkSize:3})};try{ir.displayName="Author",ir.__docgenInfo={description:"",displayName:"Author",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const xn=t=>{const a=x.select("*[name()='ClinicalDocument']/*[name()='authorization']/*[name()='consent']",t);return L.isEmpty(a)?void 0:a.map(s=>{const p=at(x.select1("*[name()='id']",s)),h=String(x.select1("string(*[name()='code']/@displayName)",s)),b=String(x.select1("string(*[name()='statusCode']/@code)",s));return[{label:"ID:",value:p},{label:"Code:",value:h},{label:"Status:",value:b}]}).reduce((s,p,h)=>({...s,[`consent${h+1}`]:p}),{})},Ii=t=>{const a=xn(t);return Object.values(a||{})},ar=({document:t})=>{const a=Ii(t);if(L.isEmpty(a))return null;const o=a.flatMap(s=>[{label:"Consent",value:`Order: ${s[0].value||"Unknown"}, ${s[1].value||"Unknown"}, ${s[2].value||"Unknown"}`},{label:"",value:""}]);return E.createElement(Ne,{data:o})};try{ar.displayName="Authorization",ar.__docgenInfo={description:"",displayName:"Authorization",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Oi=t=>{const a=x.select1("*[name()='ClinicalDocument']/*[name()='custodian']/*[name()='assignedCustodian']/*[name()='representedCustodianOrganization']",t);if(!a)return;const o=String(x.select1("string(*[name()='name'])",a)),s=Re(x.select1("*[name()='ClinicalDocument']/*[name()='custodian']/*[name()='assignedCustodian']/*[name()='representedCustodianOrganization']/*[name()='addr']",t),x.select1("*[name()='ClinicalDocument']/*[name()='custodian']/*[name()='assignedCustodian']/*[name()='representedCustodianOrganization']/*[name()='telecom']",t));return{name:o,contactDetails:s}},or=({document:t})=>{const a=Oi(t);if(!a)return null;const{name:o,contactDetails:s}=a,p=[{label:"Custodian",value:o},{label:"Contact Details",value:s}];return E.createElement(Ne,{data:p})};try{or.displayName="Custodian",or.__docgenInfo={description:"",displayName:"Custodian",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Ri=t=>{const a=x.select1("*[name()='ClinicalDocument']/*[name()='dataEnterer']/*[name()='assignedEntity']",t);if(!a)return;const o=x.select1("*[name()='assignedPerson']",a),s=et(x.select("*[name()='name']",o)),p=Re(x.select("*[name()='addr']",a),x.select("*[name()='telecom']",a));return{name:s,contactDetails:p}},sr=({document:t})=>{const a=Ri(t);if(!a)return null;const{name:o,contactDetails:s}=a,p=[{label:"Data Enterer",value:o},{label:"Contact Details",value:s}];return E.createElement(Ne,{data:p})};try{sr.displayName="DataEnterer",sr.__docgenInfo={description:"",displayName:"DataEnterer",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Fi={N:"normal",R:"restricted",V:"very restricted"},Pi=t=>{const a=at(x.select1("*[name()='ClinicalDocument']/*[name()='id']",t)),o=$e(String(x.select1("string(*[name()='ClinicalDocument']/*[name()='effectiveTime']/@value)",t))),s=ht(o),p=String(x.select1("string(*[name()='ClinicalDocument']/*[name()='versionNumber']/@value)",t)),h=at(x.select1("*[name()='ClinicalDocument']/*[name()='setId']",t)),b=Fi[String(x.select1("string(*[name()='ClinicalDocument']/*[name()='confidentialityCode']/@code)",t))],m=String(x.select1("string(*[name()='ClinicalDocument']/*[name()='code']/@displayName)",t)),C=String(x.select1("string(*[name()='ClinicalDocument']/*[name()='languageCode']/@code)",t));return{id:a,createdOn:s,version:p,setId:h,confidentialityCode:b,code:m,languageCode:C}},cr=({document:t})=>{const{id:a,createdOn:o,version:s,setId:p,confidentialityCode:h,code:b,languageCode:m}=Pi(t),C=[{label:"Document",value:E.createElement(E.Fragment,null,E.createElement("b",null,"ID: "),a,p&&E.createElement(E.Fragment,null,E.createElement("br",null),E.createElement("b",null,"Set ID: "),p))},{label:"Created on",value:o},{label:"Version",value:s||"Unknown"},{label:"Confidentiality",value:h},{label:"Code",value:b},{label:"Language",value:m}];return E.createElement(Ne,{data:C})};try{cr.displayName="Document",cr.__docgenInfo={description:"",displayName:"Document",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const En=t=>{const a=x.select("//*[name()='documentationOf']/*[name()='serviceEvent']",t);return L.isEmpty(a)?void 0:a.map(s=>{const p=x.select1("*[name()='effectiveTime']",s),h=Pr(p),m=x.select("*[name()='performer']/*[name()='assignedEntity']/*[name()='assignedPerson']/*[name()='name']",s).map(C=>et(C));return[{label:"Date/Time:",value:h.start||h.end?`from ${ht(h.start)||"unknown"} to ${ht(h.end)||"unknown"}`:""},...m.map(C=>({label:"Performer:",value:C}))]}).reduce((s,p,h)=>({...s,[`documentationOf${h+1}`]:p}),{})},zi=t=>{const a=x.select("//*[name()='documentationOf']/*[name()='serviceEvent']",t);if(L.isEmpty(a))return;const o=En(t);return a.map((s,p)=>{const b=x.select("*[name()='performer']",s).map((m,C)=>{const B=String(x.select1("string(*[name()='functionCode']/@displayName)",m)),H=L.get(o,`documentationOf${p+1}[${C+1}].value`),W=Re(x.select("*[name()='assignedEntity']/*[name()='addr']",m),x.select("*[name()='assignedEntity']/*[name()='telecom']",m));if(!(!H&&!B&&!W))return{functionCode:B,name:H,contactDetails:W}});return{dateTime:L.get(o,`documentationOf${p+1}[0].value`),finalPerformers:b.filter(Ni)}})},lr=({document:t})=>{const a=zi(t);if(!a||L.isEmpty(a))return null;const o=a.flatMap(s=>[{label:"Documentation of - Date/Time",value:s.dateTime},{label:"",value:""},...s.finalPerformers.flatMap(p=>[{label:"Performer",value:`${p.name||"Unknown"}${p.functionCode?` - ${p.functionCode}`:""}`},{label:"Contact Details",value:p.contactDetails}])]);return E.createElement(Ne,{data:o})};try{lr.displayName="DocumentationOf",lr.__docgenInfo={description:"",displayName:"DocumentationOf",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const wn=t=>{const a=x.select1("*[name()='ClinicalDocument']/*[name()='componentOf']/*[name()='encompassingEncounter']",t);if(!a)return;const o=at(x.select1("*[name()='id']",a)),s=String(x.select1("string(*[name()='code']/@displayName)",a)),p=Pr(x.select1("*[name()='effectiveTime']",a));return[{label:"ID:",value:p.start||p.end||o?o||"Unknown":""},{label:"Type:",value:s},{label:"Date/Time:",value:p.start||p.end?`from ${ht(p.start)||"unknown"} to ${ht(p.end)||"unknown"}`:""}]},Li=t=>{const a=x.select1("*[name()='ClinicalDocument']/*[name()='componentOf']/*[name()='encompassingEncounter']",t);if(!a)return;const o=wn(t),s=String(x.select1("string(*[name()='dischargeDispositionCode']/@displayName)",a)),p=at(x.select1("*[name()='location']/*[name()='healthCareFacility']/*[name()='id']",a));return{id:o[0],type:o[1],dateTime:o[2],dischargeDisposition:s,encounterLocation:p?`ID: ${p}`:null}},ur=({document:t})=>{const a=Li(t);if(!a)return null;const{dischargeDisposition:o,encounterLocation:s,id:p,type:h,dateTime:b}=a,m=[{label:"Encounter",value:b.value||o||s||p.value?E.createElement(E.Fragment,null,E.createElement("b",null,"ID: "),p.value||"Unknown",h.value&&E.createElement(E.Fragment,null,E.createElement("br",null),E.createElement("b",null,"Type: "),h.value)):null},{label:"Date/Time",value:b.value},{label:"Discharge Disposition",value:o},{label:"Encounter Location",value:s}];return E.createElement(Ne,{data:m})};try{ur.displayName="Encounter",ur.__docgenInfo={description:"",displayName:"Encounter",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Bi=t=>{const a=x.select("*[name()='ClinicalDocument']/*[name()='informant']",t);if(!L.isEmpty(a))return a.map(o=>{const s=x.select1("*[name()='assignedEntity']",o);if(s){const h=x.select1("*[name()='assignedPerson']",s),b=et(x.select("*[name()='name']",h)),m=Re(x.select("*[name()='addr']",s),x.select("*[name()='telecom']",s));return{name:b,contactDetails:m,relationship:""}}const p=x.select1("*[name()='relatedEntity']",o);if(p){const h=x.select1("*[name()='relatedPerson']",p),b=et(x.select("*[name()='name']",h)),m=Re(x.select("*[name()='addr']",p),x.select("*[name()='telecom']",p)),C=String(x.select1("string(*[name()='code']/@displayName)",p)).toLowerCase();return{name:b,contactDetails:m,relationship:C}}}).filter(zr)},dr=({document:t})=>{const a=Bi(t);if(!a||L.isEmpty(a))return null;const o=a.flatMap(s=>[{label:"Informant",value:`${s.name||"Unknown"}${s.relationship?` - ${s.relationship}`:""}`},{label:"Contact Details",value:s.contactDetails}]);return E.createElement(Ne,{data:o})};try{dr.displayName="Informant",dr.__docgenInfo={description:"",displayName:"Informant",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Mi=t=>{const a=x.select("*[name()='ClinicalDocument']/*[name()='informationRecipient']/*[name()='intendedRecipient']",t);if(!L.isEmpty(a))return a.map(o=>{const s=x.select1("*[name()='informationRecipient']",o),p=x.select1("*[name()='receivedOrganization']",o);if(s){const C=et(x.select1("*[name()='name']",s)),B=String(x.select1("string(*[name()='name']/node())",p));return{name:C,contactDetails:"",organization:{name:B,contactDetails:""}}}const h=x.select("*[name()='id']",o).map(at).join(", "),b=Re(x.select("*[name()='addr']",o),x.select("*[name()='telecom']",o)),m={name:h,contactDetails:b,organization:{name:"",contactDetails:""}};if(p){const C=String(x.select1("string(*[name()='name']/node())",p)),B=Re(x.select("*[name()='addr']",p),x.select("*[name()='telecom']",p));return{...m,organization:{name:C,contactDetails:B}}}return m})},pr=({document:t})=>{const a=Mi(t);if(!a||L.isEmpty(a))return null;const o=a.flatMap(s=>[{label:"Information Recipient",value:s.name},{label:"Contact Details",value:s.contactDetails},{label:"Organization",value:s.organization.name},{label:"Contact Details (Organization)",value:s.organization.contactDetails}]);return E.createElement(Ne,{data:o})};try{pr.displayName="InformationRecipient",pr.__docgenInfo={description:"",displayName:"InformationRecipient",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Sn=t=>{const a=x.select("*[name()='ClinicalDocument']/*[name()='inFulfillmentOf']/*[name()='order']",t);return L.isEmpty(a)?void 0:a.map(s=>{const p=at(x.select1("*[name()='id']",s)),h=String(x.select1("string(*[name()='code']/@displayName)",s));return[{label:"Order ID:",value:p},{label:"Code:",value:h}]}).reduce((s,p,h)=>({...s,[`inFulfillmentOf${h+1}`]:p}),{})},Ui=t=>{const a=Sn(t);return Object.values(a||{})},mr=({document:t})=>{const a=Ui(t);if(L.isEmpty(a))return null;const o=a.flatMap(s=>[{label:"In Fulfillment Of",value:`Order: ${s[0].value||"Unknown"}, ${s[1].value||"Unknown"}`},{label:"",value:""}]);return E.createElement(Ne,{data:o})};try{mr.displayName="InFulfillmentOf",mr.__docgenInfo={description:"",displayName:"InFulfillmentOf",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Hi=t=>{const a=x.select1("*[name()='ClinicalDocument']/*[name()='legalAuthenticator']",t);if(!a)return;const o=x.select1("*[name()='assignedEntity']",a),s=x.select1("*[name()='assignedPerson']",o),p=et(x.select("*[name()='name']",s)),h=Re(x.select("*[name()='addr']",o),x.select("*[name()='telecom']",o)),b=ht($e(String(x.select1("string(*[name()='time']/@value)",a))));return{name:p,contactDetails:h,time:b}},fr=({document:t})=>{const a=Hi(t);if(!a)return null;const{name:o,time:s,contactDetails:p}=a,h=s?` signed at ${s}`:"",b=[{label:"Legal Authenticator",value:`${o}${h}`},{label:"Contact Details",value:p}];return E.createElement(Ne,{data:b})};try{fr.displayName="LegalAuthenticator",fr.__docgenInfo={description:"",displayName:"LegalAuthenticator",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const ki=t=>{const a=x.select("*[name()='ClinicalDocument']/*[name()='participant']",t);if(!L.isEmpty(a))return a.map(o=>{const s=x.select1("*[name()='associatedEntity']",o);if(s){const p=x.select1("*[name()='associatedPerson']",s),h=et(x.select("*[name()='name']",p)),b=Re(x.select("*[name()='addr']",s),x.select("*[name()='telecom']",s)),m=x.select1("*[name()='time']",o),C=Pr(m),B=String(x.select1("string(*[name()='code']/@displayName)",s)).toLowerCase();return{name:h,contactDetails:b,time:`from ${C.start} to ${C.end}`,relationship:B}}}).filter(zr)},hr=({document:t})=>{const a=ki(t);if(!a||L.isEmpty(a))return null;const o=a.flatMap(s=>[{label:"Participant",value:`${s.name}${s.relationship?` - ${s.relationship}`:""}`},{label:"Contact Details",value:s.contactDetails}]);return E.createElement(Ne,{data:o})};try{hr.displayName="Participant",hr.__docgenInfo={description:"",displayName:"Participant",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Cn=t=>{const a=x.select("*[name()='patient']/*[name()='guardian']",t);if(!L.isEmpty(a))return a.map(o=>{const s=x.select1("*[name()='guardianPerson']",o),p=String(x.select1("string(*[name()='code']/@displayName)",o)),h=et(x.select("*[name()='name']",s)),b=p?` - ${p}`:"";return{label:"",value:`${h}${b}`}})},An=t=>{const o=x.select("*[name()='ClinicalDocument']/*[name()='recordTarget']/*[name()='patientRole']",t).map(s=>{const p=x.select1("*[name()='patient']",s),h=et(x.select1("*[name()='name']",p)),b=x.select("*[name()='id']",s).map(at).join(", "),m=String(x.select1("string(*[name()='administrativeGenderCode']/@displayName)",p)),C=new Date($e(String(x.select1("string(*[name()='birthTime']/@value)",p)))),B=new Date($e(String(x.select1("string(*[name()='sdtc:deceasedTime']/@value)",p)))),H=String(x.select1("string(*[name()='sdtc:deceasedInd']/@value)",p))==="true",W=H?"deceased":Vn(Vr(B)?B:new Date,C),oe=`${sn(C,"MMMM dd, yyyy")} (${W}${H?"":" yr"}${Vr(B)?" - deceased":""})`,ie=Cn(s);return{patient:[{label:"Name:",value:h},{label:"ID:",value:b},{label:"Date of birth:",value:oe},{label:"Gender:",value:m}],guardian:ie}});return L.map(o,s=>[s.patient,s.guardian]).reduce((s,p,h)=>({...s,[`patient${h+1}`]:p[0],[`guardian${h+1}`]:p[1]}),{})},Vi=t=>{const a=x.select1("*[name()='birthplace']/*[name()='place']/*[name()='addr']",t);return a?vn(a):""},qi=t=>{const a=x.select1("*[name()='ethnicGroupCode']",t);if(a)return String(x.select1("string(@displayName)",a));const o=x.select("*[name()='sdtc:ethnicGroupCode']",t);return L.isEmpty(o)?"":String(x.select1("string(@displayName)",o[0]))},Gi=t=>{const a=x.select("//*[name()='patientRole']/*[name()='patient']/*[name()='guardian']",document);if(!a||L.isEmpty(a))return;const o=Cn(t);return a.map((s,p)=>{const h=Re(x.select("*[name()='addr']",s),x.select("*[name()='telecom']",s));return{name:o[p].value,contactDetails:h}})},$i=t=>x.select("*[name()='languageCommunication']",t).reduce((o,s,p)=>{const h=String(x.select1("string(*[name()='languageCode']/@code)",s));if(!h)return o;const b=String(x.select1("string(*[name()='preferenceInd']/@value)",s)),m=p===0?"":`
`,C=b!==""?`, preferred: ${b}`:"";return`${o}${m}${h}${C}`},""),ji=t=>String(x.select1("string(*[name()='maritalStatusCode']/@displayName)",t)),Wi=t=>{const a=x.select1("*[name()='providerOrganization']",t),o=x.select1("//*[name()='custodian']/*[name()='assignedCustodian']/*[name()='representedCustodianOrganization']",t),s=a||o,p=x.select("*[name()='id']",s).map(at).join(", "),h=gn(x.select("string(*[name()='name'])",s)),b=Re(x.select("*[name()='addr']",s),x.select("*[name()='telecom']",s)),m=h?`
${h}`:"";return{name:`${p}${m}`,contactDetails:b}},Yi=t=>{const a=x.select1("*[name()='raceCode']",t);if(a)return String(x.select1("string(@displayName)",a));const o=x.select("*[name()='sdtc:raceCode']",t);return L.isEmpty(o)?"":String(x.select1("string(@displayName)",o[0]))},Ki=t=>String(x.select1("string(*[name()='religiousAffiliationCode']/@displayName)",t)),Ji=t=>{const a=x.select("//*[name()='patientRole']",t);if(!a||L.isEmpty(a))return;const o=An(t),s=Object.entries(o).reduce((p,[h,b])=>({...p,[h]:b==null?void 0:b.reduce((m,C)=>({...m,[L.camelCase(C.label)]:C.value}),{})}),{});return a.map((p,h)=>{const b=x.select1("*[name()='patient']",p),m=Yi(b),C=qi(b),B=Re(x.select("*[name()='addr']",p),x.select("*[name()='telecom']",p)),H=$i(b),W=Wi(p),oe=Gi(p),ie=ji(b),me=Ki(b),Ve=Vi(b);return{name:s[`patient${h+1}`].name,contactDetails:B,dateOfBirth:s[`patient${h+1}`].dateOfBirth,gender:s[`patient${h+1}`].gender,race:m,ethnicity:C,patientId:s[`patient${h+1}`].id,language:H,maritalStatus:ie,religion:me,birthPlace:Ve,guardian:oe||[],providerOrganization:W.name,providerOrganizationContactDetails:W.contactDetails}})},yr=({document:t})=>{const a=Ji(t);return!a||L.isEmpty(a)?null:E.createElement(E.Fragment,null,a.map(o=>{const s=[{label:"Patient",value:o.name},{label:"Contact Details",value:o.contactDetails},{label:"Date Of Birth",value:o.dateOfBirth},{label:"Gender",value:o.gender},{label:"Race",value:o.race},{label:"Ethnicity",value:o.ethnicity},{label:"Patient ID",value:o.patientId},{label:"Language",value:o.language},{label:"Marital Status",value:o.maritalStatus},{label:"Religion",value:o.religion},{label:"Birth Place",value:o.birthPlace},...o.guardian.map(p=>[{label:"Guardian",value:p.name},{label:"Contact Details",value:p.contactDetails}]),[{label:"Provider Organization",value:o.providerOrganization},{label:"Contact Details (Organization)",value:o.providerOrganizationContactDetails}]];return E.createElement(Ne,{key:`${o.patientId}-${o.name}-${o.dateOfBirth}`,data:s.filter(p=>L.isArray(p)||p.value)})}))};try{yr.displayName="Patient",yr.__docgenInfo={description:"",displayName:"Patient",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const gr=({document:t})=>E.createElement("div",{className:"ctw-ccda-document-details"},E.createElement(cr,{document:t}),E.createElement(or,{document:t}),E.createElement(yr,{document:t}),E.createElement(ir,{document:t}),E.createElement(sr,{document:t}),E.createElement(dr,{document:t}),E.createElement(pr,{document:t}),E.createElement(fr,{document:t}),E.createElement(nr,{document:t}),E.createElement(hr,{document:t}),E.createElement(lr,{document:t}),E.createElement(mr,{document:t}),E.createElement(ar,{document:t}),E.createElement(ur,{document:t}));try{gr.displayName="DocumentDetails",gr.__docgenInfo={description:"",displayName:"DocumentDetails",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Qi=t=>{const a=String(x.select1("string(*[name()='ClinicalDocument']/*[name()='title']/text())",t)),o=$e(String(x.select1("string(*[name()='ClinicalDocument']/*[name()='effectiveTime']/@value)",t))),s=ht(o);return`${a} (${s})`},Xi=t=>{const a=Qi(t),o=An(t),s=En(t),p=bn(t),h=wn(t),b=Sn(t),m=xn(t);return{title:a,labelTypeData:{...o,...m||{},...s||{},...p||{},encounter:h||[],...b||{}}}},vr=({document:t})=>{const{title:a,labelTypeData:o}=Xi(t);return E.createElement("div",{className:"ctw-ccda-header-container"},E.createElement("h2",{className:"ctw-ccda-header-title"},a),E.createElement("table",{className:"ctw-ccda-common-table"},E.createElement("tbody",null,L.map(o,(s,p)=>{if(!s)return null;const h=s.filter(b=>b.value);return L.isEmpty(h)?null:E.createElement("tr",{key:p},E.createElement("td",{className:"ctw-ccda-common-td1"},L.startCase(p.replace(/\d/g,""))),E.createElement("td",{className:"ctw-ccda-common-td2"},h.map((b,m)=>E.createElement("span",{key:`${p}-${m}`},b.label&&E.createElement("b",null,b.label," "),b.value))))}))))};try{vr.displayName="Header",vr.__docgenInfo={description:"",displayName:"Header",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}/*! @license DOMPurify 2.4.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.1/LICENSE */function st(t){return st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},st(t)}function br(t,a){return br=Object.setPrototypeOf||function(s,p){return s.__proto__=p,s},br(t,a)}function Zi(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dt(t,a,o){return Zi()?Dt=Reflect.construct:Dt=function(p,h,b){var m=[null];m.push.apply(m,h);var C=Function.bind.apply(p,m),B=new C;return b&&br(B,b.prototype),B},Dt.apply(null,arguments)}function Ze(t){return ea(t)||ta(t)||ra(t)||na()}function ea(t){if(Array.isArray(t))return xr(t)}function ta(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ra(t,a){if(t){if(typeof t=="string")return xr(t,a);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return xr(t,a)}}function xr(t,a){(a==null||a>t.length)&&(a=t.length);for(var o=0,s=new Array(a);o<a;o++)s[o]=t[o];return s}function na(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ia=Object.hasOwnProperty,Wr=Object.setPrototypeOf,aa=Object.isFrozen,oa=Object.getPrototypeOf,sa=Object.getOwnPropertyDescriptor,Fe=Object.freeze,tt=Object.seal,ca=Object.create,Tn=typeof Reflect<"u"&&Reflect,Pt=Tn.apply,Er=Tn.construct;Pt||(Pt=function(a,o,s){return a.apply(o,s)});Fe||(Fe=function(a){return a});tt||(tt=function(a){return a});Er||(Er=function(a,o){return Dt(a,Ze(o))});var la=Ke(Array.prototype.forEach),Yr=Ke(Array.prototype.pop),Et=Ke(Array.prototype.push),_t=Ke(String.prototype.toLowerCase),$t=Ke(String.prototype.toString),ua=Ke(String.prototype.match),Xe=Ke(String.prototype.replace),da=Ke(String.prototype.indexOf),pa=Ke(String.prototype.trim),Oe=Ke(RegExp.prototype.test),jt=ma(TypeError);function Ke(t){return function(a){for(var o=arguments.length,s=new Array(o>1?o-1:0),p=1;p<o;p++)s[p-1]=arguments[p];return Pt(t,a,s)}}function ma(t){return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return Er(t,o)}}function J(t,a,o){o=o||_t,Wr&&Wr(t,null);for(var s=a.length;s--;){var p=a[s];if(typeof p=="string"){var h=o(p);h!==p&&(aa(a)||(a[s]=h),p=h)}t[p]=!0}return t}function ft(t){var a=ca(null),o;for(o in t)Pt(ia,t,[o])&&(a[o]=t[o]);return a}function Tt(t,a){for(;t!==null;){var o=sa(t,a);if(o){if(o.get)return Ke(o.get);if(typeof o.value=="function")return Ke(o.value)}t=oa(t)}function s(p){return console.warn("fallback value for",p),null}return s}var Kr=Fe(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Wt=Fe(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Yt=Fe(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),fa=Fe(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Kt=Fe(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ha=Fe(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Jr=Fe(["#text"]),Qr=Fe(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Jt=Fe(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Xr=Fe(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Nt=Fe(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ya=tt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ga=tt(/<%[\w\W]*|[\w\W]*%>/gm),va=tt(/\${[\w\W]*}/gm),ba=tt(/^data-[\-\w.\u00B7-\uFFFF]/),xa=tt(/^aria-[\-\w]+$/),Ea=tt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),wa=tt(/^(?:\w+script|data):/i),Sa=tt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ca=tt(/^html$/i),Aa=function(){return typeof window>"u"?null:window},Ta=function(a,o){if(st(a)!=="object"||typeof a.createPolicy!="function")return null;var s=null,p="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(p)&&(s=o.currentScript.getAttribute(p));var h="dompurify"+(s?"#"+s:"");try{return a.createPolicy(h,{createHTML:function(m){return m},createScriptURL:function(m){return m}})}catch{return console.warn("TrustedTypes policy "+h+" could not be created."),null}};function Nn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Aa(),a=function(g){return Nn(g)};if(a.version="2.4.1",a.removed=[],!t||!t.document||t.document.nodeType!==9)return a.isSupported=!1,a;var o=t.document,s=t.document,p=t.DocumentFragment,h=t.HTMLTemplateElement,b=t.Node,m=t.Element,C=t.NodeFilter,B=t.NamedNodeMap,H=B===void 0?t.NamedNodeMap||t.MozNamedAttrMap:B,W=t.HTMLFormElement,oe=t.DOMParser,ie=t.trustedTypes,me=m.prototype,Ve=Tt(me,"cloneNode"),de=Tt(me,"nextSibling"),w=Tt(me,"childNodes"),ce=Tt(me,"parentNode");if(typeof h=="function"){var De=s.createElement("template");De.content&&De.content.ownerDocument&&(s=De.content.ownerDocument)}var K=Ta(ie,o),pe=K?K.createHTML(""):"",se=s,k=se.implementation,we=se.createNodeIterator,Pe=se.createDocumentFragment,ze=se.getElementsByTagName,Le=o.importNode,_e={};try{_e=ft(s).documentMode?s.documentMode:{}}catch{}var le={};a.isSupported=typeof ce=="function"&&k&&typeof k.createHTMLDocument<"u"&&_e!==9;var be=ya,xe=ga,Se=va,Be=ba,Me=xa,Ue=wa,Ie=Sa,ee=Ea,M=null,ut=J({},[].concat(Ze(Kr),Ze(Wt),Ze(Yt),Ze(Kt),Ze(Jr))),ue=null,dt=J({},[].concat(Ze(Qr),Ze(Jt),Ze(Xr),Ze(Nt))),te=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),I=null,O=null,He=!0,Ce=!0,ae=!1,U=!1,R=!1,it=!1,pt=!1,c=!1,n=!1,i=!1,l=!0,v=!1,S="user-content-",A=!0,G=!1,Y={},D=null,_=J({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),X=null,he=J({},["audio","video","img","source","image","track"]),qe=null,je=J({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),j="http://www.w3.org/1998/Math/MathML",mt="http://www.w3.org/2000/svg",We="http://www.w3.org/1999/xhtml",e=We,r=!1,u=null,f=J({},[j,mt,We],$t),d,y=["application/xhtml+xml","text/html"],F="text/html",V,Q=null,P=s.createElement("form"),$=function(g){return g instanceof RegExp||g instanceof Function},Ae=function(g){Q&&Q===g||((!g||st(g)!=="object")&&(g={}),g=ft(g),d=y.indexOf(g.PARSER_MEDIA_TYPE)===-1?d=F:d=g.PARSER_MEDIA_TYPE,V=d==="application/xhtml+xml"?$t:_t,M="ALLOWED_TAGS"in g?J({},g.ALLOWED_TAGS,V):ut,ue="ALLOWED_ATTR"in g?J({},g.ALLOWED_ATTR,V):dt,u="ALLOWED_NAMESPACES"in g?J({},g.ALLOWED_NAMESPACES,$t):f,qe="ADD_URI_SAFE_ATTR"in g?J(ft(je),g.ADD_URI_SAFE_ATTR,V):je,X="ADD_DATA_URI_TAGS"in g?J(ft(he),g.ADD_DATA_URI_TAGS,V):he,D="FORBID_CONTENTS"in g?J({},g.FORBID_CONTENTS,V):_,I="FORBID_TAGS"in g?J({},g.FORBID_TAGS,V):{},O="FORBID_ATTR"in g?J({},g.FORBID_ATTR,V):{},Y="USE_PROFILES"in g?g.USE_PROFILES:!1,He=g.ALLOW_ARIA_ATTR!==!1,Ce=g.ALLOW_DATA_ATTR!==!1,ae=g.ALLOW_UNKNOWN_PROTOCOLS||!1,U=g.SAFE_FOR_TEMPLATES||!1,R=g.WHOLE_DOCUMENT||!1,c=g.RETURN_DOM||!1,n=g.RETURN_DOM_FRAGMENT||!1,i=g.RETURN_TRUSTED_TYPE||!1,pt=g.FORCE_BODY||!1,l=g.SANITIZE_DOM!==!1,v=g.SANITIZE_NAMED_PROPS||!1,A=g.KEEP_CONTENT!==!1,G=g.IN_PLACE||!1,ee=g.ALLOWED_URI_REGEXP||ee,e=g.NAMESPACE||We,g.CUSTOM_ELEMENT_HANDLING&&$(g.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(te.tagNameCheck=g.CUSTOM_ELEMENT_HANDLING.tagNameCheck),g.CUSTOM_ELEMENT_HANDLING&&$(g.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(te.attributeNameCheck=g.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),g.CUSTOM_ELEMENT_HANDLING&&typeof g.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(te.allowCustomizedBuiltInElements=g.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),U&&(Ce=!1),n&&(c=!0),Y&&(M=J({},Ze(Jr)),ue=[],Y.html===!0&&(J(M,Kr),J(ue,Qr)),Y.svg===!0&&(J(M,Wt),J(ue,Jt),J(ue,Nt)),Y.svgFilters===!0&&(J(M,Yt),J(ue,Jt),J(ue,Nt)),Y.mathMl===!0&&(J(M,Kt),J(ue,Xr),J(ue,Nt))),g.ADD_TAGS&&(M===ut&&(M=ft(M)),J(M,g.ADD_TAGS,V)),g.ADD_ATTR&&(ue===dt&&(ue=ft(ue)),J(ue,g.ADD_ATTR,V)),g.ADD_URI_SAFE_ATTR&&J(qe,g.ADD_URI_SAFE_ATTR,V),g.FORBID_CONTENTS&&(D===_&&(D=ft(D)),J(D,g.FORBID_CONTENTS,V)),A&&(M["#text"]=!0),R&&J(M,["html","head","body"]),M.table&&(J(M,["tbody"]),delete I.tbody),Fe&&Fe(g),Q=g)},re=J({},["mi","mo","mn","ms","mtext"]),Je=J({},["foreignobject","desc","title","annotation-xml"]),rt=J({},["title","style","font","a","script"]),yt=J({},Wt);J(yt,Yt),J(yt,fa);var gt=J({},Kt);J(gt,ha);var Ut=function(g){var T=ce(g);(!T||!T.tagName)&&(T={namespaceURI:e,tagName:"template"});var z=_t(g.tagName),ne=_t(T.tagName);return u[g.namespaceURI]?g.namespaceURI===mt?T.namespaceURI===We?z==="svg":T.namespaceURI===j?z==="svg"&&(ne==="annotation-xml"||re[ne]):Boolean(yt[z]):g.namespaceURI===j?T.namespaceURI===We?z==="math":T.namespaceURI===mt?z==="math"&&Je[ne]:Boolean(gt[z]):g.namespaceURI===We?T.namespaceURI===mt&&!Je[ne]||T.namespaceURI===j&&!re[ne]?!1:!gt[z]&&(rt[z]||!yt[z]):!!(d==="application/xhtml+xml"&&u[g.namespaceURI]):!1},Qe=function(g){Et(a.removed,{element:g});try{g.parentNode.removeChild(g)}catch{try{g.outerHTML=pe}catch{g.remove()}}},bt=function(g,T){try{Et(a.removed,{attribute:T.getAttributeNode(g),from:T})}catch{Et(a.removed,{attribute:null,from:T})}if(T.removeAttribute(g),g==="is"&&!ue[g])if(c||n)try{Qe(T)}catch{}else try{T.setAttribute(g,"")}catch{}},St=function(g){var T,z;if(pt)g="<remove></remove>"+g;else{var ne=ua(g,/^[\r\n\t ]+/);z=ne&&ne[0]}d==="application/xhtml+xml"&&e===We&&(g='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+g+"</body></html>");var ke=K?K.createHTML(g):g;if(e===We)try{T=new oe().parseFromString(ke,d)}catch{}if(!T||!T.documentElement){T=k.createDocument(e,"template",null);try{T.documentElement.innerHTML=r?"":ke}catch{}}var Te=T.body||T.documentElement;return g&&z&&Te.insertBefore(s.createTextNode(z),Te.childNodes[0]||null),e===We?ze.call(T,R?"html":"body")[0]:R?T.documentElement:Te},N=function(g){return we.call(g.ownerDocument||g,g,C.SHOW_ELEMENT|C.SHOW_COMMENT|C.SHOW_TEXT,null,!1)},Z=function(g){return g instanceof W&&(typeof g.nodeName!="string"||typeof g.textContent!="string"||typeof g.removeChild!="function"||!(g.attributes instanceof H)||typeof g.removeAttribute!="function"||typeof g.setAttribute!="function"||typeof g.namespaceURI!="string"||typeof g.insertBefore!="function"||typeof g.hasChildNodes!="function")},fe=function(g){return st(b)==="object"?g instanceof b:g&&st(g)==="object"&&typeof g.nodeType=="number"&&typeof g.nodeName=="string"},ge=function(g,T,z){le[g]&&la(le[g],function(ne){ne.call(a,T,z,Q)})},Ct=function(g){var T;if(ge("beforeSanitizeElements",g,null),Z(g)||Oe(/[\u0080-\uFFFF]/,g.nodeName))return Qe(g),!0;var z=V(g.nodeName);if(ge("uponSanitizeElement",g,{tagName:z,allowedTags:M}),g.hasChildNodes()&&!fe(g.firstElementChild)&&(!fe(g.content)||!fe(g.content.firstElementChild))&&Oe(/<[/\w]/g,g.innerHTML)&&Oe(/<[/\w]/g,g.textContent)||z==="select"&&Oe(/<template/i,g.innerHTML))return Qe(g),!0;if(!M[z]||I[z]){if(!I[z]&&Br(z)&&(te.tagNameCheck instanceof RegExp&&Oe(te.tagNameCheck,z)||te.tagNameCheck instanceof Function&&te.tagNameCheck(z)))return!1;if(A&&!D[z]){var ne=ce(g)||g.parentNode,ke=w(g)||g.childNodes;if(ke&&ne)for(var Te=ke.length,Ee=Te-1;Ee>=0;--Ee)ne.insertBefore(Ve(ke[Ee],!0),de(g))}return Qe(g),!0}return g instanceof m&&!Ut(g)||(z==="noscript"||z==="noembed")&&Oe(/<\/no(script|embed)/i,g.innerHTML)?(Qe(g),!0):(U&&g.nodeType===3&&(T=g.textContent,T=Xe(T,be," "),T=Xe(T,xe," "),T=Xe(T,Se," "),g.textContent!==T&&(Et(a.removed,{element:g.cloneNode()}),g.textContent=T)),ge("afterSanitizeElements",g,null),!1)},Lr=function(g,T,z){if(l&&(T==="id"||T==="name")&&(z in s||z in P))return!1;if(!(Ce&&!O[T]&&Oe(Be,T))){if(!(He&&Oe(Me,T))){if(!ue[T]||O[T]){if(!(Br(g)&&(te.tagNameCheck instanceof RegExp&&Oe(te.tagNameCheck,g)||te.tagNameCheck instanceof Function&&te.tagNameCheck(g))&&(te.attributeNameCheck instanceof RegExp&&Oe(te.attributeNameCheck,T)||te.attributeNameCheck instanceof Function&&te.attributeNameCheck(T))||T==="is"&&te.allowCustomizedBuiltInElements&&(te.tagNameCheck instanceof RegExp&&Oe(te.tagNameCheck,z)||te.tagNameCheck instanceof Function&&te.tagNameCheck(z))))return!1}else if(!qe[T]){if(!Oe(ee,Xe(z,Ie,""))){if(!((T==="src"||T==="xlink:href"||T==="href")&&g!=="script"&&da(z,"data:")===0&&X[g])){if(!(ae&&!Oe(Ue,Xe(z,Ie,"")))){if(z)return!1}}}}}}return!0},Br=function(g){return g.indexOf("-")>0},Mr=function(g){var T,z,ne,ke;ge("beforeSanitizeAttributes",g,null);var Te=g.attributes;if(Te){var Ee={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ue};for(ke=Te.length;ke--;){T=Te[ke];var At=T,ve=At.name,Ht=At.namespaceURI;if(z=ve==="value"?T.value:pa(T.value),ne=V(ve),Ee.attrName=ne,Ee.attrValue=z,Ee.keepAttr=!0,Ee.forceKeepAttr=void 0,ge("uponSanitizeAttribute",g,Ee),z=Ee.attrValue,!Ee.forceKeepAttr&&(bt(ve,g),!!Ee.keepAttr)){if(Oe(/\/>/i,z)){bt(ve,g);continue}U&&(z=Xe(z,be," "),z=Xe(z,xe," "),z=Xe(z,Se," "));var Ur=V(g.nodeName);if(Lr(Ur,ne,z)){if(v&&(ne==="id"||ne==="name")&&(bt(ve,g),z=S+z),K&&st(ie)==="object"&&typeof ie.getAttributeType=="function"&&!Ht)switch(ie.getAttributeType(Ur,ne)){case"TrustedHTML":z=K.createHTML(z);break;case"TrustedScriptURL":z=K.createScriptURL(z);break}try{Ht?g.setAttributeNS(Ht,ve,z):g.setAttribute(ve,z),Yr(a.removed)}catch{}}}}ge("afterSanitizeAttributes",g,null)}},Dn=function q(g){var T,z=N(g);for(ge("beforeSanitizeShadowDOM",g,null);T=z.nextNode();)ge("uponSanitizeShadowNode",T,null),!Ct(T)&&(T.content instanceof p&&q(T.content),Mr(T));ge("afterSanitizeShadowDOM",g,null)};return a.sanitize=function(q){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T,z,ne,ke,Te;if(r=!q,r&&(q="<!-->"),typeof q!="string"&&!fe(q)){if(typeof q.toString!="function")throw jt("toString is not a function");if(q=q.toString(),typeof q!="string")throw jt("dirty is not a string, aborting")}if(!a.isSupported){if(st(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof q=="string")return t.toStaticHTML(q);if(fe(q))return t.toStaticHTML(q.outerHTML)}return q}if(it||Ae(g),a.removed=[],typeof q=="string"&&(G=!1),G){if(q.nodeName){var Ee=V(q.nodeName);if(!M[Ee]||I[Ee])throw jt("root node is forbidden and cannot be sanitized in-place")}}else if(q instanceof b)T=St("<!---->"),z=T.ownerDocument.importNode(q,!0),z.nodeType===1&&z.nodeName==="BODY"||z.nodeName==="HTML"?T=z:T.appendChild(z);else{if(!c&&!U&&!R&&q.indexOf("<")===-1)return K&&i?K.createHTML(q):q;if(T=St(q),!T)return c?null:i?pe:""}T&&pt&&Qe(T.firstChild);for(var At=N(G?q:T);ne=At.nextNode();)ne.nodeType===3&&ne===ke||Ct(ne)||(ne.content instanceof p&&Dn(ne.content),Mr(ne),ke=ne);if(ke=null,G)return q;if(c){if(n)for(Te=Pe.call(T.ownerDocument);T.firstChild;)Te.appendChild(T.firstChild);else Te=T;return ue.shadowroot&&(Te=Le.call(o,Te,!0)),Te}var ve=R?T.outerHTML:T.innerHTML;return R&&M["!doctype"]&&T.ownerDocument&&T.ownerDocument.doctype&&T.ownerDocument.doctype.name&&Oe(Ca,T.ownerDocument.doctype.name)&&(ve="<!DOCTYPE "+T.ownerDocument.doctype.name+`>
`+ve),U&&(ve=Xe(ve,be," "),ve=Xe(ve,xe," "),ve=Xe(ve,Se," ")),K&&i?K.createHTML(ve):ve},a.setConfig=function(q){Ae(q),it=!0},a.clearConfig=function(){Q=null,it=!1},a.isValidAttribute=function(q,g,T){Q||Ae({});var z=V(q),ne=V(g);return Lr(z,ne,T)},a.addHook=function(q,g){typeof g=="function"&&(le[q]=le[q]||[],Et(le[q],g))},a.removeHook=function(q){if(le[q])return Yr(le[q])},a.removeHooks=function(q){le[q]&&(le[q]=[])},a.removeAllHooks=function(){le={}},a}var Na=Nn();const wr=({title:t,humanReadable:a})=>{const[o,s]=ye.useState(!0);if(!a)return null;const p=()=>s(!o);return E.createElement("div",{className:"ctw-ccda-section-container"},E.createElement("div",{className:"ctw-ccda-section-header-wrapper"},E.createElement("button",{type:"button",className:"ctw-ccda-section-arrow",onClick:p},o?"▼":"▶"),E.createElement("h3",null,t)),o&&E.createElement("div",{className:"ctw-ccda-section-wrapper"},E.createElement("div",{dangerouslySetInnerHTML:{__html:Na.sanitize(Ti(a))}})))};try{wr.displayName="Section",wr.__docgenInfo={description:"",displayName:"Section",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},humanReadable:{defaultValue:null,description:"",name:"humanReadable",required:!1,type:{name:"Document"}}}}}catch{}const Sr=({document:t})=>{const o=x.select("//*[name()='component']/*[name()='section']",t).map(s=>{const p=String(x.select1("string(*[name()='title'])",s)),h=x.select1("*[name()='text']",s),b=String(x.select1("string(*[name()='code']/@code)",s));return{title:p,humanReadable:h,code:b}});return E.createElement("div",{className:un({width:"calc(100vw - 200px - 24px - 24px - 16px - 16px - 2px)"})},E.createElement(vr,{document:t}),E.createElement(gr,{document:t}),o.map(({title:s,humanReadable:p,code:h})=>E.createElement(wr,{key:`el-text-${h}`,title:s,humanReadable:p})))};try{Sr.displayName="CcdaViewer",Sr.__docgenInfo={description:"",displayName:"CcdaViewer",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Da=["/xml","/xhtml+xml","application/xml"],_a=(t,a)=>t.some(o=>a.includes(o)),Cr=({value:t,contentType:a})=>{const[s,p]=ye.useState(!0),h=H=>p(H.target.checked),b=ye.useMemo(()=>{if(!_a(Da,a))return;const H=new si.DOMParser({locator:{},errorHandler:W=>null}).parseFromString(hn.Buffer.from(t,"base64").toString("utf8"),a);if(x.select1("//*[name()='patientRole']",H))return H},[a,t]),m=[{label:"Parsed",value:s,event:h,disabled:!1,display:Boolean(b)}],C=s?b:void 0,B=()=>C?E.createElement(Sr,{document:C}):E.createElement("div",{className:"ctw-ccda-base64-binary-text"},t);return E.createElement("div",{className:"ctw-ccda-container"},E.createElement("div",{className:"ctw-ccda-switch-container"},m.map(H=>H.display&&E.createElement("div",{key:H.label,className:"ctw-cda-switch-wrapper"},E.createElement("span",{className:"ctw-flex"},E.createElement(qn,{inputProps:{value:H.label,checked:H.value,disabled:H.disabled},name:H.label,text:H.label,onChange:H.event}))))),B())};try{Cr.displayName="Base64BinaryField",Cr.__docgenInfo={description:"",displayName:"Base64BinaryField",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},contentType:{defaultValue:null,description:"",name:"contentType",required:!0,type:{name:"string"}}}}}catch{}const Ar=({rawBinary:t,onClose:a,...o})=>{var h;const[s,p]=ye.useState(!1);return ye.useEffect(()=>{t.isBinary&&p(!0)},[s,t.isBinary]),E.createElement(Ot,{...o},s&&((h=t.xmlBinary)==null?void 0:h.data)&&E.createElement("div",{className:"ctw-flex ctw-w-full ctw-space-x-4"},E.createElement(Cr,{value:t.xmlBinary.data,contentType:t.xmlBinary.contentType}),E.createElement("div",{className:"ctw-ml-3 ctw-flex ctw-h-7 ctw-items-center"},E.createElement("button",{type:"button","aria-label":"close",onClick:a,className:"ctw-btn-clear"},E.createElement("span",{className:"ctw-sr-only"},"Close panel"),E.createElement(_n,{className:"ctw-h-6 ctw-w-6","aria-hidden":"true"})))))};try{Ar.displayName="CCDAModal",Ar.__docgenInfo={description:"",displayName:"CCDAModal",props:{rawBinary:{defaultValue:null,description:"",name:"rawBinary",required:!0,type:{name:"BinaryDocumentData"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}}}}}catch{}const Tr=({onClick:t})=>E.createElement("button",{type:"button",className:"ctw-btn-default ctw-flex ctw-space-x-2 ctw-align-middle",onClick:t},E.createElement("div",null," Source Document"),E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:12,className:"ctw-mt-1 ctw-fill-content-light"},E.createElement("path",{d:"M352 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h50.7L297.4 169.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V160c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32H352zM214.6 297.4c-12.5-12.5-32.8-12.5-45.3 0L64 402.7V352c0-17.7-14.3-32-32-32s-32 14.3-32 32V480c0 17.7 14.3 32 32 32H160c17.7 0 32-14.3 32-32s-14.3-32-32-32H109.3L214.6 342.6c12.5-12.5 12.5-32.8 0-45.3z"})));try{Tr.displayName="DocumentButton",Tr.__docgenInfo={description:"",displayName:"DocumentButton",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}}}}}catch{}const zt=({idMap:t,entry:a,updateBinaryDocumentState:o})=>{var s;return E.createElement(E.Fragment,null,t.get(a.id)&&((s=t.get(a.id))==null?void 0:s.isBinary)&&E.createElement(Tr,{onClick:()=>{o({isModalOpen:!0,rawBinary:t.get(a.id)})}}))};try{zt.displayName="RenderDocumentButton",zt.__docgenInfo={description:"",displayName:"RenderDocumentButton",props:{idMap:{defaultValue:null,description:"",name:"idMap",required:!0,type:{name:"SourceDocumentMap"}},entry:{defaultValue:null,description:"",name:"entry",required:!0,type:{name:"CollapsibleDataListProps"}},updateBinaryDocumentState:{defaultValue:null,description:"",name:"updateBinaryDocumentState",required:!0,type:{name:"Dispatch<Partial<BinaryDocument>>"}}}}}catch{}const Nr=({codings:t})=>E.createElement("div",{className:"ctw-flex ctw-flex-col ctw-space-y-4"},t.map(a=>E.createElement("div",{key:`${a.id}-${a.code}`},a.display,E.createElement("div",null,a.code),E.createElement("div",null,a.system))));try{Nr.displayName="CodingList",Nr.__docgenInfo={description:"",displayName:"CodingList",props:{codings:{defaultValue:null,description:"",name:"codings",required:!0,type:{name:"Coding[]"}}}}}catch{}const Lt=({notes:t})=>E.createElement("div",{className:"ctw-flex ctw-flex-col ctw-space-y-4"},t.map(a=>E.createElement("div",{key:a},E.createElement("div",null,a))));try{Lt.displayName="NotesList",Lt.__docgenInfo={description:"",displayName:"NotesList",props:{notes:{defaultValue:null,description:"",name:"notes",required:!0,type:{name:"string[]"}}}}}catch{}function Bt(t){var o,s;const a=[{label:"Recorder",value:t.recorder},{label:"Clinical Status",value:L.capitalize(t.clinicalStatus)},{label:"Verification Status",value:L.capitalize(t.verificationStatus)},{label:"Recorded Date",value:t.recordedDate},{label:"Category",value:L.startCase(t.categories[0])},{label:"Note",value:t.notes.length!==0&&E.createElement(Lt,{notes:t.notes})},{label:"Code",value:E.createElement(Nr,{codings:t.knownCodings})},{label:"Onset Date",value:t.onset},{label:"Abatement Date",value:t.abatement},{label:"Encounter",value:t.encounter}];return{id:t.id,date:t.recordedDate,title:L.startCase(t.categories[0]),subtitle:(s=(o=t.patient)==null?void 0:o.organization)==null?void 0:s.name,data:a}}const Dr=t=>{var a,o;return[{label:"Recorder",value:t.recorder},{label:"Recorded Date",value:t.recordedDate},{label:"Provider Organization",value:(o=(a=t.patient)==null?void 0:a.organization)==null?void 0:o.name},{label:"Clinical Status",value:L.capitalize(t.clinicalStatus)},{label:"Verification Status",value:L.capitalize(t.verificationStatus)},{label:"Onset Date",value:t.onset},{label:"Abatement Date",value:t.abatement},{label:"Note",value:t.notes.length!==0&&E.createElement(Lt,{notes:t.notes})}]};try{Bt.displayName="setupData",Bt.__docgenInfo={description:"",displayName:"setupData",props:{abatement:{defaultValue:null,description:"",name:"abatement",required:!0,type:{name:"string | undefined"}},active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean"}},isArchived:{defaultValue:null,description:"",name:"isArchived",required:!0,type:{name:"boolean"}},asserter:{defaultValue:null,description:"",name:"asserter",required:!0,type:{name:"string | undefined"}},bodySites:{defaultValue:null,description:"",name:"bodySites",required:!0,type:{name:"string[]"}},categories:{defaultValue:null,description:"",name:"categories",required:!0,type:{name:"string[]"}},ccsChapter:{defaultValue:null,description:"",name:"ccsChapter",required:!0,type:{name:"string | undefined"}},ccsChapterCode:{defaultValue:null,description:"",name:"ccsChapterCode",required:!0,type:{name:"string | undefined"}},ccsGrouping:{defaultValue:null,description:"",name:"ccsGrouping",required:!0,type:{name:"string | undefined"}},clinicalStatus:{defaultValue:null,description:"",name:"clinicalStatus",required:!0,type:{name:"string"}},clinicalStatusCode:{defaultValue:null,description:"",name:"clinicalStatusCode",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"active"'},{value:'"recurrence"'},{value:'"relapse"'},{value:'"inactive"'},{value:'"remission"'},{value:'"resolved"'}]}},codings:{defaultValue:null,description:"",name:"codings",required:!0,type:{name:"CodeableConcept | undefined"}},display:{defaultValue:null,description:"",name:"display",required:!0,type:{name:"string | undefined"}},encounter:{defaultValue:null,description:"",name:"encounter",required:!0,type:{name:"string | undefined"}},evidences:{defaultValue:null,description:"",name:"evidences",required:!0,type:{name:"string[]"}},icd10Code:{defaultValue:null,description:"",name:"icd10Code",required:!0,type:{name:"string | undefined"}},icd10System:{defaultValue:null,description:"",name:"icd10System",required:!0,type:{name:"string | undefined"}},icd10Display:{defaultValue:null,description:"",name:"icd10Display",required:!0,type:{name:"string | undefined"}},isDeleted:{defaultValue:null,description:"",name:"isDeleted",required:!0,type:{name:"boolean"}},knownCodings:{defaultValue:null,description:"",name:"knownCodings",required:!0,type:{name:"Coding[]"}},knownCodingsMatch:{defaultValue:null,description:"",name:"knownCodingsMatch",required:!0,type:{name:"(condition: ConditionModel) => boolean"}},notes:{defaultValue:null,description:"",name:"notes",required:!0,type:{name:"string[]"}},onset:{defaultValue:null,description:"",name:"onset",required:!0,type:{name:"string | undefined"}},patient:{defaultValue:null,description:"",name:"patient",required:!0,type:{name:"PatientModel | undefined"}},preferredCoding:{defaultValue:null,description:"",name:"preferredCoding",required:!0,type:{name:"Coding | undefined"}},recordedDate:{defaultValue:null,description:"",name:"recordedDate",required:!0,type:{name:"string | undefined"}},recorded:{defaultValue:null,description:"",name:"recorded",required:!0,type:{name:"string | undefined"}},recorder:{defaultValue:null,description:"",name:"recorder",required:!0,type:{name:"string | undefined"}},severity:{defaultValue:null,description:"",name:"severity",required:!0,type:{name:"string"}},snomedCoding:{defaultValue:null,description:"",name:"snomedCoding",required:!0,type:{name:"Coding | undefined"}},snomedCode:{defaultValue:null,description:"",name:"snomedCode",required:!0,type:{name:"string | undefined"}},snomedDisplay:{defaultValue:null,description:"",name:"snomedDisplay",required:!0,type:{name:"string | undefined"}},snomedSystem:{defaultValue:null,description:"",name:"snomedSystem",required:!0,type:{name:"string | undefined"}},stages:{defaultValue:null,description:"",name:"stages",required:!0,type:{name:"string[]"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},subjectID:{defaultValue:null,description:"",name:"subjectID",required:!0,type:{name:"string"}},verificationStatus:{defaultValue:null,description:"",name:"verificationStatus",required:!0,type:{name:"string"}},verificationStatusCode:{defaultValue:null,description:"",name:"verificationStatusCode",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"entered-in-error"'},{value:'"unconfirmed"'},{value:'"provisional"'},{value:'"differential"'},{value:'"confirmed"'},{value:'"refuted"'}]}},resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"Condition"}},includedResources:{defaultValue:null,description:"",name:"includedResources",required:!1,type:{name:"ResourceMap"}},revIncludes:{defaultValue:null,description:"",name:"revIncludes",required:!1,type:{name:"Resource[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isSummaryResource:{defaultValue:null,description:"",name:"isSummaryResource",required:!0,type:{name:"boolean"}},resourceType:{defaultValue:null,description:"",name:"resourceType",required:!0,type:{name:"string"}},getBasicResourceByAction:{defaultValue:null,description:"",name:"getBasicResourceByAction",required:!0,type:{name:"(profileAction: string) => Basic | undefined"}},toString:{defaultValue:null,description:"",name:"toString",required:!1,type:{name:"() => string"}}}}}catch{}try{Dr.displayName="conditionData",Dr.__docgenInfo={description:"",displayName:"conditionData",props:{abatement:{defaultValue:null,description:"",name:"abatement",required:!0,type:{name:"string | undefined"}},active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean"}},isArchived:{defaultValue:null,description:"",name:"isArchived",required:!0,type:{name:"boolean"}},asserter:{defaultValue:null,description:"",name:"asserter",required:!0,type:{name:"string | undefined"}},bodySites:{defaultValue:null,description:"",name:"bodySites",required:!0,type:{name:"string[]"}},categories:{defaultValue:null,description:"",name:"categories",required:!0,type:{name:"string[]"}},ccsChapter:{defaultValue:null,description:"",name:"ccsChapter",required:!0,type:{name:"string | undefined"}},ccsChapterCode:{defaultValue:null,description:"",name:"ccsChapterCode",required:!0,type:{name:"string | undefined"}},ccsGrouping:{defaultValue:null,description:"",name:"ccsGrouping",required:!0,type:{name:"string | undefined"}},clinicalStatus:{defaultValue:null,description:"",name:"clinicalStatus",required:!0,type:{name:"string"}},clinicalStatusCode:{defaultValue:null,description:"",name:"clinicalStatusCode",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"active"'},{value:'"recurrence"'},{value:'"relapse"'},{value:'"inactive"'},{value:'"remission"'},{value:'"resolved"'}]}},codings:{defaultValue:null,description:"",name:"codings",required:!0,type:{name:"CodeableConcept | undefined"}},display:{defaultValue:null,description:"",name:"display",required:!0,type:{name:"string | undefined"}},encounter:{defaultValue:null,description:"",name:"encounter",required:!0,type:{name:"string | undefined"}},evidences:{defaultValue:null,description:"",name:"evidences",required:!0,type:{name:"string[]"}},icd10Code:{defaultValue:null,description:"",name:"icd10Code",required:!0,type:{name:"string | undefined"}},icd10System:{defaultValue:null,description:"",name:"icd10System",required:!0,type:{name:"string | undefined"}},icd10Display:{defaultValue:null,description:"",name:"icd10Display",required:!0,type:{name:"string | undefined"}},isDeleted:{defaultValue:null,description:"",name:"isDeleted",required:!0,type:{name:"boolean"}},knownCodings:{defaultValue:null,description:"",name:"knownCodings",required:!0,type:{name:"Coding[]"}},knownCodingsMatch:{defaultValue:null,description:"",name:"knownCodingsMatch",required:!0,type:{name:"(condition: ConditionModel) => boolean"}},notes:{defaultValue:null,description:"",name:"notes",required:!0,type:{name:"string[]"}},onset:{defaultValue:null,description:"",name:"onset",required:!0,type:{name:"string | undefined"}},patient:{defaultValue:null,description:"",name:"patient",required:!0,type:{name:"PatientModel | undefined"}},preferredCoding:{defaultValue:null,description:"",name:"preferredCoding",required:!0,type:{name:"Coding | undefined"}},recordedDate:{defaultValue:null,description:"",name:"recordedDate",required:!0,type:{name:"string | undefined"}},recorded:{defaultValue:null,description:"",name:"recorded",required:!0,type:{name:"string | undefined"}},recorder:{defaultValue:null,description:"",name:"recorder",required:!0,type:{name:"string | undefined"}},severity:{defaultValue:null,description:"",name:"severity",required:!0,type:{name:"string"}},snomedCoding:{defaultValue:null,description:"",name:"snomedCoding",required:!0,type:{name:"Coding | undefined"}},snomedCode:{defaultValue:null,description:"",name:"snomedCode",required:!0,type:{name:"string | undefined"}},snomedDisplay:{defaultValue:null,description:"",name:"snomedDisplay",required:!0,type:{name:"string | undefined"}},snomedSystem:{defaultValue:null,description:"",name:"snomedSystem",required:!0,type:{name:"string | undefined"}},stages:{defaultValue:null,description:"",name:"stages",required:!0,type:{name:"string[]"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},subjectID:{defaultValue:null,description:"",name:"subjectID",required:!0,type:{name:"string"}},verificationStatus:{defaultValue:null,description:"",name:"verificationStatus",required:!0,type:{name:"string"}},verificationStatusCode:{defaultValue:null,description:"",name:"verificationStatusCode",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"entered-in-error"'},{value:'"unconfirmed"'},{value:'"provisional"'},{value:'"differential"'},{value:'"confirmed"'},{value:'"refuted"'}]}},resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"Condition"}},includedResources:{defaultValue:null,description:"",name:"includedResources",required:!1,type:{name:"ResourceMap"}},revIncludes:{defaultValue:null,description:"",name:"revIncludes",required:!1,type:{name:"Resource[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isSummaryResource:{defaultValue:null,description:"",name:"isSummaryResource",required:!0,type:{name:"boolean"}},resourceType:{defaultValue:null,description:"",name:"resourceType",required:!0,type:{name:"string"}},getBasicResourceByAction:{defaultValue:null,description:"",name:"getBasicResourceByAction",required:!0,type:{name:"(profileAction: string) => Basic | undefined"}},toString:{defaultValue:null,description:"",name:"toString",required:!1,type:{name:"() => string"}}}}}catch{}const Zr=10,Ia={isModalOpen:!1,rawBinary:void 0};function _r({condition:t,onClose:a,onEdit:o}){const[s,p]=ye.useState([]),[h,b]=ye.useState([]),[m,C]=ye.useState(!0),[B,H]=ye.useReducer((de,w)=>({...de,...w}),Ia),[W,oe]=ye.useState(new Map),{getRequestContext:ie}=Or(),me=Gn(t);ye.useEffect(()=>{let de=[];async function w(){if(me.data){const De=$n(me.data.bundle),K=me.data.conditions.map(k=>new nn(k,De)),se=L.orderBy(K,k=>k.resource.recordedDate??"","desc").filter(k=>k.verificationStatus!=="entered-in-error");de=L.uniqWith(se.map(k=>Bt(k)),(k,we)=>L.isEqual(k.data,we.data)),p(de.filter(k=>k.date)),b(de.filter(k=>!k.date)),C(!1)}}async function ce(){var k;const De=await ie(),pe=[Bt(t),...de],se=await jn(De,pe);oe(se),(k=se.get(t.id))!=null&&k.isBinary&&H({rawBinary:se.get(t.id)})}return w(),ce(),function(){p([]),b([]),C(!0)}},[t,ie,me.data,o]);function Ve(){return s.length===0&&h.length===0&&!m?E.createElement("div",null,"No history found."):m?E.createElement(Wn,{message:"Loading condition history..."}):E.createElement(E.Fragment,null,B.rawBinary&&E.createElement(Ar,{isOpen:B.isModalOpen,rawBinary:B.rawBinary,onClose:()=>H({isModalOpen:!1})}),E.createElement("div",{className:"ctw-space-y-6"},E.createElement(Rt,{condition:t}),E.createElement(Yn,{data:Dr(t),readOnly:!o,onEdit:()=>{a(),o==null||o()}}),E.createElement(qr,{entries:s.map(de=>({...de,documentButton:E.createElement(zt,{idMap:W,entry:de,updateBinaryDocumentState:H})})),limit:Zr}),h.length!==0&&E.createElement("div",{className:"ctw-space-y-2"},E.createElement("div",{className:"ctw-font-medium"},"Records with no date:"),E.createElement(qr,{entries:h.map(de=>({...de,documentButton:E.createElement(zt,{idMap:W,entry:de,updateBinaryDocumentState:H})})),limit:Zr}))))}return Ve()}try{_r.displayName="ConditionHistory",_r.__docgenInfo={description:"",displayName:"ConditionHistory",props:{condition:{defaultValue:null,description:"",name:"condition",required:!0,type:{name:"ConditionModel"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"(() => void)"}}}}}catch{}function ao(){const{openDrawer:t}=Rr(),a=oi();return({condition:o,readOnly:s})=>{t({component:p=>E.createElement(Ir,{condition:o,onEdit:s?void 0:()=>a(o),...p})})}}function Ir({className:t,condition:a,isOpen:o,onClose:s,onEdit:p}){return E.createElement(Vt,{className:t,title:"Condition History",isOpen:o,onClose:s},E.createElement(Vt.Body,null,E.createElement(_r,{condition:a,onClose:s,onEdit:p})),E.createElement(Vt.Footer,null,E.createElement("div",{className:"ctw-flex ctw-justify-end ctw-space-x-3 ctw-text-black "},E.createElement("button",{type:"button",className:"ctw-btn-default ctw-font-semibold ctw-outline-bg-light",onClick:s},"Close"))))}try{Ir.displayName="ConditionHistoryDrawer",Ir.__docgenInfo={description:"",displayName:"ConditionHistoryDrawer",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},condition:{defaultValue:null,description:"",name:"condition",required:!0,type:{name:"ConditionModel"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"(() => void)"}}}}}catch{}const oo=(t,a,o)=>t.filter(s=>s.isArchived&&!o||["FAC","XXX"].includes(s.ccsChapterCode??"")?!1:!a.some(p=>{const h=s.resource.recordedDate,b=p.resource.recordedDate,m=s.knownCodingsMatch(p),C=p.verificationStatus==="entered-in-error",B=!h||b&&h<=b,H=s.clinicalStatus===p.clinicalStatus;return m&&!C&&(B||H)})),so={resourceType:"Bundle",id:"f958f3e3-e585-4845-b666-6bf1a6914087",meta:{lastUpdated:"2022-11-15T19:37:56.623+00:00"},type:"searchset",total:5,entry:[{resource:{resourceType:"Condition",id:"faf183db-2623-44f5-943d-2318afbb51a7",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:15.035+00:00"}],versionId:"3",lastUpdated:"2022-11-10T19:38:36.663+00:00",source:"#7cb535fd22ce30df",tag:[{system:"https://zusapi.com/lens",code:"ChronicConditions"},{system:"https://zusapi.com/summary",code:"Common"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/b123",display:"Storybook Medical - Test Customer"},{system:"https://zusapi.com/lens/upid",code:"u12345"}]},extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/59b72c31-9081-401a-b638-1b38fb096384",type:"Condition"}},{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/5c000258-d368-45a4-8085-c0c43cbac075",type:"Condition"}},{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/7000a33a-808f-4c94-8125-1af140ce6fbe",type:"Condition"}}]},{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"u12345"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},code:{coding:[{system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"MBD005",display:"Anxiety and fear-related disorders",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}]},subject:{reference:"Patient/1",type:"Patient"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17"},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"956bce92-91e2-427e-9cbc-93d114bf9956",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:15.035+00:00"}],versionId:"3",lastUpdated:"2022-11-10T19:38:36.696+00:00",source:"#7cb535fd22ce30df",tag:[{system:"https://zusapi.com/summary",code:"Common"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/b123",display:"Storybook Medical - Test Customer"},{system:"https://zusapi.com/lens/upid",code:"u12345"}]},extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/4806be03-9fb3-439e-b58b-458e1174dd12",type:"Condition"}},{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/8e869e43-4fa1-4145-a84c-95bbb345b368",type:"Condition"}},{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/4d2c7c7b-451a-408e-9dc7-c750ad1191bd",type:"Condition"}}]},{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"u12345"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},code:{coding:[{system:"http://snomed.info/sct",code:"5935008",display:"Long term (current) use of hormonal contraceptives"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"Z79.3",display:"Long term (current) use of hormonal contraceptives"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"Z79.3",display:"Long term (current) use of hormonal contraceptives",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"FAC025",display:"Other specified status",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"N",display:"Not applicable (code cannot be used to identify a chronic or acute condition)",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"5935008",display:"Oral contraception",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}]},subject:{reference:"Patient/1",type:"Patient"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17"},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"4e6183c8-2cb3-405d-841d-04e51a7855c2",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:15.035+00:00"}],versionId:"3",lastUpdated:"2022-11-10T19:38:36.552+00:00",source:"#7cb535fd22ce30df",tag:[{system:"https://zusapi.com/summary",code:"Common"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/b123",display:"Storybook Medical - Test Customer"},{system:"https://zusapi.com/lens/upid",code:"u12345"}]},extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/e6757977-9148-4b84-aff6-8b59d7f57c2f",type:"Condition"}},{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/b4c7ec40-7f0f-4533-b572-1535e18e0c75",type:"Condition"}},{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/377d1f4e-f57f-469f-9eee-4e2f90140ff6",type:"Condition"}}]},{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"u12345"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},code:{coding:[{system:"http://snomed.info/sct",code:"35240004",display:"Iron deficiency"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"E61.1",display:"Iron deficiency"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"E61.1",display:"Iron deficiency",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"END007",display:"Nutritional deficiencies",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"A",display:"Acute",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"35240004",display:"Iron deficiency",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}]},subject:{reference:"Patient/1",type:"Patient"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17"},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"a3c42a03-278a-45e8-ac25-1516a4692685",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:25.554+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:36.588+00:00",source:"#7cb535fd22ce30df",tag:[{system:"https://zusapi.com/lens",code:"ChronicConditions"},{system:"https://zusapi.com/summary",code:"Common"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/b123",display:"Storybook Medical - Test Customer"},{system:"https://zusapi.com/lens/upid",code:"u12345"}]},extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/9855293c-c517-4bb7-af79-d5a70e348822",type:"Condition"}},{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/83babf40-277d-4704-8580-455a17b2eb5a",type:"Condition"}}]},{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"u12345"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"inactive"}]},code:{coding:[{system:"http://snomed.info/sct",code:"4979002",display:"Other atopic dermatitis"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"L20.89",display:"Other atopic dermatitis"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"L20.89",display:"Other atopic dermatitis",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"SKN002",display:"Other specified inflammatory condition of skin",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"4979002",display:"Dermatitis",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}]},subject:{reference:"Patient/1",type:"Patient"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17"},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"48023ec1-b7e1-4a38-8dbd-69b71dd17c4c",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:36.519+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:36.621+00:00",source:"#7cb535fd22ce30df",tag:[{system:"https://zusapi.com/lens",code:"ChronicConditions"},{system:"https://zusapi.com/summary",code:"Common"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/b123",display:"Storybook Medical - Test Customer"},{system:"https://zusapi.com/lens/upid",code:"u12345"}]},extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/e2184fb8-5e90-4502-9dd0-2f772b42c734",type:"Condition"}}]},{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"u12345"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},code:{coding:[{system:"http://snomed.info/sct",code:"34000006",display:"Crohn's disease, unspecified, without complications"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"K50.90",display:"Crohn's disease, unspecified, without complications"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"K50.90",display:"Crohn's disease, unspecified, without complications",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"HCC"}],system:"http://terminology.hl7.org/CodeSystem/cmshcc",code:"35",display:"Crohn's disease, unspecified, without complications",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"DIG011",display:"Regional enteritis and ulcerative colitis",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"34000006",display:"Crohn's disease",userSelected:!1}]},subject:{reference:"Patient/1",type:"Patient"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17"},search:{mode:"match"}}]},co={resourceType:"Bundle",id:"f958f3e3-e585-4845-b666-6bf1a6914087",meta:{lastUpdated:"2022-11-15T19:37:56.623+00:00"},type:"searchset",total:3,entry:[{resource:{resourceType:"Condition",id:"faf183db-2623-44f5-943d-2318afbb51a7",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:15.035+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:36.663+00:00",source:"#7cb535fd22ce30df",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/b123",display:"Storybook Medical - Test Customer"},{system:"https://zusapi.com/lens/upid",code:"u12345"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"u12345"}],verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},code:{coding:[{system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"MBD005",display:"Anxiety and fear-related disorders",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}]},subject:{reference:"Patient/1",type:"Patient"},onsetPeriod:{start:"2022-09-17"},note:[{text:"This is note 1."},{text:"This is note 2."}],recordedDate:"2022-09-18",recorder:{display:"Carlos Mendoza"}},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"faf183db-2623-44f5-943d-2318afbb51a6",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:15.035+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:36.663+00:00",source:"#7cb535fd22ce30df",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/b123",display:"Storybook Medical - Test Customer"},{system:"https://zusapi.com/lens/upid",code:"u12345"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"u12345"}],verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"unconfirmed"}]},clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},code:{coding:[{system:"http://snomed.info/sct",code:"47505003",display:"Posttraumatic stress disorder"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"MBD005",display:"Anxiety and fear-related disorders",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"47505003",display:"Posttraumatic stress disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}]},subject:{reference:"Patient/1",type:"Patient"},onsetPeriod:{start:"2022-09-17"},note:[{text:"Patient presents with a lot of stress. Current medications don't seem to help. And this is a long dummy note to test things."}],recordedDate:"2022-09-18"},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"48023ec1-b7e1-4a38-8dbd-69b71dd17c4c",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:36.519+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:36.621+00:00",source:"#7cb535fd22ce30df",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/b123",display:"Storybook Medical - Test Customer"},{system:"https://zusapi.com/lens/upid",code:"u12345"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"u12345"}],verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"inactive"}]},code:{coding:[{system:"http://snomed.info/sct",code:"34000006",display:"Crohn's disease, unspecified, without complications"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"K50.90",display:"Crohn's disease, unspecified, without complications"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"K50.90",display:"Crohn's disease, unspecified, without complications",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"HCC"}],system:"http://terminology.hl7.org/CodeSystem/cmshcc",code:"35",display:"Crohn's disease, unspecified, without complications",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"DIG011",display:"Regional enteritis and ulcerative colitis",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"34000006",display:"Crohn's disease",userSelected:!1}]},subject:{reference:"Patient/1",type:"Patient"},onsetPeriod:{start:"2021-08-16"},recordedDate:"2021-08-16"},search:{mode:"match"}}]},Oa={total:12,conditionsList:[{display:"Asymptomatic coronary heart disease (disorder)",code:"315348000",system:"http://snomed.info/sct"},{display:"Chronic ischemic heart disease (disorder)",code:"413838009",system:"http://snomed.info/sct"},{display:"Conduction disorder of the heart (disorder)",code:"44808001",system:"http://snomed.info/sct"},{display:"Congenital heart disease (disorder)",code:"13213009",system:"http://snomed.info/sct"},{display:"Congestive heart failure (disorder)",code:"42343007",system:"http://snomed.info/sct"},{display:"Heart block (disorder)",code:"233916004",system:"http://snomed.info/sct"},{display:"Heart failure (disorder)",code:"84114007",system:"http://snomed.info/sct"},{display:"Heart valve disorder (disorder)",code:"368009",system:"http://snomed.info/sct"},{display:"Hypertensive heart disease (disorder)",code:"64715009",system:"http://snomed.info/sct"},{display:"Hypertensive heart disease with congestive heart failure (disorder)",code:"5148006",system:"http://snomed.info/sct"},{display:"Left heart failure (disorder)",code:"85232009",system:"http://snomed.info/sct"},{display:"Rheumatic heart disease (disorder)",code:"23685000",system:"http://snomed.info/sct"}]},Ra={resourceType:"Bundle",id:"b362d4f5-04d4-4150-848a-3bb587a3bd22",meta:{lastUpdated:"2022-11-15T20:45:45.521+00:00"},type:"searchset",total:4,entry:[{resource:{resourceType:"Condition",id:"e2184fb8-5e90-4502-9dd0-2f772b42c734",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"JffqZ6SGVN+SLlJ1FyRGMvgHY1/Ie3TrcWleudSURnE="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:26.049+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:26.141+00:00",source:"#2c52f4186759a949",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"34000006",display:"Crohn's disease, unspecified, without complications"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"K50.90",display:"Crohn's disease, unspecified, without complications"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"K50.90",display:"Crohn's disease, unspecified, without complications",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"HCC"}],system:"http://terminology.hl7.org/CodeSystem/cmshcc",code:"35",display:"Crohn's disease, unspecified, without complications",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"DIG011",display:"Regional enteritis and ulcerative colitis",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"34000006",display:"Crohn's disease",userSelected:!1}],text:"Crohn's disease, unspecified, without complications"},subject:{reference:"Patient/001382f2-6e7d-4420-a178-d1caab57699b",type:"Patient"},encounter:{reference:"Encounter/32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",type:"Encounter",display:"Telemedicine 25 min, Abigail Smith"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17",recorder:{reference:"Practitioner/027bb468-9a2f-4676-8683-46688998919a",type:"Practitioner",display:"Abigail Smith"}},search:{mode:"match"}},{resource:{resourceType:"Patient",id:"001382f2-6e7d-4420-a178-d1caab57699b",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:16.933+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:17.103+00:00",source:"#25a97bc5680ae45d",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/c1fed888-f3a0-40c8-8b5b-f6aab759f849"}},search:{mode:"include"}},{resource:{resourceType:"Encounter",id:"32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:12.740+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:12.743+00:00",source:"#bHl2DTttxubGcINN",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],status:"finished",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActEncounterCode",code:"AMB"},subject:{reference:"Patient/39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",type:"Patient"},participant:[{type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ParticipationType",code:"PPRF"}]}],individual:{reference:"Practitioner/7dd225a0-5d84-4b04-87f8-0e5d6c05e13b",type:"Practitioner",display:"Jasmin Keller"}}],period:{start:"2021-07-01"}},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"c1fed888-f3a0-40c8-8b5b-f6aab759f849",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.289+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.291+00:00",source:"#J2k55u5o6JKQ573B",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"Gastro Health"},search:{mode:"include"}}]},Fa={resourceType:"Bundle",id:"20234e29-4a39-407a-8888-375a72363389",meta:{lastUpdated:"2022-11-15T20:46:08.537+00:00"},type:"searchset",total:8,entry:[{resource:{resourceType:"Condition",id:"83babf40-277d-4704-8580-455a17b2eb5a",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"zKIXTB8547l3A8KG1yAZzxouP9X/DArBEiy01KuRZQc="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:23.406+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:23.452+00:00",source:"#de55f1c803f6b2f8",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"4979002",display:"Other atopic dermatitis"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"L20.89",display:"Other atopic dermatitis"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"L20.89",display:"Other atopic dermatitis",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"SKN002",display:"Other specified inflammatory condition of skin",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"4979002",display:"Dermatitis",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Other atopic dermatitis"},subject:{reference:"Patient/ac9b9cfd-8f8f-4108-9620-029cc583d1e8",type:"Patient"},encounter:{reference:"Encounter/9454e861-178c-428a-8acb-1546c5b7aa1a",type:"Encounter",display:"Office visit 45 min, Jacob Calvano"},onsetPeriod:{start:"2022-06-08"},recordedDate:"2022-06-08",recorder:{reference:"Practitioner/8fc34aba-47bb-4fe7-9485-951abdff5c6e",type:"Practitioner",display:"Jacob Calvano"}},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"9855293c-c517-4bb7-af79-d5a70e348822",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"zKIXTB8547l3A8KG1yAZzxouP9X/DArBEiy01KuRZQc="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:25.745+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:25.799+00:00",source:"#c90e10db548a1b16",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"4979002",display:"Other atopic dermatitis"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"L20.89",display:"Other atopic dermatitis"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"L20.89",display:"Other atopic dermatitis",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"SKN002",display:"Other specified inflammatory condition of skin",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"4979002",display:"Dermatitis",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Other atopic dermatitis"},subject:{reference:"Patient/001382f2-6e7d-4420-a178-d1caab57699b",type:"Patient"},encounter:{reference:"Encounter/32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",type:"Encounter",display:"Telemedicine 25 min, Abigail Smith"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17",recorder:{reference:"Practitioner/027bb468-9a2f-4676-8683-46688998919a",type:"Practitioner",display:"Abigail Smith"}},search:{mode:"match"}},{resource:{resourceType:"Patient",id:"001382f2-6e7d-4420-a178-d1caab57699b",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:16.933+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:17.103+00:00",source:"#25a97bc5680ae45d",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/c1fed888-f3a0-40c8-8b5b-f6aab759f849"}},search:{mode:"include"}},{resource:{resourceType:"Encounter",id:"9454e861-178c-428a-8acb-1546c5b7aa1a",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:22.556+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:22.559+00:00",source:"#nfw0bAaFNbnYzLOO",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],status:"finished",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActEncounterCode",code:"AMB"},subject:{reference:"Patient/ac9b9cfd-8f8f-4108-9620-029cc583d1e8",type:"Patient"},participant:[{type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ParticipationType",code:"PPRF"}]}],individual:{reference:"Practitioner/8fc34aba-47bb-4fe7-9485-951abdff5c6e",type:"Practitioner",display:"Jacob Calvano"}}],period:{start:"2022-06-08"}},search:{mode:"include"}},{resource:{resourceType:"Patient",id:"ac9b9cfd-8f8f-4108-9620-029cc583d1e8",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:19.207+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:19.333+00:00",source:"#fc9a07a0b430d331",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/1d66cab4-2a1c-48a0-b6bb-65a56930cebf"}},search:{mode:"include"}},{resource:{resourceType:"Encounter",id:"32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:12.740+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:12.743+00:00",source:"#bHl2DTttxubGcINN",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],status:"finished",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActEncounterCode",code:"AMB"},subject:{reference:"Patient/39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",type:"Patient"},participant:[{type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ParticipationType",code:"PPRF"}]}],individual:{reference:"Practitioner/7dd225a0-5d84-4b04-87f8-0e5d6c05e13b",type:"Practitioner",display:"Jasmin Keller"}}],period:{start:"2021-07-01"}},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"c1fed888-f3a0-40c8-8b5b-f6aab759f849",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.289+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.291+00:00",source:"#J2k55u5o6JKQ573B",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"Gastro Health"},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"1d66cab4-2a1c-48a0-b6bb-65a56930cebf",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.547+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.548+00:00",source:"#QuUFEAKpYENOFjRM",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"Main St. Medical"},search:{mode:"include"}}]},Pa={resourceType:"Bundle",id:"306fc01f-9b7a-4923-86d6-2bbf200edb88",meta:{lastUpdated:"2022-11-15T20:46:29.862+00:00"},type:"searchset",total:11,entry:[{resource:{resourceType:"Condition",id:"7000a33a-808f-4c94-8125-1af140ce6fbe",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"D67bRM1k9o89I+5smc7WHv3LsYqiW9UQV512kkxuv4s="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:13.048+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:13.108+00:00",source:"#998791c03787fbed",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"problem-list-item"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"MBD005",display:"Anxiety and fear-related disorders",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Generalized anxiety disorder"},subject:{reference:"Patient/39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",type:"Patient"},encounter:{reference:"Encounter/32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",type:"Encounter",display:"Office visit 30 min, Jasmin Keller"},onsetPeriod:{start:"2021-07-01"},recordedDate:"2021-07-01",recorder:{reference:"Practitioner/7dd225a0-5d84-4b04-87f8-0e5d6c05e13b",type:"Practitioner",display:"Jasmin Keller"}},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"5c000258-d368-45a4-8085-c0c43cbac075",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"D67bRM1k9o89I+5smc7WHv3LsYqiW9UQV512kkxuv4s="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:22.841+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:22.921+00:00",source:"#cf01f106a573ce66",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"MBD005",display:"Anxiety and fear-related disorders",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Generalized anxiety disorder"},subject:{reference:"Patient/ac9b9cfd-8f8f-4108-9620-029cc583d1e8",type:"Patient"},encounter:{reference:"Encounter/9454e861-178c-428a-8acb-1546c5b7aa1a",type:"Encounter",display:"Office visit 45 min, Jacob Calvano"},onsetPeriod:{start:"2022-06-08"},recordedDate:"2022-06-08",recorder:{reference:"Practitioner/8fc34aba-47bb-4fe7-9485-951abdff5c6e",type:"Practitioner",display:"Jacob Calvano"}},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"59b72c31-9081-401a-b638-1b38fb096384",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"D67bRM1k9o89I+5smc7WHv3LsYqiW9UQV512kkxuv4s="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:25.155+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:25.221+00:00",source:"#bcfffdd6b2aa9b4e",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"MBD005",display:"Anxiety and fear-related disorders",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Generalized anxiety disorder"},subject:{reference:"Patient/001382f2-6e7d-4420-a178-d1caab57699b",type:"Patient"},encounter:{reference:"Encounter/32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",type:"Encounter",display:"Telemedicine 25 min, Abigail Smith"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17",recorder:{reference:"Practitioner/027bb468-9a2f-4676-8683-46688998919a",type:"Practitioner",display:"Abigail Smith"}},search:{mode:"match"}},{resource:{resourceType:"Patient",id:"001382f2-6e7d-4420-a178-d1caab57699b",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:16.933+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:17.103+00:00",source:"#25a97bc5680ae45d",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/c1fed888-f3a0-40c8-8b5b-f6aab759f849"}},search:{mode:"include"}},{resource:{resourceType:"Encounter",id:"9454e861-178c-428a-8acb-1546c5b7aa1a",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:22.556+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:22.559+00:00",source:"#nfw0bAaFNbnYzLOO",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],status:"finished",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActEncounterCode",code:"AMB"},subject:{reference:"Patient/ac9b9cfd-8f8f-4108-9620-029cc583d1e8",type:"Patient"},participant:[{type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ParticipationType",code:"PPRF"}]}],individual:{reference:"Practitioner/8fc34aba-47bb-4fe7-9485-951abdff5c6e",type:"Practitioner",display:"Jacob Calvano"}}],period:{start:"2022-06-08"}},search:{mode:"include"}},{resource:{resourceType:"Patient",id:"ac9b9cfd-8f8f-4108-9620-029cc583d1e8",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:19.207+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:19.333+00:00",source:"#fc9a07a0b430d331",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/1d66cab4-2a1c-48a0-b6bb-65a56930cebf"}},search:{mode:"include"}},{resource:{resourceType:"Patient",id:"39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:14.667+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:14.806+00:00",source:"#195aff437545b6e9",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/c03a28a0-a1b0-4e2a-a3b7-c34cffb50b40"}},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"c03a28a0-a1b0-4e2a-a3b7-c34cffb50b40",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:08.749+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:08.750+00:00",source:"#IZN0Vnh5eaX0r6kF",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"City Health"},search:{mode:"include"}},{resource:{resourceType:"Encounter",id:"32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:12.740+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:12.743+00:00",source:"#bHl2DTttxubGcINN",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],status:"finished",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActEncounterCode",code:"AMB"},subject:{reference:"Patient/39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",type:"Patient"},participant:[{type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ParticipationType",code:"PPRF"}]}],individual:{reference:"Practitioner/7dd225a0-5d84-4b04-87f8-0e5d6c05e13b",type:"Practitioner",display:"Jasmin Keller"}}],period:{start:"2021-07-01"}},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"c1fed888-f3a0-40c8-8b5b-f6aab759f849",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.289+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.291+00:00",source:"#J2k55u5o6JKQ573B",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"Gastro Health"},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"1d66cab4-2a1c-48a0-b6bb-65a56930cebf",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.547+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.548+00:00",source:"#QuUFEAKpYENOFjRM",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"Main St. Medical"},search:{mode:"include"}}]},za={resourceType:"Bundle",id:"24730519-08df-4994-af12-429174c0e148",meta:{lastUpdated:"2022-11-15T20:46:59.164+00:00"},type:"searchset",total:11,entry:[{resource:{resourceType:"Condition",id:"377d1f4e-f57f-469f-9eee-4e2f90140ff6",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"fWd/lTKMDp1vxaYq5d/UxCEBlkxWJfxc4vSaRByo0Jk="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:13.603+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:13.671+00:00",source:"#f70398b96186af37",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"35240004",display:"Iron deficiency"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"E61.1",display:"Iron deficiency"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"E61.1",display:"Iron deficiency",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"END007",display:"Nutritional deficiencies",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"A",display:"Acute",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"35240004",display:"Iron deficiency",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Iron deficiency"},subject:{reference:"Patient/39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",type:"Patient"},encounter:{reference:"Encounter/32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",type:"Encounter",display:"Office visit 30 min, Jasmin Keller"},onsetPeriod:{start:"2021-07-01"},recordedDate:"2021-07-01",recorder:{reference:"Practitioner/7dd225a0-5d84-4b04-87f8-0e5d6c05e13b",type:"Practitioner",display:"Jasmin Keller"}},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"b4c7ec40-7f0f-4533-b572-1535e18e0c75",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"fWd/lTKMDp1vxaYq5d/UxCEBlkxWJfxc4vSaRByo0Jk="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:23.668+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:23.721+00:00",source:"#75403bf18ab88091",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"35240004",display:"Iron deficiency"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"E61.1",display:"Iron deficiency"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"E61.1",display:"Iron deficiency",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"END007",display:"Nutritional deficiencies",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"A",display:"Acute",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"35240004",display:"Iron deficiency",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Iron deficiency"},subject:{reference:"Patient/ac9b9cfd-8f8f-4108-9620-029cc583d1e8",type:"Patient"},encounter:{reference:"Encounter/9454e861-178c-428a-8acb-1546c5b7aa1a",type:"Encounter",display:"Office visit 45 min, Jacob Calvano"},onsetPeriod:{start:"2022-06-08"},recordedDate:"2022-06-08",recorder:{reference:"Practitioner/8fc34aba-47bb-4fe7-9485-951abdff5c6e",type:"Practitioner",display:"Jacob Calvano"}},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"e6757977-9148-4b84-aff6-8b59d7f57c2f",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"fWd/lTKMDp1vxaYq5d/UxCEBlkxWJfxc4vSaRByo0Jk="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:26.358+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:26.422+00:00",source:"#483d1d67a2ebef10",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"35240004",display:"Iron deficiency"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"E61.1",display:"Iron deficiency"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"E61.1",display:"Iron deficiency",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"END007",display:"Nutritional deficiencies",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"A",display:"Acute",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"35240004",display:"Iron deficiency",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Iron deficiency"},subject:{reference:"Patient/001382f2-6e7d-4420-a178-d1caab57699b",type:"Patient"},encounter:{reference:"Encounter/32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",type:"Encounter",display:"Telemedicine 25 min, Abigail Smith"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17",recorder:{reference:"Practitioner/027bb468-9a2f-4676-8683-46688998919a",type:"Practitioner",display:"Abigail Smith"}},search:{mode:"match"}},{resource:{resourceType:"Patient",id:"001382f2-6e7d-4420-a178-d1caab57699b",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:16.933+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:17.103+00:00",source:"#25a97bc5680ae45d",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/c1fed888-f3a0-40c8-8b5b-f6aab759f849"}},search:{mode:"include"}},{resource:{resourceType:"Encounter",id:"9454e861-178c-428a-8acb-1546c5b7aa1a",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:22.556+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:22.559+00:00",source:"#nfw0bAaFNbnYzLOO",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],status:"finished",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActEncounterCode",code:"AMB"},subject:{reference:"Patient/ac9b9cfd-8f8f-4108-9620-029cc583d1e8",type:"Patient"},participant:[{type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ParticipationType",code:"PPRF"}]}],individual:{reference:"Practitioner/8fc34aba-47bb-4fe7-9485-951abdff5c6e",type:"Practitioner",display:"Jacob Calvano"}}],period:{start:"2022-06-08"}},search:{mode:"include"}},{resource:{resourceType:"Patient",id:"ac9b9cfd-8f8f-4108-9620-029cc583d1e8",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:19.207+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:19.333+00:00",source:"#fc9a07a0b430d331",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/1d66cab4-2a1c-48a0-b6bb-65a56930cebf"}},search:{mode:"include"}},{resource:{resourceType:"Patient",id:"39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:14.667+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:14.806+00:00",source:"#195aff437545b6e9",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/c03a28a0-a1b0-4e2a-a3b7-c34cffb50b40"}},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"c03a28a0-a1b0-4e2a-a3b7-c34cffb50b40",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:08.749+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:08.750+00:00",source:"#IZN0Vnh5eaX0r6kF",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"City Health"},search:{mode:"include"}},{resource:{resourceType:"Encounter",id:"32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:12.740+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:12.743+00:00",source:"#bHl2DTttxubGcINN",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],status:"finished",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActEncounterCode",code:"AMB"},subject:{reference:"Patient/39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",type:"Patient"},participant:[{type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ParticipationType",code:"PPRF"}]}],individual:{reference:"Practitioner/7dd225a0-5d84-4b04-87f8-0e5d6c05e13b",type:"Practitioner",display:"Jasmin Keller"}}],period:{start:"2021-07-01"}},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"c1fed888-f3a0-40c8-8b5b-f6aab759f849",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.289+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.291+00:00",source:"#J2k55u5o6JKQ573B",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"Gastro Health"},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"1d66cab4-2a1c-48a0-b6bb-65a56930cebf",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.547+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.548+00:00",source:"#QuUFEAKpYENOFjRM",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"Main St. Medical"},search:{mode:"include"}}]},La={resourceType:"Bundle",id:"5920b9ac-ea49-4fa8-ad97-64882611f397",meta:{lastUpdated:"2022-11-15T20:47:16.359+00:00"},type:"searchset",total:11,entry:[{resource:{resourceType:"Condition",id:"4d2c7c7b-451a-408e-9dc7-c750ad1191bd",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"ndyzgK7ieHxkttwH42nK3e7nfUq8cMkHXzrPkptktV0="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:13.332+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:13.403+00:00",source:"#0e78031055c5bcc3",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"5935008",display:"Long term (current) use of hormonal contraceptives"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"Z79.3",display:"Long term (current) use of hormonal contraceptives"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"Z79.3",display:"Long term (current) use of hormonal contraceptives",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"FAC025",display:"Other specified status",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"N",display:"Not applicable (code cannot be used to identify a chronic or acute condition)",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"5935008",display:"Oral contraception",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Long term (current) use of hormonal contraceptives"},subject:{reference:"Patient/39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",type:"Patient"},encounter:{reference:"Encounter/32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",type:"Encounter",display:"Office visit 30 min, Jasmin Keller"},onsetPeriod:{start:"2021-07-01"},recordedDate:"2021-07-01",recorder:{reference:"Practitioner/7dd225a0-5d84-4b04-87f8-0e5d6c05e13b",type:"Practitioner",display:"Jasmin Keller"}},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"8e869e43-4fa1-4145-a84c-95bbb345b368",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"ndyzgK7ieHxkttwH42nK3e7nfUq8cMkHXzrPkptktV0="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:23.105+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:23.153+00:00",source:"#6d97bddc91473559",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"5935008",display:"Long term (current) use of hormonal contraceptives"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"Z79.3",display:"Long term (current) use of hormonal contraceptives"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"Z79.3",display:"Long term (current) use of hormonal contraceptives",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"FAC025",display:"Other specified status",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"N",display:"Not applicable (code cannot be used to identify a chronic or acute condition)",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"5935008",display:"Oral contraception",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Long term (current) use of hormonal contraceptives"},subject:{reference:"Patient/ac9b9cfd-8f8f-4108-9620-029cc583d1e8",type:"Patient"},encounter:{reference:"Encounter/9454e861-178c-428a-8acb-1546c5b7aa1a",type:"Encounter",display:"Office visit 45 min, Jacob Calvano"},onsetPeriod:{start:"2022-06-08"},recordedDate:"2022-06-08",recorder:{reference:"Practitioner/8fc34aba-47bb-4fe7-9485-951abdff5c6e",type:"Practitioner",display:"Jacob Calvano"}},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"4806be03-9fb3-439e-b58b-458e1174dd12",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"ndyzgK7ieHxkttwH42nK3e7nfUq8cMkHXzrPkptktV0="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:25.444+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:25.507+00:00",source:"#b0104893e1801a1a",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"5935008",display:"Long term (current) use of hormonal contraceptives"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"Z79.3",display:"Long term (current) use of hormonal contraceptives"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"Z79.3",display:"Long term (current) use of hormonal contraceptives",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"FAC025",display:"Other specified status",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"N",display:"Not applicable (code cannot be used to identify a chronic or acute condition)",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"5935008",display:"Oral contraception",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Long term (current) use of hormonal contraceptives"},subject:{reference:"Patient/001382f2-6e7d-4420-a178-d1caab57699b",type:"Patient"},encounter:{reference:"Encounter/32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",type:"Encounter",display:"Telemedicine 25 min, Abigail Smith"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17",recorder:{reference:"Practitioner/027bb468-9a2f-4676-8683-46688998919a",type:"Practitioner",display:"Abigail Smith"}},search:{mode:"match"}},{resource:{resourceType:"Patient",id:"001382f2-6e7d-4420-a178-d1caab57699b",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:16.933+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:17.103+00:00",source:"#25a97bc5680ae45d",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/c1fed888-f3a0-40c8-8b5b-f6aab759f849"}},search:{mode:"include"}},{resource:{resourceType:"Encounter",id:"9454e861-178c-428a-8acb-1546c5b7aa1a",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:22.556+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:22.559+00:00",source:"#nfw0bAaFNbnYzLOO",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],status:"finished",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActEncounterCode",code:"AMB"},subject:{reference:"Patient/ac9b9cfd-8f8f-4108-9620-029cc583d1e8",type:"Patient"},participant:[{type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ParticipationType",code:"PPRF"}]}],individual:{reference:"Practitioner/8fc34aba-47bb-4fe7-9485-951abdff5c6e",type:"Practitioner",display:"Jacob Calvano"}}],period:{start:"2022-06-08"}},search:{mode:"include"}},{resource:{resourceType:"Patient",id:"ac9b9cfd-8f8f-4108-9620-029cc583d1e8",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:19.207+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:19.333+00:00",source:"#fc9a07a0b430d331",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/1d66cab4-2a1c-48a0-b6bb-65a56930cebf"}},search:{mode:"include"}},{resource:{resourceType:"Patient",id:"39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:14.667+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:14.806+00:00",source:"#195aff437545b6e9",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/c03a28a0-a1b0-4e2a-a3b7-c34cffb50b40"}},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"c03a28a0-a1b0-4e2a-a3b7-c34cffb50b40",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:08.749+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:08.750+00:00",source:"#IZN0Vnh5eaX0r6kF",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"City Health"},search:{mode:"include"}},{resource:{resourceType:"Encounter",id:"32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:12.740+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:12.743+00:00",source:"#bHl2DTttxubGcINN",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],status:"finished",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActEncounterCode",code:"AMB"},subject:{reference:"Patient/39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",type:"Patient"},participant:[{type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ParticipationType",code:"PPRF"}]}],individual:{reference:"Practitioner/7dd225a0-5d84-4b04-87f8-0e5d6c05e13b",type:"Practitioner",display:"Jasmin Keller"}}],period:{start:"2021-07-01"}},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"c1fed888-f3a0-40c8-8b5b-f6aab759f849",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.289+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.291+00:00",source:"#J2k55u5o6JKQ573B",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"Gastro Health"},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"1d66cab4-2a1c-48a0-b6bb-65a56930cebf",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.547+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.548+00:00",source:"#QuUFEAKpYENOFjRM",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"Main St. Medical"},search:{mode:"include"}}]},Ba={resourceType:"Bundle",id:"f4da1f39-7638-45e4-999b-9ff33d7c5201",meta:{lastUpdated:"2022-11-15T19:37:55.783+00:00"},type:"searchset",entry:[{resource:{resourceType:"Patient",id:"1",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:12.106+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:12.363+00:00",source:"#8409b0f1adee8ee2",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/123",display:"Storybook Medical - Test Customer"}]},identifier:[{system:"https://example.com/patient-id",value:"001"},{system:"https://zusapi.com/fhir/identifier/universal-id",value:"u12345"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],maritalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-MaritalStatus",code:"S",display:"Single"}],text:"Single"},contact:[{relationship:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v2-0131",code:"C",display:"Emergency contact"}],text:"Emergency contact"}],name:{family:"Marsden",given:["Jeffrey"]},telecom:[{system:"phone",value:"555-402-8964",use:"home"},{system:"email",value:"jeffrey.marsden@example.com"}]}],managingOrganization:{reference:"Organization/09ab9086-6dfc-4dc9-b040-1520aa4fea92"}},search:{mode:"match"}},{resource:{resourceType:"Organization",id:"09ab9086-6dfc-4dc9-b040-1520aa4fea92",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.031+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.032+00:00",source:"#RdK4JAWrQkSRa9Qw",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/b123",display:"Storybook Medical - Test Customer"}]},name:"Demo Health"},search:{mode:"include"}}]},Ma={data:{0:{status:"done",messageUuid:"41da155d-f10e-4402-b076-652546610e6e",initialData:{patientId:"260db817-62e7-4429-986d-86126cb8c6b7"},_serviceMessage:[{serviceUrl:"https://api.dev.zusapi.com/medical-history",service:"CommonWell",id:"e4ec64fe-e873-4810-a09b-8057b6ca2614"},{serviceUrl:"https://api.dev.zusapi.com/medication-history",service:"SureScripts",id:"4a359f4a490c4a41b16ad666ea365ea2"}],_errors:[],_createdAt:"2022-11-28T14:29:25.509Z",_updatedAt:"2022-11-28T14:29:27.436Z"}}};let ct,wt;function lo({otherConditions:t,patientConditions:a}){return{decorators:[o=>(ct=L.cloneDeep(a),wt=L.cloneDeep(t),ye.createElement(o))],parameters:{msw:[Ua,Va,ka,$a,qa,Ga,Ha,ja]}}}const Ua=lt.rest.get("https://api.dev.zusapi.com/fhir/Patient",(t,a,o)=>a(o.delay(750),o.status(200),o.json(Ba))),Ha=lt.rest.get("https://api.dev.zusapi.com/patient-history/messages",(t,a,o)=>a(o.status(200),o.json(Ma))),ka=lt.rest.post("https://api.dev.zusapi.com/fhir/Provenance",(t,a,o)=>a(o.status(200))),Va=lt.rest.get("https://api.dev.zusapi.com/forms-data/terminology/conditions",(t,a,o)=>a(o.status(200),o.json(Oa))),qa=lt.rest.post("https://api.dev.zusapi.com/fhir/Condition",async(t,a,o)=>{var p,h;const s=await t.json();return s.id=cn(),(p=ct.entry)==null||p.push({resource:s,search:{mode:"match"}}),ct.total=(h=ct.entry)==null?void 0:h.length,a(o.status(200),o.json(s))}),Ga=lt.rest.put("https://api.dev.zusapi.com/fhir/Condition/:conditionId",async(t,a,o)=>{var h,b;const s=await t.json(),p=(h=ct.entry)==null?void 0:h.findIndex(m=>{var C;return((C=m.resource)==null?void 0:C.id)===s.id});return p!==void 0&&((b=ct.entry)!=null&&b[p])&&(ct.entry[p].resource=s),a(o.status(200),o.json(s))}),$a=lt.rest.get("https://api.dev.zusapi.com/fhir/Condition",(t,a,o)=>{const s=t.url.searchParams.get("code");if(s){const m=Object.entries({34000006:Ra,4979002:Fa,21897009:Pa,35240004:za,5935008:La}).find(C=>s.includes(C[0]));return m?a(o.status(200),o.json(m[1])):a(o.status(200),o.json([]))}const h=t.url.searchParams.get("_tag")===`${Kn}|Common`;return a(o.status(200),o.json(h?wt:ct))}),ja=lt.rest.post("https://api.dev.zusapi.com/fhir/Basic",async(t,a,o)=>{var p,h;const s=await t.json();return s.search={mode:"include"},s.id=cn(),(p=wt.entry)==null||p.push({resource:s,search:{mode:"include"}}),wt.total=(h=wt.entry)==null?void 0:h.length,a(o.status(200),o.json(s))});export{Rt as C,Qt as M,ii as a,Zt as b,ai as c,so as d,no as e,oo as f,er as g,oi as h,io as i,ri as o,co as p,lo as s,ro as t,ao as u};
//# sourceMappingURL=requests-b3b42014.js.map
