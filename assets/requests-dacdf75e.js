import{R as s,r as y}from"./index-6f814c40.js";import{c as h}from"./index-74f03c09.js";import{D as g,u as b}from"./resource-details-drawer-dbf0f9f3.js";import{V as D}from"./view-fhir-225468b4.js";import{w as F}from"./error-boundary-3c619f42.js";import{T as v}from"./table-d8430721.js";import{s as C,al as _,l as d}from"./patient-helper-0f09a661.js";import"./_baseToString-7c0e3f59.js";import{o as A}from"./sortBy-3347ffe9.js";import"./_baseClone-3ae78372.js";import"./sortBy-ee350c06.js";import"./_equalByTag-eda72788.js";import"./_baseForOwn-03e9c2f3.js";import{i as z}from"./isEqual-298b6ab1.js";import"./_createSet-6ff8e1d4.js";import{u as x}from"./uniqWith-79e2a4b4.js";import{u as w}from"./patient-provider-36691a31.js";import{u as E}from"./use-breakpoints-048d0685.js";import{m as P}from"./requests-49796f96.js";const n=(e=!0)=>{const a=[{widthPercent:20,minWidth:100,title:"Date Created",render:t=>s.createElement("div",null,t.dateCreated)},{widthPercent:30,minWidth:200,title:"Title",render:t=>s.createElement("div",null,t.title)},{widthPercent:30,minWidth:200,title:"Managing Organization",render:t=>s.createElement("div",null,t.custodian)}];return e&&a.push({widthPercent:20,minWidth:150,render:t=>s.createElement(D,{name:"Document Resource",resource:t.resource})}),a};try{n.displayName="patientDocumentColumns",n.__docgenInfo={description:"",displayName:"patientDocumentColumns",props:{}}}catch{}const r=e=>{const a=e.map(i=>new g(i));return x(a,(i,o)=>z(l(i),l(o)))},l=e=>[e.dateCreated,e.custodian,e.title];try{r.displayName="applyDocumentFilters",r.__docgenInfo={description:"",displayName:"applyDocumentFilters",props:{}}}catch{}function R(){return w(_,[],async(e,a)=>{try{const{bundle:t,resources:i}=await C("DocumentReference",e,{patientUPID:a.UPID});return A(r(i),[o=>o.resource.content[0].attachment.creation||""],["desc"])}catch(t){throw new Error(`Failed fetching document information for patient: ${t}`)}})}function T({className:e,includeViewFhirResource:a}){const t=y.useRef(null),i=E(t),o=R(),p=b({header:c=>`${c.dateCreated} - ${c.title}`,details:S}),u=o.data??[],{isLoading:f}=o;return s.createElement("div",{ref:t,"data-zus-telemetry-namespace":"Documents",className:h("ctw-patient-documents ctw-bg-white",e,{"ctw-stacked":i.sm})},s.createElement("div",{className:"ctw-overflow-hidden"},s.createElement(v,{stacked:i.sm,removeLeftAndRightBorders:!0,className:"-ctw-mx-px !ctw-rounded-none",isLoading:f,records:u,columns:n(a),handleRowClick:p})))}const m=F(T,"PatientDocuments"),S=e=>[{label:"status",value:e.status},{label:"docStatus",value:e.docStatus},{label:"Managing Organization",value:e.custodian},{label:"Section Display",value:e.sectionDisplays&&s.createElement("div",null,e.sectionDisplays.map((a,t)=>s.createElement("div",{key:a+t},a)))}];try{m.displayName="PatientDocuments",m.__docgenInfo={description:"",displayName:"PatientDocuments",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},includeViewFhirResource:{defaultValue:null,description:"",name:"includeViewFhirResource",required:!1,type:{name:"boolean"}}}}}catch{}const N={resourceType:"Bundle",id:"b8627acb-9676-47cd-a5b9-145bb680b8eb",meta:{lastUpdated:"2023-02-21T16:37:50.194+00:00"},type:"searchset",link:[{relation:"self",url:"https://api.sandbox.zusapi.com/fhir/DocumentReference?_count=250&_tag%3Anot=https%3A%2F%2Fzusapi.com%2Flens%7CActiveMedications&_tag%3Anot=https%3A%2F%2Fzusapi.com%2Flens%7CChronicConditions&_tag%3Anot=https%3A%2F%2Fzusapi.com%2Fsummary%7CCommon&_tag%3Anot=https%3A%2F%2Fzusapi.com%2Ffhir%2Ftag%2Fupi-record-type%7Cuniversal&patient.identifier=https%3A%2F%2Fzusapi.com%2Ffhir%2Fidentifier%2Funiversal-id%7C348a02df-f1a7-4413-93f9-b0802a7a4796"},{relation:"next",url:"https://api.sandbox.zusapi.com/fhir/DocumentReference?_count=250&_offset=250&_tag%3Anot=https%3A%2F%2Fzusapi.com%2Flens%7CActiveMedications&_tag%3Anot=https%3A%2F%2Fzusapi.com%2Flens%7CChronicConditions&_tag%3Anot=https%3A%2F%2Fzusapi.com%2Fsummary%7CCommon&_tag%3Anot=https%3A%2F%2Fzusapi.com%2Ffhir%2Ftag%2Fupi-record-type%7Cuniversal&patient.identifier=https%3A%2F%2Fzusapi.com%2Ffhir%2Fidentifier%2Funiversal-id%7C348a02df-f1a7-4413-93f9-b0802a7a4796"}],entry:[{fullUrl:"https://api.sandbox.zusapi.com/fhir/DocumentReference/7fbc3222-4d45-4cf2-9bab-e56867c3c9a2",resource:{resourceType:"DocumentReference",id:"7fbc3222-4d45-4cf2-9bab-e56867c3c9a2",meta:{versionId:"9",lastUpdated:"2023-02-02T22:17:32.153+00:00",source:"#d6fc69a0d3aa79fb",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/f4599d90-6d29-4843-a16d-ae7c469eb229"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"348a02df-f1a7-4413-93f9-b0802a7a4796"}],masterIdentifier:{use:"usual",system:"urn:oid:2.16.840.1.113883.4.570.10",value:"458"},status:"current",docStatus:"final",type:{coding:[{system:"http://loinc.org",code:"34133-9",display:"Summarization of Episode Note"}],text:"Summarization of Episode Note"},category:[{coding:[{system:"http://loinc.org",code:"48765-2",display:"Allergies, Adverse Reactions, Alerts"}],text:"Allergies, Adverse Reactions, Alerts"},{coding:[{system:"http://loinc.org",code:"10160-0",display:"History of Medication Use"}],text:"History of Medication Use"},{coding:[{system:"http://loinc.org",code:"11450-4",display:"Problem List"}],text:"Problem List"},{coding:[{system:"http://loinc.org",code:"47519-4",display:"History of Procedures"}],text:"History of Procedures"},{coding:[{system:"http://loinc.org",code:"30954-2",display:"Relevant Diagnostic Tests and/or Laboratory Data"}],text:"Relevant Diagnostic Tests and/or Laboratory Data"},{coding:[{system:"http://loinc.org",code:"42348-3",display:"Advance Directives"}],text:"Advance Directives"},{coding:[{system:"http://loinc.org",code:"46239-0",display:"Chief Complaint and Reason for Visit"}],text:"Chief Complaint and Reason for Visit"},{coding:[{system:"http://loinc.org",code:"8653-8",display:"Hospital Discharge Instructions"}],text:"Hospital Discharge Instructions"},{coding:[{system:"http://loinc.org",code:"10183-2",display:"Hospital Discharge Medications"}],text:"Hospital Discharge Medications"},{coding:[{system:"http://loinc.org",code:"46240-8",display:"Encounters"}],text:"Encounters"},{coding:[{system:"http://loinc.org",code:"47420-5",display:"Functional Status"}],text:"Functional Status"},{coding:[{system:"http://loinc.org",code:"11369-6",display:"Immunizations"}],text:"Immunizations"},{coding:[{system:"http://loinc.org",code:"18776-5",display:"Plan of Care"}],text:"Plan of Care"},{coding:[{system:"http://loinc.org",code:"29762-2",display:"Social History"}],text:"Social History"},{coding:[{system:"http://loinc.org",code:"8716-3",display:"Vital Signs"}],text:"Vital Signs"}],subject:{reference:"Patient/b1b9380e-390c-42f9-b7bd-edc939edd5f1",type:"Patient",display:"SOLOMAN BERGAMEL"},date:"2022-04-13T15:00:54.460Z",author:[{reference:"Organization/a924058c-f6b5-4cef-8fa5-55e20628bbd7",type:"Organization",display:"Graham Hospital Association"},{reference:"Practitioner/fcd8664e-8840-4756-bd2b-a99db9f89119",type:"Practitioner"}],custodian:{reference:"Organization/1325be70-fb8d-4f01-99b9-efca49a09d37",type:"Organization",display:"Graham Hospital Association"},description:"Continuity of Care Document (Transition of Care)",content:[{attachment:{contentType:"application/xml",language:"en-US",url:"Binary/fa5b964d-d509-458a-b893-763052df4adf",hash:"DOYC3qYo0MgDnxhooYVutWko1/4=",title:"Continuity of Care Document (Transition of Care)",creation:"2021-09-10T14:38:39-05:00"}}],context:{event:[{coding:[{system:"http://loinc.org",code:"34133-9",display:"Summarization of Episode Note"}],text:"Summarization of Episode Note"}]}},search:{mode:"match"}}]},H={resourceType:"Bundle",id:"f4da1f39-7638-45e4-999b-9ff33d7c5201",meta:{lastUpdated:"2022-11-15T19:37:55.783+00:00"},type:"searchset",entry:[{resource:{resourceType:"Patient",id:"u12345",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2023-01-26T15:49:38.110+00:00"}],versionId:"2",lastUpdated:"2023-01-26T15:49:38.553+00:00",source:"#cacbf4a51c11b1b0",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/f09f6b6f-ae4b-45f4-a653-5677b1582115",display:"HLTH 2022 - Gunther"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"b640bda1-aec7-4be6-a890-e3685a55bce3"}],name:[{family:"Zhang",given:["Bruno"]}],telecom:[{system:"email",value:"brunozhang@example.com"},{system:"phone",value:"555-569-2000",use:"home"},{system:"phone",value:"555-536-3933",use:"mobile"},{system:"phone",value:"555-843-3265",use:"work"}],gender:"male",birthDate:"1970-05-09",address:[{line:["357 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/79a1c124-a752-4d9a-a44e-2c02499ae402"}},search:{mode:"match"}}]};function te(){return{parameters:{msw:I()}}}function I(){const e=d.rest.get("https://api.dev.zusapi.com/fhir/Patient",(t,i,o)=>i(o.delay(750),o.status(200),o.json(H))),a=d.rest.get("https://api.dev.zusapi.com/fhir/DocumentReference",(t,i,o)=>i(o.status(200),o.json(N)));return[e,a,P()]}export{m as P,te as s};
