var uo=Object.defineProperty;var fo=(e,t,n)=>t in e?uo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var hn=(e,t,n)=>(fo(e,typeof t!="symbol"?t+"":t,n),n);import{r as i,R as b,a as po}from"./index-6f814c40.js";import{c as F}from"./index-74f03c09.js";import{F as ne,g as Gn,h as st,i as en,j as mo,k as vo,l as ho,D as go}from"./details-card-fe427194.js";import{_ as N}from"./extends-98964cd2.js";import{r as tn,R as yo}from"./index-6de6b113.js";import{u as bo,a8 as wo,F as $o,c as He,G as Yn,a as gn,a9 as xo,aa as Eo,ab as Ro,A as So,ac as Co,I as _o,T as Po,ad as Oo,e as Io,s as No}from"./patient-helper-c33b7ee4.js";import{C as re,y as oe,o as M,a as H,u as Y,L as Qn,q as Xn,p as Se,h as To,c as Do,F as Ao,$ as ae,I as me,l as Ae,S as et,i as Zn,e as ko,k as Ce,w as Jn,N as er,j as O,r as tr,v as nr,D as Mo,T as yn,x as rr}from"./use-watch-a9671586.js";import{p as Fo,e as Lo,i as or,s as ar,a as L,x as cr,F as Vo}from"./use-controllable-046cc6fb.js";import{n as Bo,D as bn}from"./drawer-7774c361.js";import{s as wn,i as ir,b as qo,p as $n,e as xn,o as En,d as nn}from"./values-8fd0e344.js";import"./_baseToString-4993715b.js";import{f as sr,c as rn}from"./sortBy-df4456c4.js";import"./_baseClone-25b1595e.js";import"./sortBy-d677d734.js";import{i as Uo,b as Wo}from"./_equalByTag-aaf39779.js";import{h as Ko}from"./_baseForOwn-d8306f34.js";import{i as Te}from"./isString-35d4a3f2.js";import"./_createSet-12ef9b81.js";import{u as lr}from"./uniq-f5468222.js";import{f as Ho,i as zo,N as jo,O as Go}from"./observation-bea05cd5.js";import{u as Yo}from"./use-patient-history-e2c30bc0.js";import{w as ur}from"./error-boundary-c69cd9a5.js";import{d as Qo,b as Xo,u as dr}from"./patient-provider-d04201ad.js";import{T as Zo}from"./table-781acd98.js";import{u as Jo}from"./use-breakpoints-48c770fc.js";var ea=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ea||{}),ta=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ta||{}),na=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(na||{}),ra=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.SetDisabled=2]="SetDisabled",e[e.SetOrientation=3]="SetOrientation",e[e.GoToOption=4]="GoToOption",e[e.Search=5]="Search",e[e.ClearSearch=6]="ClearSearch",e[e.RegisterOption=7]="RegisterOption",e[e.UnregisterOption=8]="UnregisterOption",e))(ra||{});function ht(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=nr(t(e.options.slice()),a=>a.dataRef.current.domRef.current),o=n?r.indexOf(n):null;return o===-1&&(o=null),{options:r,activeOptionIndex:o}}let oa={[1](e){return e.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},[0](e){if(e.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{value:n,mode:r,compare:o}=e.propsRef.current,a=e.options.findIndex(s=>{let c=s.dataRef.current.value;return Y(r,{[1]:()=>n.some(l=>o(l,c)),[0]:()=>o(n,c)})});return a!==-1&&(t=a),{...e,listboxState:0,activeOptionIndex:t}},[2](e,t){return e.disabled===t.disabled?e:{...e,disabled:t.disabled}},[3](e,t){return e.orientation===t.orientation?e:{...e,orientation:t.orientation}},[4](e,t){var n;if(e.disabled||e.listboxState===1)return e;let r=ht(e),o=cr(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:o,activationTrigger:(n=t.trigger)!=null?n:1}},[5]:(e,t)=>{if(e.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(s=>{var c;return!s.dataRef.current.disabled&&((c=s.dataRef.current.textValue)==null?void 0:c.startsWith(r))}),a=o?e.options.indexOf(o):-1;return a===-1||a===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:a,activationTrigger:1}},[6](e){return e.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},[7]:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=ht(e,o=>[...o,n]);if(e.activeOptionIndex===null){let{value:o,mode:a,compare:s}=e.propsRef.current,c=t.dataRef.current.value;Y(a,{[1]:()=>o.some(l=>s(l,c)),[0]:()=>s(o,c)})&&(r.activeOptionIndex=r.options.indexOf(n))}return{...e,...r}},[8]:(e,t)=>{let n=ht(e,r=>{let o=r.findIndex(a=>a.id===t.id);return o!==-1&&r.splice(o,1),r});return{...e,...n,activationTrigger:1}}},on=i.createContext(null);on.displayName="ListboxContext";function Ve(e){let t=i.useContext(on);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ve),n}return t}function aa(e,t){return Y(t.type,oa,e,t)}let ca=i.Fragment,ia=re(function(e,t){let{value:n,defaultValue:r,name:o,onChange:a,by:s=(R,w)=>R===w,disabled:c=!1,horizontal:l=!1,multiple:f=!1,...d}=e;const u=l?"horizontal":"vertical";let g=oe(t),[v,m]=Fo(n,a,r),p=i.useReducer(aa,{listboxState:1,propsRef:{current:{value:v,onChange:m,mode:f?1:0,compare:M(typeof s=="string"?(R,w)=>{let C=s;return(R==null?void 0:R[C])===(w==null?void 0:w[C])}:s)}},labelRef:i.createRef(),buttonRef:i.createRef(),optionsRef:i.createRef(),disabled:c,orientation:u,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1}),[{listboxState:y,propsRef:h,optionsRef:$,buttonRef:x},E]=p;h.current.value=v,h.current.mode=f?1:0,H(()=>{h.current.onChange=R=>Y(h.current.mode,{[0](){return m(R)},[1](){let w=h.current.value.slice(),{compare:C}=h.current,I=w.findIndex(T=>C(T,R));return I===-1?w.push(R):w.splice(I,1),m(w)}})},[m,h]),H(()=>E({type:2,disabled:c}),[c]),H(()=>E({type:3,orientation:u}),[u]),Qn([x,$],(R,w)=>{var C;E({type:1}),Jn(w,er.Loose)||(R.preventDefault(),(C=x.current)==null||C.focus())},y===0);let S=i.useMemo(()=>({open:y===0,disabled:c,value:v}),[y,c,v]),_={ref:g};return b.createElement(on.Provider,{value:p},b.createElement(Xn,{value:Y(y,{[0]:Se.Open,[1]:Se.Closed})},o!=null&&v!=null&&Lo({[o]:v}).map(([R,w])=>b.createElement(To,{features:Do.Hidden,...Ao({key:R,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:R,value:w})})),ae({ourProps:_,theirProps:d,slot:S,defaultTag:ca,name:"Listbox"})))}),sa="button",la=re(function(e,t){var n;let[r,o]=Ve("Listbox.Button"),a=oe(r.buttonRef,t),s=`headlessui-listbox-button-${me()}`,c=Ae(),l=M(p=>{switch(p.key){case O.Space:case O.Enter:case O.ArrowDown:p.preventDefault(),o({type:0}),c.nextFrame(()=>{r.propsRef.current.value||o({type:4,focus:L.First})});break;case O.ArrowUp:p.preventDefault(),o({type:0}),c.nextFrame(()=>{r.propsRef.current.value||o({type:4,focus:L.Last})});break}}),f=M(p=>{switch(p.key){case O.Space:p.preventDefault();break}}),d=M(p=>{if(tr(p.currentTarget))return p.preventDefault();r.listboxState===0?(o({type:1}),c.nextFrame(()=>{var y;return(y=r.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})})):(p.preventDefault(),o({type:0}))}),u=or(()=>{if(r.labelRef.current)return[r.labelRef.current.id,s].join(" ")},[r.labelRef.current,s]),g=i.useMemo(()=>({open:r.listboxState===0,disabled:r.disabled,value:r.propsRef.current.value}),[r]),v=e,m={ref:a,id:s,type:ar(e,r.buttonRef),"aria-haspopup":!0,"aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.disabled?void 0:r.listboxState===0,"aria-labelledby":u,disabled:r.disabled,onKeyDown:l,onKeyUp:f,onClick:d};return ae({ourProps:m,theirProps:v,slot:g,defaultTag:sa,name:"Listbox.Button"})}),ua="label",da=re(function(e,t){let[n]=Ve("Listbox.Label"),r=`headlessui-listbox-label-${me()}`,o=oe(n.labelRef,t),a=M(()=>{var c;return(c=n.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})}),s=i.useMemo(()=>({open:n.listboxState===0,disabled:n.disabled}),[n]);return ae({ourProps:{ref:o,id:r,onClick:a},theirProps:e,slot:s,defaultTag:ua,name:"Listbox.Label"})}),fa="ul",pa=et.RenderStrategy|et.Static,ma=re(function(e,t){var n;let[r,o]=Ve("Listbox.Options"),a=oe(r.optionsRef,t),s=`headlessui-listbox-options-${me()}`,c=Ae(),l=Ae(),f=Zn(),d=(()=>f!==null?f===Se.Open:r.listboxState===0)();i.useEffect(()=>{var y;let h=r.optionsRef.current;!h||r.listboxState===0&&h!==((y=ko(h))==null?void 0:y.activeElement)&&h.focus({preventScroll:!0})},[r.listboxState,r.optionsRef]);let u=M(y=>{switch(l.dispose(),y.key){case O.Space:if(r.searchQuery!=="")return y.preventDefault(),y.stopPropagation(),o({type:5,value:y.key});case O.Enter:if(y.preventDefault(),y.stopPropagation(),r.activeOptionIndex!==null){let{dataRef:h}=r.options[r.activeOptionIndex];r.propsRef.current.onChange(h.current.value)}r.propsRef.current.mode===0&&(o({type:1}),Ce().nextFrame(()=>{var h;return(h=r.buttonRef.current)==null?void 0:h.focus({preventScroll:!0})}));break;case Y(r.orientation,{vertical:O.ArrowDown,horizontal:O.ArrowRight}):return y.preventDefault(),y.stopPropagation(),o({type:4,focus:L.Next});case Y(r.orientation,{vertical:O.ArrowUp,horizontal:O.ArrowLeft}):return y.preventDefault(),y.stopPropagation(),o({type:4,focus:L.Previous});case O.Home:case O.PageUp:return y.preventDefault(),y.stopPropagation(),o({type:4,focus:L.First});case O.End:case O.PageDown:return y.preventDefault(),y.stopPropagation(),o({type:4,focus:L.Last});case O.Escape:return y.preventDefault(),y.stopPropagation(),o({type:1}),c.nextFrame(()=>{var h;return(h=r.buttonRef.current)==null?void 0:h.focus({preventScroll:!0})});case O.Tab:y.preventDefault(),y.stopPropagation();break;default:y.key.length===1&&(o({type:5,value:y.key}),l.setTimeout(()=>o({type:6}),350));break}}),g=or(()=>{var y,h,$;return($=(y=r.labelRef.current)==null?void 0:y.id)!=null?$:(h=r.buttonRef.current)==null?void 0:h.id},[r.labelRef.current,r.buttonRef.current]),v=i.useMemo(()=>({open:r.listboxState===0}),[r]),m=e,p={"aria-activedescendant":r.activeOptionIndex===null||(n=r.options[r.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":r.propsRef.current.mode===1?!0:void 0,"aria-labelledby":g,"aria-orientation":r.orientation,id:s,onKeyDown:u,role:"listbox",tabIndex:0,ref:a};return ae({ourProps:p,theirProps:m,slot:v,defaultTag:fa,features:pa,visible:d,name:"Listbox.Options"})}),va="li",ha=re(function(e,t){let{disabled:n=!1,value:r,...o}=e,[a,s]=Ve("Listbox.Option"),c=`headlessui-listbox-option-${me()}`,l=a.activeOptionIndex!==null?a.options[a.activeOptionIndex].id===c:!1,{value:f,compare:d}=a.propsRef.current,u=Y(a.propsRef.current.mode,{[1]:()=>f.some(S=>d(S,r)),[0]:()=>d(f,r)}),g=i.useRef(null),v=oe(t,g);H(()=>{if(a.listboxState!==0||!l||a.activationTrigger===0)return;let S=Ce();return S.requestAnimationFrame(()=>{var _,R;(R=(_=g.current)==null?void 0:_.scrollIntoView)==null||R.call(_,{block:"nearest"})}),S.dispose},[g,l,a.listboxState,a.activationTrigger,a.activeOptionIndex]);let m=i.useRef({disabled:n,value:r,domRef:g});H(()=>{m.current.disabled=n},[m,n]),H(()=>{m.current.value=r},[m,r]),H(()=>{var S,_;m.current.textValue=(_=(S=g.current)==null?void 0:S.textContent)==null?void 0:_.toLowerCase()},[m,g]);let p=M(()=>a.propsRef.current.onChange(r));H(()=>(s({type:7,id:c,dataRef:m}),()=>s({type:8,id:c})),[m,c]);let y=M(S=>{if(n)return S.preventDefault();p(),a.propsRef.current.mode===0&&(s({type:1}),Ce().nextFrame(()=>{var _;return(_=a.buttonRef.current)==null?void 0:_.focus({preventScroll:!0})}))}),h=M(()=>{if(n)return s({type:4,focus:L.Nothing});s({type:4,focus:L.Specific,id:c})}),$=M(()=>{n||l||s({type:4,focus:L.Specific,id:c,trigger:0})}),x=M(()=>{n||!l||s({type:4,focus:L.Nothing})}),E=i.useMemo(()=>({active:l,selected:u,disabled:n}),[l,u,n]);return ae({ourProps:{id:c,ref:v,role:"option",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,"aria-selected":u,disabled:void 0,onClick:y,onFocus:h,onPointerMove:$,onMouseMove:$,onPointerLeave:x,onMouseLeave:x},theirProps:o,slot:E,defaultTag:va,name:"Listbox.Option"})}),ze=Object.assign(ia,{Button:la,Label:da,Options:ma,Option:ha});var ga=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ga||{}),ya=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(ya||{}),ba=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(ba||{});function gt(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=nr(t(e.items.slice()),a=>a.dataRef.current.domRef.current),o=n?r.indexOf(n):null;return o===-1&&(o=null),{items:r,activeItemIndex:o}}let wa={[1](e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},[0](e){return e.menuState===0?e:{...e,menuState:0}},[2]:(e,t)=>{var n;let r=gt(e),o=cr(t,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeItemIndex:o,activationTrigger:(n=t.trigger)!=null?n:1}},[3]:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(s=>{var c;return((c=s.dataRef.current.textValue)==null?void 0:c.startsWith(r))&&!s.dataRef.current.disabled}),a=o?e.items.indexOf(o):-1;return a===-1||a===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:a,activationTrigger:1}},[4](e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},[5]:(e,t)=>{let n=gt(e,r=>[...r,{id:t.id,dataRef:t.dataRef}]);return{...e,...n}},[6]:(e,t)=>{let n=gt(e,r=>{let o=r.findIndex(a=>a.id===t.id);return o!==-1&&r.splice(o,1),r});return{...e,...n,activationTrigger:1}}},an=i.createContext(null);an.displayName="MenuContext";function lt(e){let t=i.useContext(an);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,lt),n}return t}function $a(e,t){return Y(t.type,wa,e,t)}let xa=i.Fragment,Ea=re(function(e,t){let n=i.useReducer($a,{menuState:1,buttonRef:i.createRef(),itemsRef:i.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:r,itemsRef:o,buttonRef:a},s]=n,c=oe(t);Qn([a,o],(u,g)=>{var v;s({type:1}),Jn(g,er.Loose)||(u.preventDefault(),(v=a.current)==null||v.focus())},r===0);let l=i.useMemo(()=>({open:r===0}),[r]),f=e,d={ref:c};return b.createElement(an.Provider,{value:n},b.createElement(Xn,{value:Y(r,{[0]:Se.Open,[1]:Se.Closed})},ae({ourProps:d,theirProps:f,slot:l,defaultTag:xa,name:"Menu"})))}),Ra="button",Sa=re(function(e,t){var n;let[r,o]=lt("Menu.Button"),a=oe(r.buttonRef,t),s=`headlessui-menu-button-${me()}`,c=Ae(),l=M(m=>{switch(m.key){case O.Space:case O.Enter:case O.ArrowDown:m.preventDefault(),m.stopPropagation(),o({type:0}),c.nextFrame(()=>o({type:2,focus:L.First}));break;case O.ArrowUp:m.preventDefault(),m.stopPropagation(),o({type:0}),c.nextFrame(()=>o({type:2,focus:L.Last}));break}}),f=M(m=>{switch(m.key){case O.Space:m.preventDefault();break}}),d=M(m=>{if(tr(m.currentTarget))return m.preventDefault();e.disabled||(r.menuState===0?(o({type:1}),c.nextFrame(()=>{var p;return(p=r.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})})):(m.preventDefault(),o({type:0})))}),u=i.useMemo(()=>({open:r.menuState===0}),[r]),g=e,v={ref:a,id:s,type:ar(e,r.buttonRef),"aria-haspopup":!0,"aria-controls":(n=r.itemsRef.current)==null?void 0:n.id,"aria-expanded":e.disabled?void 0:r.menuState===0,onKeyDown:l,onKeyUp:f,onClick:d};return ae({ourProps:v,theirProps:g,slot:u,defaultTag:Ra,name:"Menu.Button"})}),Ca="div",_a=et.RenderStrategy|et.Static,Pa=re(function(e,t){var n,r;let[o,a]=lt("Menu.Items"),s=oe(o.itemsRef,t),c=Bo(o.itemsRef),l=`headlessui-menu-items-${me()}`,f=Ae(),d=Zn(),u=(()=>d!==null?d===Se.Open:o.menuState===0)();i.useEffect(()=>{let h=o.itemsRef.current;!h||o.menuState===0&&h!==(c==null?void 0:c.activeElement)&&h.focus({preventScroll:!0})},[o.menuState,o.itemsRef,c]),Vo({container:o.itemsRef.current,enabled:o.menuState===0,accept(h){return h.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});let g=M(h=>{var $,x;switch(f.dispose(),h.key){case O.Space:if(o.searchQuery!=="")return h.preventDefault(),h.stopPropagation(),a({type:3,value:h.key});case O.Enter:if(h.preventDefault(),h.stopPropagation(),a({type:1}),o.activeItemIndex!==null){let{dataRef:E}=o.items[o.activeItemIndex];(x=($=E.current)==null?void 0:$.domRef.current)==null||x.click()}rr(o.buttonRef.current);break;case O.ArrowDown:return h.preventDefault(),h.stopPropagation(),a({type:2,focus:L.Next});case O.ArrowUp:return h.preventDefault(),h.stopPropagation(),a({type:2,focus:L.Previous});case O.Home:case O.PageUp:return h.preventDefault(),h.stopPropagation(),a({type:2,focus:L.First});case O.End:case O.PageDown:return h.preventDefault(),h.stopPropagation(),a({type:2,focus:L.Last});case O.Escape:h.preventDefault(),h.stopPropagation(),a({type:1}),Ce().nextFrame(()=>{var E;return(E=o.buttonRef.current)==null?void 0:E.focus({preventScroll:!0})});break;case O.Tab:h.preventDefault(),h.stopPropagation(),a({type:1}),Ce().nextFrame(()=>{Mo(o.buttonRef.current,h.shiftKey?yn.Previous:yn.Next)});break;default:h.key.length===1&&(a({type:3,value:h.key}),f.setTimeout(()=>a({type:4}),350));break}}),v=M(h=>{switch(h.key){case O.Space:h.preventDefault();break}}),m=i.useMemo(()=>({open:o.menuState===0}),[o]),p=e,y={"aria-activedescendant":o.activeItemIndex===null||(n=o.items[o.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=o.buttonRef.current)==null?void 0:r.id,id:l,onKeyDown:g,onKeyUp:v,role:"menu",tabIndex:0,ref:s};return ae({ourProps:y,theirProps:p,slot:m,defaultTag:Ca,features:_a,visible:u,name:"Menu.Items"})}),Oa=i.Fragment,Ia=re(function(e,t){let{disabled:n=!1,...r}=e,[o,a]=lt("Menu.Item"),s=`headlessui-menu-item-${me()}`,c=o.activeItemIndex!==null?o.items[o.activeItemIndex].id===s:!1,l=i.useRef(null),f=oe(t,l);H(()=>{if(o.menuState!==0||!c||o.activationTrigger===0)return;let y=Ce();return y.requestAnimationFrame(()=>{var h,$;($=(h=l.current)==null?void 0:h.scrollIntoView)==null||$.call(h,{block:"nearest"})}),y.dispose},[l,c,o.menuState,o.activationTrigger,o.activeItemIndex]);let d=i.useRef({disabled:n,domRef:l});H(()=>{d.current.disabled=n},[d,n]),H(()=>{var y,h;d.current.textValue=(h=(y=l.current)==null?void 0:y.textContent)==null?void 0:h.toLowerCase()},[d,l]),H(()=>(a({type:5,id:s,dataRef:d}),()=>a({type:6,id:s})),[d,s]);let u=M(y=>{if(n)return y.preventDefault();a({type:1}),rr(o.buttonRef.current)}),g=M(()=>{if(n)return a({type:2,focus:L.Nothing});a({type:2,focus:L.Specific,id:s})}),v=M(()=>{n||c||a({type:2,focus:L.Specific,id:s,trigger:0})}),m=M(()=>{n||!c||a({type:2,focus:L.Nothing})}),p=i.useMemo(()=>({active:c,disabled:n}),[c,n]);return ae({ourProps:{id:s,ref:f,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,disabled:void 0,onClick:u,onFocus:g,onPointerMove:v,onMouseMove:v,onPointerLeave:m,onMouseLeave:m},theirProps:r,slot:p,defaultTag:Oa,name:"Menu.Item"})}),Na=Object.assign(Ea,{Button:Sa,Items:Pa,Item:Ia});const _t=ur(({className:e})=>{const{openHistoryRequestDrawer:t}=Yo();return b.createElement("button",{type:"button",className:F("ctw-btn-clear ctw-link",e),onClick:t,"data-zus-telemetry-click":"Request records"},"Request Records")},"RequestRecordsButton");try{_t.displayName="RequestRecordsButton",_t.__docgenInfo={description:"",displayName:"RequestRecordsButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}}}}}catch{}const Pt=({className:e,columns:t,data:n,emptyMessage:r,isLoading:o,onRowClick:a,rowActions:s,showTableHead:c})=>{const l=Qo(),f=i.useRef(null),d=Jo(f),u=typeof c=="boolean"?c:!d.sm,g=l.data?r:b.createElement("div",{className:"ctw-space-y-4"},"Patient not found. Please fill out a short form to"," ",b.createElement(_t,{className:"ctw-lowercase"}),".");return b.createElement("div",{ref:f,className:F(e,"ctw-scrollable-pass-through-height ctw-resource-table")},b.createElement(Zo,{getRowClassName:v=>({"ctw-tr-archived":v.isArchived}),showTableHead:u,stacked:d.sm,emptyMessage:g,isLoading:!!l.data&&o,records:n,RowActions:s,columns:t,handleRowClick:a}))};try{Pt.displayName="ResourceTable",Pt.__docgenInfo={description:"",displayName:"ResourceTable",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<M>[]"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"M[]"}},emptyMessage:{defaultValue:null,description:"",name:"emptyMessage",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},onRowClick:{defaultValue:null,description:"",name:"onRowClick",required:!1,type:{name:"((record: M) => void)"}},rowActions:{defaultValue:null,description:"",name:"rowActions",required:!1,type:{name:"ComponentType<{ record: M; }>"}},showTableHead:{defaultValue:null,description:"",name:"showTableHead",required:!1,type:{name:"boolean"}}}}}catch{}function D(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Ta(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function cn(...e){return t=>e.forEach(n=>Ta(n,t))}function z(...e){return i.useCallback(cn(...e),e)}function Be(e,t=[]){let n=[];function r(a,s){const c=i.createContext(s),l=n.length;n=[...n,s];function f(u){const{scope:g,children:v,...m}=u,p=(g==null?void 0:g[e][l])||c,y=i.useMemo(()=>m,Object.values(m));return i.createElement(p.Provider,{value:y},v)}function d(u,g){const v=(g==null?void 0:g[e][l])||c,m=i.useContext(v);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${u}\` must be used within \`${a}\``)}return f.displayName=a+"Provider",[f,d]}const o=()=>{const a=n.map(s=>i.createContext(s));return function(c){const l=(c==null?void 0:c[e])||a;return i.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return o.scopeName=e,[r,Da(o,...t)]}function Da(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const s=r.reduce((c,{useScope:l,scopeName:f})=>{const u=l(a)[`__scope${f}`];return{...c,...u}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function Q(e){const t=i.useRef(e);return i.useEffect(()=>{t.current=e}),i.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function fr({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=Aa({defaultProp:t,onChange:n}),a=e!==void 0,s=a?e:r,c=Q(n),l=i.useCallback(f=>{if(a){const u=typeof f=="function"?f(e):f;u!==e&&c(u)}else o(f)},[a,e,o,c]);return[s,l]}function Aa({defaultProp:e,onChange:t}){const n=i.useState(e),[r]=n,o=i.useRef(r),a=Q(t);return i.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),n}const ke=i.forwardRef((e,t)=>{const{children:n,...r}=e,o=i.Children.toArray(n),a=o.find(Ma);if(a){const s=a.props.children,c=o.map(l=>l===a?i.Children.count(s)>1?i.Children.only(null):i.isValidElement(s)?s.props.children:null:l);return i.createElement(Ot,N({},r,{ref:t}),i.isValidElement(s)?i.cloneElement(s,void 0,c):null)}return i.createElement(Ot,N({},r,{ref:t}),n)});ke.displayName="Slot";const Ot=i.forwardRef((e,t)=>{const{children:n,...r}=e;return i.isValidElement(n)?i.cloneElement(n,{...Fa(r,n.props),ref:cn(t,n.ref)}):i.Children.count(n)>1?i.Children.only(null):null});Ot.displayName="SlotClone";const ka=({children:e})=>i.createElement(i.Fragment,null,e);function Ma(e){return i.isValidElement(e)&&e.type===ka}function Fa(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...c)=>{a(...c),o(...c)}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}const La=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"],j=La.reduce((e,t)=>{const n=i.forwardRef((r,o)=>{const{asChild:a,...s}=r,c=a?ke:t;return i.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),i.createElement(c,N({},s,{ref:o}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function pr(e,t){e&&tn.flushSync(()=>e.dispatchEvent(t))}function mr(e){const t=e+"CollectionProvider",[n,r]=Be(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=v=>{const{scope:m,children:p}=v,y=b.useRef(null),h=b.useRef(new Map).current;return b.createElement(o,{scope:m,itemMap:h,collectionRef:y},p)},c=e+"CollectionSlot",l=b.forwardRef((v,m)=>{const{scope:p,children:y}=v,h=a(c,p),$=z(m,h.collectionRef);return b.createElement(ke,{ref:$},y)}),f=e+"CollectionItemSlot",d="data-radix-collection-item",u=b.forwardRef((v,m)=>{const{scope:p,children:y,...h}=v,$=b.useRef(null),x=z(m,$),E=a(f,p);return b.useEffect(()=>(E.itemMap.set($,{ref:$,...h}),()=>void E.itemMap.delete($))),b.createElement(ke,{[d]:"",ref:x},y)});function g(v){const m=a(e+"CollectionConsumer",v);return b.useCallback(()=>{const y=m.collectionRef.current;if(!y)return[];const h=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(m.itemMap.values()).sort((E,S)=>h.indexOf(E.ref.current)-h.indexOf(S.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:s,Slot:l,ItemSlot:u},g,r]}const Va=i.createContext(void 0);function vr(e){const t=i.useContext(Va);return e||t||"ltr"}function Ba(e,t=globalThis==null?void 0:globalThis.document){const n=Q(e);i.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const It="dismissableLayer.update",qa="dismissableLayer.pointerDownOutside",Ua="dismissableLayer.focusOutside";let Rn;const Wa=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ka=i.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:c,onDismiss:l,...f}=e,d=i.useContext(Wa),[u,g]=i.useState(null),v=(n=u==null?void 0:u.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,m]=i.useState({}),p=z(t,w=>g(w)),y=Array.from(d.layers),[h]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),$=y.indexOf(h),x=u?y.indexOf(u):-1,E=d.layersWithOutsidePointerEventsDisabled.size>0,S=x>=$,_=Ha(w=>{const C=w.target,I=[...d.branches].some(T=>T.contains(C));!S||I||(a==null||a(w),c==null||c(w),w.defaultPrevented||l==null||l())},v),R=za(w=>{const C=w.target;[...d.branches].some(T=>T.contains(C))||(s==null||s(w),c==null||c(w),w.defaultPrevented||l==null||l())},v);return Ba(w=>{x===d.layers.size-1&&(o==null||o(w),!w.defaultPrevented&&l&&(w.preventDefault(),l()))},v),i.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Rn=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Sn(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Rn)}},[u,v,r,d]),i.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Sn())},[u,d]),i.useEffect(()=>{const w=()=>m({});return document.addEventListener(It,w),()=>document.removeEventListener(It,w)},[]),i.createElement(j.div,N({},f,{ref:p,style:{pointerEvents:E?S?"auto":"none":void 0,...e.style},onFocusCapture:D(e.onFocusCapture,R.onFocusCapture),onBlurCapture:D(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:D(e.onPointerDownCapture,_.onPointerDownCapture)}))});function Ha(e,t=globalThis==null?void 0:globalThis.document){const n=Q(e),r=i.useRef(!1),o=i.useRef(()=>{});return i.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let f=function(){hr(qa,n,l,{discrete:!0})};const l={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=f,t.addEventListener("click",o.current,{once:!0})):f()}r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function za(e,t=globalThis==null?void 0:globalThis.document){const n=Q(e),r=i.useRef(!1);return i.useEffect(()=>{const o=a=>{a.target&&!r.current&&hr(Ua,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Sn(){const e=new CustomEvent(It);document.dispatchEvent(e)}function hr(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?pr(o,a):o.dispatchEvent(a)}let yt=0;function ja(){i.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Cn()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:Cn()),yt++,()=>{yt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),yt--}},[])}function Cn(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const bt="focusScope.autoFocusOnMount",wt="focusScope.autoFocusOnUnmount",_n={bubbles:!1,cancelable:!0},Ga=i.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...s}=e,[c,l]=i.useState(null),f=Q(o),d=Q(a),u=i.useRef(null),g=z(t,p=>l(p)),v=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(r){let p=function(h){if(v.paused||!c)return;const $=h.target;c.contains($)?u.current=$:fe(u.current,{select:!0})},y=function(h){v.paused||!c||c.contains(h.relatedTarget)||fe(u.current,{select:!0})};return document.addEventListener("focusin",p),document.addEventListener("focusout",y),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y)}}},[r,c,v.paused]),i.useEffect(()=>{if(c){On.add(v);const p=document.activeElement;if(!c.contains(p)){const h=new CustomEvent(bt,_n);c.addEventListener(bt,f),c.dispatchEvent(h),h.defaultPrevented||(Ya(ec(gr(c)),{select:!0}),document.activeElement===p&&fe(c))}return()=>{c.removeEventListener(bt,f),setTimeout(()=>{const h=new CustomEvent(wt,_n);c.addEventListener(wt,d),c.dispatchEvent(h),h.defaultPrevented||fe(p??document.body,{select:!0}),c.removeEventListener(wt,d),On.remove(v)},0)}}},[c,f,d,v]);const m=i.useCallback(p=>{if(!n&&!r||v.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,h=document.activeElement;if(y&&h){const $=p.currentTarget,[x,E]=Qa($);x&&E?!p.shiftKey&&h===E?(p.preventDefault(),n&&fe(x,{select:!0})):p.shiftKey&&h===x&&(p.preventDefault(),n&&fe(E,{select:!0})):h===$&&p.preventDefault()}},[n,r,v.paused]);return i.createElement(j.div,N({tabIndex:-1},s,{ref:g,onKeyDown:m}))});function Ya(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(fe(r,{select:t}),document.activeElement!==n)return}function Qa(e){const t=gr(e),n=Pn(t,e),r=Pn(t.reverse(),e);return[n,r]}function gr(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Pn(e,t){for(const n of e)if(!Xa(n,{upTo:t}))return n}function Xa(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Za(e){return e instanceof HTMLInputElement&&"select"in e}function fe(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Za(e)&&t&&e.select()}}const On=Ja();function Ja(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=In(e,t),e.unshift(t)},remove(t){var n;e=In(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function In(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ec(e){return e.filter(t=>t.tagName!=="A")}const ie=Boolean(globalThis==null?void 0:globalThis.document)?i.useLayoutEffect:()=>{},tc=po["useId".toString()]||(()=>{});let nc=0;function Nt(e){const[t,n]=i.useState(tc());return ie(()=>{e||n(r=>r??String(nc++))},[e]),e||(t?`radix-${t}`:"")}function ve(e){return e.split("-")[0]}function qe(e){return e.split("-")[1]}function _e(e){return["top","bottom"].includes(ve(e))?"x":"y"}function sn(e){return e==="y"?"height":"width"}function Nn(e,t,n){let{reference:r,floating:o}=e;const a=r.x+r.width/2-o.width/2,s=r.y+r.height/2-o.height/2,c=_e(t),l=sn(c),f=r[l]/2-o[l]/2,d=c==="x";let u;switch(ve(t)){case"top":u={x:a,y:r.y-o.height};break;case"bottom":u={x:a,y:r.y+r.height};break;case"right":u={x:r.x+r.width,y:s};break;case"left":u={x:r.x-o.width,y:s};break;default:u={x:r.x,y:r.y}}switch(qe(t)){case"start":u[c]-=f*(n&&d?-1:1);break;case"end":u[c]+=f*(n&&d?-1:1)}return u}const rc=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:s}=n,c=await(s.isRTL==null?void 0:s.isRTL(t));let l=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:d}=Nn(l,r,c),u=r,g={},v=0;for(let m=0;m<a.length;m++){const{name:p,fn:y}=a[m],{x:h,y:$,data:x,reset:E}=await y({x:f,y:d,initialPlacement:r,placement:u,strategy:o,middlewareData:g,rects:l,platform:s,elements:{reference:e,floating:t}});f=h??f,d=$??d,g={...g,[p]:{...g[p],...x}},E&&v<=50&&(v++,typeof E=="object"&&(E.placement&&(u=E.placement),E.rects&&(l=E.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:f,y:d}=Nn(l,u,c)),m=-1)}return{x:f,y:d,placement:u,strategy:o,middlewareData:g}};function yr(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function tt(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Me(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:s,elements:c,strategy:l}=e,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:g=!1,padding:v=0}=t,m=yr(v),p=c[g?u==="floating"?"reference":"floating":u],y=tt(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(p)))==null||n?p:p.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:d,strategy:l})),h=tt(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:u==="floating"?{...s.floating,x:r,y:o}:s.reference,offsetParent:await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),strategy:l}):s[u]);return{top:y.top-h.top+m.top,bottom:h.bottom-y.bottom+m.bottom,left:y.left-h.left+m.left,right:h.right-y.right+m.right}}const oc=Math.min,pe=Math.max;function Tt(e,t,n){return pe(e,oc(t,n))}const Tn=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e??{},{x:o,y:a,placement:s,rects:c,platform:l}=t;if(n==null)return{};const f=yr(r),d={x:o,y:a},u=_e(s),g=qe(s),v=sn(u),m=await l.getDimensions(n),p=u==="y"?"top":"left",y=u==="y"?"bottom":"right",h=c.reference[v]+c.reference[u]-d[u]-c.floating[v],$=d[u]-c.reference[u],x=await(l.getOffsetParent==null?void 0:l.getOffsetParent(n));let E=x?u==="y"?x.clientHeight||0:x.clientWidth||0:0;E===0&&(E=c.floating[v]);const S=h/2-$/2,_=f[p],R=E-m[v]-f[y],w=E/2-m[v]/2+S,C=Tt(_,w,R),I=(g==="start"?f[p]:f[y])>0&&w!==C&&c.reference[v]<=c.floating[v];return{[u]:d[u]-(I?w<_?_-w:R-w:0),data:{[u]:C,centerOffset:w-C}}}}),ac={left:"right",right:"left",bottom:"top",top:"bottom"};function nt(e){return e.replace(/left|right|bottom|top/g,t=>ac[t])}function cc(e,t,n){n===void 0&&(n=!1);const r=qe(e),o=_e(e),a=sn(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=nt(s)),{main:s,cross:nt(s)}}const ic={start:"end",end:"start"};function Dn(e){return e.replace(/start|end/g,t=>ic[t])}const br=["top","right","bottom","left"];br.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const sc=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:o,rects:a,initialPlacement:s,platform:c,elements:l}=t,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:u,fallbackStrategy:g="bestFit",flipAlignment:v=!0,...m}=e,p=ve(r),y=u||(p===s||!v?[nt(s)]:function(w){const C=nt(w);return[Dn(w),C,Dn(C)]}(s)),h=[s,...y],$=await Me(t,m),x=[];let E=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&x.push($[p]),d){const{main:w,cross:C}=cc(r,a,await(c.isRTL==null?void 0:c.isRTL(l.floating)));x.push($[w],$[C])}if(E=[...E,{placement:r,overflows:x}],!x.every(w=>w<=0)){var S,_;const w=((S=(_=o.flip)==null?void 0:_.index)!=null?S:0)+1,C=h[w];if(C)return{data:{index:w,overflows:E},reset:{placement:C}};let I="bottom";switch(g){case"bestFit":{var R;const T=(R=E.map(V=>[V,V.overflows.filter(k=>k>0).reduce((k,U)=>k+U,0)]).sort((V,k)=>V[1]-k[1])[0])==null?void 0:R[0].placement;T&&(I=T);break}case"initialPlacement":I=s}if(r!==I)return{reset:{placement:I}}}return{}}}};function An(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kn(e){return br.some(t=>e[t]>=0)}const lc=function(e){let{strategy:t="referenceHidden",...n}=e===void 0?{}:e;return{name:"hide",async fn(r){const{rects:o}=r;switch(t){case"referenceHidden":{const a=An(await Me(r,{...n,elementContext:"reference"}),o.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:kn(a)}}}case"escaped":{const a=An(await Me(r,{...n,altBoundary:!0}),o.floating);return{data:{escapedOffsets:a,escaped:kn(a)}}}default:return{}}}}},uc=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await async function(a,s){const{placement:c,platform:l,elements:f}=a,d=await(l.isRTL==null?void 0:l.isRTL(f.floating)),u=ve(c),g=qe(c),v=_e(c)==="x",m=["left","top"].includes(u)?-1:1,p=d&&v?-1:1,y=typeof s=="function"?s(a):s;let{mainAxis:h,crossAxis:$,alignmentAxis:x}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return g&&typeof x=="number"&&($=g==="end"?-1*x:x),v?{x:$*p,y:h*m}:{x:h*m,y:$*p}}(t,e);return{x:n+o.x,y:r+o.y,data:o}}}};function wr(e){return e==="x"?"y":"x"}const dc=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:c={fn:y=>{let{x:h,y:$}=y;return{x:h,y:$}}},...l}=e,f={x:n,y:r},d=await Me(t,l),u=_e(ve(o)),g=wr(u);let v=f[u],m=f[g];if(a){const y=u==="y"?"bottom":"right";v=Tt(v+d[u==="y"?"top":"left"],v,v-d[y])}if(s){const y=g==="y"?"bottom":"right";m=Tt(m+d[g==="y"?"top":"left"],m,m-d[y])}const p=c.fn({...t,[u]:v,[g]:m});return{...p,data:{x:p.x-n,y:p.y-r}}}}},fc=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:s}=t,{offset:c=0,mainAxis:l=!0,crossAxis:f=!0}=e,d={x:n,y:r},u=_e(o),g=wr(u);let v=d[u],m=d[g];const p=typeof c=="function"?c({...a,placement:o}):c,y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){const S=u==="y"?"height":"width",_=a.reference[u]-a.floating[S]+y.mainAxis,R=a.reference[u]+a.reference[S]-y.mainAxis;v<_?v=_:v>R&&(v=R)}if(f){var h,$,x,E;const S=u==="y"?"width":"height",_=["top","left"].includes(ve(o)),R=a.reference[g]-a.floating[S]+(_&&(h=($=s.offset)==null?void 0:$[g])!=null?h:0)+(_?0:y.crossAxis),w=a.reference[g]+a.reference[S]+(_?0:(x=(E=s.offset)==null?void 0:E[g])!=null?x:0)-(_?y.crossAxis:0);m<R?m=R:m>w&&(m=w)}return{[u]:v,[g]:m}}}},pc=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:a}=t,{apply:s,...c}=e,l=await Me(t,c),f=ve(n),d=qe(n);let u,g;f==="top"||f==="bottom"?(u=f,g=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=f,u=d==="end"?"top":"bottom");const v=pe(l.left,0),m=pe(l.right,0),p=pe(l.top,0),y=pe(l.bottom,0),h={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(p!==0||y!==0?p+y:pe(l.top,l.bottom)):l[u]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(v!==0||m!==0?v+m:pe(l.left,l.right)):l[g])},$=await o.getDimensions(a.floating);s==null||s({...t,...h});const x=await o.getDimensions(a.floating);return $.width!==x.width||$.height!==x.height?{reset:{rects:!0}}:{}}}};function $r(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function ce(e){if(e==null)return window;if(!$r(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ue(e){return ce(e).getComputedStyle(e)}function ee(e){return $r(e)?"":e?(e.nodeName||"").toLowerCase():""}function xr(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function X(e){return e instanceof ce(e).HTMLElement}function ue(e){return e instanceof ce(e).Element}function ln(e){return typeof ShadowRoot>"u"?!1:e instanceof ce(e).ShadowRoot||e instanceof ShadowRoot}function ut(e){const{overflow:t,overflowX:n,overflowY:r}=Ue(e);return/auto|scroll|overlay|hidden/.test(t+r+n)}function mc(e){return["table","td","th"].includes(ee(e))}function Mn(e){const t=/firefox/i.test(xr()),n=Ue(e);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"}function Er(){return!/^((?!chrome|android).)*safari/i.test(xr())}const Fn=Math.min,De=Math.max,rt=Math.round;function te(e,t,n){var r,o,a,s;t===void 0&&(t=!1),n===void 0&&(n=!1);const c=e.getBoundingClientRect();let l=1,f=1;t&&X(e)&&(l=e.offsetWidth>0&&rt(c.width)/e.offsetWidth||1,f=e.offsetHeight>0&&rt(c.height)/e.offsetHeight||1);const d=ue(e)?ce(e):window,u=!Er()&&n,g=(c.left+(u&&(r=(o=d.visualViewport)==null?void 0:o.offsetLeft)!=null?r:0))/l,v=(c.top+(u&&(a=(s=d.visualViewport)==null?void 0:s.offsetTop)!=null?a:0))/f,m=c.width/l,p=c.height/f;return{width:m,height:p,top:v,right:g+m,bottom:v+p,left:g,x:g,y:v}}function se(e){return(t=e,(t instanceof ce(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function dt(e){return ue(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Rr(e){return te(se(e)).left+dt(e).scrollLeft}function vc(e,t,n){const r=X(t),o=se(t),a=te(e,r&&function(l){const f=te(l);return rt(f.width)!==l.offsetWidth||rt(f.height)!==l.offsetHeight}(t),n==="fixed");let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(r||!r&&n!=="fixed")if((ee(t)!=="body"||ut(o))&&(s=dt(t)),X(t)){const l=te(t,!0);c.x=l.x+t.clientLeft,c.y=l.y+t.clientTop}else o&&(c.x=Rr(o));return{x:a.left+s.scrollLeft-c.x,y:a.top+s.scrollTop-c.y,width:a.width,height:a.height}}function Sr(e){return ee(e)==="html"?e:e.assignedSlot||e.parentNode||(ln(e)?e.host:null)||se(e)}function Ln(e){return X(e)&&getComputedStyle(e).position!=="fixed"?e.offsetParent:null}function Dt(e){const t=ce(e);let n=Ln(e);for(;n&&mc(n)&&getComputedStyle(n).position==="static";)n=Ln(n);return n&&(ee(n)==="html"||ee(n)==="body"&&getComputedStyle(n).position==="static"&&!Mn(n))?t:n||function(r){let o=Sr(r);for(ln(o)&&(o=o.host);X(o)&&!["html","body"].includes(ee(o));){if(Mn(o))return o;o=o.parentNode}return null}(e)||t}function Vn(e){if(X(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=te(e);return{width:t.width,height:t.height}}function Cr(e){const t=Sr(e);return["html","body","#document"].includes(ee(t))?e.ownerDocument.body:X(t)&&ut(t)?t:Cr(t)}function ot(e,t){var n;t===void 0&&(t=[]);const r=Cr(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),a=ce(r),s=o?[a].concat(a.visualViewport||[],ut(r)?r:[]):r,c=t.concat(s);return o?c:c.concat(ot(s))}function Bn(e,t,n){return t==="viewport"?tt(function(r,o){const a=ce(r),s=se(r),c=a.visualViewport;let l=s.clientWidth,f=s.clientHeight,d=0,u=0;if(c){l=c.width,f=c.height;const g=Er();(g||!g&&o==="fixed")&&(d=c.offsetLeft,u=c.offsetTop)}return{width:l,height:f,x:d,y:u}}(e,n)):ue(t)?function(r,o){const a=te(r,!1,o==="fixed"),s=a.top+r.clientTop,c=a.left+r.clientLeft;return{top:s,left:c,x:c,y:s,right:c+r.clientWidth,bottom:s+r.clientHeight,width:r.clientWidth,height:r.clientHeight}}(t,n):tt(function(r){var o;const a=se(r),s=dt(r),c=(o=r.ownerDocument)==null?void 0:o.body,l=De(a.scrollWidth,a.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),f=De(a.scrollHeight,a.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0);let d=-s.scrollLeft+Rr(r);const u=-s.scrollTop;return Ue(c||a).direction==="rtl"&&(d+=De(a.clientWidth,c?c.clientWidth:0)-l),{width:l,height:f,x:d,y:u}}(se(e)))}function hc(e){const t=ot(e),n=["absolute","fixed"].includes(Ue(e).position)&&X(e)?Dt(e):e;return ue(n)?t.filter(r=>ue(r)&&function(o,a){const s=a.getRootNode==null?void 0:a.getRootNode();if(o.contains(a))return!0;if(s&&ln(s)){let c=a;do{if(c&&o===c)return!0;c=c.parentNode||c.host}while(c)}return!1}(r,n)&&ee(r)!=="body"):[]}const gc={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?hc(t):[].concat(n),r],s=a[0],c=a.reduce((l,f)=>{const d=Bn(t,f,o);return l.top=De(d.top,l.top),l.right=Fn(d.right,l.right),l.bottom=Fn(d.bottom,l.bottom),l.left=De(d.left,l.left),l},Bn(t,s,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=X(n),a=se(n);if(n===a)return t;let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((o||!o&&r!=="fixed")&&((ee(n)!=="body"||ut(a))&&(s=dt(n)),X(n))){const l=te(n,!0);c.x=l.x+n.clientLeft,c.y=l.y+n.clientTop}return{...t,x:t.x-s.scrollLeft+c.x,y:t.y-s.scrollTop+c.y}},isElement:ue,getDimensions:Vn,getOffsetParent:Dt,getDocumentElement:se,getElementRects:e=>{let{reference:t,floating:n,strategy:r}=e;return{reference:vc(t,Dt(n),r),floating:{...Vn(n),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Ue(e).direction==="rtl"};function yc(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:s=!0,animationFrame:c=!1}=r,l=o&&!c,f=a&&!c,d=l||f?[...ue(e)?ot(e):[],...ot(t)]:[];d.forEach(m=>{l&&m.addEventListener("scroll",n,{passive:!0}),f&&m.addEventListener("resize",n)});let u,g=null;if(s){let m=!0;g=new ResizeObserver(()=>{m||n(),m=!1}),ue(e)&&!c&&g.observe(e),g.observe(t)}let v=c?te(e):null;return c&&function m(){const p=te(e);!v||p.x===v.x&&p.y===v.y&&p.width===v.width&&p.height===v.height||n(),v=p,u=requestAnimationFrame(m)}(),n(),()=>{var m;d.forEach(p=>{l&&p.removeEventListener("scroll",n),f&&p.removeEventListener("resize",n)}),(m=g)==null||m.disconnect(),g=null,c&&cancelAnimationFrame(u)}}const bc=(e,t,n)=>rc(e,t,{platform:gc,...n});var At=typeof document<"u"?i.useLayoutEffect:i.useEffect;function kt(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!kt(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!kt(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function wc(e){const t=i.useRef(e);return At(()=>{t.current=e}),t}function $c(e){let{middleware:t,placement:n="bottom",strategy:r="absolute",whileElementsMounted:o}=e===void 0?{}:e;const a=i.useRef(null),s=i.useRef(null),c=wc(o),l=i.useRef(null),[f,d]=i.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[u,g]=i.useState(t);kt(u==null?void 0:u.map(x=>{let{options:E}=x;return E}),t==null?void 0:t.map(x=>{let{options:E}=x;return E}))||g(t);const v=i.useCallback(()=>{!a.current||!s.current||bc(a.current,s.current,{middleware:u,placement:n,strategy:r}).then(x=>{m.current&&tn.flushSync(()=>{d(x)})})},[u,n,r]);At(()=>{m.current&&v()},[v]);const m=i.useRef(!1);At(()=>(m.current=!0,()=>{m.current=!1}),[]);const p=i.useCallback(()=>{if(typeof l.current=="function"&&(l.current(),l.current=null),a.current&&s.current)if(c.current){const x=c.current(a.current,s.current,v);l.current=x}else v()},[v,c]),y=i.useCallback(x=>{a.current=x,p()},[p]),h=i.useCallback(x=>{s.current=x,p()},[p]),$=i.useMemo(()=>({reference:a,floating:s}),[]);return i.useMemo(()=>({...f,update:v,refs:$,reference:y,floating:h}),[f,v,$,y,h])}const xc=e=>{const{element:t,padding:n}=e;function r(o){return Object.prototype.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return r(t)?t.current!=null?Tn({element:t.current,padding:n}).fn(o):{}:t?Tn({element:t,padding:n}).fn(o):{}}}};function Ec(e){const[t,n]=i.useState(void 0);return ie(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let s,c;if("borderBoxSize"in a){const l=a.borderBoxSize,f=Array.isArray(l)?l[0]:l;s=f.inlineSize,c=f.blockSize}else s=e.offsetWidth,c=e.offsetHeight;n({width:s,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const _r="Popper",[un,Pr]=Be(_r),[Rc,Or]=un(_r),Sc=e=>{const{__scopePopper:t,children:n}=e,[r,o]=i.useState(null);return i.createElement(Rc,{scope:t,anchor:r,onAnchorChange:o},n)},Cc="PopperAnchor",_c=i.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,a=Or(Cc,n),s=i.useRef(null),c=z(t,s);return i.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:i.createElement(j.div,N({},o,{ref:c}))}),at="PopperContent",[Pc,yl]=un(at),[Oc,Ic]=un(at,{hasParent:!1,positionUpdateFns:new Set}),Nc=i.forwardRef((e,t)=>{var n,r,o,a,s,c,l,f;const{__scopePopper:d,side:u="bottom",sideOffset:g=0,align:v="center",alignOffset:m=0,arrowPadding:p=0,collisionBoundary:y=[],collisionPadding:h=0,sticky:$="partial",hideWhenDetached:x=!1,avoidCollisions:E=!0,onPlaced:S,..._}=e,R=Or(at,d),[w,C]=i.useState(null),I=z(t,$e=>C($e)),[T,V]=i.useState(null),k=Ec(T),U=(n=k==null?void 0:k.width)!==null&&n!==void 0?n:0,W=(r=k==null?void 0:k.height)!==null&&r!==void 0?r:0,mt=u+(v!=="center"?"-"+v:""),vt=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},Z=Array.isArray(y)?y:[y],P=Z.length>0,A={padding:vt,boundary:Z.filter(Dc),altBoundary:P},{reference:q,floating:J,strategy:de,x:ge,y:Oe,placement:ye,middlewareData:K,update:be}=$c({strategy:"fixed",placement:mt,whileElementsMounted:yc,middleware:[Ac(),uc({mainAxis:g+W,alignmentAxis:m}),E?dc({mainAxis:!0,crossAxis:!1,limiter:$==="partial"?fc():void 0,...A}):void 0,T?xc({element:T,padding:p}):void 0,E?sc({...A}):void 0,pc({...A,apply:({elements:$e,availableWidth:so,availableHeight:lo})=>{$e.floating.style.setProperty("--radix-popper-available-width",`${so}px`),$e.floating.style.setProperty("--radix-popper-available-height",`${lo}px`)}}),kc({arrowWidth:U,arrowHeight:W}),x?lc({strategy:"referenceHidden"}):void 0].filter(Tc)});ie(()=>{q(R.anchor)},[q,R.anchor]);const B=ge!==null&&Oe!==null,[Ie,to]=Ir(ye),Ke=Q(S);ie(()=>{B&&(Ke==null||Ke())},[B,Ke]);const no=(o=K.arrow)===null||o===void 0?void 0:o.x,ro=(a=K.arrow)===null||a===void 0?void 0:a.y,oo=((s=K.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[ao,co]=i.useState();ie(()=>{w&&co(window.getComputedStyle(w).zIndex)},[w]);const{hasParent:io,positionUpdateFns:we}=Ic(at,d),Ne=!io;i.useLayoutEffect(()=>{if(!Ne)return we.add(be),()=>{we.delete(be)}},[Ne,we,be]),ie(()=>{Ne&&B&&Array.from(we).reverse().forEach($e=>requestAnimationFrame($e))},[Ne,B,we]);const vn={"data-side":Ie,"data-align":to,..._,ref:I,style:{..._.style,animation:B?void 0:"none",opacity:(c=K.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}};return i.createElement("div",{ref:J,"data-radix-popper-content-wrapper":"",style:{position:de,left:0,top:0,transform:B?`translate3d(${Math.round(ge)}px, ${Math.round(Oe)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:ao,["--radix-popper-transform-origin"]:[(l=K.transformOrigin)===null||l===void 0?void 0:l.x,(f=K.transformOrigin)===null||f===void 0?void 0:f.y].join(" ")},dir:e.dir},i.createElement(Pc,{scope:d,placedSide:Ie,onArrowChange:V,arrowX:no,arrowY:ro,shouldHideArrow:oo},Ne?i.createElement(Oc,{scope:d,hasParent:!0,positionUpdateFns:we},i.createElement(j.div,vn)):i.createElement(j.div,vn)))});function Tc(e){return e!==void 0}function Dc(e){return e!==null}const Ac=()=>({name:"anchorCssProperties",fn(e){const{rects:t,elements:n}=e,{width:r,height:o}=t.reference;return n.floating.style.setProperty("--radix-popper-anchor-width",`${r}px`),n.floating.style.setProperty("--radix-popper-anchor-height",`${o}px`),{}}}),kc=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,a,s;const{placement:c,rects:l,middlewareData:f}=t,u=((n=f.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,g=u?0:e.arrowWidth,v=u?0:e.arrowHeight,[m,p]=Ir(c),y={start:"0%",center:"50%",end:"100%"}[p],h=((r=(o=f.arrow)===null||o===void 0?void 0:o.x)!==null&&r!==void 0?r:0)+g/2,$=((a=(s=f.arrow)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0)+v/2;let x="",E="";return m==="bottom"?(x=u?y:`${h}px`,E=`${-v}px`):m==="top"?(x=u?y:`${h}px`,E=`${l.floating.height+v}px`):m==="right"?(x=`${-v}px`,E=u?y:`${$}px`):m==="left"&&(x=`${l.floating.width+v}px`,E=u?y:`${$}px`),{data:{x,y:E}}}});function Ir(e){const[t,n="center"]=e.split("-");return[t,n]}const Mc=Sc,Fc=_c,Lc=Nc,Vc=i.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...o}=e;return r?yo.createPortal(i.createElement(j.div,N({},o,{ref:t})),r):null});function Bc(e,t){return i.useReducer((n,r)=>{const o=t[n][r];return o??n},e)}const dn=e=>{const{present:t,children:n}=e,r=qc(t),o=typeof n=="function"?n({present:r.isPresent}):i.Children.only(n),a=z(r.ref,o.ref);return typeof n=="function"||r.isPresent?i.cloneElement(o,{ref:a}):null};dn.displayName="Presence";function qc(e){const[t,n]=i.useState(),r=i.useRef({}),o=i.useRef(e),a=i.useRef("none"),s=e?"mounted":"unmounted",[c,l]=Bc(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const f=je(r.current);a.current=c==="mounted"?f:"none"},[c]),ie(()=>{const f=r.current,d=o.current;if(d!==e){const g=a.current,v=je(f);e?l("MOUNT"):v==="none"||(f==null?void 0:f.display)==="none"?l("UNMOUNT"):l(d&&g!==v?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,l]),ie(()=>{if(t){const f=u=>{const v=je(r.current).includes(u.animationName);u.target===t&&v&&tn.flushSync(()=>l("ANIMATION_END"))},d=u=>{u.target===t&&(a.current=je(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:i.useCallback(f=>{f&&(r.current=getComputedStyle(f)),n(f)},[])}}function je(e){return(e==null?void 0:e.animationName)||"none"}const $t="rovingFocusGroup.onEntryFocus",Uc={bubbles:!1,cancelable:!0},fn="RovingFocusGroup",[Mt,Nr,Wc]=mr(fn),[Kc,Tr]=Be(fn,[Wc]),[Hc,zc]=Kc(fn),jc=i.forwardRef((e,t)=>i.createElement(Mt.Provider,{scope:e.__scopeRovingFocusGroup},i.createElement(Mt.Slot,{scope:e.__scopeRovingFocusGroup},i.createElement(Gc,N({},e,{ref:t}))))),Gc=i.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:f,...d}=e,u=i.useRef(null),g=z(t,u),v=vr(a),[m=null,p]=fr({prop:s,defaultProp:c,onChange:l}),[y,h]=i.useState(!1),$=Q(f),x=Nr(n),E=i.useRef(!1),[S,_]=i.useState(0);return i.useEffect(()=>{const R=u.current;if(R)return R.addEventListener($t,$),()=>R.removeEventListener($t,$)},[$]),i.createElement(Hc,{scope:n,orientation:r,dir:v,loop:o,currentTabStopId:m,onItemFocus:i.useCallback(R=>p(R),[p]),onItemShiftTab:i.useCallback(()=>h(!0),[]),onFocusableItemAdd:i.useCallback(()=>_(R=>R+1),[]),onFocusableItemRemove:i.useCallback(()=>_(R=>R-1),[])},i.createElement(j.div,N({tabIndex:y||S===0?-1:0,"data-orientation":r},d,{ref:g,style:{outline:"none",...e.style},onMouseDown:D(e.onMouseDown,()=>{E.current=!0}),onFocus:D(e.onFocus,R=>{const w=!E.current;if(R.target===R.currentTarget&&w&&!y){const C=new CustomEvent($t,Uc);if(R.currentTarget.dispatchEvent(C),!C.defaultPrevented){const I=x().filter(W=>W.focusable),T=I.find(W=>W.active),V=I.find(W=>W.id===m),U=[T,V,...I].filter(Boolean).map(W=>W.ref.current);Dr(U)}}E.current=!1}),onBlur:D(e.onBlur,()=>h(!1))})))}),Yc="RovingFocusGroupItem",Qc=i.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:a,...s}=e,c=Nt(),l=a||c,f=zc(Yc,n),d=f.currentTabStopId===l,u=Nr(n),{onFocusableItemAdd:g,onFocusableItemRemove:v}=f;return i.useEffect(()=>{if(r)return g(),()=>v()},[r,g,v]),i.createElement(Mt.ItemSlot,{scope:n,id:l,focusable:r,active:o},i.createElement(j.span,N({tabIndex:d?0:-1,"data-orientation":f.orientation},s,{ref:t,onMouseDown:D(e.onMouseDown,m=>{r?f.onItemFocus(l):m.preventDefault()}),onFocus:D(e.onFocus,()=>f.onItemFocus(l)),onKeyDown:D(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){f.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const p=Jc(m,f.orientation,f.dir);if(p!==void 0){m.preventDefault();let h=u().filter($=>$.focusable).map($=>$.ref.current);if(p==="last")h.reverse();else if(p==="prev"||p==="next"){p==="prev"&&h.reverse();const $=h.indexOf(m.currentTarget);h=f.loop?ei(h,$+1):h.slice($+1)}setTimeout(()=>Dr(h))}})})))}),Xc={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Zc(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Jc(e,t,n){const r=Zc(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Xc[r]}function Dr(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function ei(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const ti=jc,ni=Qc;var ri=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},xe=new WeakMap,Ge=new WeakMap,Ye={},xt=0,Ar=function(e){return e&&(e.host||Ar(e.parentNode))},oi=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Ar(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return Boolean(n)})},ai=function(e,t,n,r){var o=oi(t,Array.isArray(e)?e:[e]);Ye[n]||(Ye[n]=new WeakMap);var a=Ye[n],s=[],c=new Set,l=new Set(o),f=function(u){!u||c.has(u)||(c.add(u),f(u.parentNode))};o.forEach(f);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(g){if(c.has(g))d(g);else{var v=g.getAttribute(r),m=v!==null&&v!=="false",p=(xe.get(g)||0)+1,y=(a.get(g)||0)+1;xe.set(g,p),a.set(g,y),s.push(g),p===1&&m&&Ge.set(g,!0),y===1&&g.setAttribute(n,"true"),m||g.setAttribute(r,"true")}})};return d(t),c.clear(),xt++,function(){s.forEach(function(u){var g=xe.get(u)-1,v=a.get(u)-1;xe.set(u,g),a.set(u,v),g||(Ge.has(u)||u.removeAttribute(r),Ge.delete(u)),v||u.removeAttribute(n)}),xt--,xt||(xe=new WeakMap,xe=new WeakMap,Ge=new WeakMap,Ye={})}},ci=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||ri(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),ai(r,o,n,"aria-hidden")):function(){return null}},G=function(){return G=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},G.apply(this,arguments)};function kr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function ii(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Ze="right-scroll-bar-position",Je="width-before-scroll-bar",si="with-scroll-bars-hidden",li="--removed-body-scroll-bar-size";function ui(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function di(e,t){var n=i.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function fi(e,t){return di(t||null,function(n){return e.forEach(function(r){return ui(r,n)})})}function pi(e){return e}function mi(e,t){t===void 0&&(t=pi);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var s=t(a,r);return n.push(s),function(){n=n.filter(function(c){return c!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var c=n;n=[],c.forEach(a),s=n}var l=function(){var d=s;s=[],d.forEach(a)},f=function(){return Promise.resolve().then(l)};f(),n={push:function(d){s.push(d),f()},filter:function(d){return s=s.filter(d),n}}}};return o}function vi(e){e===void 0&&(e={});var t=mi(null);return t.options=G({async:!0,ssr:!1},e),t}var Mr=function(e){var t=e.sideCar,n=kr(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return i.createElement(r,G({},n))};Mr.isSideCarExport=!0;function hi(e,t){return e.useMedium(t),Mr}var Fr=vi(),Et=function(){},ft=i.forwardRef(function(e,t){var n=i.useRef(null),r=i.useState({onScrollCapture:Et,onWheelCapture:Et,onTouchMoveCapture:Et}),o=r[0],a=r[1],s=e.forwardProps,c=e.children,l=e.className,f=e.removeScrollBar,d=e.enabled,u=e.shards,g=e.sideCar,v=e.noIsolation,m=e.inert,p=e.allowPinchZoom,y=e.as,h=y===void 0?"div":y,$=kr(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),x=g,E=fi([n,t]),S=G(G({},$),o);return i.createElement(i.Fragment,null,d&&i.createElement(x,{sideCar:Fr,removeScrollBar:f,shards:u,noIsolation:v,inert:m,setCallbacks:a,allowPinchZoom:!!p,lockRef:n}),s?i.cloneElement(i.Children.only(c),G(G({},S),{ref:E})):i.createElement(h,G({},S,{className:l,ref:E}),c))});ft.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ft.classNames={fullWidth:Je,zeroRight:Ze};var gi=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yi(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=gi();return t&&e.setAttribute("nonce",t),e}function bi(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function wi(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var $i=function(){var e=0,t=null;return{add:function(n){e==0&&(t=yi())&&(bi(t,n),wi(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},xi=function(){var e=$i();return function(t,n){i.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Lr=function(){var e=xi(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},Ei={left:0,top:0,right:0,gap:0},Rt=function(e){return parseInt(e||"",10)||0},Ri=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Rt(n),Rt(r),Rt(o)]},Si=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Ei;var t=Ri(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Ci=Lr(),_i=function(e,t,n,r){var o=e.left,a=e.top,s=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(si,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ze,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Je,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Ze," .").concat(Ze,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Je," .").concat(Je,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(li,": ").concat(c,`px;
  }
`)},Pi=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r,a=i.useMemo(function(){return Si(o)},[o]);return i.createElement(Ci,{styles:_i(a,!t,o,n?"":"!important")})},Ft=!1;if(typeof window<"u")try{var Qe=Object.defineProperty({},"passive",{get:function(){return Ft=!0,!0}});window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch{Ft=!1}var Ee=Ft?{passive:!1}:!1,Oi=function(e){return e.tagName==="TEXTAREA"},Vr=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Oi(e)&&n[t]==="visible")},Ii=function(e){return Vr(e,"overflowY")},Ni=function(e){return Vr(e,"overflowX")},qn=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=Br(e,n);if(r){var o=qr(e,n),a=o[1],s=o[2];if(a>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Ti=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Di=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Br=function(e,t){return e==="v"?Ii(t):Ni(t)},qr=function(e,t){return e==="v"?Ti(t):Di(t)},Ai=function(e,t){return e==="h"&&t==="rtl"?-1:1},ki=function(e,t,n,r,o){var a=Ai(e,window.getComputedStyle(t).direction),s=a*r,c=n.target,l=t.contains(c),f=!1,d=s>0,u=0,g=0;do{var v=qr(e,c),m=v[0],p=v[1],y=v[2],h=p-y-a*m;(m||h)&&Br(e,c)&&(u+=h,g+=m),c=c.parentNode}while(!l&&c!==document.body||l&&(t.contains(c)||t===c));return(d&&(o&&u===0||!o&&s>u)||!d&&(o&&g===0||!o&&-s>g))&&(f=!0),f},Xe=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Un=function(e){return[e.deltaX,e.deltaY]},Wn=function(e){return e&&"current"in e?e.current:e},Mi=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Fi=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Li=0,Re=[];function Vi(e){var t=i.useRef([]),n=i.useRef([0,0]),r=i.useRef(),o=i.useState(Li++)[0],a=i.useState(function(){return Lr()})[0],s=i.useRef(e);i.useEffect(function(){s.current=e},[e]),i.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var p=ii([e.lockRef.current],(e.shards||[]).map(Wn),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var c=i.useCallback(function(p,y){if("touches"in p&&p.touches.length===2)return!s.current.allowPinchZoom;var h=Xe(p),$=n.current,x="deltaX"in p?p.deltaX:$[0]-h[0],E="deltaY"in p?p.deltaY:$[1]-h[1],S,_=p.target,R=Math.abs(x)>Math.abs(E)?"h":"v";if("touches"in p&&R==="h"&&_.type==="range")return!1;var w=qn(R,_);if(!w)return!0;if(w?S=R:(S=R==="v"?"h":"v",w=qn(R,_)),!w)return!1;if(!r.current&&"changedTouches"in p&&(x||E)&&(r.current=S),!S)return!0;var C=r.current||S;return ki(C,y,p,C==="h"?x:E,!0)},[]),l=i.useCallback(function(p){var y=p;if(!(!Re.length||Re[Re.length-1]!==a)){var h="deltaY"in y?Un(y):Xe(y),$=t.current.filter(function(S){return S.name===y.type&&S.target===y.target&&Mi(S.delta,h)})[0];if($&&$.should){y.cancelable&&y.preventDefault();return}if(!$){var x=(s.current.shards||[]).map(Wn).filter(Boolean).filter(function(S){return S.contains(y.target)}),E=x.length>0?c(y,x[0]):!s.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),f=i.useCallback(function(p,y,h,$){var x={name:p,delta:y,target:h,should:$};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(E){return E!==x})},1)},[]),d=i.useCallback(function(p){n.current=Xe(p),r.current=void 0},[]),u=i.useCallback(function(p){f(p.type,Un(p),p.target,c(p,e.lockRef.current))},[]),g=i.useCallback(function(p){f(p.type,Xe(p),p.target,c(p,e.lockRef.current))},[]);i.useEffect(function(){return Re.push(a),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:g}),document.addEventListener("wheel",l,Ee),document.addEventListener("touchmove",l,Ee),document.addEventListener("touchstart",d,Ee),function(){Re=Re.filter(function(p){return p!==a}),document.removeEventListener("wheel",l,Ee),document.removeEventListener("touchmove",l,Ee),document.removeEventListener("touchstart",d,Ee)}},[]);var v=e.removeScrollBar,m=e.inert;return i.createElement(i.Fragment,null,m?i.createElement(a,{styles:Fi(o)}):null,v?i.createElement(Pi,{gapMode:"margin"}):null)}const Bi=hi(Fr,Vi);var Ur=i.forwardRef(function(e,t){return i.createElement(ft,G({},e,{ref:t,sideCar:Bi}))});Ur.classNames=ft.classNames;const qi=Ur,Ui=["Enter"," "],Wi=["ArrowDown","PageUp","Home"],Wr=["ArrowUp","PageDown","End"],Ki=[...Wi,...Wr],pt="Menu",[Lt,Hi,zi]=mr(pt),[he,Kr]=Be(pt,[zi,Pr,Tr]),pn=Pr(),Hr=Tr(),[ji,We]=he(pt),[Gi,mn]=he(pt),Yi=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:a,modal:s=!0}=e,c=pn(t),[l,f]=i.useState(null),d=i.useRef(!1),u=Q(a),g=vr(o);return i.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),i.createElement(Mc,c,i.createElement(ji,{scope:t,open:n,onOpenChange:u,content:l,onContentChange:f},i.createElement(Gi,{scope:t,onClose:i.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:d,dir:g,modal:s},r)))},Qi=i.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=pn(n);return i.createElement(Fc,N({},o,r,{ref:t}))}),zr="MenuPortal",[Xi,Zi]=he(zr,{forceMount:void 0}),Ji=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,a=We(zr,t);return i.createElement(Xi,{scope:t,forceMount:n},i.createElement(dn,{present:n||a.open},i.createElement(Vc,{asChild:!0,container:o},r)))},le="MenuContent",[es,jr]=he(le),ts=i.forwardRef((e,t)=>{const n=Zi(le,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,a=We(le,e.__scopeMenu),s=mn(le,e.__scopeMenu);return i.createElement(Lt.Provider,{scope:e.__scopeMenu},i.createElement(dn,{present:r||a.open},i.createElement(Lt.Slot,{scope:e.__scopeMenu},s.modal?i.createElement(ns,N({},o,{ref:t})):i.createElement(rs,N({},o,{ref:t})))))}),ns=i.forwardRef((e,t)=>{const n=We(le,e.__scopeMenu),r=i.useRef(null),o=z(t,r);return i.useEffect(()=>{const a=r.current;if(a)return ci(a)},[]),i.createElement(Gr,N({},e,{ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:D(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),rs=i.forwardRef((e,t)=>{const n=We(le,e.__scopeMenu);return i.createElement(Gr,N({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),Gr=i.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:c,onEntryFocus:l,onEscapeKeyDown:f,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:g,onDismiss:v,disableOutsideScroll:m,...p}=e,y=We(le,n),h=mn(le,n),$=pn(n),x=Hr(n),E=Hi(n),[S,_]=i.useState(null),R=i.useRef(null),w=z(t,R,y.onContentChange),C=i.useRef(0),I=i.useRef(""),T=i.useRef(0),V=i.useRef(null),k=i.useRef("right"),U=i.useRef(0),W=m?qi:i.Fragment,mt=m?{as:ke,allowPinchZoom:!0}:void 0,vt=P=>{var A,q;const J=I.current+P,de=E().filter(B=>!B.disabled),ge=document.activeElement,Oe=(A=de.find(B=>B.ref.current===ge))===null||A===void 0?void 0:A.textValue,ye=de.map(B=>B.textValue),K=ps(ye,J,Oe),be=(q=de.find(B=>B.textValue===K))===null||q===void 0?void 0:q.ref.current;(function B(Ie){I.current=Ie,window.clearTimeout(C.current),Ie!==""&&(C.current=window.setTimeout(()=>B(""),1e3))})(J),be&&setTimeout(()=>be.focus())};i.useEffect(()=>()=>window.clearTimeout(C.current),[]),ja();const Z=i.useCallback(P=>{var A,q;return k.current===((A=V.current)===null||A===void 0?void 0:A.side)&&vs(P,(q=V.current)===null||q===void 0?void 0:q.area)},[]);return i.createElement(es,{scope:n,searchRef:I,onItemEnter:i.useCallback(P=>{Z(P)&&P.preventDefault()},[Z]),onItemLeave:i.useCallback(P=>{var A;Z(P)||((A=R.current)===null||A===void 0||A.focus(),_(null))},[Z]),onTriggerLeave:i.useCallback(P=>{Z(P)&&P.preventDefault()},[Z]),pointerGraceTimerRef:T,onPointerGraceIntentChange:i.useCallback(P=>{V.current=P},[])},i.createElement(W,mt,i.createElement(Ga,{asChild:!0,trapped:o,onMountAutoFocus:D(a,P=>{var A;P.preventDefault(),(A=R.current)===null||A===void 0||A.focus()}),onUnmountAutoFocus:s},i.createElement(Ka,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:g,onDismiss:v},i.createElement(ti,N({asChild:!0},x,{dir:h.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:_,onEntryFocus:D(l,P=>{h.isUsingKeyboardRef.current||P.preventDefault()})}),i.createElement(Lc,N({role:"menu","aria-orientation":"vertical","data-state":us(y.open),"data-radix-menu-content":"",dir:h.dir},$,p,{ref:w,style:{outline:"none",...p.style},onKeyDown:D(p.onKeyDown,P=>{const q=P.target.closest("[data-radix-menu-content]")===P.currentTarget,J=P.ctrlKey||P.altKey||P.metaKey,de=P.key.length===1;q&&(P.key==="Tab"&&P.preventDefault(),!J&&de&&vt(P.key));const ge=R.current;if(P.target!==ge||!Ki.includes(P.key))return;P.preventDefault();const ye=E().filter(K=>!K.disabled).map(K=>K.ref.current);Wr.includes(P.key)&&ye.reverse(),ds(ye)}),onBlur:D(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(C.current),I.current="")}),onPointerMove:D(e.onPointerMove,Bt(P=>{const A=P.target,q=U.current!==P.clientX;if(P.currentTarget.contains(A)&&q){const J=P.clientX>U.current?"right":"left";k.current=J,U.current=P.clientX}}))})))))))}),Vt="MenuItem",Kn="menu.itemSelect",os=i.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,a=i.useRef(null),s=mn(Vt,e.__scopeMenu),c=jr(Vt,e.__scopeMenu),l=z(t,a),f=i.useRef(!1),d=()=>{const u=a.current;if(!n&&u){const g=new CustomEvent(Kn,{bubbles:!0,cancelable:!0});u.addEventListener(Kn,v=>r==null?void 0:r(v),{once:!0}),pr(u,g),g.defaultPrevented?f.current=!1:s.onClose()}};return i.createElement(as,N({},o,{ref:l,disabled:n,onClick:D(e.onClick,d),onPointerDown:u=>{var g;(g=e.onPointerDown)===null||g===void 0||g.call(e,u),f.current=!0},onPointerUp:D(e.onPointerUp,u=>{var g;f.current||(g=u.currentTarget)===null||g===void 0||g.click()}),onKeyDown:D(e.onKeyDown,u=>{const g=c.searchRef.current!=="";n||g&&u.key===" "||Ui.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})}))}),as=i.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...a}=e,s=jr(Vt,n),c=Hr(n),l=i.useRef(null),f=z(t,l),[d,u]=i.useState(!1),[g,v]=i.useState("");return i.useEffect(()=>{const m=l.current;if(m){var p;v(((p=m.textContent)!==null&&p!==void 0?p:"").trim())}},[a.children]),i.createElement(Lt.ItemSlot,{scope:n,disabled:r,textValue:o??g},i.createElement(ni,N({asChild:!0},c,{focusable:!r}),i.createElement(j.div,N({role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},a,{ref:f,onPointerMove:D(e.onPointerMove,Bt(m=>{r?s.onItemLeave(m):(s.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus())})),onPointerLeave:D(e.onPointerLeave,Bt(m=>s.onItemLeave(m))),onFocus:D(e.onFocus,()=>u(!0)),onBlur:D(e.onBlur,()=>u(!1))}))))}),cs="MenuRadioGroup";he(cs,{value:void 0,onValueChange:()=>{}});const is="MenuItemIndicator";he(is,{checked:!1});const ss=i.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.createElement(j.div,N({role:"separator","aria-orientation":"horizontal"},r,{ref:t}))}),ls="MenuSub";he(ls);function us(e){return e?"open":"closed"}function ds(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function fs(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function ps(e,t,n){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let s=fs(e,Math.max(a,0));o.length===1&&(s=s.filter(f=>f!==n));const l=s.find(f=>f.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function ms(e,t){const{x:n,y:r}=e;let o=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const c=t[a].x,l=t[a].y,f=t[s].x,d=t[s].y;l>r!=d>r&&n<(f-c)*(r-l)/(d-l)+c&&(o=!o)}return o}function vs(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return ms(n,t)}function Bt(e){return t=>t.pointerType==="mouse"?e(t):void 0}const hs=Yi,gs=Qi,ys=Ji,bs=ts,ws=os,$s=ss,Yr="DropdownMenu",[xs,bl]=Be(Yr,[Kr]),Pe=Kr(),[Es,Qr]=xs(Yr),Rs=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:a,onOpenChange:s,modal:c=!0}=e,l=Pe(t),f=i.useRef(null),[d=!1,u]=fr({prop:o,defaultProp:a,onChange:s});return i.createElement(Es,{scope:t,triggerId:Nt(),triggerRef:f,contentId:Nt(),open:d,onOpenChange:u,onOpenToggle:i.useCallback(()=>u(g=>!g),[u]),modal:c},i.createElement(hs,N({},l,{open:d,onOpenChange:u,dir:r,modal:c}),n))},Ss="DropdownMenuTrigger",Cs=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,a=Qr(Ss,n),s=Pe(n);return i.createElement(gs,N({asChild:!0},s),i.createElement(j.button,N({type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},o,{ref:cn(t,a.triggerRef),onPointerDown:D(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:D(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})))}),_s=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Pe(t);return i.createElement(ys,N({},r,n))},Ps="DropdownMenuContent",Os=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Qr(Ps,n),a=Pe(n),s=i.useRef(!1);return i.createElement(bs,N({id:o.contentId,"aria-labelledby":o.triggerId},a,r,{ref:t,onCloseAutoFocus:D(e.onCloseAutoFocus,c=>{var l;s.current||(l=o.triggerRef.current)===null||l===void 0||l.focus(),s.current=!1,c.preventDefault()}),onInteractOutside:D(e.onInteractOutside,c=>{const l=c.detail.originalEvent,f=l.button===0&&l.ctrlKey===!0,d=l.button===2||f;(!o.modal||d)&&(s.current=!0)}),style:{...e.style,["--radix-dropdown-menu-content-transform-origin"]:"var(--radix-popper-transform-origin)"}}))}),Is=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Pe(n);return i.createElement(ws,N({},o,r,{ref:t}))}),Ns=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=Pe(n);return i.createElement($s,N({},o,r,{ref:t}))}),Ts=Rs,Ds=Cs,As=_s,ks=Os,Hn=Is,Ms=Ns;function Fe({children:e,icon:t}){return b.createElement("div",{className:"ctw-flex ctw-items-center ctw-space-x-3"},t&&b.createElement(ne,{icon:t,className:"ctw-mb-[2px] ctw-w-4 ctw-text-content-lighter"}),b.createElement("div",null,e))}try{Fe.displayName="MenuItem",Fe.__docgenInfo={description:"",displayName:"MenuItem",props:{icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"IconDefinition"}}}}}catch{}function Le({children:e,items:t,onItemSelect:n,type:r,buttonClassName:o,pinnedActions:a=[],isOpen:s}){const{ctwProviderRef:c}=bo(),[l,f]=i.useState(s);return b.createElement(Na,null,b.createElement(Ts,{modal:!1,open:l,onOpenChange:d=>f(d)},b.createElement(Ds,{className:F(o),"aria-label":"dropdown"},e),b.createElement(As,{container:c.current},b.createElement(ks,{align:"start",onFocusOutside:d=>d.preventDefault(),className:"ctw-dropdown-action-menu",collisionPadding:10},t.map(d=>b.createElement(Hn,{key:d.key,className:F("ctw-dropdown-action-menu-item ctw-bg-bg-white"),onClick:u=>{r==="checkbox"&&u.preventDefault(),n({key:d.key,name:d.name,value:!d.isSelected})}},b.createElement(Fs,{inputType:r,menuItem:d,onClick:n}))),a.length>0&&b.createElement(b.Fragment,null,b.createElement(Ms,{className:"ctw-dropdown-separator"}),a.map(d=>b.createElement(Hn,{onClick:()=>d.action(),key:d.name,className:F(d.className,"ctw-dropdown-action-menu-item")},b.createElement(Fe,{icon:d.icon},d.name))))))))}const Fs=({inputType:e,menuItem:t,onClick:n})=>{switch(e){case"checkbox":return b.createElement("div",null,b.createElement("label",{htmlFor:t.name,className:"ctw-flex ctw-cursor-pointer ctw-items-center ctw-space-x-3"},b.createElement("input",{type:"checkbox",className:"ctw-m-0 ctw-mb-px ctw-w-4",name:t.name,onClick:r=>{n({key:t.key,name:t.name,value:!t.isSelected}),r.stopPropagation()},checked:t.isSelected,onChange:r=>{r.stopPropagation()}}),b.createElement("span",null,t.name)));case"select":return b.createElement("div",{className:"ctw-flex ctw-w-full ctw-justify-between"},b.createElement("span",{className:F({"ctw-font-semibold":t.isSelected})},t.name),t.isSelected&&b.createElement(ne,{icon:Gn,className:"ctw-inline-block ctw-h-4 ctw-stroke-0 ctw-align-middle ctw-text-primary-dark"}));default:return b.createElement("div",null,t.name)}};try{Le.displayName="DropdownMenuAction",Le.__docgenInfo={description:"",displayName:"DropdownMenuAction",props:{buttonClassName:{defaultValue:null,description:"",name:"buttonClassName",required:!1,type:{name:"Argument"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"OptionsItem[]"}},onItemSelect:{defaultValue:null,description:"",name:"onItemSelect",required:!0,type:{name:"(clickedItem: { key: string; name: string; value: boolean; }) => void"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"checkbox"'},{value:'"select"'}]}},customOptionRender:{defaultValue:null,description:"",name:"customOptionRender",required:!1,type:{name:"((optionsItem: OptionsItem) => Element)"}},pinnedActions:{defaultValue:{value:"[]"},description:"",name:"pinnedActions",required:!1,type:{name:"MenuItem[]"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!1,type:{name:"boolean"}}}}}catch{}const qt=({className:e,defaultView:t,onChange:n,options:r})=>{const[o,a]=i.useState(t);return b.createElement(Le,{type:"select",buttonClassName:F(e,"ctw-bg-transparent ctw-border-none ctw-p-0"),onItemSelect:s=>{const c=r.filter(l=>l.display===s.key)[0];n(c),a(c)},items:r.map(s=>({key:s.display,name:s.display,isSelected:o.display===s.display}))},b.createElement("div",{className:"ctw-btn-default ctw-flex ctw-items-center ctw-space-x-2"},b.createElement("span",null,b.createElement("span",{className:"ctw-font-normal"},o.display)," "),b.createElement(ne,{icon:st,className:"ctw-w-2"})))};try{qt.displayName="ViewButton",qt.__docgenInfo={description:"",displayName:"ViewButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}},defaultView:{defaultValue:null,description:"",name:"defaultView",required:!0,type:{name:"ViewOption"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(view: ViewOption) => void"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ViewOption[]"}}}}}catch{}function Xr({display:e},t){return b.createElement(b.Fragment,null,ir(e)?e(t):e)}function St(e,t,n){return t.reduce((r,o)=>{const a=e.find(s=>s.key===o);return{...r,[a.key]:{key:a.key,type:a.type,selected:a.type==="tag"?!0:n[a.key]}}},{})}function ct(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];if(typeof r<"u"){const{type:o}=r;return o==="tag"?wn(n,[],t):wn(n,r.selected,t)}return t},{})}try{ct.displayName="filterChangeEventToValuesRecord",ct.__docgenInfo={description:"",displayName:"filterChangeEventToValuesRecord",props:{}}}catch{}const Ls="ctw-flex ctw-items-center ctw-max-w-[15rem] ctw-space-x-2 ctw-capitalize ctw-text-content-black ctw-bg-bg-dark ctw-text-sm ctw-rounded ctw-py-2 ctw-px-3 ctw-relative ctw-cursor-pointer ctw-border-0 ctw-border-transparent  ctw-whitespace-nowrap";function Ut({filter:e,filterValues:t,isOpen:n,onRemove:r,onChange:o}){const a=e.key in t?t[e.key]:[],s=e.values.map(l=>({key:Te(l)?l:l.key,name:Te(l)?l:l.display,isSelected:a.includes(Te(l)?l:l.key)})),c=s.filter(l=>l.isSelected).map(l=>l.key);return b.createElement(Le,{isOpen:n,items:s,type:"checkbox",pinnedActions:qo([r?{icon:en,name:"Remove Filter",action:r}:null]),buttonClassName:F(e.className,Ls),onItemSelect:l=>o(l.key,l.value)},b.createElement("div",{className:"ctw-truncate ctw-font-medium ctw-text-content-black"},Xr(e,{active:!0}),c.length>0&&b.createElement("span",{className:"ctw-font-normal"},": ",c.join(", "))),b.createElement(ne,{icon:st,className:"ctw-w-2"}))}try{Ut.displayName="FilterBarCheckboxPill",Ut.__docgenInfo={description:"",displayName:"FilterBarCheckboxPill",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterOptionCheckbox"}},filterValues:{defaultValue:null,description:"",name:"filterValues",required:!0,type:{name:"FilterValuesRecord"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(key: string, isSelected: boolean) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"(() => void)"}}}}}catch{}function it({useBasicStyles:e=!1,btnClassName:t,children:n,optionsClassName:r,items:o,defaultIndex:a=0,onChange:s}){const[c,l]=i.useState(a),f=o[c]??{display:"Choose a selection"};return b.createElement("div",{className:"ctw-relative ctw-inline-block"},b.createElement(ze,{value:c,onChange:d=>{const u=o[d];u.divider||(s(d,u),l(d))}},b.createElement(ze.Button,{className:F(t,!e&&"after:ctw-bg-content-black",!e&&"focus-visible:ctw-outline-primary-dark","ctw-relative ctw-cursor-pointer ctw-justify-between ctw-space-x-2 ctw-border-0 ctw-border-transparent")},n||zn(f,{listView:!1}),!e&&b.createElement(ne,{icon:st,className:"ctw-w-2"})),b.createElement(ze.Options,{className:F(r,"ctw-list-box")},o.map((d,u)=>d.divider?b.createElement("div",{key:"divider",className:"ctw-border-top"}):b.createElement(ze.Option,{key:d.key,value:u,as:i.Fragment},({active:g,selected:v})=>b.createElement("li",{className:F("ctw-flex ctw-cursor-pointer ctw-justify-between ctw-px-3 ctw-py-2","hover:ctw-bg-bg-lighter",d.className,{"ctw-text-medium":g||v,"ctw-text-content-black":!(g||v),"ctw-bg-bg-lighter":g})},b.createElement("span",{className:F("ctw-inline-flex ctw-align-middle",{"ctw-font-semibold":v&&!e})},zn(d,{active:g,selected:v,listView:!0})),!e&&v&&!d.key.startsWith("_")&&b.createElement("span",{className:"ctw-inline-flex ctw-pb-0.5"},b.createElement(ne,{icon:Gn,className:"ctw-inline-block ctw-h-4 ctw-stroke-0 ctw-align-middle ctw-text-primary-dark"}))))))))}function zn(e,t){return e.divider?null:b.createElement(Fe,{icon:e.icon},Uo(e.display)?e.display(t):e.display)}try{it.displayName="ListBox",it.__docgenInfo={description:"",displayName:"ListBox",props:{btnClassName:{defaultValue:null,description:"",name:"btnClassName",required:!1,type:{name:"Argument"}},defaultIndex:{defaultValue:{value:"0"},description:"",name:"defaultIndex",required:!1,type:{name:"number"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"MinListBoxItem[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(index: number, item: ListBoxItem) => void"}},optionsClassName:{defaultValue:null,description:"",name:"optionsClassName",required:!1,type:{name:"Argument"}},useBasicStyles:{defaultValue:{value:"false"},description:"",name:"useBasicStyles",required:!1,type:{name:"boolean"}}}}}catch{}const Vs="ctw-flex ctw-items-center ctw-capitalize ctw-text-content-black ctw-bg-bg-dark ctw-text-sm ctw-rounded ctw-py-2 ctw-px-3 ctw-relative ctw-cursor-pointer ctw-border-0 ctw-border-transparent",Zr=e=>ir(e)?e({active:!1}):e,Bs=(e,t,n)=>({key:t,display:({listView:r,filter:o})=>r?b.createElement(Fe,{icon:n},e):o&&Zr(o.display)}),Ct=Bs("remove filter","_remove",en);function Wt({filter:e,onChange:t,onRemove:n}){const o=[...e.values.map(a=>Te(a)?a:a.display),Ct];return b.createElement(it,{defaultIndex:o.length-1,btnClassName:Vs,optionsClassName:"ctw-capitalize",items:o.map(a=>({display:({listView:s})=>a===Ct?a.display({listView:s,filter:e}):s?b.createElement("span",{className:"ctw-whitespace-nowrap"},a):b.createElement("div",{className:"ctw-truncate ctw-font-medium ctw-text-content-black"},Zr(e.display),b.createElement("span",{className:"ctw-font-normal"},": ",a)),key:Te(a)?a:a.key,className:F("ctw-capitalize",{"ctw-border ctw-capitalize ctw-border-solid ctw-border-divider-light ctw-border-0 ctw-border-t":a===Ct})})),onChange:(a,s)=>{s.key==="_remove"?n():s.key==="_reset"?t("",!1):t(s.key,!0)}})}try{Wt.displayName="FilterBarSelectPill",Wt.__docgenInfo={description:"",displayName:"FilterBarSelectPill",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterOptionSelect"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(key: string, isSelected: boolean) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"() => void"}}}}}catch{}const qs="ctw-flex ctw-items-center ctw-max-w-[15rem] ctw-capitalize ctw-text-content-black ctw-bg-bg-dark ctw-text-sm ctw-rounded ctw-py-2 ctw-px-3 ctw-relative ctw-cursor-pointer ctw-border-0 ctw-border-transparent";function Kt({filter:e,onRemove:t}){return b.createElement("button",{key:e.key,type:"button",className:F(qs,e.className,"ctw-space-x-2"),onClick:t},b.createElement("div",null,Xr(e,{active:!0})),b.createElement(ne,{icon:mo,className:"ctw-w-2 ctw-text-content-light"}))}try{Kt.displayName="FilterBarTagPill",Kt.__docgenInfo={description:"",displayName:"FilterBarTagPill",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterItem"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"() => void"}}}}}catch{}function Ht({onRemove:e,filter:t,filterValues:n,isOpen:r,updateSelectedFilterValues:o}){const a=()=>e(t.key);switch(t.type){case"tag":return b.createElement(Kt,{filter:t,onRemove:a});case"select":return b.createElement(Wt,{filter:t,onRemove:a,onChange:o});case"checkbox":return b.createElement(Ut,{isOpen:r,filter:t,filterValues:n,onRemove:a,onChange:o});default:throw new Error("ActiveFilterItem has invalid filter type")}}try{Ht.displayName="FilterBarPill",Ht.__docgenInfo={description:`Filter pill component that can render any pill type. It abstracts the various
pill types (located in ./filter-bar-pills folder). In practice this component
will only be used by the FilterBar component.`,displayName:"FilterBarPill",props:{onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"(key: string) => void"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterItem"}},filterValues:{defaultValue:null,description:"",name:"filterValues",required:!0,type:{name:"FilterValuesRecord"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},updateSelectedFilterValues:{defaultValue:null,description:"",name:"updateSelectedFilterValues",required:!0,type:{name:"(valueKey: string, isSelected: boolean) => void"}}}}}catch{}const zt=["_remove","_reset"],Us=e=>e.filter(t=>!zt.includes(t)),jt=({className:e,onChange:t,filters:n,defaultState:r={}})=>{const[o,a]=i.useState(),[s,c]=i.useState(Object.keys(r)),[l,f]=i.useState(ct(r)),[d,u]=i.useState(ct(r));i.useEffect(()=>{if(n.some(({key:w})=>zt.includes(w)))throw new Error(`Filters should not use keys ${zt.join(", ")}`)},[n]);const g=()=>{c([]),f({}),t({})},v=()=>{f(d),c(Object.keys(d)),t(St(n,Object.keys(d),d))},m=w=>{const C=s.includes(w);C||a(w);const I=Us(C?s.filter(V=>V!==w):xn(s.concat(w)));c(I);let T;C&&w in l&&(T=En(w,l),f(T)),C||w in l||(T={...l,[w]:[]},f(T)),t(St(n,I,l))},p=(w,C,I)=>{let T;const V=n.find(U=>U.key===w),k=l[w];I?T={...l,[w]:(V==null?void 0:V.type)==="checkbox"?xn(k.concat(C)):C}:Array.isArray(k)?T={...l,[w]:k.filter(U=>U!==C)}:T=En(w,l),f(T),t(St(n,s,T))},y=w=>{const C=s.includes(w.key);return{display:C&&w.toggleDisplay?w.toggleDisplay:w.display,icon:C&&w.toggleIcon?w.toggleIcon:w.icon,key:w.key,className:F("ctw-capitalize",w.className)}},[h,$]=$n(({key:w})=>s.includes(w),n),x=h.filter(w=>w.toggleDisplay),[E,S]=$n(w=>!w.belowDivider,[...$,...x]);wo(d)||S.push({display:"reset filters",icon:vo,key:"_reset",type:"tag"}),S.push({display:"remove all filters",icon:en,key:"_remove",type:"tag"});const _=E.length&&S.length?[{divider:!0}]:[],R=[...E.map(y),..._,...S.map(y)];return b.createElement("div",{className:F(e,"ctw-relative ctw-flex ctw-items-center ctw-space-x-2")},h.map(w=>b.createElement(Ht,{isOpen:o===w.key,key:w.key,filter:w,filterValues:l,onRemove:m,updateSelectedFilterValues:(C,I)=>p(w.key,C,I)})),b.createElement(it,{useBasicStyles:!0,btnClassName:"!ctw-text-content-light ctw-btn-clear !ctw-font-normal !ctw-py-2",items:R,onChange:(w,C)=>{switch(C.key){case"_remove":return g();case"_reset":return v();default:return m(C.key)}}},b.createElement("div",{className:"ctw-space-x-1"},b.createElement(ne,{icon:ho,className:"ctw-w-4"}),b.createElement("span",null,"Add Filters"))))};try{jt.displayName="FilterBar",jt.__docgenInfo={description:`FilterBar - A configurable filter bar with base menu and pills to control
which filters are active.

Use the defaultState param to pre-set filters on mount.

example:
\`\`\`
<FilterBar
  defaultState={{
    "furry-things": {
      type: "checkbox",
      selected: ["cats", "dogs", "dice"],
    },
   "who-called-shotgun": {
      type: "select",
      selected: "Kristen",
    },
    dismissed: {
      type: "tag",
      selected: true,
    },
  }}
  filters={filters}
  onChange={handleOnChange}
/>
\`\`\``,displayName:"FilterBar",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(filters: FilterChangeEvent) => void"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterItem[]"}},defaultState:{defaultValue:{value:"{}"},description:"",name:"defaultState",required:!1,type:{name:"FilterChangeEvent"}}}}}catch{}const Gt=({className:e,defaultSort:t,onChange:n,options:r})=>{const[o,a]=i.useState(t);return b.createElement(Le,{type:"select",buttonClassName:F(e,"ctw-bg-transparent ctw-border-none ctw-p-0"),onItemSelect:s=>{const c=r.filter(l=>l.display===s.key)[0];n(c),a(c)},items:r.map(s=>({key:s.display,name:s.display,isSelected:o.display===s.display}))},b.createElement("div",{className:"ctw-btn-default ctw-flex ctw-items-center ctw-space-x-2"},b.createElement("span",null,"Sort: ",b.createElement("span",{className:"ctw-font-normal"},o.display)," "),b.createElement(ne,{icon:st,className:"ctw-w-2"})))};try{Gt.displayName="SortButton",Gt.__docgenInfo={description:"",displayName:"SortButton",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}},defaultSort:{defaultValue:null,description:"",name:"defaultSort",required:!0,type:{name:"SortOption<T>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(sort: SortOption<T>) => void"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"SortOption<T>[]"}}}}}catch{}const jn=({action:e,className:t,filterOptions:n,sortOptions:r,viewOptions:o})=>!o&&!r&&!n&&!e?null:b.createElement("div",{className:F(t,"ctw-flex ctw-flex-wrap ctw-items-center ctw-justify-between ctw-py-2 sm:ctw-pt-1.5")},b.createElement("div",{className:"ctw-flex ctw-flex-wrap ctw-gap-x-2"},o&&b.createElement(qt,{...o}),r&&b.createElement(Gt,{...r}),n&&n.filters.length>0&&b.createElement(jt,{...n})),e);try{jn.displayName="ResourceTableActions",jn.__docgenInfo={description:"",displayName:"ResourceTableActions",props:{action:{defaultValue:null,description:"",name:"action",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},filterOptions:{defaultValue:null,description:"",name:"filterOptions",required:!1,type:{name:"FilterBarProps"}},sortOptions:{defaultValue:null,description:"",name:"sortOptions",required:!1,type:{name:"SortButtonProps<T>"}},viewOptions:{defaultValue:null,description:"",name:"viewOptions",required:!1,type:{name:"ViewButtonProps"}}}}}catch{}const Ws=(e,t)=>t?e.filter(n=>{var a;const r=(a=sr(t,{key:"isArchived"}))==null?void 0:a.selected,o=Boolean(n.isArchived);return!r&&o?!1:Object.entries(t).every(([s,c])=>{const l=String(n[c.key]);switch(c.type){case"checkbox":if(Wo(c.selected))return c.selected.filter(d=>rn(lr(e.map(u=>u[c.key]))).includes(d)).includes(l);break;case"select":return l===c.selected}return!0})}):e;function wl(e,t){return rn(lr(e.map(n=>String(n[t]))))}function $l({defaultFilters:e={},defaultSort:t,defaultView:n,records:r}){const[o,a]=i.useState(n),[s,c]=i.useState(e),[l,f]=i.useState(t),[d,u]=i.useState(r??[]);return i.useEffect(()=>{const g=Ws(r??[],[...Object.values(s),...(o==null?void 0:o.filters)??[]]),v=Ho(g,l.sorts);u(v)},[s,l,r,o]),{setFilters:c,setSort:f,setViewOption:a,data:d,filters:s,sortOption:l}}class Ks extends $o{constructor(){super(...arguments);hn(this,"kind","DiagnosticReport")}get category(){var o,a,s,c;const n=He((o=this.resource.category)==null?void 0:o[0])||this.reportCategory;if(n)return n;const r=He((a=this.resource.category)==null?void 0:a[0]);return((c=Yn("Observation",void 0,this.includedResources,(s=this.resource.result)==null?void 0:s[0].reference))==null?void 0:c.category)??`No display value found ${r?" for ":""}${r}`}get displayName(){var o;const{code:n}=this.resource,r=He(n);return zo((o=n.coding)==null?void 0:o[0])?Ko(jo,[r,"display"],"Unknown"):r}get effectiveEnd(){var n;return(n=this.resource.effectivePeriod)!=null&&n.end?gn(this.resource.effectivePeriod.end):this.effectiveStart}get identifier(){var n;return((n=this.resource.identifier)==null?void 0:n[0].value)??""}get effectiveStart(){var n;return gn(((n=this.resource.effectivePeriod)==null?void 0:n.start)||this.resource.effectiveDateTime)}get performer(){var n,r;return((n=this.organization)==null?void 0:n.display)||((r=this.resource.performer)==null?void 0:r[0].display)}get organization(){const n=this.resource.performer??[];return sr(n,{type:"Organization"})}get reportCategory(){var n;return((n=xo([{system:Eo},{system:Ro}],this.resource.code))==null?void 0:n.display)??He(this.resource.code)}get results(){return this.resource.result??[]}}const xl=[{title:"Report",widthPercent:30,minWidth:320,dataIndex:"displayName"},{title:"Category",dataIndex:"category"},{title:"Started On",dataIndex:"effectiveStart"},{title:"Status",render:e=>b.createElement("div",{className:"ctw-flex"},b.createElement("div",{className:F("ctw-text-md",Jr(e.resource.status))},"•"),b.createElement("div",{className:"ctw-ml-1"},b.createElement("div",null,nn(e.resource.status))))},{title:"Observations",render:e=>b.createElement("div",{className:"ctw-text-center"},e.results.length)}],Hs=[{title:"Observation Info",render:e=>b.createElement("div",{className:"ctw-flex"},e.effectiveStart&&b.createElement("div",null,b.createElement("span",{className:"ctw-inline-flex ctw-h-5 ctw-rounded-full ctw-bg-notification-light ctw-px-2 ctw-text-xs ctw-leading-5 ctw-text-notification-main"},e.effectiveStart)," "),b.createElement("div",{className:F("ctw-text-md",Jr(e.resource.status))},"•"),b.createElement("div",{className:"ctw-ml-1"},b.createElement("div",null,nn(e.resource.status)," ")))},{title:"Date and Id",render:e=>{var t;return b.createElement("div",{className:"ctw-ml-1"},So(e.category)||e.display," ",(t=e.resource.identifier)==null?void 0:t[0].value)}},{title:"Reading",render:e=>b.createElement("div",{className:"ctw-ml-1"},e.value," ",e.interpretation)},{title:"Notes",render:e=>e.notes&&b.createElement("blockquote",{className:"ctw-mx-3 ctw-my-1 ctw-rounded ctw-bg-bg-lighter ctw-p-1.5 ctw-text-xs ctw-font-light ctw-italic"},e.notes)}];function Jr(e){switch(e){case"final":case"amended":case"appended":case"corrected":return"ctw-text-success-main";case"cancelled":case"entered-in-error":return"ctw-text-caution-main";case"registered":case"partial":case"preliminary":case"unknown":default:return"ctw-text-content-lighter"}}const Yt=({className:e,data:t})=>b.createElement("div",{className:e},b.createElement("div",{className:"ctw-text-base ctw-font-medium ctw-uppercase ctw-text-content-light"},"observations"),b.createElement(Pt,{className:"ctw-patient-observation-details",columns:Hs,data:t,isLoading:!1,emptyMessage:"There are no observations available."}));try{Yt.displayName="ObservationsTable",Yt.__docgenInfo={description:"",displayName:"ObservationsTable",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"ObservationModel[]"}}}}}catch{}const Qt=e=>[{label:"Organization",value:e.performer},{label:"Identifier",value:e.identifier},{label:"Service category",value:e.category},{label:"Status",value:nn(e.resource.status)}],Xt=({diagnosticReport:e})=>{const[t,n]=i.useState([]);return i.useEffect(()=>{n(rn(e.results.map(r=>{const o=Yn("Observation",void 0,e.includedResources,r.reference);if(o)return new Go(o,{[e.id]:e.resource})})))},[e]),b.createElement("div",{className:"ctw-space-y-6","data-zus-telemetry-namespace":"Observations"},b.createElement("div",{className:"ctw-text-2xl"},e.displayName),b.createElement(go,{details:Qt(e)}),b.createElement(Yt,{data:t}))},Zt=ur(Xt,"Observations");try{Qt.displayName="diagnosticReportData",Qt.__docgenInfo={description:"",displayName:"diagnosticReportData",props:{kind:{defaultValue:null,description:"",name:"kind",required:!0,type:{name:'"DiagnosticReport"'}},category:{defaultValue:null,description:"",name:"category",required:!0,type:{name:"string | CodeableConcept[]"}},displayName:{defaultValue:null,description:"",name:"displayName",required:!0,type:{name:"any"}},effectiveEnd:{defaultValue:null,description:"",name:"effectiveEnd",required:!0,type:{name:"string | undefined"}},identifier:{defaultValue:null,description:"",name:"identifier",required:!0,type:{name:"string"}},effectiveStart:{defaultValue:null,description:"",name:"effectiveStart",required:!0,type:{name:"string | undefined"}},performer:{defaultValue:null,description:"",name:"performer",required:!0,type:{name:"string | undefined"}},organization:{defaultValue:null,description:"",name:"organization",required:!0,type:{name:"Reference | undefined"}},reportCategory:{defaultValue:null,description:"",name:"reportCategory",required:!0,type:{name:"string"}},results:{defaultValue:null,description:"",name:"results",required:!0,type:{name:"Reference[]"}},resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"DiagnosticReport"}},includedResources:{defaultValue:null,description:"",name:"includedResources",required:!1,type:{name:"ResourceMap"}},revIncludes:{defaultValue:null,description:"",name:"revIncludes",required:!1,type:{name:"Resource[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},key:{defaultValue:null,description:"",name:"key",required:!0,type:{name:"string"}},versionId:{defaultValue:null,description:"",name:"versionId",required:!0,type:{name:"string"}},isArchived:{defaultValue:null,description:"",name:"isArchived",required:!0,type:{name:"boolean"}},isSummaryResource:{defaultValue:null,description:"",name:"isSummaryResource",required:!0,type:{name:"boolean"}},resourceType:{defaultValue:null,description:"",name:"resourceType",required:!0,type:{name:"string"}},resourceTypeTitle:{defaultValue:null,description:"",name:"resourceTypeTitle",required:!0,type:{name:"string"}},getBasicResourceByAction:{defaultValue:null,description:"",name:"getBasicResourceByAction",required:!0,type:{name:"(profileAction: string) => Basic | undefined"}},isEnriched:{defaultValue:null,description:"",name:"isEnriched",required:!0,type:{name:"() => boolean"}},toString:{defaultValue:null,description:"",name:"toString",required:!1,type:{name:"() => string"}}}}}catch{}try{Xt.displayName="Component",Xt.__docgenInfo={description:"",displayName:"Component",props:{diagnosticReport:{defaultValue:null,description:"",name:"diagnosticReport",required:!0,type:{name:"DiagnosticReportModel"}}}}}catch{}try{Zt.displayName="ObservationDetails",Zt.__docgenInfo={description:"",displayName:"ObservationDetails",props:{diagnosticReport:{defaultValue:null,description:"",name:"diagnosticReport",required:!0,type:{name:"DiagnosticReportModel"}}}}}catch{}function El(){const{openDrawer:e}=Xo();return t=>{e({component:n=>b.createElement(Jt,{diagnosticReport:t,...n})})}}function Jt({className:e,diagnosticReport:t,isOpen:n,onClose:r}){return b.createElement(bn,{className:e,title:"Diagnostic Report",isOpen:n,onClose:r,showCloseFooter:!0},b.createElement(bn.Body,null,b.createElement(Zt,{diagnosticReport:t})))}try{Jt.displayName="ObservationsDrawer",Jt.__docgenInfo={description:"",displayName:"ObservationsDrawer",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},diagnosticReport:{defaultValue:null,description:"",name:"diagnosticReport",required:!0,type:{name:"DiagnosticReportModel"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}}}catch{}function Rl(){return dr(Oo,[],eo("builder"))}function Sl(){return dr(Co,[],eo("outside"))}function eo(e){const t=e==="builder"?Io:No;return async(n,r)=>{try{const{resources:o,bundle:a}=await t("DiagnosticReport",n,{patientUPID:r.UPID,_include:["DiagnosticReport:result"]});return o.map(s=>new Ks(s,_o(a)))}catch(o){throw Po.logError(o,`Failed fetching ${e} DiagnosticReport resources`)}}}export{Ks as D,it as L,jn as R,$l as a,Pt as b,_t as c,Sl as d,El as e,xl as f,Rl as g,wl as u};
