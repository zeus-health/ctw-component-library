import{R as E,r as fe}from"./index-6f814c40.js";import{W as Ht,g as Mr,X as Dn,D as Ur}from"./drawer-6b4601a7.js";import{l as M}from"./table-290f29c2.js";import{q as _n,r as In,Q as On,s as Rn,t as Pn,v as Xr,w as Ot,x as Fn,j as _r,y as zn,m as Ge,E as Bn,z as Ir,f as en,n as tn,l as Ln,o as Mn,b as rn,k as nn,A as Un,B as an,F as Hn,G as Hr,H as kn,I as Vn,J as qn,L as Gn,K as kr,M as jn,N as $n,O as Wn,R as Kn,U as Je,V as on,W as sn}from"./index-e8184c29.js";import{q as cn,c as Yn,a as Jn}from"./index-7a14e213.js";import{c as ln}from"./index-74f03c09.js";import{S as Zn}from"./spinner-66aa4ba7.js";import"./action-list-6f062f6a.js";import{C as Qn}from"./coding-list-1d7c950f.js";const Rt=({condition:t})=>{var a;return E.createElement("div",{className:"ctw-py-2"},E.createElement("div",{className:"ctw-text-2xl"},t.display," (",(a=t.preferredCoding)==null?void 0:a.code,")"),E.createElement("div",{className:"ctw-text-sm"},t.ccsChapter))};try{Rt.displayName="ConditionHeader",Rt.__docgenInfo={description:"",displayName:"ConditionHeader",props:{condition:{defaultValue:null,description:"",name:"condition",required:!0,type:{name:"ConditionModel"}}}}}catch{}const Xn=async(t,a)=>{if(!t.id)throw new Error("Tried to edit a resource that hasn't been created yet.");const o=M.cloneDeep(t);if(o.verificationStatus={coding:[{code:"entered-in-error",system:_n}]},delete o.clinicalStatus,!(await In(o,a)).id)throw new Error(`Failed to edit resource with id of ${t.id}`);await cn.invalidateQueries([On])},lo=async(t,a)=>{const o=t.getBasicResourceByAction("archive")||t.getBasicResourceByAction("unarchive"),s=t.isArchived?"unarchive":"archive";await Rn(o,t,a,s),await cn.invalidateQueries([Pn])};function ei(t,a){Xr(2,arguments);var o=Ot(t),s=Ot(a);return o.getTime()<s.getTime()}function ti(t,a){Xr(2,arguments);var o=Ot(t),s=Ot(a);return o.getTime()===s.getTime()}const ri=async(t,a)=>{const{authToken:o,contextBuilderId:s}=t;return(await(await Yn(`${Fn(t.env)}?display=${a}`,{headers:{Authorization:`Bearer ${o}`,...s&&{"Zus-Account":s}}})).json()).conditionsList},Yt=({defaultCoding:t,readonly:a,...o})=>{const{getRequestContext:s}=_r(),[d,h]=fe.useState(!1),[v,m]=fe.useState(),C=async U=>{h(!0);const V=await s(),G=await ri(V,U);G&&m(G.map(ae=>({value:ae,label:ae.display}))),h(!1)};return E.createElement(zn,{options:v||[],isLoading:d,name:`${o.name}`,defaultSearchTerm:o.defaultValue,readonly:a,onSearchChange:C,defaultValue:t})};try{Yt.displayName="ConditionsAutoComplete",Yt.__docgenInfo={description:"",displayName:"ConditionsAutoComplete",props:{defaultCoding:{defaultValue:null,description:"",name:"defaultCoding",required:!1,type:{name:"Coding"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!0,type:{name:"boolean | undefined"}}}}}catch{}const Jt=({condition:t})=>[{label:"Condition",field:"condition",value:t.display,readonly:!1,render:(a,o)=>E.createElement(Yt,{readonly:a,...o,defaultCoding:t.preferredCoding??{}})},...un(t)],Zt=({condition:t})=>[{label:"id",value:t.id,field:"id",readonly:!0,hidden:!0},...un(t)],un=t=>[{label:"subject",value:t.subjectID,field:"subjectID",readonly:!0,hidden:!0},{label:"Status",value:t.displayStatus==="Unknown"?"Select One":t.displayStatus,field:"status"},{label:"Onset",value:t.onset,field:"onset"},{label:"Abatement",value:t.abatement,field:"abatement"},{label:"Note",value:t.notes,lines:3,field:"note"}],dn=Ge.object({id:Ge.string().optional(),subjectID:Ge.string({required_error:"Condition subjectID must be specified."}),status:Ge.enum(["Active","Pending","Inactive","Refuted","Entered In Error"]),onset:Ge.date().max(new Date,{message:"Onset cannot be a future date."}).optional(),abatement:Ge.date().max(new Date,{message:"Abatement cannot be a future date."}).optional(),note:Ge.string().optional()}),pn=(t,a)=>{t.abatement&&t.status!=="Inactive"&&a.addIssue({code:Ge.ZodIssueCode.custom,message:"Status must be inactive.",path:["abatement"]}),t.abatement&&t.onset&&t.abatement<t.onset&&a.addIssue({code:Ge.ZodIssueCode.custom,message:"Abatement date must be after onset date.",path:["abatement"]})},ni=dn.superRefine((t,a)=>pn(t,a)),ii=dn.extend({condition:Ge.object({code:Ge.string({required_error:"Please choose a condition."}),display:Ge.string().optional(),system:Ge.string().optional()})}).superRefine((t,a)=>pn(t,a));try{Jt.displayName="getAddConditionData",Jt.__docgenInfo={description:"",displayName:"getAddConditionData",props:{condition:{defaultValue:null,description:"",name:"condition",required:!0,type:{name:"ConditionModel"}}}}}catch{}try{Zt.displayName="getEditingPatientConditionData",Zt.__docgenInfo={description:"",displayName:"getEditingPatientConditionData",props:{condition:{defaultValue:null,description:"",name:"condition",required:!0,type:{name:"ConditionModel"}}}}}catch{}const Pt=({isOpen:t,onAfterClosed:a,children:o,className:s})=>E.createElement(Ht,{appear:!0,show:t,as:fe.Fragment},E.createElement(Mr,{as:"div",className:"ctw-relative ctw-z-[10100]",onClose:()=>{}},E.createElement(Ht.Child,{as:fe.Fragment,enter:"ctw-ease-out ctw-duration-300",enterFrom:"ctw-opacity-0",enterTo:"ctw-opacity-100",leave:"ctw-ease-in ctw-duration-200",leaveFrom:"ctw-opacity-100",leaveTo:"ctw-opacity-0",afterLeave:a},E.createElement("div",{className:"ctw-fixed ctw-inset-0  ctw-transition-opacity"},E.createElement("div",{className:"ctw-h-full ctw-w-full ctw-bg-content-light ctw-opacity-75"}))),E.createElement("div",{className:"ctw-fixed ctw-inset-0 ctw-overflow-auto"},E.createElement("div",{className:"ctw-flex ctw-min-h-full ctw-items-center ctw-justify-center ctw-p-4 ctw-text-center"},E.createElement(Ht.Child,{as:fe.Fragment,enter:"ctw-ease-out ctw-duration-300",enterFrom:"ctw-opacity-0 ctw-scale-95",enterTo:"ctw-opacity-100 ctw-scale-100",leave:"ctw-ease-in ctw-duration-200",leaveFrom:"ctw-opacity-100 ctw-scale-100",leaveTo:"ctw-opacity-0 ctw-scale-95"},E.createElement(Mr.Panel,{className:ln("ctw-min-w-fit ctw-max-w-lg ctw-transform ctw-rounded-lg ctw-bg-white ctw-py-10 ctw-px-10 ctw-align-middle ctw-shadow-xl",s)},E.createElement("div",{className:"ctw-flex ctw-h-full ctw-flex-col ctw-space-y-6"},o)))))));try{Pt.displayName="Modal",Pt.__docgenInfo={description:"",displayName:"Modal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onAfterClosed:{defaultValue:null,description:"",name:"onAfterClosed",required:!1,type:{name:"(() => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Qt=({resource:t,resourceName:a,onDelete:o,onClose:s,...d})=>{const[h,v]=fe.useState(),[m,C]=fe.useState(!1),U=async()=>{try{C(!0),await o(),C(!1),s()}catch(G){throw C(!1),v("Something went wrong. Please try again."),G}},V=t.resourceType.toLowerCase();return E.createElement(Pt,{onAfterClosed:()=>v(void 0),...d},h&&E.createElement(Bn,{header:h}),E.createElement("div",{className:"ctw-items-left ctw-flex ctw-h-full ctw-flex-col ctw-space-y-2 ctw-overflow-y-auto"},E.createElement("span",{className:"ctw-text-left ctw-text-lg ctw-font-medium ctw-text-content-black"},`Remove this ${V}?`),E.createElement("span",{className:"ctw-subtext ctw-max-w-sm ctw-text-left ctw-text-content-light"},"This will remove"," ",E.createElement("span",{className:"ctw-font-medium"},a)," from this patient's ",V," list.")),E.createElement("div",{className:"ctw-flex ctw-w-full ctw-space-x-4"},E.createElement("button",{type:"button",onClick:s,className:"ctw-btn-default ctw-flex-1"},"Cancel"),E.createElement("button",{type:"button",disabled:m,onClick:U,className:"ctw-btn-primary ctw-save-button ctw-flex-1"},m?"Removing...":"Remove",m&&E.createElement(Zn,{className:"ctw-ml-2 ctw-text-white"}))))};try{Qt.displayName="ModalConfirmDelete",Qt.__docgenInfo={description:"",displayName:"ModalConfirmDelete",props:{resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"Resource"}},resourceName:{defaultValue:null,description:"",name:"resourceName",required:!0,type:{name:"string"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!0,type:{name:"() => Promise<void>"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}}}}}catch{}function uo(){var s;const{openDrawer:t}=Ir(),o=((s=en().data)==null?void 0:s.id)??"";return d=>{const h=new tn(d?Ln(d.resource):Mn(o));t({component:v=>E.createElement(rn,{title:"Add Condition",schema:ii,action:M.curry(nn)(h,o),data:Jt({condition:h}),...v})})}}function ai(){var s;const{openDrawer:t}=Ir(),o=((s=en().data)==null?void 0:s.id)??"";return d=>{t({component:h=>E.createElement(rn,{title:"Edit Condition",header:E.createElement(Rt,{condition:d}),schema:ni,action:M.curry(nn)(d,o),data:Zt({condition:d}),...h})})}}function po(){const{openModal:t}=Un(),{getRequestContext:a}=_r();return o=>{t({component:s=>E.createElement(Qt,{resource:o.resource,resourceName:o.display??"unnamed condition",onDelete:async()=>{const d=await a();await Xn(o.resource,d)},...s})})}}var oi=Jn(),Xt={},Lt={};Lt.byteLength=li;Lt.toByteArray=di;Lt.fromByteArray=fi;var it=[],Ke=[],si=typeof Uint8Array<"u"?Uint8Array:Array,kt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var bt=0,ci=kt.length;bt<ci;++bt)it[bt]=kt[bt],Ke[kt.charCodeAt(bt)]=bt;Ke["-".charCodeAt(0)]=62;Ke["_".charCodeAt(0)]=63;function mn(t){var a=t.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=t.indexOf("=");o===-1&&(o=a);var s=o===a?0:4-o%4;return[o,s]}function li(t){var a=mn(t),o=a[0],s=a[1];return(o+s)*3/4-s}function ui(t,a,o){return(a+o)*3/4-o}function di(t){var a,o=mn(t),s=o[0],d=o[1],h=new si(ui(t,s,d)),v=0,m=d>0?s-4:s,C;for(C=0;C<m;C+=4)a=Ke[t.charCodeAt(C)]<<18|Ke[t.charCodeAt(C+1)]<<12|Ke[t.charCodeAt(C+2)]<<6|Ke[t.charCodeAt(C+3)],h[v++]=a>>16&255,h[v++]=a>>8&255,h[v++]=a&255;return d===2&&(a=Ke[t.charCodeAt(C)]<<2|Ke[t.charCodeAt(C+1)]>>4,h[v++]=a&255),d===1&&(a=Ke[t.charCodeAt(C)]<<10|Ke[t.charCodeAt(C+1)]<<4|Ke[t.charCodeAt(C+2)]>>2,h[v++]=a>>8&255,h[v++]=a&255),h}function pi(t){return it[t>>18&63]+it[t>>12&63]+it[t>>6&63]+it[t&63]}function mi(t,a,o){for(var s,d=[],h=a;h<o;h+=3)s=(t[h]<<16&16711680)+(t[h+1]<<8&65280)+(t[h+2]&255),d.push(pi(s));return d.join("")}function fi(t){for(var a,o=t.length,s=o%3,d=[],h=16383,v=0,m=o-s;v<m;v+=h)d.push(mi(t,v,v+h>m?m:v+h));return s===1?(a=t[o-1],d.push(it[a>>2]+it[a<<4&63]+"==")):s===2&&(a=(t[o-2]<<8)+t[o-1],d.push(it[a>>10]+it[a>>4&63]+it[a<<2&63]+"=")),d.join("")}var Or={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Or.read=function(t,a,o,s,d){var h,v,m=d*8-s-1,C=(1<<m)-1,U=C>>1,V=-7,G=o?d-1:0,ae=o?-1:1,oe=t[a+G];for(G+=ae,h=oe&(1<<-V)-1,oe>>=-V,V+=m;V>0;h=h*256+t[a+G],G+=ae,V-=8);for(v=h&(1<<-V)-1,h>>=-V,V+=s;V>0;v=v*256+t[a+G],G+=ae,V-=8);if(h===0)h=1-U;else{if(h===C)return v?NaN:(oe?-1:1)*(1/0);v=v+Math.pow(2,s),h=h-U}return(oe?-1:1)*v*Math.pow(2,h-s)};Or.write=function(t,a,o,s,d,h){var v,m,C,U=h*8-d-1,V=(1<<U)-1,G=V>>1,ae=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,oe=s?0:h-1,ve=s?1:-1,_e=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(m=isNaN(a)?1:0,v=V):(v=Math.floor(Math.log(a)/Math.LN2),a*(C=Math.pow(2,-v))<1&&(v--,C*=2),v+G>=1?a+=ae/C:a+=ae*Math.pow(2,1-G),a*C>=2&&(v++,C/=2),v+G>=V?(m=0,v=V):v+G>=1?(m=(a*C-1)*Math.pow(2,d),v=v+G):(m=a*Math.pow(2,G-1)*Math.pow(2,d),v=0));d>=8;t[o+oe]=m&255,oe+=ve,m/=256,d-=8);for(v=v<<d|m,U+=d;U>0;t[o+oe]=v&255,oe+=ve,v/=256,U-=8);t[o+oe-ve]|=_e*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var a=Lt,o=Or,s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=m,t.SlowBuffer=se,t.INSPECT_MAX_BYTES=50;var d=2147483647;t.kMaxLength=d,m.TYPED_ARRAY_SUPPORT=h(),!m.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var c=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(c,n),c.foo()===42}catch{return!1}}Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.buffer}}),Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(m.isBuffer(this))return this.byteOffset}});function v(c){if(c>d)throw new RangeError('The value "'+c+'" is invalid for option "size"');var n=new Uint8Array(c);return Object.setPrototypeOf(n,m.prototype),n}function m(c,n,i){if(typeof c=="number"){if(typeof n=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return G(c)}return C(c,n,i)}m.poolSize=8192;function C(c,n,i){if(typeof c=="string")return ae(c,n);if(ArrayBuffer.isView(c))return ve(c);if(c==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);if(R(c,ArrayBuffer)||c&&R(c.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(R(c,SharedArrayBuffer)||c&&R(c.buffer,SharedArrayBuffer)))return _e(c,n,i);if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var l=c.valueOf&&c.valueOf();if(l!=null&&l!==c)return m.from(l,n,i);var b=Ve(c);if(b)return b;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof c[Symbol.toPrimitive]=="function")return m.from(c[Symbol.toPrimitive]("string"),n,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c)}m.from=function(c,n,i){return C(c,n,i)},Object.setPrototypeOf(m.prototype,Uint8Array.prototype),Object.setPrototypeOf(m,Uint8Array);function U(c){if(typeof c!="number")throw new TypeError('"size" argument must be of type number');if(c<0)throw new RangeError('The value "'+c+'" is invalid for option "size"')}function V(c,n,i){return U(c),c<=0?v(c):n!==void 0?typeof i=="string"?v(c).fill(n,i):v(c).fill(n):v(c)}m.alloc=function(c,n,i){return V(c,n,i)};function G(c){return U(c),v(c<0?0:S(c)|0)}m.allocUnsafe=function(c){return G(c)},m.allocUnsafeSlow=function(c){return G(c)};function ae(c,n){if((typeof n!="string"||n==="")&&(n="utf8"),!m.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var i=we(c,n)|0,l=v(i),b=l.write(c,n);return b!==i&&(l=l.slice(0,b)),l}function oe(c){for(var n=c.length<0?0:S(c.length)|0,i=v(n),l=0;l<n;l+=1)i[l]=c[l]&255;return i}function ve(c){if(R(c,Uint8Array)){var n=new Uint8Array(c);return _e(n.buffer,n.byteOffset,n.byteLength)}return oe(c)}function _e(c,n,i){if(n<0||c.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<n+(i||0))throw new RangeError('"length" is outside of buffer bounds');var l;return n===void 0&&i===void 0?l=new Uint8Array(c):i===void 0?l=new Uint8Array(c,n):l=new Uint8Array(c,n,i),Object.setPrototypeOf(l,m.prototype),l}function Ve(c){if(m.isBuffer(c)){var n=S(c.length)|0,i=v(n);return i.length===0||c.copy(i,0,0,n),i}if(c.length!==void 0)return typeof c.length!="number"||at(c.length)?v(0):oe(c);if(c.type==="Buffer"&&Array.isArray(c.data))return oe(c.data)}function S(c){if(c>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return c|0}function se(c){return+c!=c&&(c=0),m.alloc(+c)}m.isBuffer=function(n){return n!=null&&n._isBuffer===!0&&n!==m.prototype},m.compare=function(n,i){if(R(n,Uint8Array)&&(n=m.from(n,n.offset,n.byteLength)),R(i,Uint8Array)&&(i=m.from(i,i.offset,i.byteLength)),!m.isBuffer(n)||!m.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===i)return 0;for(var l=n.length,b=i.length,w=0,T=Math.min(l,b);w<T;++w)if(n[w]!==i[w]){l=n[w],b=i[w];break}return l<b?-1:b<l?1:0},m.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},m.concat=function(n,i){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return m.alloc(0);var l;if(i===void 0)for(i=0,l=0;l<n.length;++l)i+=n[l].length;var b=m.allocUnsafe(i),w=0;for(l=0;l<n.length;++l){var T=n[l];if(R(T,Uint8Array))w+T.length>b.length?m.from(T).copy(b,w):Uint8Array.prototype.set.call(b,T,w);else if(m.isBuffer(T))T.copy(b,w);else throw new TypeError('"list" argument must be an Array of Buffers');w+=T.length}return b};function we(c,n){if(m.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||R(c,ArrayBuffer))return c.byteLength;if(typeof c!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof c);var i=c.length,l=arguments.length>2&&arguments[2]===!0;if(!l&&i===0)return 0;for(var b=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return O(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return ie(c).length;default:if(b)return l?-1:O(c).length;n=(""+n).toLowerCase(),b=!0}}m.byteLength=we;function W(c,n,i){var l=!1;if((n===void 0||n<0)&&(n=0),n>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,n>>>=0,i<=n))return"";for(c||(c="utf8");;)switch(c){case"hex":return Ue(this,n,i);case"utf8":case"utf-8":return xe(this,n,i);case"ascii":return Le(this,n,i);case"latin1":case"binary":return Me(this,n,i);case"base64":return ce(this,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Oe(this,n,i);default:if(l)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),l=!0}}m.prototype._isBuffer=!0;function le(c,n,i){var l=c[n];c[n]=c[i],c[i]=l}m.prototype.swap16=function(){var n=this.length;if(n%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<n;i+=2)le(this,i,i+1);return this},m.prototype.swap32=function(){var n=this.length;if(n%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<n;i+=4)le(this,i,i+3),le(this,i+1,i+2);return this},m.prototype.swap64=function(){var n=this.length;if(n%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<n;i+=8)le(this,i,i+7),le(this,i+1,i+6),le(this,i+2,i+5),le(this,i+3,i+4);return this},m.prototype.toString=function(){var n=this.length;return n===0?"":arguments.length===0?xe(this,0,n):W.apply(this,arguments)},m.prototype.toLocaleString=m.prototype.toString,m.prototype.equals=function(n){if(!m.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:m.compare(this,n)===0},m.prototype.inspect=function(){var n="",i=t.INSPECT_MAX_BYTES;return n=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(n+=" ... "),"<Buffer "+n+">"},s&&(m.prototype[s]=m.prototype.inspect),m.prototype.compare=function(n,i,l,b,w){if(R(n,Uint8Array)&&(n=m.from(n,n.offset,n.byteLength)),!m.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(i===void 0&&(i=0),l===void 0&&(l=n?n.length:0),b===void 0&&(b=0),w===void 0&&(w=this.length),i<0||l>n.length||b<0||w>this.length)throw new RangeError("out of range index");if(b>=w&&i>=l)return 0;if(b>=w)return-1;if(i>=l)return 1;if(i>>>=0,l>>>=0,b>>>=0,w>>>=0,this===n)return 0;for(var T=w-b,q=l-i,Y=Math.min(T,q),D=this.slice(b,w),_=n.slice(i,l),Q=0;Q<Y;++Q)if(D[Q]!==_[Q]){T=D[Q],q=_[Q];break}return T<q?-1:q<T?1:0};function pe(c,n,i,l,b){if(c.length===0)return-1;if(typeof i=="string"?(l=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,at(i)&&(i=b?0:c.length-1),i<0&&(i=c.length+i),i>=c.length){if(b)return-1;i=c.length-1}else if(i<0)if(b)i=0;else return-1;if(typeof n=="string"&&(n=m.from(n,l)),m.isBuffer(n))return n.length===0?-1:K(c,n,i,l,b);if(typeof n=="number")return n=n&255,typeof Uint8Array.prototype.indexOf=="function"?b?Uint8Array.prototype.indexOf.call(c,n,i):Uint8Array.prototype.lastIndexOf.call(c,n,i):K(c,[n],i,l,b);throw new TypeError("val must be string, number or Buffer")}function K(c,n,i,l,b){var w=1,T=c.length,q=n.length;if(l!==void 0&&(l=String(l).toLowerCase(),l==="ucs2"||l==="ucs-2"||l==="utf16le"||l==="utf-16le")){if(c.length<2||n.length<2)return-1;w=2,T/=2,q/=2,i/=2}function Y(qe,$e){return w===1?qe[$e]:qe.readUInt16BE($e*w)}var D;if(b){var _=-1;for(D=i;D<T;D++)if(Y(c,D)===Y(n,_===-1?0:D-_)){if(_===-1&&(_=D),D-_+1===q)return _*w}else _!==-1&&(D-=D-_),_=-1}else for(i+q>T&&(i=T-q),D=i;D>=0;D--){for(var Q=!0,he=0;he<q;he++)if(Y(c,D+he)!==Y(n,he)){Q=!1;break}if(Q)return D}return-1}m.prototype.includes=function(n,i,l){return this.indexOf(n,i,l)!==-1},m.prototype.indexOf=function(n,i,l){return pe(this,n,i,l,!0)},m.prototype.lastIndexOf=function(n,i,l){return pe(this,n,i,l,!1)};function be(c,n,i,l){i=Number(i)||0;var b=c.length-i;l?(l=Number(l),l>b&&(l=b)):l=b;var w=n.length;l>w/2&&(l=w/2);for(var T=0;T<l;++T){var q=parseInt(n.substr(T*2,2),16);if(at(q))return T;c[i+T]=q}return T}function de(c,n,i,l){return L(O(n,c.length-i),c,i,l)}function ze(c,n,i,l){return L(He(n),c,i,l)}function Be(c,n,i,l){return L(ie(n),c,i,l)}function Ie(c,n,i,l){return L(Te(n,c.length-i),c,i,l)}m.prototype.write=function(n,i,l,b){if(i===void 0)b="utf8",l=this.length,i=0;else if(l===void 0&&typeof i=="string")b=i,l=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(l)?(l=l>>>0,b===void 0&&(b="utf8")):(b=l,l=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var w=this.length-i;if((l===void 0||l>w)&&(l=w),n.length>0&&(l<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");b||(b="utf8");for(var T=!1;;)switch(b){case"hex":return be(this,n,i,l);case"utf8":case"utf-8":return de(this,n,i,l);case"ascii":case"latin1":case"binary":return ze(this,n,i,l);case"base64":return Be(this,n,i,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie(this,n,i,l);default:if(T)throw new TypeError("Unknown encoding: "+b);b=(""+b).toLowerCase(),T=!0}},m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ce(c,n,i){return n===0&&i===c.length?a.fromByteArray(c):a.fromByteArray(c.slice(n,i))}function xe(c,n,i){i=Math.min(c.length,i);for(var l=[],b=n;b<i;){var w=c[b],T=null,q=w>239?4:w>223?3:w>191?2:1;if(b+q<=i){var Y,D,_,Q;switch(q){case 1:w<128&&(T=w);break;case 2:Y=c[b+1],(Y&192)===128&&(Q=(w&31)<<6|Y&63,Q>127&&(T=Q));break;case 3:Y=c[b+1],D=c[b+2],(Y&192)===128&&(D&192)===128&&(Q=(w&15)<<12|(Y&63)<<6|D&63,Q>2047&&(Q<55296||Q>57343)&&(T=Q));break;case 4:Y=c[b+1],D=c[b+2],_=c[b+3],(Y&192)===128&&(D&192)===128&&(_&192)===128&&(Q=(w&15)<<18|(Y&63)<<12|(D&63)<<6|_&63,Q>65535&&Q<1114112&&(T=Q))}}T===null?(T=65533,q=1):T>65535&&(T-=65536,l.push(T>>>10&1023|55296),T=56320|T&1023),l.push(T),b+=q}return Ce(l)}var Ee=4096;function Ce(c){var n=c.length;if(n<=Ee)return String.fromCharCode.apply(String,c);for(var i="",l=0;l<n;)i+=String.fromCharCode.apply(String,c.slice(l,l+=Ee));return i}function Le(c,n,i){var l="";i=Math.min(c.length,i);for(var b=n;b<i;++b)l+=String.fromCharCode(c[b]&127);return l}function Me(c,n,i){var l="";i=Math.min(c.length,i);for(var b=n;b<i;++b)l+=String.fromCharCode(c[b]);return l}function Ue(c,n,i){var l=c.length;(!n||n<0)&&(n=0),(!i||i<0||i>l)&&(i=l);for(var b="",w=n;w<i;++w)b+=mt[c[w]];return b}function Oe(c,n,i){for(var l=c.slice(n,i),b="",w=0;w<l.length-1;w+=2)b+=String.fromCharCode(l[w]+l[w+1]*256);return b}m.prototype.slice=function(n,i){var l=this.length;n=~~n,i=i===void 0?l:~~i,n<0?(n+=l,n<0&&(n=0)):n>l&&(n=l),i<0?(i+=l,i<0&&(i=0)):i>l&&(i=l),i<n&&(i=n);var b=this.subarray(n,i);return Object.setPrototypeOf(b,m.prototype),b};function ee(c,n,i){if(c%1!==0||c<0)throw new RangeError("offset is not uint");if(c+n>i)throw new RangeError("Trying to access beyond buffer length")}m.prototype.readUintLE=m.prototype.readUIntLE=function(n,i,l){n=n>>>0,i=i>>>0,l||ee(n,i,this.length);for(var b=this[n],w=1,T=0;++T<i&&(w*=256);)b+=this[n+T]*w;return b},m.prototype.readUintBE=m.prototype.readUIntBE=function(n,i,l){n=n>>>0,i=i>>>0,l||ee(n,i,this.length);for(var b=this[n+--i],w=1;i>0&&(w*=256);)b+=this[n+--i]*w;return b},m.prototype.readUint8=m.prototype.readUInt8=function(n,i){return n=n>>>0,i||ee(n,1,this.length),this[n]},m.prototype.readUint16LE=m.prototype.readUInt16LE=function(n,i){return n=n>>>0,i||ee(n,2,this.length),this[n]|this[n+1]<<8},m.prototype.readUint16BE=m.prototype.readUInt16BE=function(n,i){return n=n>>>0,i||ee(n,2,this.length),this[n]<<8|this[n+1]},m.prototype.readUint32LE=m.prototype.readUInt32LE=function(n,i){return n=n>>>0,i||ee(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+this[n+3]*16777216},m.prototype.readUint32BE=m.prototype.readUInt32BE=function(n,i){return n=n>>>0,i||ee(n,4,this.length),this[n]*16777216+(this[n+1]<<16|this[n+2]<<8|this[n+3])},m.prototype.readIntLE=function(n,i,l){n=n>>>0,i=i>>>0,l||ee(n,i,this.length);for(var b=this[n],w=1,T=0;++T<i&&(w*=256);)b+=this[n+T]*w;return w*=128,b>=w&&(b-=Math.pow(2,8*i)),b},m.prototype.readIntBE=function(n,i,l){n=n>>>0,i=i>>>0,l||ee(n,i,this.length);for(var b=i,w=1,T=this[n+--b];b>0&&(w*=256);)T+=this[n+--b]*w;return w*=128,T>=w&&(T-=Math.pow(2,8*i)),T},m.prototype.readInt8=function(n,i){return n=n>>>0,i||ee(n,1,this.length),this[n]&128?(255-this[n]+1)*-1:this[n]},m.prototype.readInt16LE=function(n,i){n=n>>>0,i||ee(n,2,this.length);var l=this[n]|this[n+1]<<8;return l&32768?l|4294901760:l},m.prototype.readInt16BE=function(n,i){n=n>>>0,i||ee(n,2,this.length);var l=this[n+1]|this[n]<<8;return l&32768?l|4294901760:l},m.prototype.readInt32LE=function(n,i){return n=n>>>0,i||ee(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},m.prototype.readInt32BE=function(n,i){return n=n>>>0,i||ee(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},m.prototype.readFloatLE=function(n,i){return n=n>>>0,i||ee(n,4,this.length),o.read(this,n,!0,23,4)},m.prototype.readFloatBE=function(n,i){return n=n>>>0,i||ee(n,4,this.length),o.read(this,n,!1,23,4)},m.prototype.readDoubleLE=function(n,i){return n=n>>>0,i||ee(n,8,this.length),o.read(this,n,!0,52,8)},m.prototype.readDoubleBE=function(n,i){return n=n>>>0,i||ee(n,8,this.length),o.read(this,n,!1,52,8)};function B(c,n,i,l,b,w){if(!m.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>b||n<w)throw new RangeError('"value" argument is out of bounds');if(i+l>c.length)throw new RangeError("Index out of range")}m.prototype.writeUintLE=m.prototype.writeUIntLE=function(n,i,l,b){if(n=+n,i=i>>>0,l=l>>>0,!b){var w=Math.pow(2,8*l)-1;B(this,n,i,l,w,0)}var T=1,q=0;for(this[i]=n&255;++q<l&&(T*=256);)this[i+q]=n/T&255;return i+l},m.prototype.writeUintBE=m.prototype.writeUIntBE=function(n,i,l,b){if(n=+n,i=i>>>0,l=l>>>0,!b){var w=Math.pow(2,8*l)-1;B(this,n,i,l,w,0)}var T=l-1,q=1;for(this[i+T]=n&255;--T>=0&&(q*=256);)this[i+T]=n/q&255;return i+l},m.prototype.writeUint8=m.prototype.writeUInt8=function(n,i,l){return n=+n,i=i>>>0,l||B(this,n,i,1,255,0),this[i]=n&255,i+1},m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(n,i,l){return n=+n,i=i>>>0,l||B(this,n,i,2,65535,0),this[i]=n&255,this[i+1]=n>>>8,i+2},m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(n,i,l){return n=+n,i=i>>>0,l||B(this,n,i,2,65535,0),this[i]=n>>>8,this[i+1]=n&255,i+2},m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(n,i,l){return n=+n,i=i>>>0,l||B(this,n,i,4,4294967295,0),this[i+3]=n>>>24,this[i+2]=n>>>16,this[i+1]=n>>>8,this[i]=n&255,i+4},m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(n,i,l){return n=+n,i=i>>>0,l||B(this,n,i,4,4294967295,0),this[i]=n>>>24,this[i+1]=n>>>16,this[i+2]=n>>>8,this[i+3]=n&255,i+4},m.prototype.writeIntLE=function(n,i,l,b){if(n=+n,i=i>>>0,!b){var w=Math.pow(2,8*l-1);B(this,n,i,l,w-1,-w)}var T=0,q=1,Y=0;for(this[i]=n&255;++T<l&&(q*=256);)n<0&&Y===0&&this[i+T-1]!==0&&(Y=1),this[i+T]=(n/q>>0)-Y&255;return i+l},m.prototype.writeIntBE=function(n,i,l,b){if(n=+n,i=i>>>0,!b){var w=Math.pow(2,8*l-1);B(this,n,i,l,w-1,-w)}var T=l-1,q=1,Y=0;for(this[i+T]=n&255;--T>=0&&(q*=256);)n<0&&Y===0&&this[i+T+1]!==0&&(Y=1),this[i+T]=(n/q>>0)-Y&255;return i+l},m.prototype.writeInt8=function(n,i,l){return n=+n,i=i>>>0,l||B(this,n,i,1,127,-128),n<0&&(n=255+n+1),this[i]=n&255,i+1},m.prototype.writeInt16LE=function(n,i,l){return n=+n,i=i>>>0,l||B(this,n,i,2,32767,-32768),this[i]=n&255,this[i+1]=n>>>8,i+2},m.prototype.writeInt16BE=function(n,i,l){return n=+n,i=i>>>0,l||B(this,n,i,2,32767,-32768),this[i]=n>>>8,this[i+1]=n&255,i+2},m.prototype.writeInt32LE=function(n,i,l){return n=+n,i=i>>>0,l||B(this,n,i,4,2147483647,-2147483648),this[i]=n&255,this[i+1]=n>>>8,this[i+2]=n>>>16,this[i+3]=n>>>24,i+4},m.prototype.writeInt32BE=function(n,i,l){return n=+n,i=i>>>0,l||B(this,n,i,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[i]=n>>>24,this[i+1]=n>>>16,this[i+2]=n>>>8,this[i+3]=n&255,i+4};function dt(c,n,i,l,b,w){if(i+l>c.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function ue(c,n,i,l,b){return n=+n,i=i>>>0,b||dt(c,n,i,4),o.write(c,n,i,l,23,4),i+4}m.prototype.writeFloatLE=function(n,i,l){return ue(this,n,i,!0,l)},m.prototype.writeFloatBE=function(n,i,l){return ue(this,n,i,!1,l)};function pt(c,n,i,l,b){return n=+n,i=i>>>0,b||dt(c,n,i,8),o.write(c,n,i,l,52,8),i+8}m.prototype.writeDoubleLE=function(n,i,l){return pt(this,n,i,!0,l)},m.prototype.writeDoubleBE=function(n,i,l){return pt(this,n,i,!1,l)},m.prototype.copy=function(n,i,l,b){if(!m.isBuffer(n))throw new TypeError("argument should be a Buffer");if(l||(l=0),!b&&b!==0&&(b=this.length),i>=n.length&&(i=n.length),i||(i=0),b>0&&b<l&&(b=l),b===l||n.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("sourceEnd out of bounds");b>this.length&&(b=this.length),n.length-i<b-l&&(b=n.length-i+l);var w=b-l;return this===n&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,l,b):Uint8Array.prototype.set.call(n,this.subarray(l,b),i),w},m.prototype.fill=function(n,i,l,b){if(typeof n=="string"){if(typeof i=="string"?(b=i,i=0,l=this.length):typeof l=="string"&&(b=l,l=this.length),b!==void 0&&typeof b!="string")throw new TypeError("encoding must be a string");if(typeof b=="string"&&!m.isEncoding(b))throw new TypeError("Unknown encoding: "+b);if(n.length===1){var w=n.charCodeAt(0);(b==="utf8"&&w<128||b==="latin1")&&(n=w)}}else typeof n=="number"?n=n&255:typeof n=="boolean"&&(n=Number(n));if(i<0||this.length<i||this.length<l)throw new RangeError("Out of range index");if(l<=i)return this;i=i>>>0,l=l===void 0?this.length:l>>>0,n||(n=0);var T;if(typeof n=="number")for(T=i;T<l;++T)this[T]=n;else{var q=m.isBuffer(n)?n:m.from(n,b),Y=q.length;if(Y===0)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(T=0;T<l-i;++T)this[T+i]=q[T%Y]}return this};var te=/[^+/0-9A-Za-z-_]/g;function I(c){if(c=c.split("=")[0],c=c.trim().replace(te,""),c.length<2)return"";for(;c.length%4!==0;)c=c+"=";return c}function O(c,n){n=n||1/0;for(var i,l=c.length,b=null,w=[],T=0;T<l;++T){if(i=c.charCodeAt(T),i>55295&&i<57344){if(!b){if(i>56319){(n-=3)>-1&&w.push(239,191,189);continue}else if(T+1===l){(n-=3)>-1&&w.push(239,191,189);continue}b=i;continue}if(i<56320){(n-=3)>-1&&w.push(239,191,189),b=i;continue}i=(b-55296<<10|i-56320)+65536}else b&&(n-=3)>-1&&w.push(239,191,189);if(b=null,i<128){if((n-=1)<0)break;w.push(i)}else if(i<2048){if((n-=2)<0)break;w.push(i>>6|192,i&63|128)}else if(i<65536){if((n-=3)<0)break;w.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((n-=4)<0)break;w.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return w}function He(c){for(var n=[],i=0;i<c.length;++i)n.push(c.charCodeAt(i)&255);return n}function Te(c,n){for(var i,l,b,w=[],T=0;T<c.length&&!((n-=2)<0);++T)i=c.charCodeAt(T),l=i>>8,b=i%256,w.push(b),w.push(l);return w}function ie(c){return a.toByteArray(I(c))}function L(c,n,i,l){for(var b=0;b<l&&!(b+i>=n.length||b>=c.length);++b)n[b+i]=c[b];return b}function R(c,n){return c instanceof n||c!=null&&c.constructor!=null&&c.constructor.name!=null&&c.constructor.name===n.name}function at(c){return c!==c}var mt=function(){for(var c="0123456789abcdef",n=new Array(256),i=0;i<16;++i)for(var l=i*16,b=0;b<16;++b)n[l+b]=c[i]+c[b];return n}()})(Xt);var x={};(function(t){var a=t;(function(o){function s(e){var r=Array.prototype.slice,u=e.length,f=function(y,P){return function(){return P.apply(this,y.concat(r.call(arguments)))}},p=function(){var y=r.call(arguments);return y.length<u?f(y,p):e.apply(this,r.apply(arguments,[0,u]))};return p}var d=function(e,r){for(var u=0;u<r.length;u+=1)e(r[u],u,r)},h=function(e,r,u){var f=r;return d(function(p,y){f=e(f,p,y)},u),f},v=function(e,r){var u=new Array(r.length);return d(function(f,p){u[p]=e(f)},r),u},m=function(e,r){var u=[];return d(function(f,p){e(f,p)&&u.push(f)},r),u},C=function(e,r){for(var u=0;u<e.length;u+=1)if(e[u]===r)return!0;return!1};function U(e){return function(){return e}}function V(e){return e.toString()}var G=function(e,r){return r.join(e)},ae=function(e,r,u){return e+u+r},oe=Array.prototype.concat,ve=32767;function _e(e){for(var r=[],u=0;u<e.length;u+=ve){var f=e.slice(u,u+ve);r=oe.apply(r,f)}return r}function Ve(e,r){for(var u=Object(e),f=1;f<arguments.length;f++){var p=arguments[f];if(p!=null)for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&(u[y]=p[y])}return u}S.prototype=new Object,S.prototype.constructor=S,S.superclass=Object.prototype;function S(){this.init()}S.prototype.init=function(){this.reduceActions=[],this.reduceActions[3]=function(e){return new be(e[0],e[2])},this.reduceActions[5]=function(e){return new de(e[0],e[2])},this.reduceActions[7]=function(e){return new ze(e[0],e[2])},this.reduceActions[8]=function(e){return new Be(e[0],e[2])},this.reduceActions[10]=function(e){return new Ie(e[0],e[2])},this.reduceActions[11]=function(e){return new ce(e[0],e[2])},this.reduceActions[12]=function(e){return new xe(e[0],e[2])},this.reduceActions[13]=function(e){return new Ee(e[0],e[2])},this.reduceActions[15]=function(e){return new Ce(e[0],e[2])},this.reduceActions[16]=function(e){return new Le(e[0],e[2])},this.reduceActions[18]=function(e){return new Me(e[0],e[2])},this.reduceActions[19]=function(e){return new Ue(e[0],e[2])},this.reduceActions[20]=function(e){return new Oe(e[0],e[2])},this.reduceActions[22]=function(e){return new pe(e[1])},this.reduceActions[24]=function(e){return new ee(e[0],e[2])},this.reduceActions[25]=function(e){return new B(void 0,void 0,e[0])},this.reduceActions[27]=function(e){return e[0].locationPath=e[2],e[0]},this.reduceActions[28]=function(e){return e[0].locationPath=e[2],e[0].locationPath.steps.unshift(new I(I.DESCENDANTORSELF,O.nodeTest,[])),e[0]},this.reduceActions[29]=function(e){return new B(e[0],[],void 0)},this.reduceActions[30]=function(e){return _.instance_of(e[0],B)?(e[0].filterPredicates==null&&(e[0].filterPredicates=[]),e[0].filterPredicates.push(e[1]),e[0]):new B(e[0],[e[1]],void 0)},this.reduceActions[32]=function(e){return e[1]},this.reduceActions[33]=function(e){return new L(e[0])},this.reduceActions[34]=function(e){return new R(e[0])},this.reduceActions[36]=function(e){return new Te(e[0],[])},this.reduceActions[37]=function(e){return new Te(e[0],e[2])},this.reduceActions[38]=function(e){return[e[0]]},this.reduceActions[39]=function(e){return e[2].unshift(e[0]),e[2]},this.reduceActions[43]=function(e){return new te(!0,[])},this.reduceActions[44]=function(e){return e[1].absolute=!0,e[1]},this.reduceActions[46]=function(e){return new te(!1,[e[0]])},this.reduceActions[47]=function(e){return e[0].steps.push(e[2]),e[0]},this.reduceActions[49]=function(e){return new I(e[0],e[1],[])},this.reduceActions[50]=function(e){return new I(I.CHILD,e[0],[])},this.reduceActions[51]=function(e){return new I(e[0],e[1],e[2])},this.reduceActions[52]=function(e){return new I(I.CHILD,e[0],e[1])},this.reduceActions[54]=function(e){return[e[0]]},this.reduceActions[55]=function(e){return e[1].unshift(e[0]),e[1]},this.reduceActions[56]=function(e){return e[0]=="ancestor"?I.ANCESTOR:e[0]=="ancestor-or-self"?I.ANCESTORORSELF:e[0]=="attribute"?I.ATTRIBUTE:e[0]=="child"?I.CHILD:e[0]=="descendant"?I.DESCENDANT:e[0]=="descendant-or-self"?I.DESCENDANTORSELF:e[0]=="following"?I.FOLLOWING:e[0]=="following-sibling"?I.FOLLOWINGSIBLING:e[0]=="namespace"?I.NAMESPACE:e[0]=="parent"?I.PARENT:e[0]=="preceding"?I.PRECEDING:e[0]=="preceding-sibling"?I.PRECEDINGSIBLING:e[0]=="self"?I.SELF:-1},this.reduceActions[57]=function(e){return I.ATTRIBUTE},this.reduceActions[59]=function(e){return e[0]=="comment"?O.commentTest:e[0]=="text"?O.textTest:e[0]=="processing-instruction"?O.anyPiTest:e[0]=="node"?O.nodeTest:new O(-1,void 0)},this.reduceActions[60]=function(e){return new O.PITest(e[2])},this.reduceActions[61]=function(e){return e[1]},this.reduceActions[63]=function(e){return e[1].absolute=!0,e[1].steps.unshift(new I(I.DESCENDANTORSELF,O.nodeTest,[])),e[1]},this.reduceActions[64]=function(e){return e[0].steps.push(new I(I.DESCENDANTORSELF,O.nodeTest,[])),e[0].steps.push(e[2]),e[0]},this.reduceActions[65]=function(e){return new I(I.SELF,O.nodeTest,[])},this.reduceActions[66]=function(e){return new I(I.PARENT,O.nodeTest,[])},this.reduceActions[67]=function(e){return new He(e[1])},this.reduceActions[68]=function(e){return O.nameTestAny},this.reduceActions[69]=function(e){return new O.NameTestPrefixAny(e[0].split(":")[0])},this.reduceActions[70]=function(e){return new O.NameTestQName(e[0])}},S.actionTable=[" s s        sssssssss    s ss  s  ss","                 s                  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                rrrrr               "," s s        sssssssss    s ss  s  ss","rs  rrrrrrrr s  sssssrrrrrr  rrs rs "," s s        sssssssss    s ss  s  ss","                            s       ","                            s       ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","  s                                 ","                            s       "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr  r  ","a                                   ","r       s                    rr  r  ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrs  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  srrrrrrrr         rrrrrrs rr sr  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                sssss               ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  srrrrrrrr         rrrrrrs rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","              s                     ","                             s      ","                rrrrr               "," s s        sssssssss    s sss s  ss","r  srrrrrrrr         rrrrrrs rr  r  "," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss      ss  s  ss"," s s        sssssssss    s ss  s  ss"," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr rr  "," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             rr     ","                             s      ","                             rs     ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","                                 r  ","                                 s  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  "," s s        sssssssss    s ss  s  ss","r  rrrrrrrrr         rrrrrrr rr rr  ","                             r      "],S.actionTableNumber=[` 1 0        /.-,+*)('    & %$  #  "!`,"                 J                  ","a  aaaaaaaaa         aaaaaaa aa  a  ","                YYYYY               ",` 1 0        /.-,+*)('    & %$  #  "!`,`K1  KKKKKKKK .  +*)('KKKKKK  KK# K" `,` 1 0        /.-,+*)('    & %$  #  "!`,"                            N       ","                            O       ","e  eeeeeeeee         eeeeeee ee ee  ","f  fffffffff         fffffff ff ff  ","d  ddddddddd         ddddddd dd dd  ","B  BBBBBBBBB         BBBBBBB BB BB  ","A  AAAAAAAAA         AAAAAAA AA AA  ","  P                                 ","                            Q       ",` 1           .  +*)('          #  " `,"b  bbbbbbbbb         bbbbbbb bb  b  ","                                    ","!       S                    !!  !  ",'"      T"                    ""  "  ',"$   V  $$            U       $$  $  ","&   &ZY&&            &XW     &&  &  ",")   )))))            )))\\[   ))  )  ",".   ....._^]         .....   ..  .  ","1   11111111         11111   11  1  ","5   55555555         55555`  55  5  ","7   77777777         777777  77  7  ","9   99999999         999999  99  9  ",":  c::::::::         ::::::b :: a:  ","I  fIIIIIIII         IIIIIIe II  I  ","=  =========         ======= == ==  ","?  ?????????         ??????? ?? ??  ","C  CCCCCCCCC         CCCCCCC CC CC  ","J   JJJJJJJJ         JJJJJJ  JJ  J  ","M   MMMMMMMM         MMMMMM  MM  M  ","N  NNNNNNNNN         NNNNNNN NN  N  ","P  PPPPPPPPP         PPPPPPP PP  P  ","                +*)('               ","R  RRRRRRRRR         RRRRRRR RR aR  ","U  UUUUUUUUU         UUUUUUU UU  U  ","Z  ZZZZZZZZZ         ZZZZZZZ ZZ ZZ  ","c  ccccccccc         ccccccc cc cc  ","                             j      ","L  fLLLLLLLL         LLLLLLe LL  L  ","6   66666666         66666   66  6  ","              k                     ","                             l      ","                XXXXX               ",` 1 0        /.-,+*)('    & %$m #  "!`,"_  f________         ______e __  _  ",` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('      %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1           .  +*)('          #  " `,` 1           .  +*)('          #  " `,">  >>>>>>>>>         >>>>>>> >> >>  ",` 1           .  +*)('          #  " `,` 1           .  +*)('          #  " `,"Q  QQQQQQQQQ         QQQQQQQ QQ aQ  ","V  VVVVVVVVV         VVVVVVV VV aV  ","T  TTTTTTTTT         TTTTTTT TT  T  ","@  @@@@@@@@@         @@@@@@@ @@ @@  ","                                   ","[  [[[[[[[[[         [[[[[[[ [[ [[  ","D  DDDDDDDDD         DDDDDDD DD DD  ","                             HH     ","                                   ","                             F     ","#      T#                    ##  #  ","%   V  %%            U       %%  %  ","'   'ZY''            'XW     ''  '  ","(   (ZY((            (XW     ((  (  ","+   +++++            +++\\[   ++  +  ","*   *****            ***\\[   **  *  ","-   -----            ---\\[   --  -  ",",   ,,,,,            ,,,\\[   ,,  ,  ","0   00000_^]         00000   00  0  ","/   /////_^]         /////   //  /  ","2   22222222         22222   22  2  ","3   33333333         33333   33  3  ","4   44444444         44444   44  4  ","8   88888888         888888  88  8  ","                                 ^  ","                                   ",";  f;;;;;;;;         ;;;;;;e ;;  ;  ","<  f<<<<<<<<         <<<<<<e <<  <  ","O  OOOOOOOOO         OOOOOOO OO  O  ","`  `````````         ``````` ``  `  ","S  SSSSSSSSS         SSSSSSS SS  S  ","W  WWWWWWWWW         WWWWWWW WW  W  ","\\  \\\\\\\\\\\\\\\\\\         \\\\\\\\\\\\\\ \\\\ \\\\  ","E  EEEEEEEEE         EEEEEEE EE EE  ",` 1 0        /.-,+*)('    & %$  #  "!`,"]  ]]]]]]]]]         ]]]]]]] ]] ]]  ","                             G      "],S.gotoTable=["3456789:;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","L456789:;<=>?@ AB  CDEFGH IJ ","            M        EFGH IJ ","       N;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","            S        EFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","              e              ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                        h  J ","              i          j   ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ ABpqCDEFGH IJ ","                             ","  r6789:;<=>?@ AB  CDEFGH IJ ","   s789:;<=>?@ AB  CDEFGH IJ ","    t89:;<=>?@ AB  CDEFGH IJ ","    u89:;<=>?@ AB  CDEFGH IJ ","     v9:;<=>?@ AB  CDEFGH IJ ","     w9:;<=>?@ AB  CDEFGH IJ ","     x9:;<=>?@ AB  CDEFGH IJ ","     y9:;<=>?@ AB  CDEFGH IJ ","      z:;<=>?@ AB  CDEFGH IJ ","      {:;<=>?@ AB  CDEFGH IJ ","       |;<=>?@ AB  CDEFGH IJ ","       };<=>?@ AB  CDEFGH IJ ","       ~;<=>?@ AB  CDEFGH IJ ","         =>?@ AB  CDEFGH IJ ","456789:;<=>?@ AB  CDEFGH IJ","                    EFGH IJ ","                    EFGH IJ ","                             ","                      GH IJ ","                      GH IJ ","              i             ","              i             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ ABqCDEFGH IJ ","                             ","                             "],S.productions=[[1,1,2],[2,1,3],[3,1,4],[3,3,3,-9,4],[4,1,5],[4,3,4,-8,5],[5,1,6],[5,3,5,-22,6],[5,3,5,-5,6],[6,1,7],[6,3,6,-23,7],[6,3,6,-24,7],[6,3,6,-6,7],[6,3,6,-7,7],[7,1,8],[7,3,7,-25,8],[7,3,7,-26,8],[8,1,9],[8,3,8,-12,9],[8,3,8,-11,9],[8,3,8,-10,9],[9,1,10],[9,2,-26,9],[10,1,11],[10,3,10,-27,11],[11,1,12],[11,1,13],[11,3,13,-28,14],[11,3,13,-4,14],[13,1,15],[13,2,13,16],[15,1,17],[15,3,-29,2,-30],[15,1,-15],[15,1,-16],[15,1,18],[18,3,-13,-29,-30],[18,4,-13,-29,19,-30],[19,1,20],[19,3,20,-31,19],[20,1,2],[12,1,14],[12,1,21],[21,1,-28],[21,2,-28,14],[21,1,22],[14,1,23],[14,3,14,-28,23],[14,1,24],[23,2,25,26],[23,1,26],[23,3,25,26,27],[23,2,26,27],[23,1,28],[27,1,16],[27,2,16,27],[25,2,-14,-3],[25,1,-32],[26,1,29],[26,3,-20,-29,-30],[26,4,-21,-29,-15,-30],[16,3,-33,30,-34],[30,1,2],[22,2,-4,14],[24,3,14,-4,23],[28,1,-35],[28,1,-2],[17,2,-36,-18],[29,1,-17],[29,1,-19],[29,1,-18]],S.DOUBLEDOT=2,S.DOUBLECOLON=3,S.DOUBLESLASH=4,S.NOTEQUAL=5,S.LESSTHANOREQUAL=6,S.GREATERTHANOREQUAL=7,S.AND=8,S.OR=9,S.MOD=10,S.DIV=11,S.MULTIPLYOPERATOR=12,S.FUNCTIONNAME=13,S.AXISNAME=14,S.LITERAL=15,S.NUMBER=16,S.ASTERISKNAMETEST=17,S.QNAME=18,S.NCNAMECOLONASTERISK=19,S.NODETYPE=20,S.PROCESSINGINSTRUCTIONWITHLITERAL=21,S.EQUALS=22,S.LESSTHAN=23,S.GREATERTHAN=24,S.PLUS=25,S.MINUS=26,S.BAR=27,S.SLASH=28,S.LEFTPARENTHESIS=29,S.RIGHTPARENTHESIS=30,S.COMMA=31,S.AT=32,S.LEFTBRACKET=33,S.RIGHTBRACKET=34,S.DOT=35,S.DOLLAR=36,S.prototype.tokenize=function(e){for(var r=[],u=[],f=e+"\0",p=0,y=f.charAt(p++);;){for(;y==" "||y=="	"||y=="\r"||y==`
`;)y=f.charAt(p++);if(y=="\0"||p>=f.length)break;if(y=="("){r.push(S.LEFTPARENTHESIS),u.push(y),y=f.charAt(p++);continue}if(y==")"){r.push(S.RIGHTPARENTHESIS),u.push(y),y=f.charAt(p++);continue}if(y=="["){r.push(S.LEFTBRACKET),u.push(y),y=f.charAt(p++);continue}if(y=="]"){r.push(S.RIGHTBRACKET),u.push(y),y=f.charAt(p++);continue}if(y=="@"){r.push(S.AT),u.push(y),y=f.charAt(p++);continue}if(y==","){r.push(S.COMMA),u.push(y),y=f.charAt(p++);continue}if(y=="|"){r.push(S.BAR),u.push(y),y=f.charAt(p++);continue}if(y=="+"){r.push(S.PLUS),u.push(y),y=f.charAt(p++);continue}if(y=="-"){r.push(S.MINUS),u.push(y),y=f.charAt(p++);continue}if(y=="="){r.push(S.EQUALS),u.push(y),y=f.charAt(p++);continue}if(y=="$"){r.push(S.DOLLAR),u.push(y),y=f.charAt(p++);continue}if(y=="."){if(y=f.charAt(p++),y=="."){r.push(S.DOUBLEDOT),u.push(".."),y=f.charAt(p++);continue}if(y>="0"&&y<="9"){var P="."+y;for(y=f.charAt(p++);y>="0"&&y<="9";)P+=y,y=f.charAt(p++);r.push(S.NUMBER),u.push(P);continue}r.push(S.DOT),u.push(".");continue}if(y=="'"||y=='"'){for(var H=y,Z="";p<f.length&&(y=f.charAt(p))!==H;)Z+=y,p+=1;if(y!==H)throw Q.fromMessage("Unterminated string literal: "+H+Z);p+=1,r.push(S.LITERAL),u.push(Z),y=f.charAt(p++);continue}if(y>="0"&&y<="9"){var P=y;for(y=f.charAt(p++);y>="0"&&y<="9";)P+=y,y=f.charAt(p++);if(y=="."&&f.charAt(p)>="0"&&f.charAt(p)<="9")for(P+=y,P+=f.charAt(p++),y=f.charAt(p++);y>="0"&&y<="9";)P+=y,y=f.charAt(p++);r.push(S.NUMBER),u.push(P);continue}if(y=="*"){if(r.length>0){var F=r[r.length-1];if(F!=S.AT&&F!=S.DOUBLECOLON&&F!=S.LEFTPARENTHESIS&&F!=S.LEFTBRACKET&&F!=S.AND&&F!=S.OR&&F!=S.MOD&&F!=S.DIV&&F!=S.MULTIPLYOPERATOR&&F!=S.SLASH&&F!=S.DOUBLESLASH&&F!=S.BAR&&F!=S.PLUS&&F!=S.MINUS&&F!=S.EQUALS&&F!=S.NOTEQUAL&&F!=S.LESSTHAN&&F!=S.LESSTHANOREQUAL&&F!=S.GREATERTHAN&&F!=S.GREATERTHANOREQUAL){r.push(S.MULTIPLYOPERATOR),u.push(y),y=f.charAt(p++);continue}}r.push(S.ASTERISKNAMETEST),u.push(y),y=f.charAt(p++);continue}if(y==":"&&f.charAt(p)==":"){r.push(S.DOUBLECOLON),u.push("::"),p++,y=f.charAt(p++);continue}if(y=="/"){if(y=f.charAt(p++),y=="/"){r.push(S.DOUBLESLASH),u.push("//"),y=f.charAt(p++);continue}r.push(S.SLASH),u.push("/");continue}if(y=="!"&&f.charAt(p)=="="){r.push(S.NOTEQUAL),u.push("!="),p++,y=f.charAt(p++);continue}if(y=="<"){if(f.charAt(p)=="="){r.push(S.LESSTHANOREQUAL),u.push("<="),p++,y=f.charAt(p++);continue}r.push(S.LESSTHAN),u.push("<"),y=f.charAt(p++);continue}if(y==">"){if(f.charAt(p)=="="){r.push(S.GREATERTHANOREQUAL),u.push(">="),p++,y=f.charAt(p++);continue}r.push(S.GREATERTHAN),u.push(">"),y=f.charAt(p++);continue}if(y=="_"||_.isLetter(y.charCodeAt(0))){var j=y;for(y=f.charAt(p++);_.isNCNameChar(y.charCodeAt(0));)j+=y,y=f.charAt(p++);if(r.length>0){var F=r[r.length-1];if(F!=S.AT&&F!=S.DOUBLECOLON&&F!=S.LEFTPARENTHESIS&&F!=S.LEFTBRACKET&&F!=S.AND&&F!=S.OR&&F!=S.MOD&&F!=S.DIV&&F!=S.MULTIPLYOPERATOR&&F!=S.SLASH&&F!=S.DOUBLESLASH&&F!=S.BAR&&F!=S.PLUS&&F!=S.MINUS&&F!=S.EQUALS&&F!=S.NOTEQUAL&&F!=S.LESSTHAN&&F!=S.LESSTHANOREQUAL&&F!=S.GREATERTHAN&&F!=S.GREATERTHANOREQUAL){if(j=="and"){r.push(S.AND),u.push(j);continue}if(j=="or"){r.push(S.OR),u.push(j);continue}if(j=="mod"){r.push(S.MOD),u.push(j);continue}if(j=="div"){r.push(S.DIV),u.push(j);continue}}}if(y==":"){if(f.charAt(p)=="*"){r.push(S.NCNAMECOLONASTERISK),u.push(j+":*"),p++,y=f.charAt(p++);continue}if(f.charAt(p)=="_"||_.isLetter(f.charCodeAt(p))){for(j+=":",y=f.charAt(p++);_.isNCNameChar(y.charCodeAt(0));)j+=y,y=f.charAt(p++);if(y=="("){r.push(S.FUNCTIONNAME),u.push(j);continue}r.push(S.QNAME),u.push(j);continue}if(f.charAt(p)==":"){r.push(S.AXISNAME),u.push(j);continue}}if(y=="("){if(j=="comment"||j=="text"||j=="node"){r.push(S.NODETYPE),u.push(j);continue}if(j=="processing-instruction"){f.charAt(p)==")"?r.push(S.NODETYPE):r.push(S.PROCESSINGINSTRUCTIONWITHLITERAL),u.push(j);continue}r.push(S.FUNCTIONNAME),u.push(j);continue}r.push(S.QNAME),u.push(j);continue}throw new Error("Unexpected character "+y)}return r.push(1),u.push("[EOF]"),[r,u]},S.SHIFT="s",S.REDUCE="r",S.ACCEPT="a",S.prototype.parse=function(Z){var r,u,f=this.tokenize(Z);if(f!=null){r=f[0],u=f[1];var p=0,y=[],P=[],H=[],Z,F,j;for(y.push(0),P.push(1),H.push("_S"),F=r[p],j=u[p++];;)switch(Z=y[y.length-1],S.actionTable[Z].charAt(F-1)){case S.SHIFT:P.push(-F),H.push(j),y.push(S.actionTableNumber[Z].charCodeAt(F-1)-32),F=r[p],j=u[p++];break;case S.REDUCE:for(var Ae=S.productions[S.actionTableNumber[Z].charCodeAt(F-1)-32][1],re=[],Ze=0;Ze<Ae;Ze++)P.pop(),re.unshift(H.pop()),y.pop();var nt=y[y.length-1];P.push(S.productions[S.actionTableNumber[Z].charCodeAt(F-1)-32][0]),this.reduceActions[S.actionTableNumber[Z].charCodeAt(F-1)-32]==null?H.push(re[0]):H.push(this.reduceActions[S.actionTableNumber[Z].charCodeAt(F-1)-32](re)),y.push(S.gotoTable[nt].charCodeAt(S.productions[S.actionTableNumber[Z].charCodeAt(F-1)-32][0]-2)-33);break;case S.ACCEPT:return new se(H.pop());default:throw new Error("XPath parse error")}}},se.prototype=new Object,se.prototype.constructor=se,se.superclass=Object.prototype;function se(e){this.expression=e}se.prototype.toString=function(){return this.expression.toString()};function we(e,r,u){r in e||(e[r]=u)}se.prototype.evaluate=function(e){return e.contextNode=e.expressionContextNode,e.contextSize=1,e.contextPosition=1,e.isHtml&&(we(e,"caseInsensitive",!0),we(e,"allowAnyNamespaceForNoPrefix",!0)),we(e,"caseInsensitive",!1),this.expression.evaluate(e)},se.XML_NAMESPACE_URI="http://www.w3.org/XML/1998/namespace",se.XMLNS_NAMESPACE_URI="http://www.w3.org/2000/xmlns/",W.prototype=new Object,W.prototype.constructor=W,W.superclass=Object.prototype;function W(){}W.prototype.init=function(){},W.prototype.toString=function(){return"<Expression>"},W.prototype.evaluate=function(e){throw new Error("Could not evaluate expression.")},le.prototype=new W,le.prototype.constructor=le,le.superclass=W.prototype;function le(e){arguments.length>0&&this.init(e)}le.prototype.init=function(e){this.rhs=e},pe.prototype=new le,pe.prototype.constructor=pe,pe.superclass=le.prototype;function pe(e){arguments.length>0&&this.init(e)}pe.prototype.init=function(e){pe.superclass.init.call(this,e)},pe.prototype.evaluate=function(e){return this.rhs.evaluate(e).number().negate()},pe.prototype.toString=function(){return"-"+this.rhs.toString()},K.prototype=new W,K.prototype.constructor=K,K.superclass=W.prototype;function K(e,r){arguments.length>0&&this.init(e,r)}K.prototype.init=function(e,r){this.lhs=e,this.rhs=r},be.prototype=new K,be.prototype.constructor=be,be.superclass=K.prototype;function be(e,r){arguments.length>0&&this.init(e,r)}be.prototype.init=function(e,r){be.superclass.init.call(this,e,r)},be.prototype.toString=function(){return"("+this.lhs.toString()+" or "+this.rhs.toString()+")"},be.prototype.evaluate=function(e){var r=this.lhs.evaluate(e).bool();return r.booleanValue()?r:this.rhs.evaluate(e).bool()},de.prototype=new K,de.prototype.constructor=de,de.superclass=K.prototype;function de(e,r){arguments.length>0&&this.init(e,r)}de.prototype.init=function(e,r){de.superclass.init.call(this,e,r)},de.prototype.toString=function(){return"("+this.lhs.toString()+" and "+this.rhs.toString()+")"},de.prototype.evaluate=function(e){var r=this.lhs.evaluate(e).bool();return r.booleanValue()?this.rhs.evaluate(e).bool():r},ze.prototype=new K,ze.prototype.constructor=ze,ze.superclass=K.prototype;function ze(e,r){arguments.length>0&&this.init(e,r)}ze.prototype.init=function(e,r){ze.superclass.init.call(this,e,r)},ze.prototype.toString=function(){return"("+this.lhs.toString()+" = "+this.rhs.toString()+")"},ze.prototype.evaluate=function(e){return this.lhs.evaluate(e).equals(this.rhs.evaluate(e))},Be.prototype=new K,Be.prototype.constructor=Be,Be.superclass=K.prototype;function Be(e,r){arguments.length>0&&this.init(e,r)}Be.prototype.init=function(e,r){Be.superclass.init.call(this,e,r)},Be.prototype.toString=function(){return"("+this.lhs.toString()+" != "+this.rhs.toString()+")"},Be.prototype.evaluate=function(e){return this.lhs.evaluate(e).notequal(this.rhs.evaluate(e))},Ie.prototype=new K,Ie.prototype.constructor=Ie,Ie.superclass=K.prototype;function Ie(e,r){arguments.length>0&&this.init(e,r)}Ie.prototype.init=function(e,r){Ie.superclass.init.call(this,e,r)},Ie.prototype.evaluate=function(e){return this.lhs.evaluate(e).lessthan(this.rhs.evaluate(e))},Ie.prototype.toString=function(){return"("+this.lhs.toString()+" < "+this.rhs.toString()+")"},ce.prototype=new K,ce.prototype.constructor=ce,ce.superclass=K.prototype;function ce(e,r){arguments.length>0&&this.init(e,r)}ce.prototype.init=function(e,r){ce.superclass.init.call(this,e,r)},ce.prototype.evaluate=function(e){return this.lhs.evaluate(e).greaterthan(this.rhs.evaluate(e))},ce.prototype.toString=function(){return"("+this.lhs.toString()+" > "+this.rhs.toString()+")"},xe.prototype=new K,xe.prototype.constructor=xe,xe.superclass=K.prototype;function xe(e,r){arguments.length>0&&this.init(e,r)}xe.prototype.init=function(e,r){xe.superclass.init.call(this,e,r)},xe.prototype.evaluate=function(e){return this.lhs.evaluate(e).lessthanorequal(this.rhs.evaluate(e))},xe.prototype.toString=function(){return"("+this.lhs.toString()+" <= "+this.rhs.toString()+")"},Ee.prototype=new K,Ee.prototype.constructor=Ee,Ee.superclass=K.prototype;function Ee(e,r){arguments.length>0&&this.init(e,r)}Ee.prototype.init=function(e,r){Ee.superclass.init.call(this,e,r)},Ee.prototype.evaluate=function(e){return this.lhs.evaluate(e).greaterthanorequal(this.rhs.evaluate(e))},Ee.prototype.toString=function(){return"("+this.lhs.toString()+" >= "+this.rhs.toString()+")"},Ce.prototype=new K,Ce.prototype.constructor=Ce,Ce.superclass=K.prototype;function Ce(e,r){arguments.length>0&&this.init(e,r)}Ce.prototype.init=function(e,r){Ce.superclass.init.call(this,e,r)},Ce.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().plus(this.rhs.evaluate(e).number())},Ce.prototype.toString=function(){return"("+this.lhs.toString()+" + "+this.rhs.toString()+")"},Le.prototype=new K,Le.prototype.constructor=Le,Le.superclass=K.prototype;function Le(e,r){arguments.length>0&&this.init(e,r)}Le.prototype.init=function(e,r){Le.superclass.init.call(this,e,r)},Le.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().minus(this.rhs.evaluate(e).number())},Le.prototype.toString=function(){return"("+this.lhs.toString()+" - "+this.rhs.toString()+")"},Me.prototype=new K,Me.prototype.constructor=Me,Me.superclass=K.prototype;function Me(e,r){arguments.length>0&&this.init(e,r)}Me.prototype.init=function(e,r){Me.superclass.init.call(this,e,r)},Me.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().multiply(this.rhs.evaluate(e).number())},Me.prototype.toString=function(){return"("+this.lhs.toString()+" * "+this.rhs.toString()+")"},Ue.prototype=new K,Ue.prototype.constructor=Ue,Ue.superclass=K.prototype;function Ue(e,r){arguments.length>0&&this.init(e,r)}Ue.prototype.init=function(e,r){Ue.superclass.init.call(this,e,r)},Ue.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().div(this.rhs.evaluate(e).number())},Ue.prototype.toString=function(){return"("+this.lhs.toString()+" div "+this.rhs.toString()+")"},Oe.prototype=new K,Oe.prototype.constructor=Oe,Oe.superclass=K.prototype;function Oe(e,r){arguments.length>0&&this.init(e,r)}Oe.prototype.init=function(e,r){Oe.superclass.init.call(this,e,r)},Oe.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().mod(this.rhs.evaluate(e).number())},Oe.prototype.toString=function(){return"("+this.lhs.toString()+" mod "+this.rhs.toString()+")"},ee.prototype=new K,ee.prototype.constructor=ee,ee.superclass=K.prototype;function ee(e,r){arguments.length>0&&this.init(e,r)}ee.prototype.init=function(e,r){ee.superclass.init.call(this,e,r)},ee.prototype.evaluate=function(e){return this.lhs.evaluate(e).nodeset().union(this.rhs.evaluate(e).nodeset())},ee.prototype.toString=function(){return v(V,[this.lhs,this.rhs]).join(" | ")},B.prototype=new W,B.prototype.constructor=B,B.superclass=W.prototype;function B(e,r,u){arguments.length>0&&this.init(e,r,u)}B.prototype.init=function(e,r,u){B.superclass.init.call(this),this.filter=e,this.filterPredicates=r,this.locationPath=u};function dt(e){for(;e&&e.parentNode;)e=e.parentNode;return e}B.applyPredicates=function(e,r,u){if(e.length===0)return u;var f=r.extend({});return h(function(p,y){return f.contextSize=p.length,m(function(P,H){return f.contextNode=P,f.contextPosition=H+1,B.predicateMatches(y,f)},p)},u,e)},B.getRoot=function(e,r){var u=r[0];if(u.nodeType===9)return u;if(e.virtualRoot)return e.virtualRoot;var f=u.ownerDocument;if(f)return f;for(var p=u;p.parentNode!=null;)p=p.parentNode;return p},B.applyStep=function(e,r,u){var f=[];switch(r.contextNode=u,e.axis){case I.ANCESTOR:if(r.contextNode===r.virtualRoot)break;var p;for(r.contextNode.nodeType==2?p=B.getOwnerElement(r.contextNode):p=r.contextNode.parentNode;p!=null&&(e.nodeTest.matches(p,r)&&f.push(p),p!==r.virtualRoot);)p=p.parentNode;break;case I.ANCESTORORSELF:for(var p=r.contextNode;p!=null&&(e.nodeTest.matches(p,r)&&f.push(p),p!==r.virtualRoot);p=p.nodeType==2?B.getOwnerElement(p):p.parentNode);break;case I.ATTRIBUTE:var y=r.contextNode.attributes;if(y!=null)for(var P=0;P<y.length;P++){var p=y.item(P);e.nodeTest.matches(p,r)&&f.push(p)}break;case I.CHILD:for(var p=r.contextNode.firstChild;p!=null;p=p.nextSibling)e.nodeTest.matches(p,r)&&f.push(p);break;case I.DESCENDANT:for(var re=[r.contextNode.firstChild];re.length>0;)for(var p=re.pop();p!=null;)e.nodeTest.matches(p,r)&&f.push(p),p.firstChild!=null?(re.push(p.nextSibling),p=p.firstChild):p=p.nextSibling;break;case I.DESCENDANTORSELF:e.nodeTest.matches(r.contextNode,r)&&f.push(r.contextNode);for(var re=[r.contextNode.firstChild];re.length>0;)for(var p=re.pop();p!=null;)e.nodeTest.matches(p,r)&&f.push(p),p.firstChild!=null?(re.push(p.nextSibling),p=p.firstChild):p=p.nextSibling;break;case I.FOLLOWING:if(r.contextNode===r.virtualRoot)break;var re=[];r.contextNode.firstChild!=null?re.unshift(r.contextNode.firstChild):re.unshift(r.contextNode.nextSibling);for(var p=r.contextNode.parentNode;p!=null&&p.nodeType!=9&&p!==r.virtualRoot;p=p.parentNode)re.unshift(p.nextSibling);do for(var p=re.pop();p!=null;)e.nodeTest.matches(p,r)&&f.push(p),p.firstChild!=null?(re.push(p.nextSibling),p=p.firstChild):p=p.nextSibling;while(re.length>0);break;case I.FOLLOWINGSIBLING:if(r.contextNode===r.virtualRoot)break;for(var p=r.contextNode.nextSibling;p!=null;p=p.nextSibling)e.nodeTest.matches(p,r)&&f.push(p);break;case I.NAMESPACE:var H={};if(r.contextNode.nodeType==1){H.xml=se.XML_NAMESPACE_URI,H.xmlns=se.XMLNS_NAMESPACE_URI;for(var p=r.contextNode;p!=null&&p.nodeType==1;p=p.parentNode)for(var P=0;P<p.attributes.length;P++){var Z=p.attributes.item(P),F=String(Z.name);if(F=="xmlns")H[""]==null&&(H[""]=Z.value);else if(F.length>6&&F.substring(0,6)=="xmlns:"){var j=F.substring(6,F.length);H[j]==null&&(H[j]=Z.value)}}for(var j in H){var Ae=new b(j,H[j],r.contextNode);e.nodeTest.matches(Ae,r)&&f.push(Ae)}}break;case I.PARENT:p=null,r.contextNode!==r.virtualRoot&&(r.contextNode.nodeType==2?p=B.getOwnerElement(r.contextNode):p=r.contextNode.parentNode),p!=null&&e.nodeTest.matches(p,r)&&f.push(p);break;case I.PRECEDING:var re;r.virtualRoot!=null?re=[r.virtualRoot]:re=[dt(r.contextNode)];e:for(;re.length>0;)for(var p=re.pop();p!=null;){if(p==r.contextNode)break e;e.nodeTest.matches(p,r)&&f.unshift(p),p.firstChild!=null?(re.push(p.nextSibling),p=p.firstChild):p=p.nextSibling}break;case I.PRECEDINGSIBLING:if(r.contextNode===r.virtualRoot)break;for(var p=r.contextNode.previousSibling;p!=null;p=p.previousSibling)e.nodeTest.matches(p,r)&&f.push(p);break;case I.SELF:e.nodeTest.matches(r.contextNode,r)&&f.push(r.contextNode);break}return f};function ue(e,r,u){return B.applyPredicates(e.predicates,r,B.applyStep(e,r,u))}function pt(e,r,u){return _e(v(ue.bind(null,u,e),r))}B.applySteps=function(e,r,u){return h(pt.bind(null,r),u,e)},B.prototype.applyFilter=function(e,r){if(!this.filter)return{nodes:[e.contextNode]};var u=this.filter.evaluate(e);if(!_.instance_of(u,l)){if(this.filterPredicates!=null&&this.filterPredicates.length>0||this.locationPath!=null)throw new Error("Path expression filter must evaluate to a nodeset if predicates or location path are used");return{nonNodes:u}}return{nodes:B.applyPredicates(this.filterPredicates||[],r,u.toUnsortedArray())}},B.applyLocationPath=function(e,r,u){if(!e)return u;var f=e.absolute?[B.getRoot(r,u)]:u;return B.applySteps(e.steps,r,f)},B.prototype.evaluate=function(e){var r=Ve(new w,e),u=this.applyFilter(e,r);if("nonNodes"in u)return u.nonNodes;var f=new l;return f.addArray(B.applyLocationPath(this.locationPath,r,u.nodes)),f},B.predicateMatches=function(e,r){var u=e.evaluate(r);return _.instance_of(u,R)?r.contextPosition===u.numberValue():u.booleanValue()},B.predicateString=function(e){return ae("[","]",e.toString())},B.predicatesString=function(e){return G("",v(B.predicateString,e))},B.prototype.toString=function(){if(this.filter!=null){var e=V(this.filter);return _.instance_of(this.filter,L)?ae("'","'",e):this.filterPredicates!=null&&this.filterPredicates.length?ae("(",")",e)+B.predicatesString(this.filterPredicates):this.locationPath!=null?e+(this.locationPath.absolute?"":"/")+V(this.locationPath):e}return V(this.locationPath)},B.getOwnerElement=function(e){if(e.ownerElement)return e.ownerElement;try{if(e.selectSingleNode)return e.selectSingleNode("..")}catch{}for(var r=e.nodeType==9?e:e.ownerDocument,u=r.getElementsByTagName("*"),f=0;f<u.length;f++)for(var p=u.item(f),y=p.attributes,P=0;P<y.length;P++){var H=y.item(P);if(H===e)return p}return null},te.prototype=new Object,te.prototype.constructor=te,te.superclass=Object.prototype;function te(e,r){arguments.length>0&&this.init(e,r)}te.prototype.init=function(e,r){this.absolute=e,this.steps=r},te.prototype.toString=function(){return(this.absolute?"/":"")+v(V,this.steps).join("/")},I.prototype=new Object,I.prototype.constructor=I,I.superclass=Object.prototype;function I(e,r,u){arguments.length>0&&this.init(e,r,u)}I.prototype.init=function(e,r,u){this.axis=e,this.nodeTest=r,this.predicates=u},I.prototype.toString=function(){return I.STEPNAMES[this.axis]+"::"+this.nodeTest.toString()+B.predicatesString(this.predicates)},I.ANCESTOR=0,I.ANCESTORORSELF=1,I.ATTRIBUTE=2,I.CHILD=3,I.DESCENDANT=4,I.DESCENDANTORSELF=5,I.FOLLOWING=6,I.FOLLOWINGSIBLING=7,I.NAMESPACE=8,I.PARENT=9,I.PRECEDING=10,I.PRECEDINGSIBLING=11,I.SELF=12,I.STEPNAMES=h(function(e,r){return e[r[0]]=r[1],e},{},[[I.ANCESTOR,"ancestor"],[I.ANCESTORORSELF,"ancestor-or-self"],[I.ATTRIBUTE,"attribute"],[I.CHILD,"child"],[I.DESCENDANT,"descendant"],[I.DESCENDANTORSELF,"descendant-or-self"],[I.FOLLOWING,"following"],[I.FOLLOWINGSIBLING,"following-sibling"],[I.NAMESPACE,"namespace"],[I.PARENT,"parent"],[I.PRECEDING,"preceding"],[I.PRECEDINGSIBLING,"preceding-sibling"],[I.SELF,"self"]]),O.prototype=new Object,O.prototype.constructor=O,O.superclass=Object.prototype;function O(e,r){arguments.length>0&&this.init(e,r)}O.prototype.init=function(e,r){this.type=e,this.value=r},O.prototype.toString=function(){return"<unknown nodetest type>"},O.prototype.matches=function(e,r){console.warn("unknown node test type")},O.NAMETESTANY=0,O.NAMETESTPREFIXANY=1,O.NAMETESTQNAME=2,O.COMMENT=3,O.TEXT=4,O.PI=5,O.NODE=6,O.isNodeType=function(e){return function(r){return C(e,r.nodeType)}},O.makeNodeTestType=function(e,r,u){var f=u||function(){};return f.prototype=new O(e),f.prototype.constructor=f,Ve(f.prototype,r),f},O.makeNodeTypeTest=function(e,r,u){return new(O.makeNodeTestType(e,{matches:O.isNodeType(r),toString:U(u)}))},O.hasPrefix=function(e){return e.prefix||(e.nodeName||e.tagName).indexOf(":")!==-1},O.isElementOrAttribute=O.isNodeType([1,2]),O.nameSpaceMatches=function(e,r,u){var f=u.namespaceURI||"";if(!e)return!f||r.allowAnyNamespaceForNoPrefix&&!O.hasPrefix(u);var p=r.namespaceResolver.getNamespace(e,r.expressionContextNode);if(p==null)throw new Error("Cannot resolve QName "+e);return p===f},O.localNameMatches=function(e,r,u){var f=u.localName||u.nodeName;return r.caseInsensitive?e.toLowerCase()===f.toLowerCase():e===f},O.NameTestPrefixAny=O.makeNodeTestType(O.NAMETESTPREFIXANY,{matches:function(e,r){return O.isElementOrAttribute(e)&&O.nameSpaceMatches(this.prefix,r,e)},toString:function(){return this.prefix+":*"}},function(r){this.prefix=r}),O.NameTestQName=O.makeNodeTestType(O.NAMETESTQNAME,{matches:function(e,r){return O.isNodeType([1,2,b.XPATH_NAMESPACE_NODE])(e)&&O.nameSpaceMatches(this.prefix,r,e)&&O.localNameMatches(this.localName,r,e)},toString:function(){return this.name}},function(r){var u=r.split(":");this.name=r,this.prefix=u.length>1?u[0]:null,this.localName=u[u.length>1?1:0]}),O.PITest=O.makeNodeTestType(O.PI,{matches:function(e,r){return O.isNodeType([7])(e)&&(e.target||e.nodeName)===this.name},toString:function(){return ae('processing-instruction("','")',this.name)}},function(e){this.name=e}),O.nameTestAny=O.makeNodeTypeTest(O.NAMETESTANY,[1,2,b.XPATH_NAMESPACE_NODE],"*"),O.textTest=O.makeNodeTypeTest(O.TEXT,[3,4],"text()"),O.commentTest=O.makeNodeTypeTest(O.COMMENT,[8],"comment()"),O.nodeTest=O.makeNodeTypeTest(O.NODE,[1,2,3,4,7,8,9],"node()"),O.anyPiTest=O.makeNodeTypeTest(O.PI,[7],"processing-instruction()"),He.prototype=new W,He.prototype.constructor=He,He.superclass=W.prototype;function He(e){arguments.length>0&&this.init(e)}He.prototype.init=function(e){this.variable=e},He.prototype.toString=function(){return"$"+this.variable},He.prototype.evaluate=function(e){var r=_.resolveQName(this.variable,e.namespaceResolver,e.contextNode,!1);if(r[0]==null)throw new Error("Cannot resolve QName "+fn);var u=e.variableResolver.getVariable(r[1],r[0]);if(!u)throw Q.fromMessage("Undeclared variable: "+this.toString());return u},Te.prototype=new W,Te.prototype.constructor=Te,Te.superclass=W.prototype;function Te(e,r){arguments.length>0&&this.init(e,r)}Te.prototype.init=function(e,r){this.functionName=e,this.arguments=r},Te.prototype.toString=function(){for(var e=this.functionName+"(",r=0;r<this.arguments.length;r++)r>0&&(e+=", "),e+=this.arguments[r].toString();return e+")"},Te.prototype.evaluate=function(e){var r=q.getFunctionFromContext(this.functionName,e);if(!r)throw new Error("Unknown function "+this.functionName);var u=[e].concat(this.arguments);return r.apply(e.functionResolver.thisArg,u)};var ie=new Object;ie.equals=function(e,r){return e.equals(r)},ie.notequal=function(e,r){return e.notequal(r)},ie.lessthan=function(e,r){return e.lessthan(r)},ie.greaterthan=function(e,r){return e.greaterthan(r)},ie.lessthanorequal=function(e,r){return e.lessthanorequal(r)},ie.greaterthanorequal=function(e,r){return e.greaterthanorequal(r)},L.prototype=new W,L.prototype.constructor=L,L.superclass=W.prototype;function L(e){arguments.length>0&&this.init(e)}L.prototype.init=function(e){this.str=String(e)},L.prototype.toString=function(){return this.str},L.prototype.evaluate=function(e){return this},L.prototype.string=function(){return this},L.prototype.number=function(){return new R(this.str)},L.prototype.bool=function(){return new c(this.str)},L.prototype.nodeset=function(){throw new Error("Cannot convert string to nodeset")},L.prototype.stringValue=function(){return this.str},L.prototype.numberValue=function(){return this.number().numberValue()},L.prototype.booleanValue=function(){return this.bool().booleanValue()},L.prototype.equals=function(e){return _.instance_of(e,c)?this.bool().equals(e):_.instance_of(e,R)?this.number().equals(e):_.instance_of(e,l)?e.compareWithString(this,ie.equals):new c(this.str==e.str)},L.prototype.notequal=function(e){return _.instance_of(e,c)?this.bool().notequal(e):_.instance_of(e,R)?this.number().notequal(e):_.instance_of(e,l)?e.compareWithString(this,ie.notequal):new c(this.str!=e.str)},L.prototype.lessthan=function(e){return this.number().lessthan(e)},L.prototype.greaterthan=function(e){return this.number().greaterthan(e)},L.prototype.lessthanorequal=function(e){return this.number().lessthanorequal(e)},L.prototype.greaterthanorequal=function(e){return this.number().greaterthanorequal(e)},R.prototype=new W,R.prototype.constructor=R,R.superclass=W.prototype;function R(e){arguments.length>0&&this.init(e)}R.prototype.init=function(e){this.num=typeof e=="string"?this.parse(e):Number(e)},R.prototype.numberFormat=/^\s*-?[0-9]*\.?[0-9]+\s*$/,R.prototype.parse=function(e){return this.numberFormat.test(e)?parseFloat(e):Number.NaN};function at(e){for(var r=e.split("e-"),u=r[0].replace(".",""),f=Number(r[1]),p=0;p<f-1;p+=1)u="0"+u;return"0."+u}function mt(e){for(var r=e.split("e"),u=r[0].replace(".",""),f=Number(r[1]),p=f+1-u.length,y=0;y<p;y+=1)u+="0";return u}R.prototype.toString=function(){var e=this.num.toString();return e.indexOf("e-")!==-1?at(e):e.indexOf("e")!==-1?mt(e):e},R.prototype.evaluate=function(e){return this},R.prototype.string=function(){return new L(this.toString())},R.prototype.number=function(){return this},R.prototype.bool=function(){return new c(this.num)},R.prototype.nodeset=function(){throw new Error("Cannot convert number to nodeset")},R.prototype.stringValue=function(){return this.string().stringValue()},R.prototype.numberValue=function(){return this.num},R.prototype.booleanValue=function(){return this.bool().booleanValue()},R.prototype.negate=function(){return new R(-this.num)},R.prototype.equals=function(e){return _.instance_of(e,c)?this.bool().equals(e):_.instance_of(e,L)?this.equals(e.number()):_.instance_of(e,l)?e.compareWithNumber(this,ie.equals):new c(this.num==e.num)},R.prototype.notequal=function(e){return _.instance_of(e,c)?this.bool().notequal(e):_.instance_of(e,L)?this.notequal(e.number()):_.instance_of(e,l)?e.compareWithNumber(this,ie.notequal):new c(this.num!=e.num)},R.prototype.lessthan=function(e){return _.instance_of(e,l)?e.compareWithNumber(this,ie.greaterthan):_.instance_of(e,c)||_.instance_of(e,L)?this.lessthan(e.number()):new c(this.num<e.num)},R.prototype.greaterthan=function(e){return _.instance_of(e,l)?e.compareWithNumber(this,ie.lessthan):_.instance_of(e,c)||_.instance_of(e,L)?this.greaterthan(e.number()):new c(this.num>e.num)},R.prototype.lessthanorequal=function(e){return _.instance_of(e,l)?e.compareWithNumber(this,ie.greaterthanorequal):_.instance_of(e,c)||_.instance_of(e,L)?this.lessthanorequal(e.number()):new c(this.num<=e.num)},R.prototype.greaterthanorequal=function(e){return _.instance_of(e,l)?e.compareWithNumber(this,ie.lessthanorequal):_.instance_of(e,c)||_.instance_of(e,L)?this.greaterthanorequal(e.number()):new c(this.num>=e.num)},R.prototype.plus=function(e){return new R(this.num+e.num)},R.prototype.minus=function(e){return new R(this.num-e.num)},R.prototype.multiply=function(e){return new R(this.num*e.num)},R.prototype.div=function(e){return new R(this.num/e.num)},R.prototype.mod=function(e){return new R(this.num%e.num)},c.prototype=new W,c.prototype.constructor=c,c.superclass=W.prototype;function c(e){arguments.length>0&&this.init(e)}c.prototype.init=function(e){this.b=Boolean(e)},c.prototype.toString=function(){return this.b.toString()},c.prototype.evaluate=function(e){return this},c.prototype.string=function(){return new L(this.b)},c.prototype.number=function(){return new R(this.b)},c.prototype.bool=function(){return this},c.prototype.nodeset=function(){throw new Error("Cannot convert boolean to nodeset")},c.prototype.stringValue=function(){return this.string().stringValue()},c.prototype.numberValue=function(){return this.number().numberValue()},c.prototype.booleanValue=function(){return this.b},c.prototype.not=function(){return new c(!this.b)},c.prototype.equals=function(e){return _.instance_of(e,L)||_.instance_of(e,R)?this.equals(e.bool()):_.instance_of(e,l)?e.compareWithBoolean(this,ie.equals):new c(this.b==e.b)},c.prototype.notequal=function(e){return _.instance_of(e,L)||_.instance_of(e,R)?this.notequal(e.bool()):_.instance_of(e,l)?e.compareWithBoolean(this,ie.notequal):new c(this.b!=e.b)},c.prototype.lessthan=function(e){return this.number().lessthan(e)},c.prototype.greaterthan=function(e){return this.number().greaterthan(e)},c.prototype.lessthanorequal=function(e){return this.number().lessthanorequal(e)},c.prototype.greaterthanorequal=function(e){return this.number().greaterthanorequal(e)},c.true_=new c(!0),c.false_=new c(!1),n.prototype=new Object,n.prototype.constructor=n,n.superclass=Object.prototype;function n(e){this.init(e)}n.prototype.init=function(e){this.left=null,this.right=null,this.node=e,this.depth=1},n.prototype.balance=function(){var e=this.left==null?0:this.left.depth,r=this.right==null?0:this.right.depth;if(e>r+1){var u=this.left.left==null?0:this.left.left.depth,f=this.left.right==null?0:this.left.right.depth;u<f&&this.left.rotateRR(),this.rotateLL()}else if(e+1<r){var p=this.right.right==null?0:this.right.right.depth,y=this.right.left==null?0:this.right.left.depth;y>p&&this.right.rotateLL(),this.rotateRR()}},n.prototype.rotateLL=function(){var e=this.node,r=this.right;this.node=this.left.node,this.right=this.left,this.left=this.left.left,this.right.left=this.right.right,this.right.right=r,this.right.node=e,this.right.updateInNewLocation(),this.updateInNewLocation()},n.prototype.rotateRR=function(){var e=this.node,r=this.left;this.node=this.right.node,this.left=this.right,this.right=this.right.right,this.left.right=this.left.left,this.left.left=r,this.left.node=e,this.left.updateInNewLocation(),this.updateInNewLocation()},n.prototype.updateInNewLocation=function(){this.getDepthFromChildren()},n.prototype.getDepthFromChildren=function(){this.depth=this.node==null?0:1,this.left!=null&&(this.depth=this.left.depth+1),this.right!=null&&this.depth<=this.right.depth&&(this.depth=this.right.depth+1)};function i(e,r){if(e===r)return 0;if(e.compareDocumentPosition){var u=e.compareDocumentPosition(r);return u&1||u&10?1:u&20?-1:0}for(var f=0,p=0,y=e;y!=null;y=y.parentNode||y.ownerElement)f++;for(var P=r;P!=null;P=P.parentNode||P.ownerElement)p++;if(f>p){for(;f>p;)e=e.parentNode||e.ownerElement,f--;if(e===r)return 1}else if(p>f){for(;p>f;)r=r.parentNode||r.ownerElement,p--;if(e===r)return-1}for(var H=e.parentNode||e.ownerElement,Z=r.parentNode||r.ownerElement;H!==Z;)e=H,r=Z,H=e.parentNode||e.ownerElement,Z=r.parentNode||r.ownerElement;var F=_.isAttribute(e),j=_.isAttribute(r);if(F&&!j)return-1;if(!F&&j)return 1;if(H)for(var Ae=F?H.attributes:H.childNodes,re=Ae.length,Ze=0;Ze<re;Ze+=1){var nt=Ae[Ze];if(nt===e)return-1;if(nt===r)return 1}throw new Error("Unexpected: could not determine node order")}n.prototype.add=function(e){if(e===this.node)return!1;var r=i(e,this.node),u=!1;return r==-1?this.left==null?(this.left=new n(e),u=!0):(u=this.left.add(e),u&&this.balance()):r==1&&(this.right==null?(this.right=new n(e),u=!0):(u=this.right.add(e),u&&this.balance())),u&&this.getDepthFromChildren(),u},l.prototype=new W,l.prototype.constructor=l,l.superclass=W.prototype;function l(){this.init()}l.prototype.init=function(){this.tree=null,this.nodes=[],this.size=0},l.prototype.toString=function(){var e=this.first();return e==null?"":this.stringForNode(e)},l.prototype.evaluate=function(e){return this},l.prototype.string=function(){return new L(this.toString())},l.prototype.stringValue=function(){return this.toString()},l.prototype.number=function(){return new R(this.string())},l.prototype.numberValue=function(){return Number(this.string())},l.prototype.bool=function(){return new c(this.booleanValue())},l.prototype.booleanValue=function(){return!!this.size},l.prototype.nodeset=function(){return this},l.prototype.stringForNode=function(e){return e.nodeType==9||e.nodeType==1||e.nodeType===11?this.stringForContainerNode(e):e.nodeType===2?e.value||e.nodeValue:e.isNamespaceNode?e.namespace:e.nodeValue},l.prototype.stringForContainerNode=function(e){for(var r="",u=e.firstChild;u!=null;u=u.nextSibling){var f=u.nodeType;(f===1||f===3||f===4||f===9||f===11)&&(r+=this.stringForNode(u))}return r},l.prototype.buildTree=function(){if(!this.tree&&this.nodes.length){this.tree=new n(this.nodes[0]);for(var e=1;e<this.nodes.length;e+=1)this.tree.add(this.nodes[e])}return this.tree},l.prototype.first=function(){var e=this.buildTree();if(e==null)return null;for(;e.left!=null;)e=e.left;return e.node},l.prototype.add=function(e){for(var r=0;r<this.nodes.length;r+=1)if(e===this.nodes[r])return;this.tree=null,this.nodes.push(e),this.size+=1},l.prototype.addArray=function(e){var r=this;d(function(u){r.add(u)},e)},l.prototype.toArray=function(){var e=[];return this.toArrayRec(this.buildTree(),e),e},l.prototype.toArrayRec=function(e,r){e!=null&&(this.toArrayRec(e.left,r),r.push(e.node),this.toArrayRec(e.right,r))},l.prototype.toUnsortedArray=function(){return this.nodes.slice()},l.prototype.compareWithString=function(e,r){for(var u=this.toUnsortedArray(),f=0;f<u.length;f++){var p=u[f],y=new L(this.stringForNode(p)),P=r(y,e);if(P.booleanValue())return P}return new c(!1)},l.prototype.compareWithNumber=function(e,r){for(var u=this.toUnsortedArray(),f=0;f<u.length;f++){var p=u[f],y=new R(this.stringForNode(p)),P=r(y,e);if(P.booleanValue())return P}return new c(!1)},l.prototype.compareWithBoolean=function(e,r){return r(this.bool(),e)},l.prototype.compareWithNodeSet=function(e,r){for(var u=this.toUnsortedArray(),f=function(H,Z){return r(Z,H)},p=0;p<u.length;p++){var y=new L(this.stringForNode(u[p])),P=e.compareWithString(y,f);if(P.booleanValue())return P}return new c(!1)},l.compareWith=s(function(e,r){return _.instance_of(r,L)?this.compareWithString(r,e):_.instance_of(r,R)?this.compareWithNumber(r,e):_.instance_of(r,c)?this.compareWithBoolean(r,e):this.compareWithNodeSet(r,e)}),l.prototype.equals=l.compareWith(ie.equals),l.prototype.notequal=l.compareWith(ie.notequal),l.prototype.lessthan=l.compareWith(ie.lessthan),l.prototype.greaterthan=l.compareWith(ie.greaterthan),l.prototype.lessthanorequal=l.compareWith(ie.lessthanorequal),l.prototype.greaterthanorequal=l.compareWith(ie.greaterthanorequal),l.prototype.union=function(e){var r=new l;return r.addArray(this.toUnsortedArray()),r.addArray(e.toUnsortedArray()),r},b.prototype=new Object,b.prototype.constructor=b,b.superclass=Object.prototype;function b(e,r,u){this.isXPathNamespace=!0,this.ownerDocument=u.ownerDocument,this.nodeName="#namespace",this.prefix=e,this.localName=e,this.namespaceURI=r,this.nodeValue=r,this.ownerElement=u,this.nodeType=b.XPATH_NAMESPACE_NODE}b.prototype.toString=function(){return'{ "'+this.prefix+'", "'+this.namespaceURI+'" }'},w.prototype=new Object,w.prototype.constructor=w,w.superclass=Object.prototype;function w(e,r,u){this.variableResolver=e??new T,this.namespaceResolver=r??new Y,this.functionResolver=u??new q}w.prototype.extend=function(e){return Ve(new w,this,e)},T.prototype=new Object,T.prototype.constructor=T,T.superclass=Object.prototype;function T(){}T.prototype.getVariable=function(e,r){return null},q.prototype=new Object,q.prototype.constructor=q,q.superclass=Object.prototype;function q(e){this.thisArg=e??D,this.functions=new Object,this.addStandardFunctions()}q.prototype.addStandardFunctions=function(){this.functions["{}last"]=D.last,this.functions["{}position"]=D.position,this.functions["{}count"]=D.count,this.functions["{}id"]=D.id,this.functions["{}local-name"]=D.localName,this.functions["{}namespace-uri"]=D.namespaceURI,this.functions["{}name"]=D.name,this.functions["{}string"]=D.string,this.functions["{}concat"]=D.concat,this.functions["{}starts-with"]=D.startsWith,this.functions["{}contains"]=D.contains,this.functions["{}substring-before"]=D.substringBefore,this.functions["{}substring-after"]=D.substringAfter,this.functions["{}substring"]=D.substring,this.functions["{}string-length"]=D.stringLength,this.functions["{}normalize-space"]=D.normalizeSpace,this.functions["{}translate"]=D.translate,this.functions["{}boolean"]=D.boolean_,this.functions["{}not"]=D.not,this.functions["{}true"]=D.true_,this.functions["{}false"]=D.false_,this.functions["{}lang"]=D.lang,this.functions["{}number"]=D.number,this.functions["{}sum"]=D.sum,this.functions["{}floor"]=D.floor,this.functions["{}ceiling"]=D.ceiling,this.functions["{}round"]=D.round},q.prototype.addFunction=function(e,r,u){this.functions["{"+e+"}"+r]=u},q.getFunctionFromContext=function(e,r){var u=_.resolveQName(e,r.namespaceResolver,r.contextNode,!1);if(u[0]===null)throw new Error("Cannot resolve QName "+name);return r.functionResolver.getFunction(u[1],u[0])},q.prototype.getFunction=function(e,r){return this.functions["{"+r+"}"+e]},Y.prototype=new Object,Y.prototype.constructor=Y,Y.superclass=Object.prototype;function Y(){}Y.prototype.getNamespace=function(e,r){if(e=="xml")return se.XML_NAMESPACE_URI;if(e=="xmlns")return se.XMLNS_NAMESPACE_URI;for(r.nodeType==9?r=r.documentElement:r.nodeType==2?r=B.getOwnerElement(r):r.nodeType!=1&&(r=r.parentNode);r!=null&&r.nodeType==1;){for(var u=r.attributes,f=0;f<u.length;f++){var p=u.item(f),y=p.name||p.nodeName;if(y==="xmlns"&&e===""||y==="xmlns:"+e)return String(p.value||p.nodeValue)}r=r.parentNode}return null};var D=new Object;D.last=function(e){if(arguments.length!=1)throw new Error("Function last expects ()");return new R(e.contextSize)},D.position=function(e){if(arguments.length!=1)throw new Error("Function position expects ()");return new R(e.contextPosition)},D.count=function(){var e=arguments[0],r;if(arguments.length!=2||!_.instance_of(r=arguments[1].evaluate(e),l))throw new Error("Function count expects (node-set)");return new R(r.size)},D.id=function(){var e=arguments[0],r;if(arguments.length!=2)throw new Error("Function id expects (object)");r=arguments[1].evaluate(e),_.instance_of(r,l)?r=r.toArray().join(" "):r=r.stringValue();for(var u=r.split(/[\x0d\x0a\x09\x20]+/),f=new l,p=e.contextNode.nodeType==9?e.contextNode:e.contextNode.ownerDocument,y=0;y<u.length;y++){var P;p.getElementById?P=p.getElementById(u[y]):P=_.getElementById(p,u[y]),P!=null&&f.add(P)}return f},D.localName=function(e,r){var u;if(arguments.length==1)u=e.contextNode;else if(arguments.length==2)u=r.evaluate(e).first();else throw new Error("Function local-name expects (node-set?)");return u==null?new L(""):new L(u.localName||u.baseName||u.target||u.nodeName||"")},D.namespaceURI=function(){var e=arguments[0],r;if(arguments.length==1)r=e.contextNode;else if(arguments.length==2)r=arguments[1].evaluate(e).first();else throw new Error("Function namespace-uri expects (node-set?)");return r==null?new L(""):new L(r.namespaceURI)},D.name=function(){var e=arguments[0],r;if(arguments.length==1)r=e.contextNode;else if(arguments.length==2)r=arguments[1].evaluate(e).first();else throw new Error("Function name expects (node-set?)");return r==null?new L(""):r.nodeType==1?new L(r.nodeName):r.nodeType==2?new L(r.name||r.nodeName):r.nodeType===7?new L(r.target||r.nodeName):r.localName==null?new L(""):new L(r.localName)},D.string=function(){var e=arguments[0];if(arguments.length==1)return new L(l.prototype.stringForNode(e.contextNode));if(arguments.length==2)return arguments[1].evaluate(e).string();throw new Error("Function string expects (object?)")},D.concat=function(e){if(arguments.length<3)throw new Error("Function concat expects (string, string[, string]*)");for(var r="",u=1;u<arguments.length;u++)r+=arguments[u].evaluate(e).stringValue();return new L(r)},D.startsWith=function(){var e=arguments[0];if(arguments.length!=3)throw new Error("Function startsWith expects (string, string)");var r=arguments[1].evaluate(e).stringValue(),u=arguments[2].evaluate(e).stringValue();return new c(r.substring(0,u.length)==u)},D.contains=function(){var e=arguments[0];if(arguments.length!=3)throw new Error("Function contains expects (string, string)");var r=arguments[1].evaluate(e).stringValue(),u=arguments[2].evaluate(e).stringValue();return new c(r.indexOf(u)!==-1)},D.substringBefore=function(){var e=arguments[0];if(arguments.length!=3)throw new Error("Function substring-before expects (string, string)");var r=arguments[1].evaluate(e).stringValue(),u=arguments[2].evaluate(e).stringValue();return new L(r.substring(0,r.indexOf(u)))},D.substringAfter=function(){var e=arguments[0];if(arguments.length!=3)throw new Error("Function substring-after expects (string, string)");var r=arguments[1].evaluate(e).stringValue(),u=arguments[2].evaluate(e).stringValue();if(u.length==0)return new L(r);var f=r.indexOf(u);return f==-1?new L(""):new L(r.substring(f+u.length))},D.substring=function(){var e=arguments[0];if(!(arguments.length==3||arguments.length==4))throw new Error("Function substring expects (string, number, number?)");var r=arguments[1].evaluate(e).stringValue(),u=Math.round(arguments[2].evaluate(e).numberValue())-1,f=arguments.length==4?u+Math.round(arguments[3].evaluate(e).numberValue()):void 0;return new L(r.substring(u,f))},D.stringLength=function(){var e=arguments[0],r;if(arguments.length==1)r=l.prototype.stringForNode(e.contextNode);else if(arguments.length==2)r=arguments[1].evaluate(e).stringValue();else throw new Error("Function string-length expects (string?)");return new R(r.length)},D.normalizeSpace=function(){var e=arguments[0],r;if(arguments.length==1)r=l.prototype.stringForNode(e.contextNode);else if(arguments.length==2)r=arguments[1].evaluate(e).stringValue();else throw new Error("Function normalize-space expects (string?)");for(var u=0,f=r.length-1;_.isSpace(r.charCodeAt(f));)f--;for(var p="";u<=f&&_.isSpace(r.charCodeAt(u));)u++;for(;u<=f;)if(_.isSpace(r.charCodeAt(u)))for(p+=" ";u<=f&&_.isSpace(r.charCodeAt(u));)u++;else p+=r.charAt(u),u++;return new L(p)},D.translate=function(e,r,u,f){if(arguments.length!=4)throw new Error("Function translate expects (string, string, string)");var p=r.evaluate(e).stringValue(),y=u.evaluate(e).stringValue(),P=f.evaluate(e).stringValue(),H=h(function(F,j,Ae){return j in F||(F[j]=Ae>P.length?"":P[Ae]),F},{},y),Z=G("",v(function(F){return F in H?H[F]:F},p));return new L(Z)},D.boolean_=function(){var e=arguments[0];if(arguments.length!=2)throw new Error("Function boolean expects (object)");return arguments[1].evaluate(e).bool()},D.not=function(e,r){if(arguments.length!=2)throw new Error("Function not expects (object)");return r.evaluate(e).bool().not()},D.true_=function(){if(arguments.length!=1)throw new Error("Function true expects ()");return c.true_},D.false_=function(){if(arguments.length!=1)throw new Error("Function false expects ()");return c.false_},D.lang=function(){var e=arguments[0];if(arguments.length!=2)throw new Error("Function lang expects (string)");for(var r,u=e.contextNode;u!=null&&u.nodeType!=9;u=u.parentNode){var f=u.getAttributeNS(se.XML_NAMESPACE_URI,"lang");if(f!=null){r=String(f);break}}if(r==null)return c.false_;var p=arguments[1].evaluate(e).stringValue();return new c(r.substring(0,p.length)==p&&(r.length==p.length||r.charAt(p.length)=="-"))},D.number=function(){var e=arguments[0];if(!(arguments.length==1||arguments.length==2))throw new Error("Function number expects (object?)");return arguments.length==1?new R(l.prototype.stringForNode(e.contextNode)):arguments[1].evaluate(e).number()},D.sum=function(){var e=arguments[0],r;if(arguments.length!=2||!_.instance_of(r=arguments[1].evaluate(e),l))throw new Error("Function sum expects (node-set)");r=r.toUnsortedArray();for(var u=0,f=0;f<r.length;f++)u+=new R(l.prototype.stringForNode(r[f])).numberValue();return new R(u)},D.floor=function(){var e=arguments[0];if(arguments.length!=2)throw new Error("Function floor expects (number)");return new R(Math.floor(arguments[1].evaluate(e).numberValue()))},D.ceiling=function(){var e=arguments[0];if(arguments.length!=2)throw new Error("Function ceiling expects (number)");return new R(Math.ceil(arguments[1].evaluate(e).numberValue()))},D.round=function(){var e=arguments[0];if(arguments.length!=2)throw new Error("Function round expects (number)");return new R(Math.round(arguments[1].evaluate(e).numberValue()))};var _=new Object;_.isAttribute=function(e){return e&&(e.nodeType===2||e.ownerElement)},_.splitQName=function(e){var r=e.indexOf(":");return r==-1?[null,e]:[e.substring(0,r),e.substring(r+1)]},_.resolveQName=function(e,r,u,f){var p=_.splitQName(e);return p[0]!=null?p[0]=r.getNamespace(p[0],u):f?(p[0]=r.getNamespace("",u),p[0]==null&&(p[0]="")):p[0]="",p},_.isSpace=function(e){return e==9||e==13||e==10||e==32},_.isLetter=function(e){return e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=255||e>=256&&e<=305||e>=308&&e<=318||e>=321&&e<=328||e>=330&&e<=382||e>=384&&e<=451||e>=461&&e<=496||e>=500&&e<=501||e>=506&&e<=535||e>=592&&e<=680||e>=699&&e<=705||e==902||e>=904&&e<=906||e==908||e>=910&&e<=929||e>=931&&e<=974||e>=976&&e<=982||e==986||e==988||e==990||e==992||e>=994&&e<=1011||e>=1025&&e<=1036||e>=1038&&e<=1103||e>=1105&&e<=1116||e>=1118&&e<=1153||e>=1168&&e<=1220||e>=1223&&e<=1224||e>=1227&&e<=1228||e>=1232&&e<=1259||e>=1262&&e<=1269||e>=1272&&e<=1273||e>=1329&&e<=1366||e==1369||e>=1377&&e<=1414||e>=1488&&e<=1514||e>=1520&&e<=1522||e>=1569&&e<=1594||e>=1601&&e<=1610||e>=1649&&e<=1719||e>=1722&&e<=1726||e>=1728&&e<=1742||e>=1744&&e<=1747||e==1749||e>=1765&&e<=1766||e>=2309&&e<=2361||e==2365||e>=2392&&e<=2401||e>=2437&&e<=2444||e>=2447&&e<=2448||e>=2451&&e<=2472||e>=2474&&e<=2480||e==2482||e>=2486&&e<=2489||e>=2524&&e<=2525||e>=2527&&e<=2529||e>=2544&&e<=2545||e>=2565&&e<=2570||e>=2575&&e<=2576||e>=2579&&e<=2600||e>=2602&&e<=2608||e>=2610&&e<=2611||e>=2613&&e<=2614||e>=2616&&e<=2617||e>=2649&&e<=2652||e==2654||e>=2674&&e<=2676||e>=2693&&e<=2699||e==2701||e>=2703&&e<=2705||e>=2707&&e<=2728||e>=2730&&e<=2736||e>=2738&&e<=2739||e>=2741&&e<=2745||e==2749||e==2784||e>=2821&&e<=2828||e>=2831&&e<=2832||e>=2835&&e<=2856||e>=2858&&e<=2864||e>=2866&&e<=2867||e>=2870&&e<=2873||e==2877||e>=2908&&e<=2909||e>=2911&&e<=2913||e>=2949&&e<=2954||e>=2958&&e<=2960||e>=2962&&e<=2965||e>=2969&&e<=2970||e==2972||e>=2974&&e<=2975||e>=2979&&e<=2980||e>=2984&&e<=2986||e>=2990&&e<=2997||e>=2999&&e<=3001||e>=3077&&e<=3084||e>=3086&&e<=3088||e>=3090&&e<=3112||e>=3114&&e<=3123||e>=3125&&e<=3129||e>=3168&&e<=3169||e>=3205&&e<=3212||e>=3214&&e<=3216||e>=3218&&e<=3240||e>=3242&&e<=3251||e>=3253&&e<=3257||e==3294||e>=3296&&e<=3297||e>=3333&&e<=3340||e>=3342&&e<=3344||e>=3346&&e<=3368||e>=3370&&e<=3385||e>=3424&&e<=3425||e>=3585&&e<=3630||e==3632||e>=3634&&e<=3635||e>=3648&&e<=3653||e>=3713&&e<=3714||e==3716||e>=3719&&e<=3720||e==3722||e==3725||e>=3732&&e<=3735||e>=3737&&e<=3743||e>=3745&&e<=3747||e==3749||e==3751||e>=3754&&e<=3755||e>=3757&&e<=3758||e==3760||e>=3762&&e<=3763||e==3773||e>=3776&&e<=3780||e>=3904&&e<=3911||e>=3913&&e<=3945||e>=4256&&e<=4293||e>=4304&&e<=4342||e==4352||e>=4354&&e<=4355||e>=4357&&e<=4359||e==4361||e>=4363&&e<=4364||e>=4366&&e<=4370||e==4412||e==4414||e==4416||e==4428||e==4430||e==4432||e>=4436&&e<=4437||e==4441||e>=4447&&e<=4449||e==4451||e==4453||e==4455||e==4457||e>=4461&&e<=4462||e>=4466&&e<=4467||e==4469||e==4510||e==4520||e==4523||e>=4526&&e<=4527||e>=4535&&e<=4536||e==4538||e>=4540&&e<=4546||e==4587||e==4592||e==4601||e>=7680&&e<=7835||e>=7840&&e<=7929||e>=7936&&e<=7957||e>=7960&&e<=7965||e>=7968&&e<=8005||e>=8008&&e<=8013||e>=8016&&e<=8023||e==8025||e==8027||e==8029||e>=8031&&e<=8061||e>=8064&&e<=8116||e>=8118&&e<=8124||e==8126||e>=8130&&e<=8132||e>=8134&&e<=8140||e>=8144&&e<=8147||e>=8150&&e<=8155||e>=8160&&e<=8172||e>=8178&&e<=8180||e>=8182&&e<=8188||e==8486||e>=8490&&e<=8491||e==8494||e>=8576&&e<=8578||e>=12353&&e<=12436||e>=12449&&e<=12538||e>=12549&&e<=12588||e>=44032&&e<=55203||e>=19968&&e<=40869||e==12295||e>=12321&&e<=12329},_.isNCNameChar=function(e){return e>=48&&e<=57||e>=1632&&e<=1641||e>=1776&&e<=1785||e>=2406&&e<=2415||e>=2534&&e<=2543||e>=2662&&e<=2671||e>=2790&&e<=2799||e>=2918&&e<=2927||e>=3047&&e<=3055||e>=3174&&e<=3183||e>=3302&&e<=3311||e>=3430&&e<=3439||e>=3664&&e<=3673||e>=3792&&e<=3801||e>=3872&&e<=3881||e==46||e==45||e==95||_.isLetter(e)||e>=768&&e<=837||e>=864&&e<=865||e>=1155&&e<=1158||e>=1425&&e<=1441||e>=1443&&e<=1465||e>=1467&&e<=1469||e==1471||e>=1473&&e<=1474||e==1476||e>=1611&&e<=1618||e==1648||e>=1750&&e<=1756||e>=1757&&e<=1759||e>=1760&&e<=1764||e>=1767&&e<=1768||e>=1770&&e<=1773||e>=2305&&e<=2307||e==2364||e>=2366&&e<=2380||e==2381||e>=2385&&e<=2388||e>=2402&&e<=2403||e>=2433&&e<=2435||e==2492||e==2494||e==2495||e>=2496&&e<=2500||e>=2503&&e<=2504||e>=2507&&e<=2509||e==2519||e>=2530&&e<=2531||e==2562||e==2620||e==2622||e==2623||e>=2624&&e<=2626||e>=2631&&e<=2632||e>=2635&&e<=2637||e>=2672&&e<=2673||e>=2689&&e<=2691||e==2748||e>=2750&&e<=2757||e>=2759&&e<=2761||e>=2763&&e<=2765||e>=2817&&e<=2819||e==2876||e>=2878&&e<=2883||e>=2887&&e<=2888||e>=2891&&e<=2893||e>=2902&&e<=2903||e>=2946&&e<=2947||e>=3006&&e<=3010||e>=3014&&e<=3016||e>=3018&&e<=3021||e==3031||e>=3073&&e<=3075||e>=3134&&e<=3140||e>=3142&&e<=3144||e>=3146&&e<=3149||e>=3157&&e<=3158||e>=3202&&e<=3203||e>=3262&&e<=3268||e>=3270&&e<=3272||e>=3274&&e<=3277||e>=3285&&e<=3286||e>=3330&&e<=3331||e>=3390&&e<=3395||e>=3398&&e<=3400||e>=3402&&e<=3405||e==3415||e==3633||e>=3636&&e<=3642||e>=3655&&e<=3662||e==3761||e>=3764&&e<=3769||e>=3771&&e<=3772||e>=3784&&e<=3789||e>=3864&&e<=3865||e==3893||e==3895||e==3897||e==3902||e==3903||e>=3953&&e<=3972||e>=3974&&e<=3979||e>=3984&&e<=3989||e==3991||e>=3993&&e<=4013||e>=4017&&e<=4023||e==4025||e>=8400&&e<=8412||e==8417||e>=12330&&e<=12335||e==12441||e==12442||e==183||e==720||e==721||e==903||e==1600||e==3654||e==3782||e==12293||e>=12337&&e<=12341||e>=12445&&e<=12446||e>=12540&&e<=12542},_.coalesceText=function(e){for(var r=e.firstChild;r!=null;r=r.nextSibling)if(r.nodeType==3||r.nodeType==4){var u=r.nodeValue,f=r;for(r=r.nextSibling;r!=null&&(r.nodeType==3||r.nodeType==4);){u+=r.nodeValue;var p=r;r=r.nextSibling,p.parentNode.removeChild(p)}if(f.nodeType==4){var y=f.parentNode;if(f.nextSibling==null)y.removeChild(f),y.appendChild(y.ownerDocument.createTextNode(u));else{var P=f.nextSibling;y.removeChild(f),y.insertBefore(y.ownerDocument.createTextNode(u),P)}}else f.nodeValue=u;if(r==null)break}else r.nodeType==1&&_.coalesceText(r)},_.instance_of=function(e,r){for(;e!=null;){if(e.constructor===r)return!0;if(e===Object)return!1;e=e.constructor.superclass}return!1},_.getElementById=function(e,r){if(e.nodeType==1&&(e.getAttribute("id")==r||e.getAttributeNS(null,"id")==r))return e;for(var u=e.firstChild;u!=null;u=u.nextSibling){var f=_.getElementById(u,r);if(f!=null)return f}return null};var Q=function(){function e(u,f){var p=f?": "+f.toString():"";switch(u){case r.INVALID_EXPRESSION_ERR:return"Invalid expression"+p;case r.TYPE_ERR:return"Type error"+p}return null}function r(u,f,p){var y=Error.call(this,e(u,f)||p);return y.code=u,y.exception=f,y}return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.superclass=Error,r.prototype.toString=function(){return this.message},r.fromMessage=function(u,f){return new r(null,f,u)},r.INVALID_EXPRESSION_ERR=51,r.TYPE_ERR=52,r}();he.prototype={},he.prototype.constructor=he,he.superclass=Object.prototype;function he(e,r,u){this.xpath=u.parse(e),this.context=new w,this.context.namespaceResolver=new qe(r)}he.getOwnerDocument=function(e){return e.nodeType===9?e:e.ownerDocument},he.detectHtmlDom=function(e){if(!e)return!1;var r=he.getOwnerDocument(e);try{return r.implementation.hasFeature("HTML","2.0")}catch{return!0}},he.prototype.evaluate=function(e,r,u){this.context.expressionContextNode=e,this.context.caseInsensitive=he.detectHtmlDom(e);var f=this.xpath.evaluate(this.context);return new $(f,r)},qe.prototype={},qe.prototype.constructor=qe,qe.superclass=Object.prototype;function qe(e){this.xpathNSResolver=e}qe.prototype.getNamespace=function(e,r){return this.xpathNSResolver==null?null:this.xpathNSResolver.lookupNamespaceURI(e)},$e.prototype={},$e.prototype.constructor=$e,$e.superclass=Object.prototype;function $e(e){this.node=e,this.namespaceResolver=new Y}$e.prototype.lookupNamespaceURI=function(e){return this.namespaceResolver.getNamespace(e,this.node)},$.prototype={},$.prototype.constructor=$,$.superclass=Object.prototype;function $(e,r){switch(r==$.ANY_TYPE&&(e.constructor===L?r=$.STRING_TYPE:e.constructor===R?r=$.NUMBER_TYPE:e.constructor===c?r=$.BOOLEAN_TYPE:e.constructor===l&&(r=$.UNORDERED_NODE_ITERATOR_TYPE)),this.resultType=r,r){case $.NUMBER_TYPE:this.numberValue=e.numberValue();return;case $.STRING_TYPE:this.stringValue=e.stringValue();return;case $.BOOLEAN_TYPE:this.booleanValue=e.booleanValue();return;case $.ANY_UNORDERED_NODE_TYPE:case $.FIRST_ORDERED_NODE_TYPE:if(e.constructor===l){this.singleNodeValue=e.first();return}break;case $.UNORDERED_NODE_ITERATOR_TYPE:case $.ORDERED_NODE_ITERATOR_TYPE:if(e.constructor===l){this.invalidIteratorState=!1,this.nodes=e.toArray(),this.iteratorIndex=0;return}break;case $.UNORDERED_NODE_SNAPSHOT_TYPE:case $.ORDERED_NODE_SNAPSHOT_TYPE:if(e.constructor===l){this.nodes=e.toArray(),this.snapshotLength=this.nodes.length;return}break}throw new Q(Q.TYPE_ERR)}$.prototype.iterateNext=function(){if(this.resultType!=$.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=$.ORDERED_NODE_ITERATOR_TYPE)throw new Q(Q.TYPE_ERR);return this.nodes[this.iteratorIndex++]},$.prototype.snapshotItem=function(e){if(this.resultType!=$.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=$.ORDERED_NODE_SNAPSHOT_TYPE)throw new Q(Q.TYPE_ERR);return this.nodes[e]},$.ANY_TYPE=0,$.NUMBER_TYPE=1,$.STRING_TYPE=2,$.BOOLEAN_TYPE=3,$.UNORDERED_NODE_ITERATOR_TYPE=4,$.ORDERED_NODE_ITERATOR_TYPE=5,$.UNORDERED_NODE_SNAPSHOT_TYPE=6,$.ORDERED_NODE_SNAPSHOT_TYPE=7,$.ANY_UNORDERED_NODE_TYPE=8,$.FIRST_ORDERED_NODE_TYPE=9;function ft(e,r){e.createExpression=function(u,f){try{return new he(u,f,r)}catch(p){throw new Q(Q.INVALID_EXPRESSION_ERR,p)}},e.createNSResolver=function(u){return new $e(u)},e.evaluate=function(u,f,p,y,P){if(y<0||y>9)throw{code:0,toString:function(){return"Request type not supported"}};return e.createExpression(u,p,r).evaluate(f,y,P)}}try{var We=!0;try{document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("XPath",null)&&(We=!1)}catch{}We&&ft(document,new S)}catch{}ft(o,new S),function(){var e=new S,r=new Y,u=new q,f=new T;function p(N){return{getNamespace:function(X,me){var ye=N(X,me);return ye||r.getNamespace(X,me)}}}function y(N){return p(N.getNamespace.bind(N))}function P(N){return p(function(X){return N[X]})}function H(N){return N&&typeof N.getNamespace=="function"?y(N):typeof N=="function"?p(N):typeof N=="object"?P(N):r}function Z(N){if(N===null||typeof N>"u"||N instanceof L||N instanceof c||N instanceof R||N instanceof l)return N;switch(typeof N){case"string":return new L(N);case"boolean":return new c(N);case"number":return new R(N)}var X=new l;return X.addArray([].concat(N)),X}function F(N){return function(X){var me=Array.prototype.slice.call(arguments,1).map(function(Tt){return Tt.evaluate(X)}),ye=N.apply(this,[].concat(X,me));return Z(ye)}}function j(N){return{getFunction:function(X,me){var ye=N(X,me);return ye?F(ye):u.getFunction(X,me)}}}function Ae(N){return j(N.getFunction.bind(N))}function re(N){return j(function(X){return N[X]})}function Ze(N){return N&&typeof N.getFunction=="function"?Ae(N):typeof N=="function"?j(N):typeof N=="object"?re(N):u}function nt(N){return{getVariable:function(X,me){var ye=N(X,me);return Z(ye)}}}function gt(N){if(N){if(typeof N.getVariable=="function")return nt(N.getVariable.bind(N));if(typeof N=="function")return nt(N);if(typeof N=="object")return nt(function(X){return N[X]})}return f}function vt(N,X,me){N in me&&(X[N]=me[N])}function Mt(N){var X=new w;return N?(X.namespaceResolver=H(N.namespaces),X.functionResolver=Ze(N.functions),X.variableResolver=gt(N.variables),X.expressionContextNode=N.node,vt("allowAnyNamespaceForNoPrefix",X,N),vt("isHtml",X,N)):X.namespaceResolver=r,X}function Qe(N,X){var me=Mt(X);return N.evaluate(me)}var xt={evaluate:function(N){return Qe(this.expression,N)},evaluateNumber:function(N){return this.evaluate(N).numberValue()},evaluateString:function(N){return this.evaluate(N).stringValue()},evaluateBoolean:function(N){return this.evaluate(N).booleanValue()},evaluateNodeSet:function(N){return this.evaluate(N).nodeset()},select:function(N){return this.evaluateNodeSet(N).toArray()},select1:function(N){return this.select(N)[0]}};function Ct(N){var X=e.parse(N);return Object.create(xt,{expression:{value:X}})}o.parse=Ct}(),Ve(o,{XPath:se,XPathParser:S,XPathResult:$,Step:I,PathExpr:B,NodeTest:O,LocationPath:te,OrOperation:be,AndOperation:de,BarOperation:ee,EqualsOperation:ze,NotEqualOperation:Be,LessThanOperation:Ie,GreaterThanOperation:ce,LessThanOrEqualOperation:xe,GreaterThanOrEqualOperation:Ee,PlusOperation:Ce,MinusOperation:Le,MultiplyOperation:Me,DivOperation:Ue,ModOperation:Oe,UnaryMinusOperation:pe,FunctionCall:Te,VariableReference:He,XPathContext:w,XNodeSet:l,XBoolean:c,XString:L,XNumber:R,NamespaceResolver:Y,FunctionResolver:q,VariableResolver:T,Utilities:_}),o.select=function(e,r,u){return o.selectWithResolver(e,r,null,u)},o.useNamespaces=function(e){var r={mappings:e||{},lookupNamespaceURI:function(u){return this.mappings[u]}};return function(u,f,p){return o.selectWithResolver(u,f,r,p)}},o.selectWithResolver=function(e,r,u,f){var p=new he(e,u,new S),y=$.ANY_TYPE,P=p.evaluate(r,y,null);return P.resultType==$.STRING_TYPE?P=P.stringValue:P.resultType==$.NUMBER_TYPE?P=P.numberValue:P.resultType==$.BOOLEAN_TYPE?P=P.booleanValue:(P=P.nodes,f&&(P=P[0])),P},o.select1=function(e,r){return o.select(e,r,!0)}})(a)})(x);const er=({dataChunk:t,indexKey:a,chunkSize:o})=>{var h,v;if(!t[0].value&&!((h=t[1])!=null&&h.value)&&!((v=t[2])!=null&&v.value))return null;let s=null,d=t;return o===3&&(d=t.slice(0,2),[s]=t.slice(2)),E.createElement(E.Fragment,null,E.createElement("tr",null,d.map((m,C)=>{var V,G;if(!m.value)return null;let U=1;return(C===0&&(!d[C+1]||!d[C+1].value)||C===1&&(!d[C-1]||!d[C-1].value))&&(U=3),E.createElement(E.Fragment,{key:`${d[0].label}-${String(d[0].value)}-${C}-${a}-${((V=d[1])==null?void 0:V.label)||""}-${((G=d[1])==null?void 0:G.value)||""}`},E.createElement("td",{className:"ctw-ccda-common-td1",rowSpan:s&&s.value&&C===0?2:1},m.label.replace(/:/g,"")),E.createElement("td",{className:"ctw-ccda-common-td2",colSpan:U,rowSpan:s&&s.value&&C===0?2:1},m.value))})),s&&s.value&&E.createElement("tr",null,E.createElement("td",{className:"ctw-ccda-common-td1"},s.label.replace(/:/g,"")),E.createElement("td",{className:"ctw-ccda-common-td2"},s.value)))};try{er.displayName="BasicRow",er.__docgenInfo={description:"",displayName:"BasicRow",props:{dataChunk:{defaultValue:null,description:"",name:"dataChunk",required:!0,type:{name:"TableInfo[]"}},indexKey:{defaultValue:null,description:"",name:"indexKey",required:!0,type:{name:"number"}},chunkSize:{defaultValue:null,description:"",name:"chunkSize",required:!1,type:{name:"enum",value:[{value:"2"},{value:"3"}]}}}}}catch{}const tr=({tuple:t,indexKey:a})=>!t[0].value&&!t[1].value?null:E.createElement("tr",null,t.map((o,s)=>{if(!o.value)return null;let d=1;return(s===0&&!t[1].value||s===1&&!t[0].value)&&(d=3),E.createElement(E.Fragment,{key:`${t[0].label}-${t[0].value}-${s}-${a}-${t[1].label||""}-${t[1].value}`},E.createElement("td",{className:"ctw-ccda-common-td1"},o.label.replace(/:/g,"")),E.createElement("td",{className:"ctw-ccda-common-td2",colSpan:d},o.value))}));try{tr.displayName="TupleRow",tr.__docgenInfo={description:"",displayName:"TupleRow",props:{tuple:{defaultValue:null,description:"",name:"tuple",required:!0,type:{name:"[TableInfo, TableInfo]"}},indexKey:{defaultValue:null,description:"",name:"indexKey",required:!0,type:{name:"number"}}}}}catch{}const De=({data:t,chunkSize:a=2})=>{const[o,s]=M.partition(t,h=>!M.isArray(h)),d=M.chunk(o,a);return E.createElement("table",{className:"ctw-ccda-common-table"},E.createElement("tbody",null,d.map((h,v)=>E.createElement(er,{key:`${h[0].label}-${v}`,dataChunk:h,chunkSize:a,indexKey:v})),s.map((h,v)=>E.createElement(tr,{key:`${h[0].label}-${h[1].label}-${v}`,tuple:h,indexKey:v}))))};try{De.displayName="Table",De.__docgenInfo={description:"",displayName:"Table",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"(TableInfo | [TableInfo, TableInfo])[]"}},chunkSize:{defaultValue:{value:"2"},description:"",name:"chunkSize",required:!1,type:{name:"enum",value:[{value:"2"},{value:"3"}]}}}}}catch{}const Vr=t=>{var o;if(t.text)return t.text;let a="";return a+=t.use?`${M.capitalize(t.use)}: `:"",a+=M.isEmpty(t.line)?"":`${(o=t.line)==null?void 0:o.join(`
`)}
`,a+=t.city?`${t.city}, `:"",a+=t.state?`${t.state} `:"",a+=t.postalCode||"",a+=t.country?`
${t.country}`:"",a},hi=t=>M.isEmpty(t)?"":M.isArray(t)?t.map(Vr).join(`
`):Vr(t);function yi(t){return M.isArray(t)&&t.every(a=>typeof a=="object")}function gi(t){return M.isArray(t)&&t.every(a=>typeof a=="string")}const qr=t=>{if(t.text)return t.text;let a="";return t.given&&t.given.length>0&&(a=t.given.join(" "),t.family&&(a=`${a} ${t.family}`)),t.prefix&&t.prefix.length>0&&(a=`${t.prefix.join(" ")} ${a}`),a},hn=t=>M.isEmpty(t)?"":typeof t=="string"?t:gi(t)?t.reduce((a,o,s)=>`${a}${s===0?"":`
`}${o}`,""):yi(t)?t.map(qr).join(", "):qr(t),Gr=({use:t,system:a,value:o})=>{const s=t?` (${t})`:"";return`${a?`${M.capitalize(a)}${s}:`:""} ${o}`.trim()},vi=t=>M.isEmpty(t)?"":M.isArray(t)?t.map(Gr).join(`
`):Gr(t),bi={BAD:"bad",DIR:"direct",H:"home",HP:"primary home",HV:"vacation home",PHYS:"physical",PST:"postal",PUB:"public",TMP:"temporary",WP:"work",CONF:"confidential"},yn=t=>{if(!t)return"";const a=o=>{const s=String(x.select1("string(@use)",o)),d={line:M.map(x.select("*[name()='streetAddressLine']",o),h=>String(x.select("string(text())",h))).filter(Boolean),city:String(x.select("string(*[name()='city'])",o)),state:String(x.select("string(*[name()='state'])",o)),postalCode:String(x.select("string(*[name()='postalCode'])",o)),country:String(x.select("string(*[name()='country'])",o)),use:bi[s]};return hi(d)};return M.isArray(t)?t.map(a).join(`
`):a(t)},xi={BAD:"bad",CONF:"confidential",OLD:"old",H:"home",HP:"primary home",HV:"vacation Home",TMP:"temporary",WP:"work",DIR:"direct",PUB:"public",AS:"answering service",EC:"emergency:",MC:"mobile",PG:"pager"},Vt={tel:"phone",mailto:"email"},Ei=t=>{if(!t)return"";const a=o=>{const d=String(x.select1("string(@value)",o)).split(":");let h,v;if(d.length===2&&([h,v]=d),d.length===1&&([v]=d),!v)return"";const m=v.includes("@")?Vt.mailto:Vt.tel,U={system:Vt[h]||m,value:v,use:xi[String(x.select1("string(@use)",o))]};return vi(U)};return M.isArray(t)?t.map(a).join(`
`):a(t)},Pe=(t,a)=>{const o=yn(t),s=Ei(a);return`${o||""}${o&&s?`
`:""}${s||""}`},Si={A:"Artist/Stage",ABC:"Alphabetic",ASGN:"Assigned",C:"License",I:"Indigenous/Tribal",IDE:"Ideographic",L:"Legal",P:"Pseudonym",PHON:"Phonetic",R:"Religious",SNDX:"Soundex",SRCH:"Search",SYL:"Syllabic"},tt=t=>{if(!t)return"";const a=o=>{const s={use:Si[String(x.select("string(@use)",o))],given:M.map(x.select("(*[name()='given'])",o),d=>String(x.select1("string(text())",d))),family:String(x.select1("string(*[name()='family']/text())",o)),prefix:M.map(x.select("(*[name()='prefix'])",o),d=>String(x.select1("string(text())",d))),suffix:M.map(x.select("(*[name()='suffix'])",o),d=>String(x.select1("string(text())",d)))};return hn(s)};return M.isArray(t)?t.map(a).join(`
`):a(t)},ct=t=>{if(!t)return"";const a=String(x.select1("string(@root)",t)),o=String(x.select1("string(@extension)",t));return`${o}${o?" (":""}${a}${o?")":""}`},wi=t=>{const a=t.replace(/:/g,""),o=a.lastIndexOf("+"),s=a.lastIndexOf("-");if(o>0)return{index:a.length-o-1,timezoneSign:"+"};if(s>0){const d=a[s-3];return M.isFinite(Number(d))||d==="T"?{index:a.length-s-1,timezoneSign:"-"}:{index:-1}}return{index:-1}},lt=t=>t&&t.length>1&&t.split("").every(a=>M.isFinite(Number(a))),Ci=({year:t,month:a,day:o,hour:s,minute:d,second:h,timezoneHour:v,timezoneMinute:m,timezoneSign:C})=>{let U="";return lt(t)&&(U+=t,lt(a)&&(U+=`-${a}`,lt(o)&&(U+=`-${o}`,lt(s)?(U+=`T${s}`,lt(d)?U+=`:${d}`:U+=":00",lt(h)?U+=`:${h}`:U+=":00",C&&lt(v)?(U+=`${C}${v}`,lt(m)?U+=`:${m}`:U+=":00"):U+="-00:00"):U+="T00:00:00-00:00"))),U},je=t=>{if(!t)return"";const{index:a,timezoneSign:o}=wi(t);let s=t.replace(/T/g,"").replace(/-/g,"").replace("+","").replace(/:/g,""),d="";(a===4||a===2)&&s.length>9&&(d=s.substring(s.length-a),s=s.substring(0,s.length-a));const h=s.slice(0,4),v=s.slice(4,6),m=s.slice(6,8),C=s.slice(8,10),U=s.slice(10,12),V=s.slice(12,14),G=d.slice(0,2),ae=d.slice(2);return m?Ci({year:h,month:v,day:m,hour:C,minute:U,second:V,timezoneHour:G,timezoneMinute:ae,timezoneSign:o}):""},Rr=t=>{if(!t)return{};const a=String(x.select1("string(*[name()='low']/@value)",t)),o=String(x.select1("string(*[name()='high']/@value)",t));if(!a&&!o)return{};if(a&&!o)return{start:je(a)};if(!a&&o)return{end:je(o)};let s=je(a),d=je(o);return(s.includes("T")||d.includes("T"))&&(s=je(s),d=je(d)),ei(new Date(s),new Date(d))||ti(new Date(s),new Date(d))?{start:s,end:d}:{start:s}},Ft=(t,a,o,s=!0)=>{if(M.isArray(a))return a.reduce((h,v)=>Ft(h,v,o),t);const d=s?M.escapeRegExp:M.identity;return t.replace(new RegExp(d(a),"g"),o)},Et=(t,a,o)=>{const s=[`</${a}>`,`<${a}>`,`</${a}`,`<${a}`],d=[`</${o}>`,`<${o}>`,`</${o}`,`<${o}`];return s.reduce((h,v,m)=>Ft(h,s[m],d[m]),t)},Ti=t=>{let a=t.toString();return a=Ft(a,["<list/>","<item/>","<content/>","<paragraph/>","<section/>","<br/>",'<text xmlns="urn:hl7-org:v3">',"<text />","<text/>"],""),a=Ft(a,' styleCode="(.*?)"',"",!1),a=Et(a,"section","div"),a=Et(a,"list","ul"),a=Et(a,"item","li"),a=Et(a,"content","div"),a=Et(a,"paragraph","p"),a},yt=t=>{if(!t)return"";const[a,o]=t.split("T");return an(new Date(a),"MMMM dd, yyyy")+(o.split("").some(s=>Number(s)>0)?`, ${o}`:"")},Ai=t=>!!t,Pr=t=>!!t,Ni=t=>{const a=x.select("*[name()='ClinicalDocument']/*[name()='authenticator']",t);if(!M.isEmpty(a))return a.map(o=>{const s=x.select1("*[name()='assignedEntity']",o);if(!s)return;const d=x.select1("*[name()='assignedPerson']",s),h=tt(x.select("*[name()='name']",d)),v=Pe(x.select("*[name()='addr']",s),x.select("*[name()='telecom']",s)),m=je(String(x.select1("string(*[name()='time']/@value)",o)));return{name:h,contactDetails:v,time:m}}).filter(Pr)},rr=({document:t})=>{const a=Ni(t);if(!a||M.isEmpty(a))return null;const o=a.flatMap(s=>[{label:"Authenticator",value:`${s.name||"Unknown"}${s.time?` signed at ${s.time}`:""}`},{label:"Contact Details",value:s.contactDetails}]);return E.createElement(De,{data:o})};try{rr.displayName="Authenticator",rr.__docgenInfo={description:"",displayName:"Authenticator",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const gn=t=>{const a=x.select("*[name()='ClinicalDocument']/*[name()='author']",t);return M.isEmpty(a)?void 0:a.map(s=>{const d=x.select1("*[name()='assignedAuthor']/*[name()='assignedPerson']/*[name()='name']",s),h=x.select1("*[name()='assignedAuthor']/*[name()='assignedAuthoringDevice']",s);let v="";if(d)v=tt(d);else if(h){const U=String(x.select1("string(*[name()='manufacturerModelName'])",h)),V=String(x.select1("string(*[name()='softwareName'])",h));v=[U,V].filter(Boolean).join("; ")}const m=String(x.select1("string(*[name()='assignedAuthor']/*[name()='representedOrganization']/*[name()='name'])",s)),C=je(String(x.select1("string(*[name()='time'])",s)));return[{label:"Name:",value:v},{label:"Organization:",value:m},{label:"Authored on",value:C}]}).reduce((s,d,h)=>({...s,[`author${h+1}`]:d}),{})},Di=t=>{const a=x.select("*[name()='ClinicalDocument']/*[name()='author']",t);if(M.isEmpty(a))return;const o=gn(t);return a.map((s,d)=>{const h=x.select1("*[name()='assignedAuthor']",s),v=Pe(x.select("*[name()='addr']",h),x.select("*[name()='telecom']",h)),m=x.select1("*[name()='representedOrganization']",h),C={name:o[`author${d+1}`][0].value,contactDetails:v,organization:{name:o[`author${d+1}`][1].value,contactDetails:""}};if(m){const U=Pe(x.select("*[name()='addr']",m),x.select("*[name()='telecom']",m));return{...C,organization:{...C.organization,contactDetails:U}}}return C})},nr=({document:t})=>{const a=Di(t);if(!a||M.isEmpty(a))return null;const o=a.flatMap(s=>[{label:"Author",value:`${s.name||"Unknown"}${s.organization.name?`, Organization: ${s.organization.name}`:""}`},{label:"Contact Details",value:s.contactDetails},{label:"Contact Details (Organization)",value:s.organization.contactDetails}]);return E.createElement(De,{data:o,chunkSize:3})};try{nr.displayName="Author",nr.__docgenInfo={description:"",displayName:"Author",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const vn=t=>{const a=x.select("*[name()='ClinicalDocument']/*[name()='authorization']/*[name()='consent']",t);return M.isEmpty(a)?void 0:a.map(s=>{const d=ct(x.select1("*[name()='id']",s)),h=String(x.select1("string(*[name()='code']/@displayName)",s)),v=String(x.select1("string(*[name()='statusCode']/@code)",s));return[{label:"ID:",value:d},{label:"Code:",value:h},{label:"Status:",value:v}]}).reduce((s,d,h)=>({...s,[`consent${h+1}`]:d}),{})},_i=t=>{const a=vn(t);return Object.values(a||{})},ir=({document:t})=>{const a=_i(t);if(M.isEmpty(a))return null;const o=a.flatMap(s=>[{label:"Consent",value:`Order: ${s[0].value||"Unknown"}, ${s[1].value||"Unknown"}, ${s[2].value||"Unknown"}`},{label:"",value:""}]);return E.createElement(De,{data:o})};try{ir.displayName="Authorization",ir.__docgenInfo={description:"",displayName:"Authorization",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Ii=t=>{const a=x.select1("*[name()='ClinicalDocument']/*[name()='custodian']/*[name()='assignedCustodian']/*[name()='representedCustodianOrganization']",t);if(!a)return;const o=String(x.select1("string(*[name()='name'])",a)),s=Pe(x.select1("*[name()='ClinicalDocument']/*[name()='custodian']/*[name()='assignedCustodian']/*[name()='representedCustodianOrganization']/*[name()='addr']",t),x.select1("*[name()='ClinicalDocument']/*[name()='custodian']/*[name()='assignedCustodian']/*[name()='representedCustodianOrganization']/*[name()='telecom']",t));return{name:o,contactDetails:s}},ar=({document:t})=>{const a=Ii(t);if(!a)return null;const{name:o,contactDetails:s}=a,d=[{label:"Custodian",value:o},{label:"Contact Details",value:s}];return E.createElement(De,{data:d})};try{ar.displayName="Custodian",ar.__docgenInfo={description:"",displayName:"Custodian",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Oi=t=>{const a=x.select1("*[name()='ClinicalDocument']/*[name()='dataEnterer']/*[name()='assignedEntity']",t);if(!a)return;const o=x.select1("*[name()='assignedPerson']",a),s=tt(x.select("*[name()='name']",o)),d=Pe(x.select("*[name()='addr']",a),x.select("*[name()='telecom']",a));return{name:s,contactDetails:d}},or=({document:t})=>{const a=Oi(t);if(!a)return null;const{name:o,contactDetails:s}=a,d=[{label:"Data Enterer",value:o},{label:"Contact Details",value:s}];return E.createElement(De,{data:d})};try{or.displayName="DataEnterer",or.__docgenInfo={description:"",displayName:"DataEnterer",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Ri={N:"normal",R:"restricted",V:"very restricted"},Pi=t=>{const a=ct(x.select1("*[name()='ClinicalDocument']/*[name()='id']",t)),o=je(String(x.select1("string(*[name()='ClinicalDocument']/*[name()='effectiveTime']/@value)",t))),s=yt(o),d=String(x.select1("string(*[name()='ClinicalDocument']/*[name()='versionNumber']/@value)",t)),h=ct(x.select1("*[name()='ClinicalDocument']/*[name()='setId']",t)),v=Ri[String(x.select1("string(*[name()='ClinicalDocument']/*[name()='confidentialityCode']/@code)",t))],m=String(x.select1("string(*[name()='ClinicalDocument']/*[name()='code']/@displayName)",t)),C=String(x.select1("string(*[name()='ClinicalDocument']/*[name()='languageCode']/@code)",t));return{id:a,createdOn:s,version:d,setId:h,confidentialityCode:v,code:m,languageCode:C}},sr=({document:t})=>{const{id:a,createdOn:o,version:s,setId:d,confidentialityCode:h,code:v,languageCode:m}=Pi(t),C=[{label:"Document",value:E.createElement(E.Fragment,null,E.createElement("b",null,"ID: "),a,d&&E.createElement(E.Fragment,null,E.createElement("br",null),E.createElement("b",null,"Set ID: "),d))},{label:"Created on",value:o},{label:"Version",value:s||"Unknown"},{label:"Confidentiality",value:h},{label:"Code",value:v},{label:"Language",value:m}];return E.createElement(De,{data:C})};try{sr.displayName="Document",sr.__docgenInfo={description:"",displayName:"Document",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const bn=t=>{const a=x.select("//*[name()='documentationOf']/*[name()='serviceEvent']",t);return M.isEmpty(a)?void 0:a.map(s=>{const d=x.select1("*[name()='effectiveTime']",s),h=Rr(d),m=x.select("*[name()='performer']/*[name()='assignedEntity']/*[name()='assignedPerson']/*[name()='name']",s).map(C=>tt(C));return[{label:"Date/Time:",value:h.start||h.end?`from ${yt(h.start)||"unknown"} to ${yt(h.end)||"unknown"}`:""},...m.map(C=>({label:"Performer:",value:C}))]}).reduce((s,d,h)=>({...s,[`documentationOf${h+1}`]:d}),{})},Fi=t=>{const a=x.select("//*[name()='documentationOf']/*[name()='serviceEvent']",t);if(M.isEmpty(a))return;const o=bn(t);return a.map((s,d)=>{const v=x.select("*[name()='performer']",s).map((m,C)=>{const U=String(x.select1("string(*[name()='functionCode']/@displayName)",m)),V=M.get(o,`documentationOf${d+1}[${C+1}].value`),G=Pe(x.select("*[name()='assignedEntity']/*[name()='addr']",m),x.select("*[name()='assignedEntity']/*[name()='telecom']",m));if(!(!V&&!U&&!G))return{functionCode:U,name:V,contactDetails:G}});return{dateTime:M.get(o,`documentationOf${d+1}[0].value`),finalPerformers:v.filter(Ai)}})},cr=({document:t})=>{const a=Fi(t);if(!a||M.isEmpty(a))return null;const o=a.flatMap(s=>[{label:"Documentation of - Date/Time",value:s.dateTime},{label:"",value:""},...s.finalPerformers.flatMap(d=>[{label:"Performer",value:`${d.name||"Unknown"}${d.functionCode?` - ${d.functionCode}`:""}`},{label:"Contact Details",value:d.contactDetails}])]);return E.createElement(De,{data:o})};try{cr.displayName="DocumentationOf",cr.__docgenInfo={description:"",displayName:"DocumentationOf",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const xn=t=>{const a=x.select1("*[name()='ClinicalDocument']/*[name()='componentOf']/*[name()='encompassingEncounter']",t);if(!a)return;const o=ct(x.select1("*[name()='id']",a)),s=String(x.select1("string(*[name()='code']/@displayName)",a)),d=Rr(x.select1("*[name()='effectiveTime']",a));return[{label:"ID:",value:d.start||d.end||o?o||"Unknown":""},{label:"Type:",value:s},{label:"Date/Time:",value:d.start||d.end?`from ${yt(d.start)||"unknown"} to ${yt(d.end)||"unknown"}`:""}]},zi=t=>{const a=x.select1("*[name()='ClinicalDocument']/*[name()='componentOf']/*[name()='encompassingEncounter']",t);if(!a)return;const o=xn(t),s=String(x.select1("string(*[name()='dischargeDispositionCode']/@displayName)",a)),d=ct(x.select1("*[name()='location']/*[name()='healthCareFacility']/*[name()='id']",a));return{id:o[0],type:o[1],dateTime:o[2],dischargeDisposition:s,encounterLocation:d?`ID: ${d}`:null}},lr=({document:t})=>{const a=zi(t);if(!a)return null;const{dischargeDisposition:o,encounterLocation:s,id:d,type:h,dateTime:v}=a,m=[{label:"Encounter",value:v.value||o||s||d.value?E.createElement(E.Fragment,null,E.createElement("b",null,"ID: "),d.value||"Unknown",h.value&&E.createElement(E.Fragment,null,E.createElement("br",null),E.createElement("b",null,"Type: "),h.value)):null},{label:"Date/Time",value:v.value},{label:"Discharge Disposition",value:o},{label:"Encounter Location",value:s}];return E.createElement(De,{data:m})};try{lr.displayName="Encounter",lr.__docgenInfo={description:"",displayName:"Encounter",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Bi=t=>{const a=x.select("*[name()='ClinicalDocument']/*[name()='informant']",t);if(!M.isEmpty(a))return a.map(o=>{const s=x.select1("*[name()='assignedEntity']",o);if(s){const h=x.select1("*[name()='assignedPerson']",s),v=tt(x.select("*[name()='name']",h)),m=Pe(x.select("*[name()='addr']",s),x.select("*[name()='telecom']",s));return{name:v,contactDetails:m,relationship:""}}const d=x.select1("*[name()='relatedEntity']",o);if(d){const h=x.select1("*[name()='relatedPerson']",d),v=tt(x.select("*[name()='name']",h)),m=Pe(x.select("*[name()='addr']",d),x.select("*[name()='telecom']",d)),C=String(x.select1("string(*[name()='code']/@displayName)",d)).toLowerCase();return{name:v,contactDetails:m,relationship:C}}}).filter(Pr)},ur=({document:t})=>{const a=Bi(t);if(!a||M.isEmpty(a))return null;const o=a.flatMap(s=>[{label:"Informant",value:`${s.name||"Unknown"}${s.relationship?` - ${s.relationship}`:""}`},{label:"Contact Details",value:s.contactDetails}]);return E.createElement(De,{data:o})};try{ur.displayName="Informant",ur.__docgenInfo={description:"",displayName:"Informant",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Li=t=>{const a=x.select("*[name()='ClinicalDocument']/*[name()='informationRecipient']/*[name()='intendedRecipient']",t);if(!M.isEmpty(a))return a.map(o=>{const s=x.select1("*[name()='informationRecipient']",o),d=x.select1("*[name()='receivedOrganization']",o);if(s){const C=tt(x.select1("*[name()='name']",s)),U=String(x.select1("string(*[name()='name']/node())",d));return{name:C,contactDetails:"",organization:{name:U,contactDetails:""}}}const h=x.select("*[name()='id']",o).map(ct).join(", "),v=Pe(x.select("*[name()='addr']",o),x.select("*[name()='telecom']",o)),m={name:h,contactDetails:v,organization:{name:"",contactDetails:""}};if(d){const C=String(x.select1("string(*[name()='name']/node())",d)),U=Pe(x.select("*[name()='addr']",d),x.select("*[name()='telecom']",d));return{...m,organization:{name:C,contactDetails:U}}}return m})},dr=({document:t})=>{const a=Li(t);if(!a||M.isEmpty(a))return null;const o=a.flatMap(s=>[{label:"Information Recipient",value:s.name},{label:"Contact Details",value:s.contactDetails},{label:"Organization",value:s.organization.name},{label:"Contact Details (Organization)",value:s.organization.contactDetails}]);return E.createElement(De,{data:o})};try{dr.displayName="InformationRecipient",dr.__docgenInfo={description:"",displayName:"InformationRecipient",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const En=t=>{const a=x.select("*[name()='ClinicalDocument']/*[name()='inFulfillmentOf']/*[name()='order']",t);return M.isEmpty(a)?void 0:a.map(s=>{const d=ct(x.select1("*[name()='id']",s)),h=String(x.select1("string(*[name()='code']/@displayName)",s));return[{label:"Order ID:",value:d},{label:"Code:",value:h}]}).reduce((s,d,h)=>({...s,[`inFulfillmentOf${h+1}`]:d}),{})},Mi=t=>{const a=En(t);return Object.values(a||{})},pr=({document:t})=>{const a=Mi(t);if(M.isEmpty(a))return null;const o=a.flatMap(s=>[{label:"In Fulfillment Of",value:`Order: ${s[0].value||"Unknown"}, ${s[1].value||"Unknown"}`},{label:"",value:""}]);return E.createElement(De,{data:o})};try{pr.displayName="InFulfillmentOf",pr.__docgenInfo={description:"",displayName:"InFulfillmentOf",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Ui=t=>{const a=x.select1("*[name()='ClinicalDocument']/*[name()='legalAuthenticator']",t);if(!a)return;const o=x.select1("*[name()='assignedEntity']",a),s=x.select1("*[name()='assignedPerson']",o),d=tt(x.select("*[name()='name']",s)),h=Pe(x.select("*[name()='addr']",o),x.select("*[name()='telecom']",o)),v=yt(je(String(x.select1("string(*[name()='time']/@value)",a))));return{name:d,contactDetails:h,time:v}},mr=({document:t})=>{const a=Ui(t);if(!a)return null;const{name:o,time:s,contactDetails:d}=a,h=s?` signed at ${s}`:"",v=[{label:"Legal Authenticator",value:`${o}${h}`},{label:"Contact Details",value:d}];return E.createElement(De,{data:v})};try{mr.displayName="LegalAuthenticator",mr.__docgenInfo={description:"",displayName:"LegalAuthenticator",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Hi=t=>{const a=x.select("*[name()='ClinicalDocument']/*[name()='participant']",t);if(!M.isEmpty(a))return a.map(o=>{const s=x.select1("*[name()='associatedEntity']",o);if(s){const d=x.select1("*[name()='associatedPerson']",s),h=tt(x.select("*[name()='name']",d)),v=Pe(x.select("*[name()='addr']",s),x.select("*[name()='telecom']",s)),m=x.select1("*[name()='time']",o),C=Rr(m),U=String(x.select1("string(*[name()='code']/@displayName)",s)).toLowerCase();return{name:h,contactDetails:v,time:`from ${C.start} to ${C.end}`,relationship:U}}}).filter(Pr)},fr=({document:t})=>{const a=Hi(t);if(!a||M.isEmpty(a))return null;const o=a.flatMap(s=>[{label:"Participant",value:`${s.name}${s.relationship?` - ${s.relationship}`:""}`},{label:"Contact Details",value:s.contactDetails}]);return E.createElement(De,{data:o})};try{fr.displayName="Participant",fr.__docgenInfo={description:"",displayName:"Participant",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Sn=t=>{const a=x.select("*[name()='patient']/*[name()='guardian']",t);if(!M.isEmpty(a))return a.map(o=>{const s=x.select1("*[name()='guardianPerson']",o),d=String(x.select1("string(*[name()='code']/@displayName)",o)),h=tt(x.select("*[name()='name']",s)),v=d?` - ${d}`:"";return{label:"",value:`${h}${v}`}})},wn=t=>{const o=x.select("*[name()='ClinicalDocument']/*[name()='recordTarget']/*[name()='patientRole']",t).map(s=>{const d=x.select1("*[name()='patient']",s),h=tt(x.select1("*[name()='name']",d)),v=x.select("*[name()='id']",s).map(ct).join(", "),m=String(x.select1("string(*[name()='administrativeGenderCode']/@displayName)",d)),C=new Date(je(String(x.select1("string(*[name()='birthTime']/@value)",d)))),U=new Date(je(String(x.select1("string(*[name()='sdtc:deceasedTime']/@value)",d)))),V=String(x.select1("string(*[name()='sdtc:deceasedInd']/@value)",d))==="true",G=V?"deceased":Hn(Hr(U)?U:new Date,C),ae=`${an(C,"MMMM dd, yyyy")} (${G}${V?"":" yr"}${Hr(U)?" - deceased":""})`,oe=Sn(s);return{patient:[{label:"Name:",value:h},{label:"ID:",value:v},{label:"Date of birth:",value:ae},{label:"Gender:",value:m}],guardian:oe}});return M.map(o,s=>[s.patient,s.guardian]).reduce((s,d,h)=>({...s,[`patient${h+1}`]:d[0],[`guardian${h+1}`]:d[1]}),{})},ki=t=>{const a=x.select1("*[name()='birthplace']/*[name()='place']/*[name()='addr']",t);return a?yn(a):""},Vi=t=>{const a=x.select1("*[name()='ethnicGroupCode']",t);if(a)return String(x.select1("string(@displayName)",a));const o=x.select("*[name()='sdtc:ethnicGroupCode']",t);return M.isEmpty(o)?"":String(x.select1("string(@displayName)",o[0]))},qi=t=>{const a=x.select("//*[name()='patientRole']/*[name()='patient']/*[name()='guardian']",document);if(!a||M.isEmpty(a))return;const o=Sn(t);return a.map((s,d)=>{const h=Pe(x.select("*[name()='addr']",s),x.select("*[name()='telecom']",s));return{name:o[d].value,contactDetails:h}})},Gi=t=>x.select("*[name()='languageCommunication']",t).reduce((o,s,d)=>{const h=String(x.select1("string(*[name()='languageCode']/@code)",s));if(!h)return o;const v=String(x.select1("string(*[name()='preferenceInd']/@value)",s)),m=d===0?"":`
`,C=v!==""?`, preferred: ${v}`:"";return`${o}${m}${h}${C}`},""),ji=t=>String(x.select1("string(*[name()='maritalStatusCode']/@displayName)",t)),$i=t=>{const a=x.select1("*[name()='providerOrganization']",t),o=x.select1("//*[name()='custodian']/*[name()='assignedCustodian']/*[name()='representedCustodianOrganization']",t),s=a||o,d=x.select("*[name()='id']",s).map(ct).join(", "),h=hn(x.select("string(*[name()='name'])",s)),v=Pe(x.select("*[name()='addr']",s),x.select("*[name()='telecom']",s)),m=h?`
${h}`:"";return{name:`${d}${m}`,contactDetails:v}},Wi=t=>{const a=x.select1("*[name()='raceCode']",t);if(a)return String(x.select1("string(@displayName)",a));const o=x.select("*[name()='sdtc:raceCode']",t);return M.isEmpty(o)?"":String(x.select1("string(@displayName)",o[0]))},Ki=t=>String(x.select1("string(*[name()='religiousAffiliationCode']/@displayName)",t)),Yi=t=>{const a=x.select("//*[name()='patientRole']",t);if(!a||M.isEmpty(a))return;const o=wn(t),s=Object.entries(o).reduce((d,[h,v])=>({...d,[h]:v==null?void 0:v.reduce((m,C)=>({...m,[M.camelCase(C.label)]:C.value}),{})}),{});return a.map((d,h)=>{const v=x.select1("*[name()='patient']",d),m=Wi(v),C=Vi(v),U=Pe(x.select("*[name()='addr']",d),x.select("*[name()='telecom']",d)),V=Gi(v),G=$i(d),ae=qi(d),oe=ji(v),ve=Ki(v),_e=ki(v);return{name:s[`patient${h+1}`].name,contactDetails:U,dateOfBirth:s[`patient${h+1}`].dateOfBirth,gender:s[`patient${h+1}`].gender,race:m,ethnicity:C,patientId:s[`patient${h+1}`].id,language:V,maritalStatus:oe,religion:ve,birthPlace:_e,guardian:ae||[],providerOrganization:G.name,providerOrganizationContactDetails:G.contactDetails}})},hr=({document:t})=>{const a=Yi(t);return!a||M.isEmpty(a)?null:E.createElement(E.Fragment,null,a.map(o=>{const s=[{label:"Patient",value:o.name},{label:"Contact Details",value:o.contactDetails},{label:"Date Of Birth",value:o.dateOfBirth},{label:"Gender",value:o.gender},{label:"Race",value:o.race},{label:"Ethnicity",value:o.ethnicity},{label:"Patient ID",value:o.patientId},{label:"Language",value:o.language},{label:"Marital Status",value:o.maritalStatus},{label:"Religion",value:o.religion},{label:"Birth Place",value:o.birthPlace},...o.guardian.map(d=>[{label:"Guardian",value:d.name},{label:"Contact Details",value:d.contactDetails}]),[{label:"Provider Organization",value:o.providerOrganization},{label:"Contact Details (Organization)",value:o.providerOrganizationContactDetails}]];return E.createElement(De,{key:`${o.patientId}-${o.name}-${o.dateOfBirth}`,data:s.filter(d=>M.isArray(d)||d.value)})}))};try{hr.displayName="Patient",hr.__docgenInfo={description:"",displayName:"Patient",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const yr=({document:t})=>E.createElement("div",{className:"ctw-ccda-document-details"},E.createElement(sr,{document:t}),E.createElement(ar,{document:t}),E.createElement(hr,{document:t}),E.createElement(nr,{document:t}),E.createElement(or,{document:t}),E.createElement(ur,{document:t}),E.createElement(dr,{document:t}),E.createElement(mr,{document:t}),E.createElement(rr,{document:t}),E.createElement(fr,{document:t}),E.createElement(cr,{document:t}),E.createElement(pr,{document:t}),E.createElement(ir,{document:t}),E.createElement(lr,{document:t}));try{yr.displayName="DocumentDetails",yr.__docgenInfo={description:"",displayName:"DocumentDetails",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Ji=t=>{const a=String(x.select1("string(*[name()='ClinicalDocument']/*[name()='title']/text())",t)),o=je(String(x.select1("string(*[name()='ClinicalDocument']/*[name()='effectiveTime']/@value)",t))),s=yt(o);return`${a} (${s})`},Zi=t=>{const a=Ji(t),o=wn(t),s=bn(t),d=gn(t),h=xn(t),v=En(t),m=vn(t);return{title:a,labelTypeData:{...o,...m||{},...s||{},...d||{},encounter:h||[],...v||{}}}},gr=({document:t})=>{const{title:a,labelTypeData:o}=Zi(t);return E.createElement("div",{className:"ctw-ccda-header-container"},E.createElement("h2",{className:"ctw-ccda-header-title"},a),E.createElement("table",{className:"ctw-ccda-common-table"},E.createElement("tbody",null,M.map(o,(s,d)=>{if(!s)return null;const h=s.filter(v=>v.value);return M.isEmpty(h)?null:E.createElement("tr",{key:d},E.createElement("td",{className:"ctw-ccda-common-td1"},M.startCase(d.replace(/\d/g,""))),E.createElement("td",{className:"ctw-ccda-common-td2"},h.map((v,m)=>E.createElement("span",{key:`${d}-${m}`},v.label&&E.createElement("b",null,v.label," "),v.value))))}))))};try{gr.displayName="Header",gr.__docgenInfo={description:"",displayName:"Header",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}/*! @license DOMPurify 2.4.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.1/LICENSE */function ut(t){return ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ut(t)}function vr(t,a){return vr=Object.setPrototypeOf||function(s,d){return s.__proto__=d,s},vr(t,a)}function Qi(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _t(t,a,o){return Qi()?_t=Reflect.construct:_t=function(d,h,v){var m=[null];m.push.apply(m,h);var C=Function.bind.apply(d,m),U=new C;return v&&vr(U,v.prototype),U},_t.apply(null,arguments)}function et(t){return Xi(t)||ea(t)||ta(t)||ra()}function Xi(t){if(Array.isArray(t))return br(t)}function ea(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ta(t,a){if(t){if(typeof t=="string")return br(t,a);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return br(t,a)}}function br(t,a){(a==null||a>t.length)&&(a=t.length);for(var o=0,s=new Array(a);o<a;o++)s[o]=t[o];return s}function ra(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var na=Object.hasOwnProperty,jr=Object.setPrototypeOf,ia=Object.isFrozen,aa=Object.getPrototypeOf,oa=Object.getOwnPropertyDescriptor,Fe=Object.freeze,rt=Object.seal,sa=Object.create,Cn=typeof Reflect<"u"&&Reflect,zt=Cn.apply,xr=Cn.construct;zt||(zt=function(a,o,s){return a.apply(o,s)});Fe||(Fe=function(a){return a});rt||(rt=function(a){return a});xr||(xr=function(a,o){return _t(a,et(o))});var ca=Ye(Array.prototype.forEach),$r=Ye(Array.prototype.pop),St=Ye(Array.prototype.push),It=Ye(String.prototype.toLowerCase),qt=Ye(String.prototype.toString),la=Ye(String.prototype.match),Xe=Ye(String.prototype.replace),ua=Ye(String.prototype.indexOf),da=Ye(String.prototype.trim),Re=Ye(RegExp.prototype.test),Gt=pa(TypeError);function Ye(t){return function(a){for(var o=arguments.length,s=new Array(o>1?o-1:0),d=1;d<o;d++)s[d-1]=arguments[d];return zt(t,a,s)}}function pa(t){return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return xr(t,o)}}function J(t,a,o){o=o||It,jr&&jr(t,null);for(var s=a.length;s--;){var d=a[s];if(typeof d=="string"){var h=o(d);h!==d&&(ia(a)||(a[s]=h),d=h)}t[d]=!0}return t}function ht(t){var a=sa(null),o;for(o in t)zt(na,t,[o])&&(a[o]=t[o]);return a}function Nt(t,a){for(;t!==null;){var o=oa(t,a);if(o){if(o.get)return Ye(o.get);if(typeof o.value=="function")return Ye(o.value)}t=aa(t)}function s(d){return console.warn("fallback value for",d),null}return s}var Wr=Fe(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),jt=Fe(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$t=Fe(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ma=Fe(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Wt=Fe(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),fa=Fe(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Kr=Fe(["#text"]),Yr=Fe(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Kt=Fe(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Jr=Fe(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Dt=Fe(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ha=rt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ya=rt(/<%[\w\W]*|[\w\W]*%>/gm),ga=rt(/\${[\w\W]*}/gm),va=rt(/^data-[\-\w.\u00B7-\uFFFF]/),ba=rt(/^aria-[\-\w]+$/),xa=rt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ea=rt(/^(?:\w+script|data):/i),Sa=rt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),wa=rt(/^html$/i),Ca=function(){return typeof window>"u"?null:window},Ta=function(a,o){if(ut(a)!=="object"||typeof a.createPolicy!="function")return null;var s=null,d="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(d)&&(s=o.currentScript.getAttribute(d));var h="dompurify"+(s?"#"+s:"");try{return a.createPolicy(h,{createHTML:function(m){return m},createScriptURL:function(m){return m}})}catch{return console.warn("TrustedTypes policy "+h+" could not be created."),null}};function Tn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ca(),a=function(g){return Tn(g)};if(a.version="2.4.1",a.removed=[],!t||!t.document||t.document.nodeType!==9)return a.isSupported=!1,a;var o=t.document,s=t.document,d=t.DocumentFragment,h=t.HTMLTemplateElement,v=t.Node,m=t.Element,C=t.NodeFilter,U=t.NamedNodeMap,V=U===void 0?t.NamedNodeMap||t.MozNamedAttrMap:U,G=t.HTMLFormElement,ae=t.DOMParser,oe=t.trustedTypes,ve=m.prototype,_e=Nt(ve,"cloneNode"),Ve=Nt(ve,"nextSibling"),S=Nt(ve,"childNodes"),se=Nt(ve,"parentNode");if(typeof h=="function"){var we=s.createElement("template");we.content&&we.content.ownerDocument&&(s=we.content.ownerDocument)}var W=Ta(oe,o),le=W?W.createHTML(""):"",pe=s,K=pe.implementation,be=pe.createNodeIterator,de=pe.createDocumentFragment,ze=pe.getElementsByTagName,Be=o.importNode,Ie={};try{Ie=ht(s).documentMode?s.documentMode:{}}catch{}var ce={};a.isSupported=typeof se=="function"&&K&&typeof K.createHTMLDocument<"u"&&Ie!==9;var xe=ha,Ee=ya,Ce=ga,Le=va,Me=ba,Ue=Ea,Oe=Sa,ee=xa,B=null,dt=J({},[].concat(et(Wr),et(jt),et($t),et(Wt),et(Kr))),ue=null,pt=J({},[].concat(et(Yr),et(Kt),et(Jr),et(Dt))),te=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),I=null,O=null,He=!0,Te=!0,ie=!1,L=!1,R=!1,at=!1,mt=!1,c=!1,n=!1,i=!1,l=!0,b=!1,w="user-content-",T=!0,q=!1,Y={},D=null,_=J({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Q=null,he=J({},["audio","video","img","source","image","track"]),qe=null,$e=J({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),$="http://www.w3.org/1998/Math/MathML",ft="http://www.w3.org/2000/svg",We="http://www.w3.org/1999/xhtml",e=We,r=!1,u=null,f=J({},[$,ft,We],qt),p,y=["application/xhtml+xml","text/html"],P="text/html",H,Z=null,F=s.createElement("form"),j=function(g){return g instanceof RegExp||g instanceof Function},Ae=function(g){Z&&Z===g||((!g||ut(g)!=="object")&&(g={}),g=ht(g),p=y.indexOf(g.PARSER_MEDIA_TYPE)===-1?p=P:p=g.PARSER_MEDIA_TYPE,H=p==="application/xhtml+xml"?qt:It,B="ALLOWED_TAGS"in g?J({},g.ALLOWED_TAGS,H):dt,ue="ALLOWED_ATTR"in g?J({},g.ALLOWED_ATTR,H):pt,u="ALLOWED_NAMESPACES"in g?J({},g.ALLOWED_NAMESPACES,qt):f,qe="ADD_URI_SAFE_ATTR"in g?J(ht($e),g.ADD_URI_SAFE_ATTR,H):$e,Q="ADD_DATA_URI_TAGS"in g?J(ht(he),g.ADD_DATA_URI_TAGS,H):he,D="FORBID_CONTENTS"in g?J({},g.FORBID_CONTENTS,H):_,I="FORBID_TAGS"in g?J({},g.FORBID_TAGS,H):{},O="FORBID_ATTR"in g?J({},g.FORBID_ATTR,H):{},Y="USE_PROFILES"in g?g.USE_PROFILES:!1,He=g.ALLOW_ARIA_ATTR!==!1,Te=g.ALLOW_DATA_ATTR!==!1,ie=g.ALLOW_UNKNOWN_PROTOCOLS||!1,L=g.SAFE_FOR_TEMPLATES||!1,R=g.WHOLE_DOCUMENT||!1,c=g.RETURN_DOM||!1,n=g.RETURN_DOM_FRAGMENT||!1,i=g.RETURN_TRUSTED_TYPE||!1,mt=g.FORCE_BODY||!1,l=g.SANITIZE_DOM!==!1,b=g.SANITIZE_NAMED_PROPS||!1,T=g.KEEP_CONTENT!==!1,q=g.IN_PLACE||!1,ee=g.ALLOWED_URI_REGEXP||ee,e=g.NAMESPACE||We,g.CUSTOM_ELEMENT_HANDLING&&j(g.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(te.tagNameCheck=g.CUSTOM_ELEMENT_HANDLING.tagNameCheck),g.CUSTOM_ELEMENT_HANDLING&&j(g.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(te.attributeNameCheck=g.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),g.CUSTOM_ELEMENT_HANDLING&&typeof g.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(te.allowCustomizedBuiltInElements=g.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),L&&(Te=!1),n&&(c=!0),Y&&(B=J({},et(Kr)),ue=[],Y.html===!0&&(J(B,Wr),J(ue,Yr)),Y.svg===!0&&(J(B,jt),J(ue,Kt),J(ue,Dt)),Y.svgFilters===!0&&(J(B,$t),J(ue,Kt),J(ue,Dt)),Y.mathMl===!0&&(J(B,Wt),J(ue,Jr),J(ue,Dt))),g.ADD_TAGS&&(B===dt&&(B=ht(B)),J(B,g.ADD_TAGS,H)),g.ADD_ATTR&&(ue===pt&&(ue=ht(ue)),J(ue,g.ADD_ATTR,H)),g.ADD_URI_SAFE_ATTR&&J(qe,g.ADD_URI_SAFE_ATTR,H),g.FORBID_CONTENTS&&(D===_&&(D=ht(D)),J(D,g.FORBID_CONTENTS,H)),T&&(B["#text"]=!0),R&&J(B,["html","head","body"]),B.table&&(J(B,["tbody"]),delete I.tbody),Fe&&Fe(g),Z=g)},re=J({},["mi","mo","mn","ms","mtext"]),Ze=J({},["foreignobject","desc","title","annotation-xml"]),nt=J({},["title","style","font","a","script"]),gt=J({},jt);J(gt,$t),J(gt,ma);var vt=J({},Wt);J(vt,fa);var Mt=function(g){var A=se(g);(!A||!A.tagName)&&(A={namespaceURI:e,tagName:"template"});var z=It(g.tagName),ne=It(A.tagName);return u[g.namespaceURI]?g.namespaceURI===ft?A.namespaceURI===We?z==="svg":A.namespaceURI===$?z==="svg"&&(ne==="annotation-xml"||re[ne]):Boolean(gt[z]):g.namespaceURI===$?A.namespaceURI===We?z==="math":A.namespaceURI===ft?z==="math"&&Ze[ne]:Boolean(vt[z]):g.namespaceURI===We?A.namespaceURI===ft&&!Ze[ne]||A.namespaceURI===$&&!re[ne]?!1:!vt[z]&&(nt[z]||!gt[z]):!!(p==="application/xhtml+xml"&&u[g.namespaceURI]):!1},Qe=function(g){St(a.removed,{element:g});try{g.parentNode.removeChild(g)}catch{try{g.outerHTML=le}catch{g.remove()}}},xt=function(g,A){try{St(a.removed,{attribute:A.getAttributeNode(g),from:A})}catch{St(a.removed,{attribute:null,from:A})}if(A.removeAttribute(g),g==="is"&&!ue[g])if(c||n)try{Qe(A)}catch{}else try{A.setAttribute(g,"")}catch{}},Ct=function(g){var A,z;if(mt)g="<remove></remove>"+g;else{var ne=la(g,/^[\r\n\t ]+/);z=ne&&ne[0]}p==="application/xhtml+xml"&&e===We&&(g='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+g+"</body></html>");var ke=W?W.createHTML(g):g;if(e===We)try{A=new ae().parseFromString(ke,p)}catch{}if(!A||!A.documentElement){A=K.createDocument(e,"template",null);try{A.documentElement.innerHTML=r?"":ke}catch{}}var Ne=A.body||A.documentElement;return g&&z&&Ne.insertBefore(s.createTextNode(z),Ne.childNodes[0]||null),e===We?ze.call(A,R?"html":"body")[0]:R?A.documentElement:Ne},N=function(g){return be.call(g.ownerDocument||g,g,C.SHOW_ELEMENT|C.SHOW_COMMENT|C.SHOW_TEXT,null,!1)},X=function(g){return g instanceof G&&(typeof g.nodeName!="string"||typeof g.textContent!="string"||typeof g.removeChild!="function"||!(g.attributes instanceof V)||typeof g.removeAttribute!="function"||typeof g.setAttribute!="function"||typeof g.namespaceURI!="string"||typeof g.insertBefore!="function"||typeof g.hasChildNodes!="function")},me=function(g){return ut(v)==="object"?g instanceof v:g&&ut(g)==="object"&&typeof g.nodeType=="number"&&typeof g.nodeName=="string"},ye=function(g,A,z){ce[g]&&ca(ce[g],function(ne){ne.call(a,A,z,Z)})},Tt=function(g){var A;if(ye("beforeSanitizeElements",g,null),X(g)||Re(/[\u0080-\uFFFF]/,g.nodeName))return Qe(g),!0;var z=H(g.nodeName);if(ye("uponSanitizeElement",g,{tagName:z,allowedTags:B}),g.hasChildNodes()&&!me(g.firstElementChild)&&(!me(g.content)||!me(g.content.firstElementChild))&&Re(/<[/\w]/g,g.innerHTML)&&Re(/<[/\w]/g,g.textContent)||z==="select"&&Re(/<template/i,g.innerHTML))return Qe(g),!0;if(!B[z]||I[z]){if(!I[z]&&zr(z)&&(te.tagNameCheck instanceof RegExp&&Re(te.tagNameCheck,z)||te.tagNameCheck instanceof Function&&te.tagNameCheck(z)))return!1;if(T&&!D[z]){var ne=se(g)||g.parentNode,ke=S(g)||g.childNodes;if(ke&&ne)for(var Ne=ke.length,Se=Ne-1;Se>=0;--Se)ne.insertBefore(_e(ke[Se],!0),Ve(g))}return Qe(g),!0}return g instanceof m&&!Mt(g)||(z==="noscript"||z==="noembed")&&Re(/<\/no(script|embed)/i,g.innerHTML)?(Qe(g),!0):(L&&g.nodeType===3&&(A=g.textContent,A=Xe(A,xe," "),A=Xe(A,Ee," "),A=Xe(A,Ce," "),g.textContent!==A&&(St(a.removed,{element:g.cloneNode()}),g.textContent=A)),ye("afterSanitizeElements",g,null),!1)},Fr=function(g,A,z){if(l&&(A==="id"||A==="name")&&(z in s||z in F))return!1;if(!(Te&&!O[A]&&Re(Le,A))){if(!(He&&Re(Me,A))){if(!ue[A]||O[A]){if(!(zr(g)&&(te.tagNameCheck instanceof RegExp&&Re(te.tagNameCheck,g)||te.tagNameCheck instanceof Function&&te.tagNameCheck(g))&&(te.attributeNameCheck instanceof RegExp&&Re(te.attributeNameCheck,A)||te.attributeNameCheck instanceof Function&&te.attributeNameCheck(A))||A==="is"&&te.allowCustomizedBuiltInElements&&(te.tagNameCheck instanceof RegExp&&Re(te.tagNameCheck,z)||te.tagNameCheck instanceof Function&&te.tagNameCheck(z))))return!1}else if(!qe[A]){if(!Re(ee,Xe(z,Oe,""))){if(!((A==="src"||A==="xlink:href"||A==="href")&&g!=="script"&&ua(z,"data:")===0&&Q[g])){if(!(ie&&!Re(Ue,Xe(z,Oe,"")))){if(z)return!1}}}}}}return!0},zr=function(g){return g.indexOf("-")>0},Br=function(g){var A,z,ne,ke;ye("beforeSanitizeAttributes",g,null);var Ne=g.attributes;if(Ne){var Se={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ue};for(ke=Ne.length;ke--;){A=Ne[ke];var At=A,ge=At.name,Ut=At.namespaceURI;if(z=ge==="value"?A.value:da(A.value),ne=H(ge),Se.attrName=ne,Se.attrValue=z,Se.keepAttr=!0,Se.forceKeepAttr=void 0,ye("uponSanitizeAttribute",g,Se),z=Se.attrValue,!Se.forceKeepAttr&&(xt(ge,g),!!Se.keepAttr)){if(Re(/\/>/i,z)){xt(ge,g);continue}L&&(z=Xe(z,xe," "),z=Xe(z,Ee," "),z=Xe(z,Ce," "));var Lr=H(g.nodeName);if(Fr(Lr,ne,z)){if(b&&(ne==="id"||ne==="name")&&(xt(ge,g),z=w+z),W&&ut(oe)==="object"&&typeof oe.getAttributeType=="function"&&!Ut)switch(oe.getAttributeType(Lr,ne)){case"TrustedHTML":z=W.createHTML(z);break;case"TrustedScriptURL":z=W.createScriptURL(z);break}try{Ut?g.setAttributeNS(Ut,ge,z):g.setAttribute(ge,z),$r(a.removed)}catch{}}}}ye("afterSanitizeAttributes",g,null)}},Nn=function k(g){var A,z=N(g);for(ye("beforeSanitizeShadowDOM",g,null);A=z.nextNode();)ye("uponSanitizeShadowNode",A,null),!Tt(A)&&(A.content instanceof d&&k(A.content),Br(A));ye("afterSanitizeShadowDOM",g,null)};return a.sanitize=function(k){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A,z,ne,ke,Ne;if(r=!k,r&&(k="<!-->"),typeof k!="string"&&!me(k)){if(typeof k.toString!="function")throw Gt("toString is not a function");if(k=k.toString(),typeof k!="string")throw Gt("dirty is not a string, aborting")}if(!a.isSupported){if(ut(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof k=="string")return t.toStaticHTML(k);if(me(k))return t.toStaticHTML(k.outerHTML)}return k}if(at||Ae(g),a.removed=[],typeof k=="string"&&(q=!1),q){if(k.nodeName){var Se=H(k.nodeName);if(!B[Se]||I[Se])throw Gt("root node is forbidden and cannot be sanitized in-place")}}else if(k instanceof v)A=Ct("<!---->"),z=A.ownerDocument.importNode(k,!0),z.nodeType===1&&z.nodeName==="BODY"||z.nodeName==="HTML"?A=z:A.appendChild(z);else{if(!c&&!L&&!R&&k.indexOf("<")===-1)return W&&i?W.createHTML(k):k;if(A=Ct(k),!A)return c?null:i?le:""}A&&mt&&Qe(A.firstChild);for(var At=N(q?k:A);ne=At.nextNode();)ne.nodeType===3&&ne===ke||Tt(ne)||(ne.content instanceof d&&Nn(ne.content),Br(ne),ke=ne);if(ke=null,q)return k;if(c){if(n)for(Ne=de.call(A.ownerDocument);A.firstChild;)Ne.appendChild(A.firstChild);else Ne=A;return ue.shadowroot&&(Ne=Be.call(o,Ne,!0)),Ne}var ge=R?A.outerHTML:A.innerHTML;return R&&B["!doctype"]&&A.ownerDocument&&A.ownerDocument.doctype&&A.ownerDocument.doctype.name&&Re(wa,A.ownerDocument.doctype.name)&&(ge="<!DOCTYPE "+A.ownerDocument.doctype.name+`>
`+ge),L&&(ge=Xe(ge,xe," "),ge=Xe(ge,Ee," "),ge=Xe(ge,Ce," ")),W&&i?W.createHTML(ge):ge},a.setConfig=function(k){Ae(k),at=!0},a.clearConfig=function(){Z=null,at=!1},a.isValidAttribute=function(k,g,A){Z||Ae({});var z=H(k),ne=H(g);return Fr(z,ne,A)},a.addHook=function(k,g){typeof g=="function"&&(ce[k]=ce[k]||[],St(ce[k],g))},a.removeHook=function(k){if(ce[k])return $r(ce[k])},a.removeHooks=function(k){ce[k]&&(ce[k]=[])},a.removeAllHooks=function(){ce={}},a}var Aa=Tn();const Er=({title:t,humanReadable:a})=>{const[o,s]=fe.useState(!0);if(!a)return null;const d=()=>s(!o);return E.createElement("div",{className:"ctw-ccda-section-container"},E.createElement("div",{className:"ctw-ccda-section-header-wrapper"},E.createElement("button",{type:"button",className:"ctw-ccda-section-arrow",onClick:d},o?"▼":"▶"),E.createElement("h3",null,t)),o&&E.createElement("div",{className:"ctw-ccda-section-wrapper"},E.createElement("div",{dangerouslySetInnerHTML:{__html:Aa.sanitize(Ti(a))}})))};try{Er.displayName="Section",Er.__docgenInfo={description:"",displayName:"Section",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},humanReadable:{defaultValue:null,description:"",name:"humanReadable",required:!1,type:{name:"Document"}}}}}catch{}const Sr=({document:t})=>{const o=x.select("//*[name()='component']/*[name()='section']",t).map(s=>{const d=String(x.select1("string(*[name()='title'])",s)),h=x.select1("*[name()='text']",s),v=String(x.select1("string(*[name()='code']/@code)",s));return{title:d,humanReadable:h,code:v}});return E.createElement("div",{className:ln({width:"calc(100vw - 200px - 24px - 24px - 16px - 16px - 2px)"})},E.createElement(gr,{document:t}),E.createElement(yr,{document:t}),o.map(({title:s,humanReadable:d,code:h})=>E.createElement(Er,{key:`el-text-${h}`,title:s,humanReadable:d})))};try{Sr.displayName="CcdaViewer",Sr.__docgenInfo={description:"",displayName:"CcdaViewer",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const wt=({onClick:t,text:a})=>E.createElement("button",{type:"button",className:"ctw-btn-clear ctw-link ctw-flex ctw-items-center ctw-space-x-2",onClick:t},E.createElement("div",null,a),E.createElement(kn,{className:"ctw-fill-primary-dark hover:ctw-fill-primary-main",height:12}));try{wt.displayName="DocumentButton",wt.__docgenInfo={description:"",displayName:"DocumentButton",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}}}}}catch{}const Na=["/xml","/xhtml+xml","application/xml"],Da=(t,a)=>t.some(o=>a.includes(o)),wr=({data:t,contentType:a,fileName:o})=>{const s=fe.useRef(null),[d,h]=fe.useState(),[v,m]=fe.useState(),C=fe.useMemo(()=>{if(!Da(Na,a))return;const V=new oi.DOMParser({locator:{},errorHandler:G=>null}).parseFromString(Xt.Buffer.from(t,"base64").toString("utf8"),a);if(x.select1("//*[name()='patientRole']",V))return V},[a,t]);function U(){var G;d&&URL.revokeObjectURL(d);const V=URL.createObjectURL(new Blob([Xt.Buffer.from(t,"base64").toString("utf8")],{type:"text/xml"}));h(V),m(`CCDA-${o}`),(G=s.current)==null||G.click()}return E.createElement("div",{className:"ctw-ccda-container"},E.createElement("div",{className:"ctw-ccda-switch-container"},E.createElement("a",{href:d,ref:s,download:v,className:"ctw-decoration-none ctw-flex ctw-w-fit"},E.createElement(wt,{onClick:U,text:"Download XML"}))),C?E.createElement(Sr,{document:C}):E.createElement("div",{className:"ctw-ccda-base64-binary-text"},t))};try{wr.displayName="Base64BinaryField",wr.__docgenInfo={description:"",displayName:"Base64BinaryField",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string"}},contentType:{defaultValue:null,description:"",name:"contentType",required:!0,type:{name:"string"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!0,type:{name:"string | undefined"}}}}}catch{}const Cr=({rawBinary:t,fileName:a,onClose:o,...s})=>E.createElement(Pt,{...s},(t==null?void 0:t.data)&&E.createElement("div",{className:"ctw-flex ctw-w-full ctw-space-x-4"},E.createElement(wr,{data:t.data,contentType:t.contentType,fileName:a}),E.createElement("div",{className:"ctw-ml-3 ctw-flex ctw-h-7 ctw-items-center"},E.createElement("button",{type:"button","aria-label":"close",onClick:o,className:"ctw-btn-clear"},E.createElement("span",{className:"ctw-sr-only"},"Close panel"),E.createElement(Dn,{className:"ctw-h-6 ctw-w-6","aria-hidden":"true"})))));try{Cr.displayName="CCDAModal",Cr.__docgenInfo={description:"",displayName:"CCDAModal",props:{rawBinary:{defaultValue:null,description:"",name:"rawBinary",required:!0,type:{name:"Binary | undefined"}},fileName:{defaultValue:null,description:"",name:"fileName",required:!0,type:{name:"string | undefined"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onAfterClosed:{defaultValue:null,description:"",name:"onAfterClosed",required:!1,type:{name:"(() => void)"}}}}}catch{}const _a=(t,a)=>{let o=[];const s=t.map(h=>new tn(h,a)).filter(h=>h.verificationStatus!=="entered-in-error"),d=M.orderBy(s,h=>h.resource.recordedDate??"","desc");return o=M.uniqWith(d,(h,v)=>M.isEqual(Zr(h),Zr(v))),o},Zr=t=>[t.recorder,t.clinicalStatus,t.verificationStatus,t.recordedDate,t.notes,t.categories[0],t.onset,t.abatement,t.encounter,t.knownCodings.map(a=>[a.display,a.system,a.code])],Bt=({notes:t})=>E.createElement("div",{className:"ctw-flex ctw-flex-col ctw-space-y-4"},t.map(a=>E.createElement("div",{key:a},E.createElement("div",null,a))));try{Bt.displayName="NotesList",Bt.__docgenInfo={description:"",displayName:"NotesList",props:{notes:{defaultValue:null,description:"",name:"notes",required:!0,type:{name:"string[]"}}}}}catch{}function Tr(t){var o,s;const a=[{label:"Recorder",value:t.recorder},{label:"Clinical Status",value:M.capitalize(t.clinicalStatus)},{label:"Verification Status",value:M.capitalize(t.verificationStatus)},{label:"Recorded Date",value:t.recordedDate},{label:"Category",value:M.startCase(t.categories[0])},{label:"Note",value:t.notes.length!==0&&E.createElement(Bt,{notes:t.notes})},{label:"Code",value:E.createElement(Qn,{codings:t.knownCodings})},{label:"Onset Date",value:t.onset},{label:"Abatement Date",value:t.abatement},{label:"Encounter",value:t.encounter}];return{id:t.id,date:t.recordedDate,title:M.startCase(t.categories[0]),subtitle:(s=(o=t.patient)==null?void 0:o.organization)==null?void 0:s.name,data:a}}const Ar=t=>{var a,o;return[{label:"Recorder",value:t.recorder},{label:"Recorded Date",value:t.recordedDate},{label:"Provider Organization",value:(o=(a=t.patient)==null?void 0:a.organization)==null?void 0:o.name},{label:"Clinical Status",value:M.capitalize(t.clinicalStatus)},{label:"Verification Status",value:M.capitalize(t.verificationStatus)},{label:"Onset Date",value:t.onset},{label:"Abatement Date",value:t.abatement},{label:"Note",value:t.notes.length!==0&&E.createElement(Bt,{notes:t.notes})}]};try{Tr.displayName="setupData",Tr.__docgenInfo={description:"",displayName:"setupData",props:{abatement:{defaultValue:null,description:"",name:"abatement",required:!0,type:{name:"string | undefined"}},active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean"}},isArchived:{defaultValue:null,description:"",name:"isArchived",required:!0,type:{name:"boolean"}},asserter:{defaultValue:null,description:"",name:"asserter",required:!0,type:{name:"string | undefined"}},bodySites:{defaultValue:null,description:"",name:"bodySites",required:!0,type:{name:"string[]"}},categories:{defaultValue:null,description:"",name:"categories",required:!0,type:{name:"string[]"}},ccsChapter:{defaultValue:null,description:"",name:"ccsChapter",required:!0,type:{name:"string | undefined"}},ccsChapterCode:{defaultValue:null,description:"",name:"ccsChapterCode",required:!0,type:{name:"string | undefined"}},ccsGrouping:{defaultValue:null,description:"",name:"ccsGrouping",required:!0,type:{name:"string | undefined"}},clinicalStatus:{defaultValue:null,description:"",name:"clinicalStatus",required:!0,type:{name:"string"}},clinicalStatusCode:{defaultValue:null,description:"",name:"clinicalStatusCode",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"active"'},{value:'"recurrence"'},{value:'"relapse"'},{value:'"inactive"'},{value:'"remission"'},{value:'"resolved"'}]}},codings:{defaultValue:null,description:"",name:"codings",required:!0,type:{name:"CodeableConcept | undefined"}},display:{defaultValue:null,description:"",name:"display",required:!0,type:{name:"string | undefined"}},encounter:{defaultValue:null,description:"",name:"encounter",required:!0,type:{name:"string | undefined"}},evidences:{defaultValue:null,description:"",name:"evidences",required:!0,type:{name:"string[]"}},icd10Code:{defaultValue:null,description:"",name:"icd10Code",required:!0,type:{name:"string | undefined"}},icd10System:{defaultValue:null,description:"",name:"icd10System",required:!0,type:{name:"string | undefined"}},icd10Display:{defaultValue:null,description:"",name:"icd10Display",required:!0,type:{name:"string | undefined"}},isDeleted:{defaultValue:null,description:"",name:"isDeleted",required:!0,type:{name:"boolean"}},knownCodings:{defaultValue:null,description:"",name:"knownCodings",required:!0,type:{name:"Coding[]"}},knownCodingsMatch:{defaultValue:null,description:"",name:"knownCodingsMatch",required:!0,type:{name:"(condition: ConditionModel) => boolean"}},notes:{defaultValue:null,description:"",name:"notes",required:!0,type:{name:"string[]"}},onset:{defaultValue:null,description:"",name:"onset",required:!0,type:{name:"string | undefined"}},patient:{defaultValue:null,description:"",name:"patient",required:!0,type:{name:"PatientModel | undefined"}},preferredCoding:{defaultValue:null,description:"",name:"preferredCoding",required:!0,type:{name:"Coding | undefined"}},recordedDate:{defaultValue:null,description:"",name:"recordedDate",required:!0,type:{name:"string | undefined"}},recorded:{defaultValue:null,description:"",name:"recorded",required:!0,type:{name:"string | undefined"}},recorder:{defaultValue:null,description:"",name:"recorder",required:!0,type:{name:"string | undefined"}},severity:{defaultValue:null,description:"",name:"severity",required:!0,type:{name:"string"}},snomedCoding:{defaultValue:null,description:"",name:"snomedCoding",required:!0,type:{name:"Coding | undefined"}},snomedCode:{defaultValue:null,description:"",name:"snomedCode",required:!0,type:{name:"string | undefined"}},snomedDisplay:{defaultValue:null,description:"",name:"snomedDisplay",required:!0,type:{name:"string | undefined"}},snomedSystem:{defaultValue:null,description:"",name:"snomedSystem",required:!0,type:{name:"string | undefined"}},stages:{defaultValue:null,description:"",name:"stages",required:!0,type:{name:"string[]"}},displayStatus:{defaultValue:null,description:"",name:"displayStatus",required:!0,type:{name:"string"}},subjectID:{defaultValue:null,description:"",name:"subjectID",required:!0,type:{name:"string"}},verificationStatus:{defaultValue:null,description:"",name:"verificationStatus",required:!0,type:{name:"string"}},verificationStatusCode:{defaultValue:null,description:"",name:"verificationStatusCode",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"entered-in-error"'},{value:'"unconfirmed"'},{value:'"provisional"'},{value:'"differential"'},{value:'"confirmed"'},{value:'"refuted"'}]}},resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"Condition"}},includedResources:{defaultValue:null,description:"",name:"includedResources",required:!1,type:{name:"ResourceMap"}},revIncludes:{defaultValue:null,description:"",name:"revIncludes",required:!1,type:{name:"Resource[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isSummaryResource:{defaultValue:null,description:"",name:"isSummaryResource",required:!0,type:{name:"boolean"}},resourceType:{defaultValue:null,description:"",name:"resourceType",required:!0,type:{name:"string"}},getBasicResourceByAction:{defaultValue:null,description:"",name:"getBasicResourceByAction",required:!0,type:{name:"(profileAction: string) => Basic | undefined"}},toString:{defaultValue:null,description:"",name:"toString",required:!1,type:{name:"() => string"}}}}}catch{}try{Ar.displayName="conditionData",Ar.__docgenInfo={description:"",displayName:"conditionData",props:{abatement:{defaultValue:null,description:"",name:"abatement",required:!0,type:{name:"string | undefined"}},active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean"}},isArchived:{defaultValue:null,description:"",name:"isArchived",required:!0,type:{name:"boolean"}},asserter:{defaultValue:null,description:"",name:"asserter",required:!0,type:{name:"string | undefined"}},bodySites:{defaultValue:null,description:"",name:"bodySites",required:!0,type:{name:"string[]"}},categories:{defaultValue:null,description:"",name:"categories",required:!0,type:{name:"string[]"}},ccsChapter:{defaultValue:null,description:"",name:"ccsChapter",required:!0,type:{name:"string | undefined"}},ccsChapterCode:{defaultValue:null,description:"",name:"ccsChapterCode",required:!0,type:{name:"string | undefined"}},ccsGrouping:{defaultValue:null,description:"",name:"ccsGrouping",required:!0,type:{name:"string | undefined"}},clinicalStatus:{defaultValue:null,description:"",name:"clinicalStatus",required:!0,type:{name:"string"}},clinicalStatusCode:{defaultValue:null,description:"",name:"clinicalStatusCode",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"active"'},{value:'"recurrence"'},{value:'"relapse"'},{value:'"inactive"'},{value:'"remission"'},{value:'"resolved"'}]}},codings:{defaultValue:null,description:"",name:"codings",required:!0,type:{name:"CodeableConcept | undefined"}},display:{defaultValue:null,description:"",name:"display",required:!0,type:{name:"string | undefined"}},encounter:{defaultValue:null,description:"",name:"encounter",required:!0,type:{name:"string | undefined"}},evidences:{defaultValue:null,description:"",name:"evidences",required:!0,type:{name:"string[]"}},icd10Code:{defaultValue:null,description:"",name:"icd10Code",required:!0,type:{name:"string | undefined"}},icd10System:{defaultValue:null,description:"",name:"icd10System",required:!0,type:{name:"string | undefined"}},icd10Display:{defaultValue:null,description:"",name:"icd10Display",required:!0,type:{name:"string | undefined"}},isDeleted:{defaultValue:null,description:"",name:"isDeleted",required:!0,type:{name:"boolean"}},knownCodings:{defaultValue:null,description:"",name:"knownCodings",required:!0,type:{name:"Coding[]"}},knownCodingsMatch:{defaultValue:null,description:"",name:"knownCodingsMatch",required:!0,type:{name:"(condition: ConditionModel) => boolean"}},notes:{defaultValue:null,description:"",name:"notes",required:!0,type:{name:"string[]"}},onset:{defaultValue:null,description:"",name:"onset",required:!0,type:{name:"string | undefined"}},patient:{defaultValue:null,description:"",name:"patient",required:!0,type:{name:"PatientModel | undefined"}},preferredCoding:{defaultValue:null,description:"",name:"preferredCoding",required:!0,type:{name:"Coding | undefined"}},recordedDate:{defaultValue:null,description:"",name:"recordedDate",required:!0,type:{name:"string | undefined"}},recorded:{defaultValue:null,description:"",name:"recorded",required:!0,type:{name:"string | undefined"}},recorder:{defaultValue:null,description:"",name:"recorder",required:!0,type:{name:"string | undefined"}},severity:{defaultValue:null,description:"",name:"severity",required:!0,type:{name:"string"}},snomedCoding:{defaultValue:null,description:"",name:"snomedCoding",required:!0,type:{name:"Coding | undefined"}},snomedCode:{defaultValue:null,description:"",name:"snomedCode",required:!0,type:{name:"string | undefined"}},snomedDisplay:{defaultValue:null,description:"",name:"snomedDisplay",required:!0,type:{name:"string | undefined"}},snomedSystem:{defaultValue:null,description:"",name:"snomedSystem",required:!0,type:{name:"string | undefined"}},stages:{defaultValue:null,description:"",name:"stages",required:!0,type:{name:"string[]"}},displayStatus:{defaultValue:null,description:"",name:"displayStatus",required:!0,type:{name:"string"}},subjectID:{defaultValue:null,description:"",name:"subjectID",required:!0,type:{name:"string"}},verificationStatus:{defaultValue:null,description:"",name:"verificationStatus",required:!0,type:{name:"string"}},verificationStatusCode:{defaultValue:null,description:"",name:"verificationStatusCode",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"entered-in-error"'},{value:'"unconfirmed"'},{value:'"provisional"'},{value:'"differential"'},{value:'"confirmed"'},{value:'"refuted"'}]}},resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"Condition"}},includedResources:{defaultValue:null,description:"",name:"includedResources",required:!1,type:{name:"ResourceMap"}},revIncludes:{defaultValue:null,description:"",name:"revIncludes",required:!1,type:{name:"Resource[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isSummaryResource:{defaultValue:null,description:"",name:"isSummaryResource",required:!0,type:{name:"boolean"}},resourceType:{defaultValue:null,description:"",name:"resourceType",required:!0,type:{name:"string"}},getBasicResourceByAction:{defaultValue:null,description:"",name:"getBasicResourceByAction",required:!0,type:{name:"(profileAction: string) => Basic | undefined"}},toString:{defaultValue:null,description:"",name:"toString",required:!1,type:{name:"() => string"}}}}}catch{}const Qr=10;function Nr({condition:t,onClose:a,onEdit:o}){const[s,d]=fe.useState([]),[h,v]=fe.useState([]),[m,C]=fe.useState(!0),[U,V]=fe.useState(),[G,ae]=fe.useState(!1),[oe,ve]=fe.useState(),{getRequestContext:_e}=_r(),Ve=Vn(t),S=async(se,we)=>{const W=await _e(),le=await jn(W,se);V(le),ae(!0),we&&ve(we)};return fe.useEffect(()=>{async function se(){if(Ve.data){const we=$n(Ve.data.bundle),W=_a(Ve.data.conditions,we),le=await _e(),pe=await Wn(le,[t,...W]);let K;const be=W.map(de=>(K=Kn(pe,de.id),{...Tr(de),...K&&{binaryId:K}}));d(be.filter(de=>de.date)),v(be.filter(de=>!de.date)),C(!1)}}return se(),function(){d([]),v([]),C(!0)}},[t,_e,Ve.data,o]),E.createElement(E.Fragment,null,E.createElement(Cr,{isOpen:G,fileName:oe,rawBinary:U,onClose:()=>ae(!1)}),E.createElement("div",{className:"ctw-space-y-6"},E.createElement(Rt,{condition:t}),E.createElement(qn,{data:Ar(t),readOnly:!o,onEdit:()=>{a(),o==null||o()}}),E.createElement(Ia,{conditionsWithDate:s,conditionsWithoutDate:h,historyIsLoading:m,openCCDAModal:S})))}const Ia=({conditionsWithDate:t,conditionsWithoutDate:a,historyIsLoading:o,openCCDAModal:s})=>t.length===0&&a.length===0&&!o?E.createElement("div",null,"No history found."):o?E.createElement(Gn,{message:"Loading condition history..."}):E.createElement(E.Fragment,null,E.createElement(kr,{entries:t.map(d=>({...d,documentButton:E.createElement(E.Fragment,null,d.binaryId&&E.createElement(wt,{onClick:()=>s(d.binaryId,d.title),text:"Source Document"}))})),limit:Qr}),a.length!==0&&E.createElement("div",{className:"ctw-space-y-2"},E.createElement("div",{className:"ctw-font-medium"},"Records with no date:"),E.createElement(kr,{entries:a.map(d=>({...d,documentButton:E.createElement(E.Fragment,null,d.binaryId&&E.createElement(wt,{onClick:()=>s(d.binaryId,d.title),text:"Source Document"}))})),limit:Qr})));try{Nr.displayName="ConditionHistory",Nr.__docgenInfo={description:"",displayName:"ConditionHistory",props:{condition:{defaultValue:null,description:"",name:"condition",required:!0,type:{name:"ConditionModel"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"(() => void)"}}}}}catch{}function mo(){const{openDrawer:t}=Ir(),a=ai();return({condition:o,readOnly:s})=>{t({component:d=>E.createElement(Dr,{condition:o,onEdit:s?void 0:()=>a(o),...d})})}}function Dr({className:t,condition:a,isOpen:o,onClose:s,onEdit:d}){return E.createElement(Ur,{className:t,title:"Condition History",isOpen:o,onClose:s,showCloseFooter:!0},E.createElement(Ur.Body,null,E.createElement(Nr,{condition:a,onClose:s,onEdit:d})))}try{Dr.displayName="ConditionHistoryDrawer",Dr.__docgenInfo={description:"",displayName:"ConditionHistoryDrawer",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},condition:{defaultValue:null,description:"",name:"condition",required:!0,type:{name:"ConditionModel"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"(() => void)"}}}}}catch{}const fo=(t,a,o)=>t.filter(s=>s.isArchived&&!o||["FAC","XXX"].includes(s.ccsChapterCode??"")?!1:!a.some(d=>{const h=s.resource.recordedDate,v=d.resource.recordedDate,m=s.knownCodingsMatch(d),C=d.verificationStatus==="entered-in-error",U=!h||v&&h<=v,V=s.clinicalStatus===d.clinicalStatus;return m&&!C&&(U||V)})),ho={resourceType:"Bundle",id:"f958f3e3-e585-4845-b666-6bf1a6914087",meta:{lastUpdated:"2022-11-15T19:37:56.623+00:00"},type:"searchset",total:5,entry:[{resource:{resourceType:"Condition",id:"faf183db-2623-44f5-943d-2318afbb51a7",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:15.035+00:00"}],versionId:"3",lastUpdated:"2022-11-10T19:38:36.663+00:00",source:"#7cb535fd22ce30df",tag:[{system:"https://zusapi.com/lens",code:"ChronicConditions"},{system:"https://zusapi.com/summary",code:"Common"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/b123",display:"Storybook Medical - Test Customer"},{system:"https://zusapi.com/lens/upid",code:"u12345"}]},extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/59b72c31-9081-401a-b638-1b38fb096384",type:"Condition"}},{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/5c000258-d368-45a4-8085-c0c43cbac075",type:"Condition"}},{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/7000a33a-808f-4c94-8125-1af140ce6fbe",type:"Condition"}}]},{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"u12345"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},code:{coding:[{system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"MBD005",display:"Anxiety and fear-related disorders",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}]},subject:{reference:"Patient/1",type:"Patient"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17"},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"956bce92-91e2-427e-9cbc-93d114bf9956",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:15.035+00:00"}],versionId:"3",lastUpdated:"2022-11-10T19:38:36.696+00:00",source:"#7cb535fd22ce30df",tag:[{system:"https://zusapi.com/summary",code:"Common"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/b123",display:"Storybook Medical - Test Customer"},{system:"https://zusapi.com/lens/upid",code:"u12345"}]},extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/4806be03-9fb3-439e-b58b-458e1174dd12",type:"Condition"}},{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/8e869e43-4fa1-4145-a84c-95bbb345b368",type:"Condition"}},{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/4d2c7c7b-451a-408e-9dc7-c750ad1191bd",type:"Condition"}}]},{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"u12345"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},code:{coding:[{system:"http://snomed.info/sct",code:"5935008",display:"Long term (current) use of hormonal contraceptives"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"Z79.3",display:"Long term (current) use of hormonal contraceptives"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"Z79.3",display:"Long term (current) use of hormonal contraceptives",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"FAC025",display:"Other specified status",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"N",display:"Not applicable (code cannot be used to identify a chronic or acute condition)",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"5935008",display:"Oral contraception",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}]},subject:{reference:"Patient/1",type:"Patient"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17"},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"4e6183c8-2cb3-405d-841d-04e51a7855c2",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:15.035+00:00"}],versionId:"3",lastUpdated:"2022-11-10T19:38:36.552+00:00",source:"#7cb535fd22ce30df",tag:[{system:"https://zusapi.com/summary",code:"Common"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/b123",display:"Storybook Medical - Test Customer"},{system:"https://zusapi.com/lens/upid",code:"u12345"}]},extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/e6757977-9148-4b84-aff6-8b59d7f57c2f",type:"Condition"}},{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/b4c7ec40-7f0f-4533-b572-1535e18e0c75",type:"Condition"}},{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/377d1f4e-f57f-469f-9eee-4e2f90140ff6",type:"Condition"}}]},{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"u12345"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},code:{coding:[{system:"http://snomed.info/sct",code:"35240004",display:"Iron deficiency"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"E61.1",display:"Iron deficiency"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"E61.1",display:"Iron deficiency",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"END007",display:"Nutritional deficiencies",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"A",display:"Acute",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"35240004",display:"Iron deficiency",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}]},subject:{reference:"Patient/1",type:"Patient"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17"},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"a3c42a03-278a-45e8-ac25-1516a4692685",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:25.554+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:36.588+00:00",source:"#7cb535fd22ce30df",tag:[{system:"https://zusapi.com/lens",code:"ChronicConditions"},{system:"https://zusapi.com/summary",code:"Common"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/b123",display:"Storybook Medical - Test Customer"},{system:"https://zusapi.com/lens/upid",code:"u12345"}]},extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/9855293c-c517-4bb7-af79-d5a70e348822",type:"Condition"}},{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/83babf40-277d-4704-8580-455a17b2eb5a",type:"Condition"}}]},{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"u12345"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"inactive"}]},code:{coding:[{system:"http://snomed.info/sct",code:"4979002",display:"Other atopic dermatitis"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"L20.89",display:"Other atopic dermatitis"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"L20.89",display:"Other atopic dermatitis",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"SKN002",display:"Other specified inflammatory condition of skin",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"4979002",display:"Dermatitis",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}]},subject:{reference:"Patient/1",type:"Patient"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17"},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"48023ec1-b7e1-4a38-8dbd-69b71dd17c4c",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:36.519+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:36.621+00:00",source:"#7cb535fd22ce30df",tag:[{system:"https://zusapi.com/lens",code:"ChronicConditions"},{system:"https://zusapi.com/summary",code:"Common"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/b123",display:"Storybook Medical - Test Customer"},{system:"https://zusapi.com/lens/upid",code:"u12345"}]},extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",extension:[{url:"https://zusapi.com/lens/extension/aggregatedFrom",valueReference:{reference:"Condition/e2184fb8-5e90-4502-9dd0-2f772b42c734",type:"Condition"}}]},{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"u12345"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},code:{coding:[{system:"http://snomed.info/sct",code:"34000006",display:"Crohn's disease, unspecified, without complications"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"K50.90",display:"Crohn's disease, unspecified, without complications"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"K50.90",display:"Crohn's disease, unspecified, without complications",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"HCC"}],system:"http://terminology.hl7.org/CodeSystem/cmshcc",code:"35",display:"Crohn's disease, unspecified, without complications",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"DIG011",display:"Regional enteritis and ulcerative colitis",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"34000006",display:"Crohn's disease",userSelected:!1}]},subject:{reference:"Patient/1",type:"Patient"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17"},search:{mode:"match"}}]},yo={resourceType:"Bundle",id:"f958f3e3-e585-4845-b666-6bf1a6914087",meta:{lastUpdated:"2022-11-15T19:37:56.623+00:00"},type:"searchset",total:3,entry:[{resource:{resourceType:"Condition",id:"faf183db-2623-44f5-943d-2318afbb51a7",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:15.035+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:36.663+00:00",source:"#7cb535fd22ce30df",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/b123",display:"Storybook Medical - Test Customer"},{system:"https://zusapi.com/lens/upid",code:"u12345"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"u12345"}],verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},code:{coding:[{system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"MBD005",display:"Anxiety and fear-related disorders",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}]},subject:{reference:"Patient/1",type:"Patient"},onsetPeriod:{start:"2022-09-17"},note:[{text:"This is note 1."},{text:"This is note 2."}],recordedDate:"2022-09-18",recorder:{display:"Carlos Mendoza"}},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"faf183db-2623-44f5-943d-2318afbb51a6",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:15.035+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:36.663+00:00",source:"#7cb535fd22ce30df",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/b123",display:"Storybook Medical - Test Customer"},{system:"https://zusapi.com/lens/upid",code:"u12345"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"u12345"}],verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"unconfirmed"}]},clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},code:{coding:[{system:"http://snomed.info/sct",code:"47505003",display:"Posttraumatic stress disorder"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"MBD005",display:"Anxiety and fear-related disorders",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"47505003",display:"Posttraumatic stress disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}]},subject:{reference:"Patient/1",type:"Patient"},onsetPeriod:{start:"2022-09-17"},note:[{text:"Patient presents with a lot of stress. Current medications don't seem to help. And this is a long dummy note to test things."}],recordedDate:"2022-09-18"},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"48023ec1-b7e1-4a38-8dbd-69b71dd17c4c",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:36.519+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:36.621+00:00",source:"#7cb535fd22ce30df",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/b123",display:"Storybook Medical - Test Customer"},{system:"https://zusapi.com/lens/upid",code:"u12345"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"u12345"}],verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"inactive"}]},code:{coding:[{system:"http://snomed.info/sct",code:"34000006",display:"Crohn's disease, unspecified, without complications"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"K50.90",display:"Crohn's disease, unspecified, without complications"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"K50.90",display:"Crohn's disease, unspecified, without complications",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"HCC"}],system:"http://terminology.hl7.org/CodeSystem/cmshcc",code:"35",display:"Crohn's disease, unspecified, without complications",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"DIG011",display:"Regional enteritis and ulcerative colitis",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"34000006",display:"Crohn's disease",userSelected:!1}]},subject:{reference:"Patient/1",type:"Patient"},onsetPeriod:{start:"2021-08-16"},recordedDate:"2021-08-16"},search:{mode:"match"}}]},Oa={resourceType:"Binary",id:"04ffee0b-0184-4916-a841-a5345973708a",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T15:43:48.869+00:00"}],versionId:"1",lastUpdated:"2022-11-10T15:43:48.887+00:00",source:"#BLuW71jcCo5yhhdZ",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/286e696b-9b74-476f-99ad-00a2800770ca",display:"Better Health"}]},contentType:"application/xml",securityContext:{reference:"DocumentReference/38d281d3-8987-4a13-a71a-2e18ef815ba8",type:"DocumentReference",display:"Continuity of Care Document"},data:"PD9"},Ra={total:12,conditionsList:[{display:"Asymptomatic coronary heart disease (disorder)",code:"315348000",system:"http://snomed.info/sct"},{display:"Chronic ischemic heart disease (disorder)",code:"413838009",system:"http://snomed.info/sct"},{display:"Conduction disorder of the heart (disorder)",code:"44808001",system:"http://snomed.info/sct"},{display:"Congenital heart disease (disorder)",code:"13213009",system:"http://snomed.info/sct"},{display:"Congestive heart failure (disorder)",code:"42343007",system:"http://snomed.info/sct"},{display:"Heart block (disorder)",code:"233916004",system:"http://snomed.info/sct"},{display:"Heart failure (disorder)",code:"84114007",system:"http://snomed.info/sct"},{display:"Heart valve disorder (disorder)",code:"368009",system:"http://snomed.info/sct"},{display:"Hypertensive heart disease (disorder)",code:"64715009",system:"http://snomed.info/sct"},{display:"Hypertensive heart disease with congestive heart failure (disorder)",code:"5148006",system:"http://snomed.info/sct"},{display:"Left heart failure (disorder)",code:"85232009",system:"http://snomed.info/sct"},{display:"Rheumatic heart disease (disorder)",code:"23685000",system:"http://snomed.info/sct"}]},Pa={resourceType:"Bundle",id:"b362d4f5-04d4-4150-848a-3bb587a3bd22",meta:{lastUpdated:"2022-11-15T20:45:45.521+00:00"},type:"searchset",total:4,entry:[{resource:{resourceType:"Condition",id:"e2184fb8-5e90-4502-9dd0-2f772b42c734",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"JffqZ6SGVN+SLlJ1FyRGMvgHY1/Ie3TrcWleudSURnE="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:26.049+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:26.141+00:00",source:"#2c52f4186759a949",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"34000006",display:"Crohn's disease, unspecified, without complications"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"K50.90",display:"Crohn's disease, unspecified, without complications"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"K50.90",display:"Crohn's disease, unspecified, without complications",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"HCC"}],system:"http://terminology.hl7.org/CodeSystem/cmshcc",code:"35",display:"Crohn's disease, unspecified, without complications",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"DIG011",display:"Regional enteritis and ulcerative colitis",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"34000006",display:"Crohn's disease",userSelected:!1}],text:"Crohn's disease, unspecified, without complications"},subject:{reference:"Patient/001382f2-6e7d-4420-a178-d1caab57699b",type:"Patient"},encounter:{reference:"Encounter/32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",type:"Encounter",display:"Telemedicine 25 min, Abigail Smith"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17",recorder:{reference:"Practitioner/027bb468-9a2f-4676-8683-46688998919a",type:"Practitioner",display:"Abigail Smith"}},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"e2184fb8-5e90-4502-9dd0-2f772b42c734",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"JffqZ6SGVN+SLlJ1FyRGMvgHY1/Ie3TrcWleudSURnE="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:26.049+00:00"}],versionId:"3",lastUpdated:"2022-11-10T19:38:26.141+00:00",source:"#2c52f4186759a949",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"unconfirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"34000006",display:"Crohn's disease, unspecified, without complications"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"K50.90",display:"Crohn's disease, unspecified, without complications"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"K50.90",display:"Crohn's disease, unspecified, without complications",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"HCC"}],system:"http://terminology.hl7.org/CodeSystem/cmshcc",code:"35",display:"Crohn's disease, unspecified, without complications",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"DIG011",display:"Regional enteritis and ulcerative colitis",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"34000006",display:"Crohn's disease",userSelected:!1}],text:"Crohn's disease, unspecified, without complications"},subject:{reference:"Patient/001382f2-6e7d-4420-a178-d1caab57699b",type:"Patient"},encounter:{reference:"Encounter/32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",type:"Encounter",display:"Telemedicine 25 min, Abigail Smith"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17",recorder:{reference:"Practitioner/027bb468-9a2f-4676-8683-46688998919a",type:"Practitioner",display:"Abigail Smith"}},search:{mode:"match"}},{resource:{resourceType:"Patient",id:"001382f2-6e7d-4420-a178-d1caab57699b",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:16.933+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:17.103+00:00",source:"#25a97bc5680ae45d",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/c1fed888-f3a0-40c8-8b5b-f6aab759f849"}},search:{mode:"include"}},{resource:{resourceType:"Encounter",id:"32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:12.740+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:12.743+00:00",source:"#bHl2DTttxubGcINN",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],status:"finished",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActEncounterCode",code:"AMB"},subject:{reference:"Patient/39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",type:"Patient"},participant:[{type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ParticipationType",code:"PPRF"}]}],individual:{reference:"Practitioner/7dd225a0-5d84-4b04-87f8-0e5d6c05e13b",type:"Practitioner",display:"Jasmin Keller"}}],period:{start:"2021-07-01"}},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"c1fed888-f3a0-40c8-8b5b-f6aab759f849",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.289+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.291+00:00",source:"#J2k55u5o6JKQ573B",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"Gastro Health"},search:{mode:"include"}}]},Fa={resourceType:"Bundle",id:"20234e29-4a39-407a-8888-375a72363389",meta:{lastUpdated:"2022-11-15T20:46:08.537+00:00"},type:"searchset",total:8,entry:[{resource:{resourceType:"Condition",id:"83babf40-277d-4704-8580-455a17b2eb5a",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"zKIXTB8547l3A8KG1yAZzxouP9X/DArBEiy01KuRZQc="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:23.406+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:23.452+00:00",source:"#de55f1c803f6b2f8",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"4979002",display:"Other atopic dermatitis"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"L20.89",display:"Other atopic dermatitis"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"L20.89",display:"Other atopic dermatitis",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"SKN002",display:"Other specified inflammatory condition of skin",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"4979002",display:"Dermatitis",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Other atopic dermatitis"},subject:{reference:"Patient/ac9b9cfd-8f8f-4108-9620-029cc583d1e8",type:"Patient"},encounter:{reference:"Encounter/9454e861-178c-428a-8acb-1546c5b7aa1a",type:"Encounter",display:"Office visit 45 min, Jacob Calvano"},onsetPeriod:{start:"2022-06-08"},recordedDate:"2022-06-08",recorder:{reference:"Practitioner/8fc34aba-47bb-4fe7-9485-951abdff5c6e",type:"Practitioner",display:"Jacob Calvano"}},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"9855293c-c517-4bb7-af79-d5a70e348822",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"zKIXTB8547l3A8KG1yAZzxouP9X/DArBEiy01KuRZQc="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:25.745+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:25.799+00:00",source:"#c90e10db548a1b16",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"4979002",display:"Other atopic dermatitis"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"L20.89",display:"Other atopic dermatitis"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"L20.89",display:"Other atopic dermatitis",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"SKN002",display:"Other specified inflammatory condition of skin",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"4979002",display:"Dermatitis",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Other atopic dermatitis"},subject:{reference:"Patient/001382f2-6e7d-4420-a178-d1caab57699b",type:"Patient"},encounter:{reference:"Encounter/32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",type:"Encounter",display:"Telemedicine 25 min, Abigail Smith"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17",recorder:{reference:"Practitioner/027bb468-9a2f-4676-8683-46688998919a",type:"Practitioner",display:"Abigail Smith"}},search:{mode:"match"}},{resource:{resourceType:"Patient",id:"001382f2-6e7d-4420-a178-d1caab57699b",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:16.933+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:17.103+00:00",source:"#25a97bc5680ae45d",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/c1fed888-f3a0-40c8-8b5b-f6aab759f849"}},search:{mode:"include"}},{resource:{resourceType:"Encounter",id:"9454e861-178c-428a-8acb-1546c5b7aa1a",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:22.556+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:22.559+00:00",source:"#nfw0bAaFNbnYzLOO",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],status:"finished",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActEncounterCode",code:"AMB"},subject:{reference:"Patient/ac9b9cfd-8f8f-4108-9620-029cc583d1e8",type:"Patient"},participant:[{type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ParticipationType",code:"PPRF"}]}],individual:{reference:"Practitioner/8fc34aba-47bb-4fe7-9485-951abdff5c6e",type:"Practitioner",display:"Jacob Calvano"}}],period:{start:"2022-06-08"}},search:{mode:"include"}},{resource:{resourceType:"Patient",id:"ac9b9cfd-8f8f-4108-9620-029cc583d1e8",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:19.207+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:19.333+00:00",source:"#fc9a07a0b430d331",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/1d66cab4-2a1c-48a0-b6bb-65a56930cebf"}},search:{mode:"include"}},{resource:{resourceType:"Encounter",id:"32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:12.740+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:12.743+00:00",source:"#bHl2DTttxubGcINN",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],status:"finished",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActEncounterCode",code:"AMB"},subject:{reference:"Patient/39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",type:"Patient"},participant:[{type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ParticipationType",code:"PPRF"}]}],individual:{reference:"Practitioner/7dd225a0-5d84-4b04-87f8-0e5d6c05e13b",type:"Practitioner",display:"Jasmin Keller"}}],period:{start:"2021-07-01"}},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"c1fed888-f3a0-40c8-8b5b-f6aab759f849",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.289+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.291+00:00",source:"#J2k55u5o6JKQ573B",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"Gastro Health"},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"1d66cab4-2a1c-48a0-b6bb-65a56930cebf",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.547+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.548+00:00",source:"#QuUFEAKpYENOFjRM",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"Main St. Medical"},search:{mode:"include"}}]},za={resourceType:"Bundle",id:"306fc01f-9b7a-4923-86d6-2bbf200edb88",meta:{lastUpdated:"2022-11-15T20:46:29.862+00:00"},type:"searchset",total:11,entry:[{resource:{resourceType:"Condition",id:"7000a33a-808f-4c94-8125-1af140ce6fbe",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"D67bRM1k9o89I+5smc7WHv3LsYqiW9UQV512kkxuv4s="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:13.048+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:13.108+00:00",source:"#998791c03787fbed",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"problem-list-item"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"MBD005",display:"Anxiety and fear-related disorders",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Generalized anxiety disorder"},subject:{reference:"Patient/39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",type:"Patient"},encounter:{reference:"Encounter/32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",type:"Encounter",display:"Office visit 30 min, Jasmin Keller"},onsetPeriod:{start:"2021-07-01"},recordedDate:"2021-07-01",recorder:{reference:"Practitioner/7dd225a0-5d84-4b04-87f8-0e5d6c05e13b",type:"Practitioner",display:"Jasmin Keller"}},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"5c000258-d368-45a4-8085-c0c43cbac075",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"D67bRM1k9o89I+5smc7WHv3LsYqiW9UQV512kkxuv4s="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:22.841+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:22.921+00:00",source:"#cf01f106a573ce66",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"MBD005",display:"Anxiety and fear-related disorders",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Generalized anxiety disorder"},subject:{reference:"Patient/ac9b9cfd-8f8f-4108-9620-029cc583d1e8",type:"Patient"},encounter:{reference:"Encounter/9454e861-178c-428a-8acb-1546c5b7aa1a",type:"Encounter",display:"Office visit 45 min, Jacob Calvano"},onsetPeriod:{start:"2022-06-08"},recordedDate:"2022-06-08",recorder:{reference:"Practitioner/8fc34aba-47bb-4fe7-9485-951abdff5c6e",type:"Practitioner",display:"Jacob Calvano"}},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"59b72c31-9081-401a-b638-1b38fb096384",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"D67bRM1k9o89I+5smc7WHv3LsYqiW9UQV512kkxuv4s="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:25.155+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:25.221+00:00",source:"#bcfffdd6b2aa9b4e",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"F41.1",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"MBD005",display:"Anxiety and fear-related disorders",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"C",display:"Chronic",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"21897009",display:"Generalized anxiety disorder",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Generalized anxiety disorder"},subject:{reference:"Patient/001382f2-6e7d-4420-a178-d1caab57699b",type:"Patient"},encounter:{reference:"Encounter/32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",type:"Encounter",display:"Telemedicine 25 min, Abigail Smith"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17",recorder:{reference:"Practitioner/027bb468-9a2f-4676-8683-46688998919a",type:"Practitioner",display:"Abigail Smith"}},search:{mode:"match"}},{resource:{resourceType:"Patient",id:"001382f2-6e7d-4420-a178-d1caab57699b",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:16.933+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:17.103+00:00",source:"#25a97bc5680ae45d",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/c1fed888-f3a0-40c8-8b5b-f6aab759f849"}},search:{mode:"include"}},{resource:{resourceType:"Encounter",id:"9454e861-178c-428a-8acb-1546c5b7aa1a",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:22.556+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:22.559+00:00",source:"#nfw0bAaFNbnYzLOO",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],status:"finished",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActEncounterCode",code:"AMB"},subject:{reference:"Patient/ac9b9cfd-8f8f-4108-9620-029cc583d1e8",type:"Patient"},participant:[{type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ParticipationType",code:"PPRF"}]}],individual:{reference:"Practitioner/8fc34aba-47bb-4fe7-9485-951abdff5c6e",type:"Practitioner",display:"Jacob Calvano"}}],period:{start:"2022-06-08"}},search:{mode:"include"}},{resource:{resourceType:"Patient",id:"ac9b9cfd-8f8f-4108-9620-029cc583d1e8",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:19.207+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:19.333+00:00",source:"#fc9a07a0b430d331",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/1d66cab4-2a1c-48a0-b6bb-65a56930cebf"}},search:{mode:"include"}},{resource:{resourceType:"Patient",id:"39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:14.667+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:14.806+00:00",source:"#195aff437545b6e9",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/c03a28a0-a1b0-4e2a-a3b7-c34cffb50b40"}},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"c03a28a0-a1b0-4e2a-a3b7-c34cffb50b40",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:08.749+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:08.750+00:00",source:"#IZN0Vnh5eaX0r6kF",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"City Health"},search:{mode:"include"}},{resource:{resourceType:"Encounter",id:"32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:12.740+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:12.743+00:00",source:"#bHl2DTttxubGcINN",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],status:"finished",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActEncounterCode",code:"AMB"},subject:{reference:"Patient/39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",type:"Patient"},participant:[{type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ParticipationType",code:"PPRF"}]}],individual:{reference:"Practitioner/7dd225a0-5d84-4b04-87f8-0e5d6c05e13b",type:"Practitioner",display:"Jasmin Keller"}}],period:{start:"2021-07-01"}},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"c1fed888-f3a0-40c8-8b5b-f6aab759f849",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.289+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.291+00:00",source:"#J2k55u5o6JKQ573B",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"Gastro Health"},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"1d66cab4-2a1c-48a0-b6bb-65a56930cebf",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.547+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.548+00:00",source:"#QuUFEAKpYENOFjRM",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"Main St. Medical"},search:{mode:"include"}}]},Ba={resourceType:"Bundle",id:"24730519-08df-4994-af12-429174c0e148",meta:{lastUpdated:"2022-11-15T20:46:59.164+00:00"},type:"searchset",total:11,entry:[{resource:{resourceType:"Condition",id:"377d1f4e-f57f-469f-9eee-4e2f90140ff6",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"fWd/lTKMDp1vxaYq5d/UxCEBlkxWJfxc4vSaRByo0Jk="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:13.603+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:13.671+00:00",source:"#f70398b96186af37",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"35240004",display:"Iron deficiency"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"E61.1",display:"Iron deficiency"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"E61.1",display:"Iron deficiency",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"END007",display:"Nutritional deficiencies",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"A",display:"Acute",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"35240004",display:"Iron deficiency",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Iron deficiency"},subject:{reference:"Patient/39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",type:"Patient"},encounter:{reference:"Encounter/32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",type:"Encounter",display:"Office visit 30 min, Jasmin Keller"},onsetPeriod:{start:"2021-07-01"},recordedDate:"2021-07-01",recorder:{reference:"Practitioner/7dd225a0-5d84-4b04-87f8-0e5d6c05e13b",type:"Practitioner",display:"Jasmin Keller"}},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"b4c7ec40-7f0f-4533-b572-1535e18e0c75",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"fWd/lTKMDp1vxaYq5d/UxCEBlkxWJfxc4vSaRByo0Jk="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:23.668+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:23.721+00:00",source:"#75403bf18ab88091",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"35240004",display:"Iron deficiency"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"E61.1",display:"Iron deficiency"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"E61.1",display:"Iron deficiency",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"END007",display:"Nutritional deficiencies",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"A",display:"Acute",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"35240004",display:"Iron deficiency",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Iron deficiency"},subject:{reference:"Patient/ac9b9cfd-8f8f-4108-9620-029cc583d1e8",type:"Patient"},encounter:{reference:"Encounter/9454e861-178c-428a-8acb-1546c5b7aa1a",type:"Encounter",display:"Office visit 45 min, Jacob Calvano"},onsetPeriod:{start:"2022-06-08"},recordedDate:"2022-06-08",recorder:{reference:"Practitioner/8fc34aba-47bb-4fe7-9485-951abdff5c6e",type:"Practitioner",display:"Jacob Calvano"}},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"e6757977-9148-4b84-aff6-8b59d7f57c2f",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"fWd/lTKMDp1vxaYq5d/UxCEBlkxWJfxc4vSaRByo0Jk="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:26.358+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:26.422+00:00",source:"#483d1d67a2ebef10",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"35240004",display:"Iron deficiency"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"E61.1",display:"Iron deficiency"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"E61.1",display:"Iron deficiency",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"END007",display:"Nutritional deficiencies",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"A",display:"Acute",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"35240004",display:"Iron deficiency",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Iron deficiency"},subject:{reference:"Patient/001382f2-6e7d-4420-a178-d1caab57699b",type:"Patient"},encounter:{reference:"Encounter/32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",type:"Encounter",display:"Telemedicine 25 min, Abigail Smith"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17",recorder:{reference:"Practitioner/027bb468-9a2f-4676-8683-46688998919a",type:"Practitioner",display:"Abigail Smith"}},search:{mode:"match"}},{resource:{resourceType:"Patient",id:"001382f2-6e7d-4420-a178-d1caab57699b",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:16.933+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:17.103+00:00",source:"#25a97bc5680ae45d",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/c1fed888-f3a0-40c8-8b5b-f6aab759f849"}},search:{mode:"include"}},{resource:{resourceType:"Encounter",id:"9454e861-178c-428a-8acb-1546c5b7aa1a",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:22.556+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:22.559+00:00",source:"#nfw0bAaFNbnYzLOO",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],status:"finished",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActEncounterCode",code:"AMB"},subject:{reference:"Patient/ac9b9cfd-8f8f-4108-9620-029cc583d1e8",type:"Patient"},participant:[{type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ParticipationType",code:"PPRF"}]}],individual:{reference:"Practitioner/8fc34aba-47bb-4fe7-9485-951abdff5c6e",type:"Practitioner",display:"Jacob Calvano"}}],period:{start:"2022-06-08"}},search:{mode:"include"}},{resource:{resourceType:"Patient",id:"ac9b9cfd-8f8f-4108-9620-029cc583d1e8",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:19.207+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:19.333+00:00",source:"#fc9a07a0b430d331",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/1d66cab4-2a1c-48a0-b6bb-65a56930cebf"}},search:{mode:"include"}},{resource:{resourceType:"Patient",id:"39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:14.667+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:14.806+00:00",source:"#195aff437545b6e9",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/c03a28a0-a1b0-4e2a-a3b7-c34cffb50b40"}},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"c03a28a0-a1b0-4e2a-a3b7-c34cffb50b40",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:08.749+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:08.750+00:00",source:"#IZN0Vnh5eaX0r6kF",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"City Health"},search:{mode:"include"}},{resource:{resourceType:"Encounter",id:"32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:12.740+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:12.743+00:00",source:"#bHl2DTttxubGcINN",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],status:"finished",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActEncounterCode",code:"AMB"},subject:{reference:"Patient/39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",type:"Patient"},participant:[{type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ParticipationType",code:"PPRF"}]}],individual:{reference:"Practitioner/7dd225a0-5d84-4b04-87f8-0e5d6c05e13b",type:"Practitioner",display:"Jasmin Keller"}}],period:{start:"2021-07-01"}},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"c1fed888-f3a0-40c8-8b5b-f6aab759f849",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.289+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.291+00:00",source:"#J2k55u5o6JKQ573B",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"Gastro Health"},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"1d66cab4-2a1c-48a0-b6bb-65a56930cebf",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.547+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.548+00:00",source:"#QuUFEAKpYENOFjRM",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"Main St. Medical"},search:{mode:"include"}}]},La={resourceType:"Bundle",id:"5920b9ac-ea49-4fa8-ad97-64882611f397",meta:{lastUpdated:"2022-11-15T20:47:16.359+00:00"},type:"searchset",total:11,entry:[{resource:{resourceType:"Condition",id:"4d2c7c7b-451a-408e-9dc7-c750ad1191bd",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"ndyzgK7ieHxkttwH42nK3e7nfUq8cMkHXzrPkptktV0="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:13.332+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:13.403+00:00",source:"#0e78031055c5bcc3",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"5935008",display:"Long term (current) use of hormonal contraceptives"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"Z79.3",display:"Long term (current) use of hormonal contraceptives"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"Z79.3",display:"Long term (current) use of hormonal contraceptives",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"FAC025",display:"Other specified status",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"N",display:"Not applicable (code cannot be used to identify a chronic or acute condition)",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"5935008",display:"Oral contraception",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Long term (current) use of hormonal contraceptives"},subject:{reference:"Patient/39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",type:"Patient"},encounter:{reference:"Encounter/32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",type:"Encounter",display:"Office visit 30 min, Jasmin Keller"},onsetPeriod:{start:"2021-07-01"},recordedDate:"2021-07-01",recorder:{reference:"Practitioner/7dd225a0-5d84-4b04-87f8-0e5d6c05e13b",type:"Practitioner",display:"Jasmin Keller"}},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"8e869e43-4fa1-4145-a84c-95bbb345b368",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"ndyzgK7ieHxkttwH42nK3e7nfUq8cMkHXzrPkptktV0="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:23.105+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:23.153+00:00",source:"#6d97bddc91473559",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"5935008",display:"Long term (current) use of hormonal contraceptives"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"Z79.3",display:"Long term (current) use of hormonal contraceptives"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"Z79.3",display:"Long term (current) use of hormonal contraceptives",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"FAC025",display:"Other specified status",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"N",display:"Not applicable (code cannot be used to identify a chronic or acute condition)",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"5935008",display:"Oral contraception",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Long term (current) use of hormonal contraceptives"},subject:{reference:"Patient/ac9b9cfd-8f8f-4108-9620-029cc583d1e8",type:"Patient"},encounter:{reference:"Encounter/9454e861-178c-428a-8acb-1546c5b7aa1a",type:"Encounter",display:"Office visit 45 min, Jacob Calvano"},onsetPeriod:{start:"2022-06-08"},recordedDate:"2022-06-08",recorder:{reference:"Practitioner/8fc34aba-47bb-4fe7-9485-951abdff5c6e",type:"Practitioner",display:"Jacob Calvano"}},search:{mode:"match"}},{resource:{resourceType:"Condition",id:"4806be03-9fb3-439e-b58b-458e1174dd12",meta:{extension:[{url:"https://zusapi.com/terminology/enrichment/sha256sum",valueBase64Binary:"ndyzgK7ieHxkttwH42nK3e7nfUq8cMkHXzrPkptktV0="},{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:25.444+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:38:25.507+00:00",source:"#b0104893e1801a1a",tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],clinicalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-clinical",code:"active"}]},verificationStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-ver-status",code:"confirmed"}]},category:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/condition-category",code:"encounter-diagnosis"}]}],code:{coding:[{system:"http://snomed.info/sct",code:"5935008",display:"Long term (current) use of hormonal contraceptives"},{system:"http://hl7.org/fhir/sid/icd-10-cm",code:"Z79.3",display:"Long term (current) use of hormonal contraceptives"},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"ICD10"}],system:"http://hl7.org/fhir/sid/icd-10-cm",code:"Z79.3",display:"Long term (current) use of hormonal contraceptives",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCS"}],system:"https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",code:"FAC025",display:"Other specified status",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"CCI"}],system:"http://www.hcup-us.ahrq.gov/toolssoftware/chronic_icd10/chronic_icd10.jsp",code:"N",display:"Not applicable (code cannot be used to identify a chronic or acute condition)",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"SNOMED"}],system:"http://snomed.info/sct",code:"5935008",display:"Oral contraception",userSelected:!1},{extension:[{url:"https://zusapi.com/terminology/enrichment",valueString:"Unknown HCC"}],system:"http://terminology.hl7.org/CodeSystem/v3-NullFlavor",code:"UNK",display:"unknown",userSelected:!1}],text:"Long term (current) use of hormonal contraceptives"},subject:{reference:"Patient/001382f2-6e7d-4420-a178-d1caab57699b",type:"Patient"},encounter:{reference:"Encounter/32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",type:"Encounter",display:"Telemedicine 25 min, Abigail Smith"},onsetPeriod:{start:"2022-09-17"},recordedDate:"2022-09-17",recorder:{reference:"Practitioner/027bb468-9a2f-4676-8683-46688998919a",type:"Practitioner",display:"Abigail Smith"}},search:{mode:"match"}},{resource:{resourceType:"Patient",id:"001382f2-6e7d-4420-a178-d1caab57699b",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:16.933+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:17.103+00:00",source:"#25a97bc5680ae45d",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/c1fed888-f3a0-40c8-8b5b-f6aab759f849"}},search:{mode:"include"}},{resource:{resourceType:"Encounter",id:"9454e861-178c-428a-8acb-1546c5b7aa1a",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:22.556+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:22.559+00:00",source:"#nfw0bAaFNbnYzLOO",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],status:"finished",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActEncounterCode",code:"AMB"},subject:{reference:"Patient/ac9b9cfd-8f8f-4108-9620-029cc583d1e8",type:"Patient"},participant:[{type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ParticipationType",code:"PPRF"}]}],individual:{reference:"Practitioner/8fc34aba-47bb-4fe7-9485-951abdff5c6e",type:"Practitioner",display:"Jacob Calvano"}}],period:{start:"2022-06-08"}},search:{mode:"include"}},{resource:{resourceType:"Patient",id:"ac9b9cfd-8f8f-4108-9620-029cc583d1e8",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:19.207+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:19.333+00:00",source:"#fc9a07a0b430d331",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/1d66cab4-2a1c-48a0-b6bb-65a56930cebf"}},search:{mode:"include"}},{resource:{resourceType:"Patient",id:"39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:14.667+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:14.806+00:00",source:"#195aff437545b6e9",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/thirdparty/source",code:"commonwell"},{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},identifier:[{system:"https://zusapi.com/fhir/identifier/universal-id",value:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],managingOrganization:{reference:"Organization/c03a28a0-a1b0-4e2a-a3b7-c34cffb50b40"}},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"c03a28a0-a1b0-4e2a-a3b7-c34cffb50b40",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:08.749+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:08.750+00:00",source:"#IZN0Vnh5eaX0r6kF",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"City Health"},search:{mode:"include"}},{resource:{resourceType:"Encounter",id:"32bac2a2-f6d2-4a9a-9948-3d8d4dde7a23",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:38:12.740+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:38:12.743+00:00",source:"#bHl2DTttxubGcINN",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},extension:[{url:"https://zusapi.com/fhir/identifier/universal-id",valueString:"a6e6d6ac-6496-4584-acd1-1253cd555f15"}],status:"finished",class:{system:"http://terminology.hl7.org/CodeSystem/v3-ActEncounterCode",code:"AMB"},subject:{reference:"Patient/39f4e0fc-7b50-4fc6-b9b3-dfcf377a6dc8",type:"Patient"},participant:[{type:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-ParticipationType",code:"PPRF"}]}],individual:{reference:"Practitioner/7dd225a0-5d84-4b04-87f8-0e5d6c05e13b",type:"Practitioner",display:"Jasmin Keller"}}],period:{start:"2021-07-01"}},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"c1fed888-f3a0-40c8-8b5b-f6aab759f849",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.289+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.291+00:00",source:"#J2k55u5o6JKQ573B",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"Gastro Health"},search:{mode:"include"}},{resource:{resourceType:"Organization",id:"1d66cab4-2a1c-48a0-b6bb-65a56930cebf",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.547+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.548+00:00",source:"#QuUFEAKpYENOFjRM",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/1379ba20-fc3c-4105-bd1a-0d2d5400f942",display:"HLTH 2022 - Spare"}]},name:"Main St. Medical"},search:{mode:"include"}}]},Ma={resourceType:"Bundle",id:"f4da1f39-7638-45e4-999b-9ff33d7c5201",meta:{lastUpdated:"2022-11-15T19:37:55.783+00:00"},type:"searchset",entry:[{resource:{resourceType:"Patient",id:"1",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:12.106+00:00"}],versionId:"2",lastUpdated:"2022-11-10T19:37:12.363+00:00",source:"#8409b0f1adee8ee2",security:[{system:"http://terminology.hl7.org/CodeSystem/v3-ActReason",code:"HTEST"}],tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/123",display:"Storybook Medical - Test Customer"}]},identifier:[{system:"https://example.com/patient-id",value:"001"},{system:"https://zusapi.com/fhir/identifier/universal-id",value:"u12345"}],name:[{family:"Marsden",given:["Penny"]}],telecom:[{system:"email",value:"penny.marsden@example.com"},{system:"phone",value:"555-030-6283",use:"home"},{system:"phone",value:"555-348-9139",use:"mobile"},{system:"phone",value:"555-516-4894",use:"work"}],gender:"female",birthDate:"1980-09-03",address:[{line:["469 SHADOW LN"],city:"LAS VEGAS",state:"NV",postalCode:"89106-4119"}],maritalStatus:{coding:[{system:"http://terminology.hl7.org/CodeSystem/v3-MaritalStatus",code:"S",display:"Single"}],text:"Single"},contact:[{relationship:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/v2-0131",code:"C",display:"Emergency contact"}],text:"Emergency contact"}],name:{family:"Marsden",given:["Jeffrey"]},telecom:[{system:"phone",value:"555-402-8964",use:"home"},{system:"email",value:"jeffrey.marsden@example.com"}]}],managingOrganization:{reference:"Organization/09ab9086-6dfc-4dc9-b040-1520aa4fea92"}},search:{mode:"match"}},{resource:{resourceType:"Organization",id:"09ab9086-6dfc-4dc9-b040-1520aa4fea92",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-11-10T19:37:09.031+00:00"}],versionId:"1",lastUpdated:"2022-11-10T19:37:09.032+00:00",source:"#RdK4JAWrQkSRa9Qw",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/b123",display:"Storybook Medical - Test Customer"}]},name:"Demo Health"},search:{mode:"include"}}]},Ua={data:{0:{status:"done",messageUuid:"41da155d-f10e-4402-b076-652546610e6e",initialData:{patientId:"260db817-62e7-4429-986d-86126cb8c6b7"},_serviceMessage:[{serviceUrl:"https://api.dev.zusapi.com/medical-history",service:"CommonWell",id:"e4ec64fe-e873-4810-a09b-8057b6ca2614"},{serviceUrl:"https://api.dev.zusapi.com/medication-history",service:"SureScripts",id:"4a359f4a490c4a41b16ad666ea365ea2"}],_errors:[],_createdAt:"2022-11-28T14:29:25.509Z",_updatedAt:"2022-11-28T14:29:27.436Z"}}},Ha={resourceType:"Bundle",id:"4d28e915-4be3-4588-b39f-1fd5ec8bf66c",meta:{lastUpdated:"2022-12-30T20:13:50.813+00:00"},type:"searchset",total:9,link:[{relation:"self",url:"https%3A%2F%2Fapi.zusapi.com%2Ffhir%2FProvenance%3Ftarget%3DCondition%2Fe2184fb8-5e90-4502-9dd0-2f772b42c734"}],entry:[{fullUrl:"https://api.zusapi.com/fhir/Provenance/a05dc1fc-1d25-4362-affc-03b5da842b9c",resource:{resourceType:"Provenance",id:"a05dc1fc-1d25-4362-affc-03b5da842b9c",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-12-28T18:15:22.695+00:00"}],versionId:"1",lastUpdated:"2022-12-28T18:15:22.793+00:00",source:"#edV8OhLmjIzl0lKR",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/f4599d90-6d29-4843-a16d-ae7c469eb229"}]},target:[{reference:"Condition/e2184fb8-5e90-4502-9dd0-2f772b42c734/_history/11",type:"Condition"}],recorded:"2022-12-28T18:15:22.647Z",activity:{coding:[{system:"http://terminology.hl7.org/3.1.0/CodeSystem-v3-DataOperation.html",code:"UPDATE",display:"revise"}]},agent:[{who:{reference:"Practitioner/376523e4-bdbb-4f5a-8ce0-365829c83e78",type:"Practitioner",display:"Luthfi Bustillos"},onBehalfOf:{display:"Zus Health"}},{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/provenance-participant-type",code:"assembler",display:"Assembler"}]},who:{display:"Zus Health"}}]},search:{mode:"match"}},{fullUrl:"https://api.sandbox.zusapi.com/fhir/Provenance/fbb3c6ff-74f1-42fb-a4e1-947bc19a9346",resource:{resourceType:"Provenance",id:"fbb3c6ff-74f1-42fb-a4e1-947bc19a9346",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-12-28T18:15:38.943+00:00"}],versionId:"1",lastUpdated:"2022-12-28T18:15:38.947+00:00",source:"#0BjLKenhmfJbHDVz",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/f4599d90-6d29-4843-a16d-ae7c469eb229"}]},target:[{reference:"Condition/244b3264-b207-44fb-bf14-24dba9189da8/_history/13",type:"Condition"}],recorded:"2022-12-28T18:15:38.894Z",activity:{coding:[{system:"http://terminology.hl7.org/3.1.0/CodeSystem-v3-DataOperation.html",code:"UPDATE",display:"revise"}]},agent:[{who:{reference:"Practitioner/376523e4-bdbb-4f5a-8ce0-365829c83e78",type:"Practitioner",display:"Luthfi Bustillos"},onBehalfOf:{display:"Zus Health"}},{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/provenance-participant-type",code:"assembler",display:"Assembler"}]},who:{display:"Zus Health"}}]},search:{mode:"match"}},{fullUrl:"https://api.sandbox.zusapi.com/fhir/Provenance/59b4853c-1538-4fa8-9f91-f5be4135aa94",resource:{resourceType:"Provenance",id:"59b4853c-1538-4fa8-9f91-f5be4135aa94",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-12-29T05:50:47.843+00:00"}],versionId:"1",lastUpdated:"2022-12-29T05:50:47.952+00:00",source:"#Fvt15YvBE9JGc2g2",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/f4599d90-6d29-4843-a16d-ae7c469eb229"}]},target:[{reference:"Condition/244b3264-b207-44fb-bf14-24dba9189da8/_history/15",type:"Condition"}],recorded:"2022-12-29T05:50:47.740Z",activity:{coding:[{system:"http://terminology.hl7.org/3.1.0/CodeSystem-v3-DataOperation.html",code:"UPDATE",display:"revise"}]},agent:[{who:{reference:"Practitioner/376523e4-bdbb-4f5a-8ce0-365829c83e78",type:"Practitioner",display:"Luthfi Bustillos"},onBehalfOf:{display:"Zus Health"}},{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/provenance-participant-type",code:"assembler",display:"Assembler"}]},who:{display:"Zus Health"}}]},search:{mode:"match"}},{fullUrl:"https://api.sandbox.zusapi.com/fhir/Provenance/6997f4db-41cc-4c42-9306-740148ca0e9b",resource:{resourceType:"Provenance",id:"6997f4db-41cc-4c42-9306-740148ca0e9b",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-12-29T05:51:08.216+00:00"}],versionId:"1",lastUpdated:"2022-12-29T05:51:08.259+00:00",source:"#3FwWFL4JAG38Be2Z",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/f4599d90-6d29-4843-a16d-ae7c469eb229"}]},target:[{reference:"Condition/244b3264-b207-44fb-bf14-24dba9189da8/_history/17",type:"Condition"}],recorded:"2022-12-29T05:51:08.018Z",activity:{coding:[{system:"http://terminology.hl7.org/3.1.0/CodeSystem-v3-DataOperation.html",code:"UPDATE",display:"revise"}]},agent:[{who:{reference:"Practitioner/376523e4-bdbb-4f5a-8ce0-365829c83e78",type:"Practitioner",display:"Luthfi Bustillos"},onBehalfOf:{display:"Zus Health"}},{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/provenance-participant-type",code:"assembler",display:"Assembler"}]},who:{display:"Zus Health"}}]},search:{mode:"match"}},{fullUrl:"https://api.sandbox.zusapi.com/fhir/Provenance/aa12fdeb-dbb0-4052-8d90-385221dadec6",resource:{resourceType:"Provenance",id:"aa12fdeb-dbb0-4052-8d90-385221dadec6",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-12-23T20:03:32.220+00:00"}],versionId:"1",lastUpdated:"2022-12-23T20:03:32.314+00:00",source:"#yT0xE6MiOe1iwQ3w",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/f4599d90-6d29-4843-a16d-ae7c469eb229"}]},target:[{reference:"Condition/244b3264-b207-44fb-bf14-24dba9189da8/_history/3",type:"Condition"}],recorded:"2022-12-23T20:03:32.141Z",activity:{coding:[{system:"http://terminology.hl7.org/3.1.0/CodeSystem-v3-DataOperation.html",code:"UPDATE",display:"revise"}]},agent:[{who:{reference:"Practitioner/376523e4-bdbb-4f5a-8ce0-365829c83e78",type:"Practitioner",display:"Luthfi Bustillos"},onBehalfOf:{display:"Zus Health"}},{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/provenance-participant-type",code:"assembler",display:"Assembler"}]},who:{display:"Zus Health"}}]},search:{mode:"match"}},{fullUrl:"https://api.sandbox.zusapi.com/fhir/Provenance/55470ca6-8459-4136-99ae-922218d86f74",resource:{resourceType:"Provenance",id:"55470ca6-8459-4136-99ae-922218d86f74",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-12-23T20:09:31.478+00:00"}],versionId:"1",lastUpdated:"2022-12-23T20:09:31.531+00:00",source:"#2MSHhIame8SmELyH",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/f4599d90-6d29-4843-a16d-ae7c469eb229"}]},target:[{reference:"Condition/244b3264-b207-44fb-bf14-24dba9189da8/_history/5",type:"Condition"}],recorded:"2022-12-23T20:09:31.395Z",activity:{coding:[{system:"http://terminology.hl7.org/3.1.0/CodeSystem-v3-DataOperation.html",code:"UPDATE",display:"revise"}]},agent:[{who:{reference:"Practitioner/376523e4-bdbb-4f5a-8ce0-365829c83e78",type:"Practitioner",display:"Luthfi Bustillos"},onBehalfOf:{display:"Zus Health"}},{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/provenance-participant-type",code:"assembler",display:"Assembler"}]},who:{display:"Zus Health"}}]},search:{mode:"match"}},{fullUrl:"https://api.sandbox.zusapi.com/fhir/Provenance/e25fd139-3c15-4002-b9c1-859f14eb0d86",resource:{resourceType:"Provenance",id:"e25fd139-3c15-4002-b9c1-859f14eb0d86",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-12-27T15:51:35.778+00:00"}],versionId:"1",lastUpdated:"2022-12-27T15:51:35.832+00:00",source:"#ESyBxtwTdNFBdxUv",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/f4599d90-6d29-4843-a16d-ae7c469eb229"}]},target:[{reference:"Condition/244b3264-b207-44fb-bf14-24dba9189da8/_history/7",type:"Condition"}],recorded:"2022-12-27T15:51:35.711Z",activity:{coding:[{system:"http://terminology.hl7.org/3.1.0/CodeSystem-v3-DataOperation.html",code:"UPDATE",display:"revise"}]},agent:[{who:{reference:"Practitioner/376523e4-bdbb-4f5a-8ce0-365829c83e78",type:"Practitioner",display:"Luthfi Bustillos"},onBehalfOf:{display:"Zus Health"}},{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/provenance-participant-type",code:"assembler",display:"Assembler"}]},who:{display:"Zus Health"}}]},search:{mode:"match"}},{fullUrl:"https://api.sandbox.zusapi.com/fhir/Provenance/e9f188e0-4eeb-4423-8316-3c70fff2cbef",resource:{resourceType:"Provenance",id:"e9f188e0-4eeb-4423-8316-3c70fff2cbef",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-12-27T19:50:46.844+00:00"}],versionId:"1",lastUpdated:"2022-12-27T19:50:46.868+00:00",source:"#GliABUFKdIpPOl0v",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/f4599d90-6d29-4843-a16d-ae7c469eb229"}]},target:[{reference:"Condition/244b3264-b207-44fb-bf14-24dba9189da8/_history/9",type:"Condition"}],recorded:"2022-12-27T19:50:46.781Z",activity:{coding:[{system:"http://terminology.hl7.org/3.1.0/CodeSystem-v3-DataOperation.html",code:"UPDATE",display:"revise"}]},agent:[{who:{reference:"Practitioner/376523e4-bdbb-4f5a-8ce0-365829c83e78",type:"Practitioner",display:"Luthfi Bustillos"},onBehalfOf:{display:"Zus Health"}},{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/provenance-participant-type",code:"assembler",display:"Assembler"}]},who:{display:"Zus Health"}}]},search:{mode:"match"}},{fullUrl:"https://api.sandbox.zusapi.com/fhir/Provenance/86a6df5c-94e6-412a-be8c-bdf8d97f2cd0",resource:{resourceType:"Provenance",id:"86a6df5c-94e6-412a-be8c-bdf8d97f2cd0",meta:{extension:[{url:"https://zusapi.com/created-at",valueInstant:"2022-12-30T17:46:06.478+00:00"}],versionId:"1",lastUpdated:"2022-12-30T17:46:06.589+00:00",source:"#fGCAyhHKP4bwqCUo",tag:[{system:"https://zusapi.com/accesscontrol/owner",code:"builder/f4599d90-6d29-4843-a16d-ae7c469eb229"}]},target:[{reference:"Condition/244b3264-b207-44fb-bf14-24dba9189da8/_history/19",type:"Condition"}],recorded:"2022-12-30T17:46:06.397Z",activity:{coding:[{system:"http://terminology.hl7.org/3.1.0/CodeSystem-v3-DataOperation.html",code:"UPDATE",display:"revise"}]},agent:[{who:{reference:"Practitioner/376523e4-bdbb-4f5a-8ce0-365829c83e78",type:"Practitioner",display:"Luthfi Bustillos"},onBehalfOf:{display:"Zus Health"}},{type:{coding:[{system:"http://terminology.hl7.org/CodeSystem/provenance-participant-type",code:"assembler",display:"Assembler"}]},who:{display:"Zus Health"}}]},search:{mode:"match"}}]};let ot,st;function go({otherConditions:t,patientConditions:a}){return{decorators:[o=>(ot=M.cloneDeep(a),st=M.cloneDeep(t),fe.createElement(o))],parameters:{msw:[ka,$a,qa,Ya,Wa,Ka,Va,Ga,Ja,Za,ja,Qa]}}}const An=t=>Object.entries({34000006:Pa,4979002:Fa,21897009:za,35240004:Ba,5935008:La}).find(o=>t.includes(o[0])),ka=Je.rest.get("https://api.dev.zusapi.com/fhir/Patient",(t,a,o)=>a(o.delay(750),o.status(200),o.json(Ma))),Va=Je.rest.get("https://api.dev.zusapi.com/patient-history/messages",(t,a,o)=>a(o.status(200),o.json(Ua))),qa=Je.rest.post("https://api.dev.zusapi.com/fhir/Provenance",(t,a,o)=>a(o.status(200))),Ga=Je.rest.get("https://api.dev.zusapi.com/fhir/Binary",async(t,a,o)=>a(o.status(200),o.json(Oa))),ja=Je.rest.get("https://api.dev.zusapi.com/fhir/Provenance?target=Condition/:Condition",async(t,a,o)=>a(o.status(200),o.json(Ha))),$a=Je.rest.get("https://api.dev.zusapi.com/forms-data/terminology/conditions",(t,a,o)=>a(o.status(200),o.json(Ra))),Wa=Je.rest.post("https://api.dev.zusapi.com/fhir/Condition",async(t,a,o)=>{var d,h;const s=await t.json();return s.id=on(),(d=ot.entry)==null||d.push({resource:s,search:{mode:"match"}}),ot.total=(h=ot.entry)==null?void 0:h.length,a(o.status(200),o.json(s))}),Ka=Je.rest.put("https://api.dev.zusapi.com/fhir/Condition/:conditionId",async(t,a,o)=>{var h,v;const s=await t.json(),d=(h=ot.entry)==null?void 0:h.findIndex(m=>{var C;return((C=m.resource)==null?void 0:C.id)===s.id});return d!==void 0&&((v=ot.entry)!=null&&v[d])&&(ot.entry[d].resource=s),a(o.status(200),o.json(s))}),Ya=Je.rest.get("https://api.dev.zusapi.com/fhir/Condition",(t,a,o)=>{const s=t.url.searchParams.get("code");if(s){const v=An(s);return v?a(o.status(200),o.json(v[1])):a(o.status(200),o.json([]))}const h=t.url.searchParams.get("_tag")===`${sn}|Common`;return a(o.status(200),o.json(h?st:ot))}),Ja=Je.rest.post("https://api.dev.zusapi.com/fhir/Basic",async(t,a,o)=>{var d,h;const s=await t.json();return s.search={mode:"include"},s.id=on(),(d=st.entry)==null||d.push({resource:s,search:{mode:"include"}}),st.total=(h=st.entry)==null?void 0:h.length,a(o.status(200),o.json(s))}),Za=Je.rest.post("https://api.dev.zusapi.com/fhir",async(t,a,o)=>{const s=t.url.searchParams.get("code");if(s){const v=An(s);return v?a(o.status(200),o.json(v[1])):a(o.status(200),o.json([]))}const h=t.url.searchParams.get("_tag")===`${sn}|Common`;return a(o.status(200),o.json(h?st:ot))}),Qa=Je.rest.put("https://api.dev.zusapi.com/fhir/Basic/:basicId",async(t,a,o)=>{var h,v;const s=await t.json(),d=(h=st.entry)==null?void 0:h.findIndex(m=>{var C;return((C=m.resource)==null?void 0:C.id)===s.id});return d!==void 0&&((v=st.entry)!=null&&v[d])&&(st.entry[d].resource=s),a(o.status(200),o.json(s))});export{Rt as C,Qt as M,ni as a,Jt as b,ii as c,ho as d,uo as e,fo as f,Zt as g,ai as h,po as i,Xn as o,yo as p,go as s,lo as t,mo as u};
//# sourceMappingURL=requests-c45dbd8b.js.map
