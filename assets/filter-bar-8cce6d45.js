import{r as v,R as d}from"./index-6f814c40.js";import{D as ge,e as le,F as D,g as fe,h as he,M as ve,i as Re,j as ke,k as Fe}from"./use-filtered-sorted-data-74cb0f28.js";import{c as C}from"./index-74f03c09.js";import{s as ie,i as be,b as Se,e as se,h as ce,o as ue}from"./values-0b6ffb91.js";import"./_baseToString-4993715b.js";import"./sortBy-be5f7eb4.js";import"./_baseClone-25b1595e.js";import"./sortBy-919d7262.js";import{i as Oe}from"./_equalByTag-aaf39779.js";import"./_baseForOwn-d8306f34.js";import{i as A}from"./isString-35d4a3f2.js";import"./_createSet-12ef9b81.js";import{C as q,y as B,o as I,a as V,u as P,L as _e,q as Ne,p as Y,h as Ie,c as Ce,F as Ee,$ as M,I as Q,l as J,S as de,i as Ve,e as Pe,k as Z,w as Te,N as Le,j as h,r as Ae,v as De}from"./use-watch-a9671586.js";import{p as qe,e as Be,i as ye}from"./use-controllable-f15d4b9a.js";import{s as Me,a as E,x as $e}from"./calculate-active-index-048f6a58.js";var je=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(je||{}),ze=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ze||{}),Ke=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ke||{}),Qe=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.SetDisabled=2]="SetDisabled",e[e.SetOrientation=3]="SetOrientation",e[e.GoToOption=4]="GoToOption",e[e.Search=5]="Search",e[e.ClearSearch=6]="ClearSearch",e[e.RegisterOption=7]="RegisterOption",e[e.UnregisterOption=8]="UnregisterOption",e))(Qe||{});function G(e,r=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,t=De(r(e.options.slice()),a=>a.dataRef.current.domRef.current),l=n?t.indexOf(n):null;return l===-1&&(l=null),{options:t,activeOptionIndex:l}}let Ue={[1](e){return e.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},[0](e){if(e.disabled||e.listboxState===0)return e;let r=e.activeOptionIndex,{value:n,mode:t,compare:l}=e.propsRef.current,a=e.options.findIndex(s=>{let c=s.dataRef.current.value;return P(t,{[1]:()=>n.some(i=>l(i,c)),[0]:()=>l(n,c)})});return a!==-1&&(r=a),{...e,listboxState:0,activeOptionIndex:r}},[2](e,r){return e.disabled===r.disabled?e:{...e,disabled:r.disabled}},[3](e,r){return e.orientation===r.orientation?e:{...e,orientation:r.orientation}},[4](e,r){var n;if(e.disabled||e.listboxState===1)return e;let t=G(e),l=$e(r,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...e,...t,searchQuery:"",activeOptionIndex:l,activationTrigger:(n=r.trigger)!=null?n:1}},[5]:(e,r)=>{if(e.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,t=e.searchQuery+r.value.toLowerCase(),l=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(s=>{var c;return!s.dataRef.current.disabled&&((c=s.dataRef.current.textValue)==null?void 0:c.startsWith(t))}),a=l?e.options.indexOf(l):-1;return a===-1||a===e.activeOptionIndex?{...e,searchQuery:t}:{...e,searchQuery:t,activeOptionIndex:a,activationTrigger:1}},[6](e){return e.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},[7]:(e,r)=>{let n={id:r.id,dataRef:r.dataRef},t=G(e,l=>[...l,n]);if(e.activeOptionIndex===null){let{value:l,mode:a,compare:s}=e.propsRef.current,c=r.dataRef.current.value;P(a,{[1]:()=>l.some(i=>s(i,c)),[0]:()=>s(l,c)})&&(t.activeOptionIndex=t.options.indexOf(n))}return{...e,...t}},[8]:(e,r)=>{let n=G(e,t=>{let l=t.findIndex(a=>a.id===r.id);return l!==-1&&t.splice(l,1),t});return{...e,...n,activationTrigger:1}}},oe=v.createContext(null);oe.displayName="ListboxContext";function $(e){let r=v.useContext(oe);if(r===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,$),n}return r}function We(e,r){return P(r.type,Ue,e,r)}let Ge=v.Fragment,He=q(function(e,r){let{value:n,defaultValue:t,name:l,onChange:a,by:s=(o,m)=>o===m,disabled:c=!1,horizontal:i=!1,multiple:g=!1,...f}=e;const R=i?"horizontal":"vertical";let y=B(r),[b,w]=qe(n,a,t),x=v.useReducer(We,{listboxState:1,propsRef:{current:{value:b,onChange:w,mode:g?1:0,compare:I(typeof s=="string"?(o,m)=>{let S=s;return(o==null?void 0:o[S])===(m==null?void 0:m[S])}:s)}},labelRef:v.createRef(),buttonRef:v.createRef(),optionsRef:v.createRef(),disabled:c,orientation:R,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1}),[{listboxState:u,propsRef:p,optionsRef:N,buttonRef:T},_]=x;p.current.value=b,p.current.mode=g?1:0,V(()=>{p.current.onChange=o=>P(p.current.mode,{[0](){return w(o)},[1](){let m=p.current.value.slice(),{compare:S}=p.current,O=m.findIndex(L=>S(L,o));return O===-1?m.push(o):m.splice(O,1),w(m)}})},[w,p]),V(()=>_({type:2,disabled:c}),[c]),V(()=>_({type:3,orientation:R}),[R]),_e([T,N],(o,m)=>{var S;_({type:1}),Te(m,Le.Loose)||(o.preventDefault(),(S=T.current)==null||S.focus())},u===0);let k=v.useMemo(()=>({open:u===0,disabled:c,value:b}),[u,c,b]),F={ref:y};return d.createElement(oe.Provider,{value:x},d.createElement(Ne,{value:P(u,{[0]:Y.Open,[1]:Y.Closed})},l!=null&&b!=null&&Be({[l]:b}).map(([o,m])=>d.createElement(Ie,{features:Ce.Hidden,...Ee({key:o,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:o,value:m})})),M({ourProps:F,theirProps:f,slot:k,defaultTag:Ge,name:"Listbox"})))}),Xe="button",Ye=q(function(e,r){var n;let[t,l]=$("Listbox.Button"),a=B(t.buttonRef,r),s=`headlessui-listbox-button-${Q()}`,c=J(),i=I(x=>{switch(x.key){case h.Space:case h.Enter:case h.ArrowDown:x.preventDefault(),l({type:0}),c.nextFrame(()=>{t.propsRef.current.value||l({type:4,focus:E.First})});break;case h.ArrowUp:x.preventDefault(),l({type:0}),c.nextFrame(()=>{t.propsRef.current.value||l({type:4,focus:E.Last})});break}}),g=I(x=>{switch(x.key){case h.Space:x.preventDefault();break}}),f=I(x=>{if(Ae(x.currentTarget))return x.preventDefault();t.listboxState===0?(l({type:1}),c.nextFrame(()=>{var u;return(u=t.buttonRef.current)==null?void 0:u.focus({preventScroll:!0})})):(x.preventDefault(),l({type:0}))}),R=ye(()=>{if(t.labelRef.current)return[t.labelRef.current.id,s].join(" ")},[t.labelRef.current,s]),y=v.useMemo(()=>({open:t.listboxState===0,disabled:t.disabled,value:t.propsRef.current.value}),[t]),b=e,w={ref:a,id:s,type:Me(e,t.buttonRef),"aria-haspopup":!0,"aria-controls":(n=t.optionsRef.current)==null?void 0:n.id,"aria-expanded":t.disabled?void 0:t.listboxState===0,"aria-labelledby":R,disabled:t.disabled,onKeyDown:i,onKeyUp:g,onClick:f};return M({ourProps:w,theirProps:b,slot:y,defaultTag:Xe,name:"Listbox.Button"})}),Je="label",Ze=q(function(e,r){let[n]=$("Listbox.Label"),t=`headlessui-listbox-label-${Q()}`,l=B(n.labelRef,r),a=I(()=>{var c;return(c=n.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})}),s=v.useMemo(()=>({open:n.listboxState===0,disabled:n.disabled}),[n]);return M({ourProps:{ref:l,id:t,onClick:a},theirProps:e,slot:s,defaultTag:Je,name:"Listbox.Label"})}),et="ul",tt=de.RenderStrategy|de.Static,rt=q(function(e,r){var n;let[t,l]=$("Listbox.Options"),a=B(t.optionsRef,r),s=`headlessui-listbox-options-${Q()}`,c=J(),i=J(),g=Ve(),f=(()=>g!==null?g===Y.Open:t.listboxState===0)();v.useEffect(()=>{var u;let p=t.optionsRef.current;!p||t.listboxState===0&&p!==((u=Pe(p))==null?void 0:u.activeElement)&&p.focus({preventScroll:!0})},[t.listboxState,t.optionsRef]);let R=I(u=>{switch(i.dispose(),u.key){case h.Space:if(t.searchQuery!=="")return u.preventDefault(),u.stopPropagation(),l({type:5,value:u.key});case h.Enter:if(u.preventDefault(),u.stopPropagation(),t.activeOptionIndex!==null){let{dataRef:p}=t.options[t.activeOptionIndex];t.propsRef.current.onChange(p.current.value)}t.propsRef.current.mode===0&&(l({type:1}),Z().nextFrame(()=>{var p;return(p=t.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})}));break;case P(t.orientation,{vertical:h.ArrowDown,horizontal:h.ArrowRight}):return u.preventDefault(),u.stopPropagation(),l({type:4,focus:E.Next});case P(t.orientation,{vertical:h.ArrowUp,horizontal:h.ArrowLeft}):return u.preventDefault(),u.stopPropagation(),l({type:4,focus:E.Previous});case h.Home:case h.PageUp:return u.preventDefault(),u.stopPropagation(),l({type:4,focus:E.First});case h.End:case h.PageDown:return u.preventDefault(),u.stopPropagation(),l({type:4,focus:E.Last});case h.Escape:return u.preventDefault(),u.stopPropagation(),l({type:1}),c.nextFrame(()=>{var p;return(p=t.buttonRef.current)==null?void 0:p.focus({preventScroll:!0})});case h.Tab:u.preventDefault(),u.stopPropagation();break;default:u.key.length===1&&(l({type:5,value:u.key}),i.setTimeout(()=>l({type:6}),350));break}}),y=ye(()=>{var u,p,N;return(N=(u=t.labelRef.current)==null?void 0:u.id)!=null?N:(p=t.buttonRef.current)==null?void 0:p.id},[t.labelRef.current,t.buttonRef.current]),b=v.useMemo(()=>({open:t.listboxState===0}),[t]),w=e,x={"aria-activedescendant":t.activeOptionIndex===null||(n=t.options[t.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":t.propsRef.current.mode===1?!0:void 0,"aria-labelledby":y,"aria-orientation":t.orientation,id:s,onKeyDown:R,role:"listbox",tabIndex:0,ref:a};return M({ourProps:x,theirProps:w,slot:b,defaultTag:et,features:tt,visible:f,name:"Listbox.Options"})}),nt="li",at=q(function(e,r){let{disabled:n=!1,value:t,...l}=e,[a,s]=$("Listbox.Option"),c=`headlessui-listbox-option-${Q()}`,i=a.activeOptionIndex!==null?a.options[a.activeOptionIndex].id===c:!1,{value:g,compare:f}=a.propsRef.current,R=P(a.propsRef.current.mode,{[1]:()=>g.some(k=>f(k,t)),[0]:()=>f(g,t)}),y=v.useRef(null),b=B(r,y);V(()=>{if(a.listboxState!==0||!i||a.activationTrigger===0)return;let k=Z();return k.requestAnimationFrame(()=>{var F,o;(o=(F=y.current)==null?void 0:F.scrollIntoView)==null||o.call(F,{block:"nearest"})}),k.dispose},[y,i,a.listboxState,a.activationTrigger,a.activeOptionIndex]);let w=v.useRef({disabled:n,value:t,domRef:y});V(()=>{w.current.disabled=n},[w,n]),V(()=>{w.current.value=t},[w,t]),V(()=>{var k,F;w.current.textValue=(F=(k=y.current)==null?void 0:k.textContent)==null?void 0:F.toLowerCase()},[w,y]);let x=I(()=>a.propsRef.current.onChange(t));V(()=>(s({type:7,id:c,dataRef:w}),()=>s({type:8,id:c})),[w,c]);let u=I(k=>{if(n)return k.preventDefault();x(),a.propsRef.current.mode===0&&(s({type:1}),Z().nextFrame(()=>{var F;return(F=a.buttonRef.current)==null?void 0:F.focus({preventScroll:!0})}))}),p=I(()=>{if(n)return s({type:4,focus:E.Nothing});s({type:4,focus:E.Specific,id:c})}),N=I(()=>{n||i||s({type:4,focus:E.Specific,id:c,trigger:0})}),T=I(()=>{n||!i||s({type:4,focus:E.Nothing})}),_=v.useMemo(()=>({active:i,selected:R,disabled:n}),[i,R,n]);return M({ourProps:{id:c,ref:b,role:"option",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,"aria-selected":R,disabled:void 0,onClick:u,onFocus:p,onPointerMove:N,onMouseMove:N,onPointerLeave:T,onMouseLeave:T},theirProps:l,slot:_,defaultTag:nt,name:"Listbox.Option"})}),j=Object.assign(He,{Button:Ye,Label:Ze,Options:rt,Option:at});function we({display:e},r){return d.createElement(d.Fragment,null,be(e)?e(r):e)}function H(e,r,n){return r.reduce((t,l)=>{const a=e.find(s=>s.key===l);return{...t,[a.key]:{key:a.key,type:a.type,selected:a.type==="tag"?!0:n[a.key]}}},{})}function z(e){return Object.keys(e).reduce((r,n)=>{const t=e[n];if(typeof t<"u"){const{type:l}=t;return l==="tag"?ie(n,[],r):ie(n,t.selected,r)}return r},{})}try{z.displayName="filterChangeEventToValuesRecord",z.__docgenInfo={description:"",displayName:"filterChangeEventToValuesRecord",props:{}}}catch{}const lt="ctw-flex ctw-items-center ctw-max-w-[15rem] ctw-space-x-2 ctw-capitalize ctw-text-content-black ctw-bg-bg-dark ctw-text-sm ctw-rounded ctw-py-2 ctw-px-3 ctw-relative ctw-cursor-pointer ctw-border-0 ctw-border-transparent  ctw-whitespace-nowrap";function ee({filter:e,filterValues:r,isOpen:n,onRemove:t,onChange:l}){const a=e.key in r?r[e.key]:[],s=e.values.map(i=>({key:A(i)?i:i.key,name:A(i)?i:i.display,isSelected:a.includes(A(i)?i:i.key)})),c=s.filter(i=>i.isSelected).map(i=>i.key);return d.createElement(ge,{isOpen:n,items:s,type:"checkbox",pinnedActions:Se([t?{icon:le,name:"Remove Filter",action:t}:null]),buttonClassName:C(e.className,lt),onItemSelect:i=>l(i.key,i.value)},d.createElement("div",{className:"ctw-truncate ctw-font-medium ctw-text-content-black"},we(e,{active:!0}),c.length>0&&d.createElement("span",{className:"ctw-font-normal"},": ",c.join(", "))),d.createElement(D,{icon:fe,className:"ctw-w-2"}))}try{ee.displayName="FilterBarCheckboxPill",ee.__docgenInfo={description:"",displayName:"FilterBarCheckboxPill",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterOptionCheckbox"}},filterValues:{defaultValue:null,description:"",name:"filterValues",required:!0,type:{name:"FilterValuesRecord"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(key: string, isSelected: boolean) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"(() => void)"}}}}}catch{}function K({useBasicStyles:e=!1,btnClassName:r,children:n,optionsClassName:t,items:l,defaultIndex:a=0,onChange:s}){const[c,i]=v.useState(a),g=l[c]??{display:"Choose a selection"};return d.createElement("div",{className:"ctw-relative ctw-inline-block"},d.createElement(j,{value:c,onChange:f=>{s(f,l[f]),i(f)}},d.createElement(j.Button,{className:C(r,!e&&"after:ctw-bg-content-black",!e&&"focus-visible:ctw-outline-primary-dark","ctw-relative ctw-cursor-pointer ctw-justify-between ctw-space-x-2 ctw-border-0 ctw-border-transparent")},n||pe(g,{listView:!1}),!e&&d.createElement(D,{icon:fe,className:"ctw-w-2"})),d.createElement(j.Options,{className:C(t,"ctw-list-box")},l.map((f,R)=>d.createElement(j.Option,{key:f.key,value:R,as:v.Fragment},({active:y,selected:b})=>d.createElement("li",{className:C("ctw-flex ctw-cursor-pointer ctw-justify-between ctw-px-3 ctw-py-2","hover:ctw-bg-bg-lighter",f.className,{"ctw-text-medium":y||b,"ctw-text-content-black":!(y||b),"ctw-bg-bg-lighter":y})},d.createElement("span",{className:C("ctw-inline-flex ctw-align-middle",{"ctw-font-semibold":b&&!e})},pe(f,{active:y,selected:b,listView:!0})),!e&&b&&!f.key.startsWith("_")&&d.createElement("span",{className:"ctw-inline-flex ctw-pb-0.5"},d.createElement(D,{icon:he,className:"ctw-inline-block ctw-h-4 ctw-stroke-0 ctw-align-middle ctw-text-primary-dark"}))))))))}function pe(e,r){return d.createElement(ve,{icon:e.icon},Oe(e.display)?e.display(r):e.display)}try{K.displayName="ListBox",K.__docgenInfo={description:"",displayName:"ListBox",props:{btnClassName:{defaultValue:null,description:"",name:"btnClassName",required:!1,type:{name:"Argument"}},defaultIndex:{defaultValue:{value:"0"},description:"",name:"defaultIndex",required:!1,type:{name:"number"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"T[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(index: number, item: T) => void"}},optionsClassName:{defaultValue:null,description:"",name:"optionsClassName",required:!1,type:{name:"Argument"}},useBasicStyles:{defaultValue:{value:"false"},description:"",name:"useBasicStyles",required:!1,type:{name:"boolean"}}}}}catch{}const ot="ctw-flex ctw-items-center ctw-capitalize ctw-text-content-black ctw-bg-bg-dark ctw-text-sm ctw-rounded ctw-py-2 ctw-px-3 ctw-relative ctw-cursor-pointer ctw-border-0 ctw-border-transparent",xe=e=>be(e)?e({active:!1}):e,it=(e,r,n)=>({key:r,display:({listView:t,filter:l})=>t?d.createElement(ve,{icon:n},e):l&&xe(l.display)}),X=it("remove filter","_remove",le);function te({filter:e,onChange:r,onRemove:n}){const l=[...e.values.map(a=>A(a)?a:a.display),X];return d.createElement(K,{defaultIndex:l.length-1,btnClassName:ot,optionsClassName:"ctw-capitalize",items:l.map(a=>({display:({listView:s})=>a===X?a.display({listView:s,filter:e}):s?d.createElement("span",{className:"ctw-whitespace-nowrap"},a):d.createElement("div",{className:"ctw-truncate ctw-font-medium ctw-text-content-black"},xe(e.display),d.createElement("span",{className:"ctw-font-normal"},": ",a)),key:A(a)?a:a.key,className:C("ctw-capitalize",{"ctw-border ctw-capitalize ctw-border-solid ctw-border-divider-light ctw-border-0 ctw-border-t":a===X})})),onChange:(a,s)=>{s.key==="_remove"?n():s.key==="_reset"?r("",!1):r(s.key,!0)}})}try{te.displayName="FilterBarSelectPill",te.__docgenInfo={description:"",displayName:"FilterBarSelectPill",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterOptionSelect"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(key: string, isSelected: boolean) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"() => void"}}}}}catch{}const st="ctw-flex ctw-items-center ctw-max-w-[15rem] ctw-capitalize ctw-text-content-black ctw-bg-bg-dark ctw-text-sm ctw-rounded ctw-py-2 ctw-px-3 ctw-relative ctw-cursor-pointer ctw-border-0 ctw-border-transparent";function re({filter:e,onRemove:r}){return d.createElement("button",{key:e.key,type:"button",className:C(st,e.className,"ctw-space-x-2"),onClick:r},d.createElement("div",null,we(e,{active:!0})),d.createElement(D,{icon:Re,className:"ctw-w-2 ctw-text-content-light"}))}try{re.displayName="FilterBarTagPill",re.__docgenInfo={description:"",displayName:"FilterBarTagPill",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterItem"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"() => void"}}}}}catch{}function ne({handleAddOrRemoveFilter:e,filter:r,filterValues:n,isOpen:t,updateSelectedFilterValues:l}){const a=()=>e(r.key,!0);switch(r.type){case"tag":return d.createElement(re,{filter:r,onRemove:a});case"select":return d.createElement(te,{filter:r,onRemove:a,onChange:l});case"checkbox":return d.createElement(ee,{isOpen:t,filter:r,filterValues:n,onRemove:a,onChange:l});default:throw new Error("ActiveFilterItem has invalid filter type")}}try{ne.displayName="FilterBarPill",ne.__docgenInfo={description:`Filter pill component that can render any pill type. It abstracts the various
pill types (located in ./filter-bar-pills folder). In practice this component
will only be used by the FilterBar component.`,displayName:"FilterBarPill",props:{handleAddOrRemoveFilter:{defaultValue:null,description:"",name:"handleAddOrRemoveFilter",required:!0,type:{name:"(key: string, remove: boolean) => void"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterItem"}},filterValues:{defaultValue:null,description:"",name:"filterValues",required:!0,type:{name:"FilterValuesRecord"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},updateSelectedFilterValues:{defaultValue:null,description:"",name:"updateSelectedFilterValues",required:!0,type:{name:"(valueKey: string, isSelected: boolean) => void"}}}}}catch{}const ae=["_remove","_reset"],ct=e=>e.filter(r=>!ae.includes(r)),me=({className:e,onChange:r,filters:n,defaultState:t={}})=>{const[l,a]=v.useState(),[s,c]=v.useState(Object.keys(t)),[i,g]=v.useState(z(t)),[f,R]=v.useState(z(t)),[y,b]=se(({key:o})=>s.includes(o),n);v.useEffect(()=>{if(n.some(({key:o})=>ae.includes(o)))throw new Error(`Filters should not use keys ${ae.join(", ")}`)},[n]);const w=()=>{c([]),g({}),r({})},x=()=>{g(f),c(Object.keys(f)),r(H(n,Object.keys(f),f))},u=(o,m=!1)=>{m||a(o);const S=ct(m?s.filter(L=>L!==o):ce(s.concat(o)));c(S);let O;m&&o in i&&(O=ue(o,i),g(O)),m||o in i||(O={...i,[o]:[]},g(O)),r(H(n,S,i))},p=(o,m,S)=>{let O;const L=n.find(W=>W.key===o),U=i[o];S?O={...i,[o]:(L==null?void 0:L.type)==="checkbox"?ce(U.concat(m)):m}:Array.isArray(U)?O={...i,[o]:U.filter(W=>W!==m)}:O=ue(o,i),g(O),r(H(n,s,O))},N=o=>({display:o.display,icon:o.icon,key:o.key,className:C("ctw-capitalize",o.className)}),[T,_]=se(o=>!o.belowTheFold,b),k=_.length>0;k&&(_[0]={..._[0],className:C(_[0].className,"ctw-border-solid ctw-border-divider-light ctw-border-b-0")});const F=[...T.map(N),..._.slice(0,1).map(N),..._.slice(1).map(N),{display:"remove all filters",icon:le,key:"_remove",className:"ctw-capitalize"}];return[f].filter(o=>o.type!=="tag").length>0&&F.splice(-1,0,{display:"reset filters",icon:ke,key:"_reset",className:C("ctw-capitalize",{"ctw-border-top first-of-type:ctw-border-none":!k})}),d.createElement("div",{className:C(e,"ctw-relative ctw-flex ctw-items-center ctw-space-x-2")},y.map(o=>d.createElement(ne,{isOpen:l===o.key,key:o.key,filter:o,filterValues:i,handleAddOrRemoveFilter:u,updateSelectedFilterValues:(m,S)=>p(o.key,m,S)})),d.createElement(K,{useBasicStyles:!0,btnClassName:"!ctw-text-content-light ctw-btn-clear !ctw-font-normal !ctw-py-2",items:F,onChange:(o,m)=>{switch(m.key){case"_remove":return w();case"_reset":return x();default:return u(m.key,!1)}}},d.createElement("div",{className:"ctw-space-x-1"},d.createElement(D,{icon:Fe,className:"ctw-w-4"}),d.createElement("span",null,"Add Filters"))))};try{me.displayName="FilterBar",me.__docgenInfo={description:`FilterBar - A configurable filter bar with base menu and pills to control
which filters are active.

Use the defaultState param to pre-set filters on mount.

example:
\`\`\`
<FilterBar
  defaultState={{
    "furry-things": {
      type: "checkbox",
      selected: ["cats", "dogs", "dice"],
    },
   "who-called-shotgun": {
      type: "select",
      selected: "Kristen",
    },
    dismissed: {
      type: "tag",
      selected: true,
    },
  }}
  filters={filters}
  onChange={handleOnChange}
/>
\`\`\``,displayName:"FilterBar",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(filters: FilterChangeEvent) => void"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterItem[]"}},defaultState:{defaultValue:{value:"{}"},description:"",name:"defaultState",required:!1,type:{name:"FilterChangeEvent"}}}}}catch{}export{me as F,K as L};
