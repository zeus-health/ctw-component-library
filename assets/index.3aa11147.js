var ky=Object.defineProperty;var By=(e,t,r)=>t in e?ky(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Rr=(e,t,r)=>(By(e,typeof t!="symbol"?t+"":t,r),r);import{r as y,R as p,a as Ly}from"./index.9f56b196.js";import{c as it}from"./index.d3b8680b.js";import{l as G,T as sl,i as Uy}from"./table.e8870acf.js";import{S as qy,s as Jl,n as Vy,i as ef,a as tf,t as jy,f as Hy,c as zy,b as rf,d as Wy,e as Cn,p as Yy,g as kp,C as Gy,q as Mr,h as Mi,j as Qy,r as Zy}from"./index.7dcc3bb2.js";import{c as ba}from"./_commonjsHelpers.712cc82f.js";import{c as Xy,_ as Ge}from"./extends.bed14d96.js";import{s as Bp,a as xt,e as Ky,o as Qe,C as rr,y as hr,I as Or,p as Fi,m as Jy,$ as nr,S as lo,b as Lp,c as rn,d as Dn,u as _r,L as Up,f as qp,h as ev,g as tv,F as rv,i as We,r as Vp,j as jp,n as nv,k as av,N as ov,D as iv,T as nf,l as Hp,q as or,W as rs,t as af,X as sv}from"./drawer.0ebe46ba.js";import{S as ul}from"./spinner.51ecf2bb.js";import{r as cl,R as uv}from"./index.f2b75861.js";import{D as cv,e as lv}from"./data-list.6d7c3503.js";import{f as Ee}from"./action-list.8d2557fc.js";class fv extends qy{constructor(t,r){super(),this.client=t,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),of(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return Ds(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ds(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,r){const n=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),Jl(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();const o=this.hasListeners();o&&sf(this.currentQuery,a,this.options,n)&&this.executeFetch(),this.updateResult(r),o&&(this.currentQuery!==a||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();const s=this.computeRefetchInterval();o&&(this.currentQuery!==a||this.options.enabled!==n.enabled||s!==this.currentRefetchInterval)&&this.updateRefetchInterval(s)}getOptimisticResult(t){const r=this.client.getQueryCache().build(this.client,t);return this.createResult(r,t)}getCurrentResult(){return this.currentResult}trackResult(t){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),t[n])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...r}={}){return this.fetch({...r,meta:{refetchPage:t}})}fetchOptimistic(t){const r=this.client.defaultQueryOptions(t),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(t){var r;return this.executeFetch({...t,cancelRefetch:(r=t.cancelRefetch)!=null?r:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let r=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Vy)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),ef||this.currentResult.isStale||!tf(this.options.staleTime))return;const r=jy(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(ef||this.options.enabled===!1||!tf(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Hy.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,r){const n=this.currentQuery,a=this.options,o=this.currentResult,s=this.currentResultState,u=this.currentResultOptions,c=t!==n,l=c?t.state:this.currentQueryInitialState,h=c?this.currentResult:this.previousQueryResult,{state:g}=t;let{dataUpdatedAt:O,error:C,errorUpdatedAt:w,fetchStatus:_,status:R}=g,v=!1,S=!1,A;if(r._optimisticResults){const L=this.hasListeners(),P=!L&&of(t,r),j=L&&sf(t,n,r,a);(P||j)&&(_=zy(t.options.networkMode)?"fetching":"paused",O||(R="loading")),r._optimisticResults==="isRestoring"&&(_="idle")}if(r.keepPreviousData&&!g.dataUpdateCount&&h!=null&&h.isSuccess&&R!=="error")A=h.data,O=h.dataUpdatedAt,R=h.status,v=!0;else if(r.select&&typeof g.data<"u")if(o&&g.data===(s==null?void 0:s.data)&&r.select===this.selectFn)A=this.selectResult;else try{this.selectFn=r.select,A=r.select(g.data),A=rf(o==null?void 0:o.data,A,r),this.selectResult=A,this.selectError=null}catch(L){this.selectError=L}else A=g.data;if(typeof r.placeholderData<"u"&&typeof A>"u"&&R==="loading"){let L;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(u==null?void 0:u.placeholderData))L=o.data;else if(L=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof L<"u")try{L=r.select(L),L=rf(o==null?void 0:o.data,L,r),this.selectError=null}catch(P){this.selectError=P}typeof L<"u"&&(R="success",A=L,S=!0)}this.selectError&&(C=this.selectError,A=this.selectResult,w=Date.now(),R="error");const N=_==="fetching",$=R==="loading",I=R==="error";return{status:R,fetchStatus:_,isLoading:$,isSuccess:R==="success",isError:I,isInitialLoading:$&&N,data:A,dataUpdatedAt:O,error:C,errorUpdatedAt:w,failureCount:g.fetchFailureCount,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>l.dataUpdateCount||g.errorUpdateCount>l.errorUpdateCount,isFetching:N,isRefetching:N&&!$,isLoadingError:I&&g.dataUpdatedAt===0,isPaused:_==="paused",isPlaceholderData:S,isPreviousData:v,isRefetchError:I&&g.dataUpdatedAt!==0,isStale:ll(t,r),refetch:this.refetch,remove:this.remove}}updateResult(t){const r=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Jl(n,r))return;this.currentResult=n;const a={cache:!0},o=()=>{if(!r)return!0;const{notifyOnChangeProps:s}=this.options;if(s==="all"||!s&&!this.trackedProps.size)return!0;const u=new Set(s!=null?s:this.trackedProps);return this.options.useErrorBoundary&&u.add("error"),Object.keys(this.currentResult).some(c=>{const l=c;return this.currentResult[l]!==r[l]&&u.has(l)})};(t==null?void 0:t.listeners)!==!1&&o()&&(a.listeners=!0),this.notify({...a,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const r={};t.type==="success"?r.onSuccess=!t.manual:t.type==="error"&&!Wy(t.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(t){Cn.batch(()=>{if(t.onSuccess){var r,n,a,o;(r=(n=this.options).onSuccess)==null||r.call(n,this.currentResult.data),(a=(o=this.options).onSettled)==null||a.call(o,this.currentResult.data,null)}else if(t.onError){var s,u,c,l;(s=(u=this.options).onError)==null||s.call(u,this.currentResult.error),(c=(l=this.options).onSettled)==null||c.call(l,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(h=>{h(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function dv(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function of(e,t){return dv(e,t)||e.state.dataUpdatedAt>0&&Ds(e,t,t.refetchOnMount)}function Ds(e,t,r){if(t.enabled!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&ll(e,t)}return!1}function sf(e,t,r,n){return r.enabled!==!1&&(e!==t||n.enabled===!1)&&(!r.suspense||e.state.status!=="error")&&ll(e,r)}function ll(e,t){return e.isStaleByTime(t.staleTime)}var zp={exports:{}},Wp={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nn=y.exports;function pv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mv=typeof Object.is=="function"?Object.is:pv,hv=nn.useState,yv=nn.useEffect,vv=nn.useLayoutEffect,gv=nn.useDebugValue;function bv(e,t){var r=t(),n=hv({inst:{value:r,getSnapshot:t}}),a=n[0].inst,o=n[1];return vv(function(){a.value=r,a.getSnapshot=t,ns(a)&&o({inst:a})},[e,r,t]),yv(function(){return ns(a)&&o({inst:a}),e(function(){ns(a)&&o({inst:a})})},[e]),gv(r),r}function ns(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!mv(e,r)}catch{return!0}}function wv(e,t){return t()}var xv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?wv:bv;Wp.useSyncExternalStore=nn.useSyncExternalStore!==void 0?nn.useSyncExternalStore:xv;(function(e){e.exports=Wp})(zp);const _v=zp.exports.useSyncExternalStore,uf=y.exports.createContext(void 0),Yp=y.exports.createContext(!1);function Gp(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=uf),window.ReactQueryClientContext):uf)}const Ev=({context:e}={})=>{const t=y.exports.useContext(Gp(e,y.exports.useContext(Yp)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Sv=({client:e,children:t,context:r,contextSharing:n=!1})=>{y.exports.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const a=Gp(r,n);return y.exports.createElement(Yp.Provider,{value:!r&&n},y.exports.createElement(a.Provider,{value:e},t))},Qp=y.exports.createContext(!1),Tv=()=>y.exports.useContext(Qp);Qp.Provider;function Ov(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const Cv=y.exports.createContext(Ov()),Rv=()=>y.exports.useContext(Cv);function Nv(e,t){return typeof e=="function"?e(...t):!!e}const Av=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},Pv=e=>{y.exports.useEffect(()=>{e.clearReset()},[e])},Dv=({result:e,errorResetBoundary:t,useErrorBoundary:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&Nv(r,[e.error,n]);function $v(e,t){const r=Ev({context:e.context}),n=Tv(),a=Rv(),o=r.defaultQueryOptions(e);o._optimisticResults=n?"isRestoring":"optimistic",o.onError&&(o.onError=Cn.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=Cn.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=Cn.batchCalls(o.onSettled)),o.suspense&&typeof o.staleTime!="number"&&(o.staleTime=1e3),Av(o,a),Pv(a);const[s]=y.exports.useState(()=>new t(r,o)),u=s.getOptimisticResult(o);if(_v(y.exports.useCallback(c=>n?()=>{}:s.subscribe(Cn.batchCalls(c)),[s,n]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),y.exports.useEffect(()=>{s.setOptions(o,{listeners:!1})},[o,s]),o.suspense&&u.isLoading&&u.isFetching&&!n)throw s.fetchOptimistic(o).then(({data:c})=>{o.onSuccess==null||o.onSuccess(c),o.onSettled==null||o.onSettled(c,null)}).catch(c=>{a.clearReset(),o.onError==null||o.onError(c),o.onSettled==null||o.onSettled(void 0,c)});if(Dv({result:u,errorResetBoundary:a,useErrorBoundary:o.useErrorBoundary,query:s.getCurrentQuery()}))throw u.error;return o.notifyOnChangeProps?u:s.trackResult(u)}function fl(e,t,r){const n=Yy(e,t,r);return $v(n,fv)}const Iv="0.36.1",Zp=y.exports.createContext(void 0);var na={exports:{}},dl={},Mv=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),Xp="%[a-f0-9]{2}",cf=new RegExp("("+Xp+")|([^%]+?)","gi"),lf=new RegExp("("+Xp+")+","gi");function $s(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],$s(r),$s(n))}function Fv(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(cf)||[],r=1;r<t.length;r++)e=$s(t,r).join(""),t=e.match(cf)||[];return e}}function kv(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=lf.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var n=Fv(r[0]);n!==r[0]&&(t[r[0]]=n)}r=lf.exec(e)}t["%C2"]="\uFFFD";for(var a=Object.keys(t),o=0;o<a.length;o++){var s=a[o];e=e.replace(new RegExp(s,"g"),t[s])}return e}var Bv=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return kv(e)}},Lv=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]},Uv=function(e,t){for(var r={},n=Object.keys(e),a=Array.isArray(t),o=0;o<n.length;o++){var s=n[o],u=e[s];(a?t.indexOf(s)!==-1:t(s,u,e))&&(r[s]=u)}return r};(function(e){const t=Mv,r=Bv,n=Lv,a=Uv,o=S=>S==null,s=Symbol("encodeFragmentIdentifier");function u(S){switch(S.arrayFormat){case"index":return A=>(N,$)=>{const I=N.length;return $===void 0||S.skipNull&&$===null||S.skipEmptyString&&$===""?N:$===null?[...N,[h(A,S),"[",I,"]"].join("")]:[...N,[h(A,S),"[",h(I,S),"]=",h($,S)].join("")]};case"bracket":return A=>(N,$)=>$===void 0||S.skipNull&&$===null||S.skipEmptyString&&$===""?N:$===null?[...N,[h(A,S),"[]"].join("")]:[...N,[h(A,S),"[]=",h($,S)].join("")];case"colon-list-separator":return A=>(N,$)=>$===void 0||S.skipNull&&$===null||S.skipEmptyString&&$===""?N:$===null?[...N,[h(A,S),":list="].join("")]:[...N,[h(A,S),":list=",h($,S)].join("")];case"comma":case"separator":case"bracket-separator":{const A=S.arrayFormat==="bracket-separator"?"[]=":"=";return N=>($,I)=>I===void 0||S.skipNull&&I===null||S.skipEmptyString&&I===""?$:(I=I===null?"":I,$.length===0?[[h(N,S),A,h(I,S)].join("")]:[[$,h(I,S)].join(S.arrayFormatSeparator)])}default:return A=>(N,$)=>$===void 0||S.skipNull&&$===null||S.skipEmptyString&&$===""?N:$===null?[...N,h(A,S)]:[...N,[h(A,S),"=",h($,S)].join("")]}}function c(S){let A;switch(S.arrayFormat){case"index":return(N,$,I)=>{if(A=/\[(\d*)\]$/.exec(N),N=N.replace(/\[\d*\]$/,""),!A){I[N]=$;return}I[N]===void 0&&(I[N]={}),I[N][A[1]]=$};case"bracket":return(N,$,I)=>{if(A=/(\[\])$/.exec(N),N=N.replace(/\[\]$/,""),!A){I[N]=$;return}if(I[N]===void 0){I[N]=[$];return}I[N]=[].concat(I[N],$)};case"colon-list-separator":return(N,$,I)=>{if(A=/(:list)$/.exec(N),N=N.replace(/:list$/,""),!A){I[N]=$;return}if(I[N]===void 0){I[N]=[$];return}I[N]=[].concat(I[N],$)};case"comma":case"separator":return(N,$,I)=>{const V=typeof $=="string"&&$.includes(S.arrayFormatSeparator),L=typeof $=="string"&&!V&&g($,S).includes(S.arrayFormatSeparator);$=L?g($,S):$;const P=V||L?$.split(S.arrayFormatSeparator).map(j=>g(j,S)):$===null?$:g($,S);I[N]=P};case"bracket-separator":return(N,$,I)=>{const V=/(\[\])$/.test(N);if(N=N.replace(/\[\]$/,""),!V){I[N]=$&&g($,S);return}const L=$===null?[]:$.split(S.arrayFormatSeparator).map(P=>g(P,S));if(I[N]===void 0){I[N]=L;return}I[N]=[].concat(I[N],L)};default:return(N,$,I)=>{if(I[N]===void 0){I[N]=$;return}I[N]=[].concat(I[N],$)}}}function l(S){if(typeof S!="string"||S.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function h(S,A){return A.encode?A.strict?t(S):encodeURIComponent(S):S}function g(S,A){return A.decode?r(S):S}function O(S){return Array.isArray(S)?S.sort():typeof S=="object"?O(Object.keys(S)).sort((A,N)=>Number(A)-Number(N)).map(A=>S[A]):S}function C(S){const A=S.indexOf("#");return A!==-1&&(S=S.slice(0,A)),S}function w(S){let A="";const N=S.indexOf("#");return N!==-1&&(A=S.slice(N)),A}function _(S){S=C(S);const A=S.indexOf("?");return A===-1?"":S.slice(A+1)}function R(S,A){return A.parseNumbers&&!Number.isNaN(Number(S))&&typeof S=="string"&&S.trim()!==""?S=Number(S):A.parseBooleans&&S!==null&&(S.toLowerCase()==="true"||S.toLowerCase()==="false")&&(S=S.toLowerCase()==="true"),S}function v(S,A){A=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},A),l(A.arrayFormatSeparator);const N=c(A),$=Object.create(null);if(typeof S!="string"||(S=S.trim().replace(/^[?#&]/,""),!S))return $;for(const I of S.split("&")){if(I==="")continue;let[V,L]=n(A.decode?I.replace(/\+/g," "):I,"=");L=L===void 0?null:["comma","separator","bracket-separator"].includes(A.arrayFormat)?L:g(L,A),N(g(V,A),L,$)}for(const I of Object.keys($)){const V=$[I];if(typeof V=="object"&&V!==null)for(const L of Object.keys(V))V[L]=R(V[L],A);else $[I]=R(V,A)}return A.sort===!1?$:(A.sort===!0?Object.keys($).sort():Object.keys($).sort(A.sort)).reduce((I,V)=>{const L=$[V];return Boolean(L)&&typeof L=="object"&&!Array.isArray(L)?I[V]=O(L):I[V]=L,I},Object.create(null))}e.extract=_,e.parse=v,e.stringify=(S,A)=>{if(!S)return"";A=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},A),l(A.arrayFormatSeparator);const N=L=>A.skipNull&&o(S[L])||A.skipEmptyString&&S[L]==="",$=u(A),I={};for(const L of Object.keys(S))N(L)||(I[L]=S[L]);const V=Object.keys(I);return A.sort!==!1&&V.sort(A.sort),V.map(L=>{const P=S[L];return P===void 0?"":P===null?h(L,A):Array.isArray(P)?P.length===0&&A.arrayFormat==="bracket-separator"?h(L,A)+"[]":P.reduce($(L),[]).join("&"):h(L,A)+"="+h(P,A)}).filter(L=>L.length>0).join("&")},e.parseUrl=(S,A)=>{A=Object.assign({decode:!0},A);const[N,$]=n(S,"#");return Object.assign({url:N.split("?")[0]||"",query:v(_(S),A)},A&&A.parseFragmentIdentifier&&$?{fragmentIdentifier:g($,A)}:{})},e.stringifyUrl=(S,A)=>{A=Object.assign({encode:!0,strict:!0,[s]:!0},A);const N=C(S.url).split("?")[0]||"",$=e.extract(S.url),I=e.parse($,{sort:!1}),V=Object.assign(I,S.query);let L=e.stringify(V,A);L&&(L=`?${L}`);let P=w(S.url);return S.fragmentIdentifier&&(P=`#${A[s]?h(S.fragmentIdentifier,A):S.fragmentIdentifier}`),`${N}${L}${P}`},e.pick=(S,A,N)=>{N=Object.assign({parseFragmentIdentifier:!0,[s]:!1},N);const{url:$,query:I,fragmentIdentifier:V}=e.parseUrl(S,N);return e.stringifyUrl({url:$,query:a(I,A),fragmentIdentifier:V},N)},e.exclude=(S,A,N)=>{const $=Array.isArray(A)?I=>!A.includes(I):(I,V)=>!A(I,V);return e.pick(S,$,N)}})(dl);var Is={exports:{}};(function(e,t){t=e.exports=r,t.getSerialize=n;function r(a,o,s,u){return JSON.stringify(a,n(o,u),s)}function n(a,o){var s=[],u=[];return o==null&&(o=function(c,l){return s[0]===l?"[Circular ~]":"[Circular ~."+u.slice(0,s.indexOf(l)).join(".")+"]"}),function(c,l){if(s.length>0){var h=s.indexOf(this);~h?s.splice(h+1):s.push(this),~h?u.splice(h,1/0,c):u.push(c),~s.indexOf(l)&&(l=o.call(this,c,l))}else s.push(l);return a==null?l:a.call(this,c,l)}}})(Is,Is.exports);const qv=Is.exports,ar=kp()("fhir-kit-client:error"),Jr=kp()("fhir-kit-client:info");function fo(e){return qv(e)}function Kp(e){return e.raw&&typeof e.raw=="function"?fo(e.raw()):fo(e)}function Vv(e){!ar.enabled||(ar("!!! Error"),e.response&&ar(`    Status: ${e.response.status}`),e.config&&(ar(`    ${e.config.method.toUpperCase()}: ${e.config.url}`),ar(`    Headers: ${Kp(e.config.headers)}`)),e.response&&e.response.data&&ar(fo(e.response.data)),ar("!!! Request Error"))}function jv(e,t,r){!Jr.enabled||(t&&Jr(`Request: ${e.toUpperCase()} ${t.toString()}`),Jr(`Request Headers: ${Kp(r)}`))}function Hv(e){!Jr.enabled||(Jr(`Response: ${e.status}`),e.data&&Jr(fo(e.data)))}function zv(e){!ar.enabled||ar(e)}var Jp={logRequestError:Vv,logRequestInfo:jv,logResponseInfo:Hv,logError:zv};const Wv="http://fhir-registry.smarthealthit.org/StructureDefinition/oauth-uris",{logError:Yv}=Jp;function Gv(e){const t={};try{return e.rest.forEach(r=>{r.security.extension.find(a=>a.url===Wv).extension.forEach(a=>{switch(a.url){case"authorize":t.authorizeUrl=new URL(a.valueUri);break;case"token":t.tokenUrl=new URL(a.valueUri);break;case"register":t.registerUrl=new URL(a.valueUri);break;case"manage":t.manageUrl=new URL(a.valueUri);break;default:}})}),t}catch(r){return Yv(r),t}}function Qv(e){const{authorization_endpoint:t,token_endpoint:r,registration_endpoint:n}=e;return{authorizeUrl:t&&new URL(t),tokenUrl:r&&new URL(r),registerUrl:n&&new URL(n)}}var Zv={authFromCapability:Gv,authFromWellKnown:Qv},em={exports:{}};/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(e,t){(function(r,n){e.exports=n()})(ba,function(){function r(B){var z=typeof B;return B!==null&&(z==="object"||z==="function")}function n(B){return typeof B=="function"}var a=void 0;Array.isArray?a=Array.isArray:a=function(B){return Object.prototype.toString.call(B)==="[object Array]"};var o=a,s=0,u=void 0,c=void 0,l=function(z,U){I[s]=z,I[s+1]=U,s+=2,s===2&&(c?c(V):P())};function h(B){c=B}function g(B){l=B}var O=typeof window<"u"?window:void 0,C=O||{},w=C.MutationObserver||C.WebKitMutationObserver,_=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",R=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function v(){return function(){return process.nextTick(V)}}function S(){return typeof u<"u"?function(){u(V)}:$()}function A(){var B=0,z=new w(V),U=document.createTextNode("");return z.observe(U,{characterData:!0}),function(){U.data=B=++B%2}}function N(){var B=new MessageChannel;return B.port1.onmessage=V,function(){return B.port2.postMessage(0)}}function $(){var B=setTimeout;return function(){return B(V,1)}}var I=new Array(1e3);function V(){for(var B=0;B<s;B+=2){var z=I[B],U=I[B+1];z(U),I[B]=void 0,I[B+1]=void 0}s=0}function L(){try{var B=Function("return this")().require("vertx");return u=B.runOnLoop||B.runOnContext,S()}catch{return $()}}var P=void 0;_?P=v():w?P=A():R?P=N():O===void 0&&typeof Xy=="function"?P=L():P=$();function j(B,z){var U=this,H=new this.constructor(ae);H[ce]===void 0&&ee(H);var ie=U._state;if(ie){var ve=arguments[ie-1];l(function(){return re(ie,H,ve,U._result)})}else Q(U,H,B,z);return H}function K(B){var z=this;if(B&&typeof B=="object"&&B.constructor===z)return B;var U=new z(ae);return Ze(U,B),U}var ce=Math.random().toString(36).substring(2);function ae(){}var le=void 0,ge=1,xe=2;function Ce(){return new TypeError("You cannot resolve a promise with itself")}function ye(){return new TypeError("A promises callback cannot return that same promise.")}function Re(B,z,U,H){try{B.call(z,U,H)}catch(ie){return ie}}function pe(B,z,U){l(function(H){var ie=!1,ve=Re(U,z,function(Ue){ie||(ie=!0,z!==Ue?Ze(H,Ue):ze(H,Ue))},function(Ue){ie||(ie=!0,me(H,Ue))},"Settle: "+(H._label||" unknown promise"));!ie&&ve&&(ie=!0,me(H,ve))},B)}function oe(B,z){z._state===ge?ze(B,z._result):z._state===xe?me(B,z._result):Q(z,void 0,function(U){return Ze(B,U)},function(U){return me(B,U)})}function X(B,z,U){z.constructor===B.constructor&&U===j&&z.constructor.resolve===K?oe(B,z):U===void 0?ze(B,z):n(U)?pe(B,z,U):ze(B,z)}function Ze(B,z){if(B===z)me(B,Ce());else if(r(z)){var U=void 0;try{U=z.then}catch(H){me(B,H);return}X(B,z,U)}else ze(B,z)}function $e(B){B._onerror&&B._onerror(B._result),Y(B)}function ze(B,z){B._state===le&&(B._result=z,B._state=ge,B._subscribers.length!==0&&l(Y,B))}function me(B,z){B._state===le&&(B._state=xe,B._result=z,l($e,B))}function Q(B,z,U,H){var ie=B._subscribers,ve=ie.length;B._onerror=null,ie[ve]=z,ie[ve+ge]=U,ie[ve+xe]=H,ve===0&&B._state&&l(Y,B)}function Y(B){var z=B._subscribers,U=B._state;if(z.length!==0){for(var H=void 0,ie=void 0,ve=B._result,Ue=0;Ue<z.length;Ue+=3)H=z[Ue],ie=z[Ue+U],H?re(U,H,ie,ve):ie(ve);B._subscribers.length=0}}function re(B,z,U,H){var ie=n(U),ve=void 0,Ue=void 0,ut=!0;if(ie){try{ve=U(H)}catch(Se){ut=!1,Ue=Se}if(z===ve){me(z,ye());return}}else ve=H;z._state!==le||(ie&&ut?Ze(z,ve):ut===!1?me(z,Ue):B===ge?ze(z,ve):B===xe&&me(z,ve))}function Ae(B,z){try{z(function(H){Ze(B,H)},function(H){me(B,H)})}catch(U){me(B,U)}}var Te=0;function ne(){return Te++}function ee(B){B[ce]=Te++,B._state=void 0,B._result=void 0,B._subscribers=[]}function ft(){return new Error("Array Methods must be provided an Array")}var Ct=function(){function B(z,U){this._instanceConstructor=z,this.promise=new z(ae),this.promise[ce]||ee(this.promise),o(U)?(this.length=U.length,this._remaining=U.length,this._result=new Array(this.length),this.length===0?ze(this.promise,this._result):(this.length=this.length||0,this._enumerate(U),this._remaining===0&&ze(this.promise,this._result))):me(this.promise,ft())}return B.prototype._enumerate=function(U){for(var H=0;this._state===le&&H<U.length;H++)this._eachEntry(U[H],H)},B.prototype._eachEntry=function(U,H){var ie=this._instanceConstructor,ve=ie.resolve;if(ve===K){var Ue=void 0,ut=void 0,Se=!1;try{Ue=U.then}catch(mt){Se=!0,ut=mt}if(Ue===j&&U._state!==le)this._settledAt(U._state,H,U._result);else if(typeof Ue!="function")this._remaining--,this._result[H]=U;else if(ie===W){var Ft=new ie(ae);Se?me(Ft,ut):X(Ft,U,Ue),this._willSettleAt(Ft,H)}else this._willSettleAt(new ie(function(mt){return mt(U)}),H)}else this._willSettleAt(ve(U),H)},B.prototype._settledAt=function(U,H,ie){var ve=this.promise;ve._state===le&&(this._remaining--,U===xe?me(ve,ie):this._result[H]=ie),this._remaining===0&&ze(ve,this._result)},B.prototype._willSettleAt=function(U,H){var ie=this;Q(U,void 0,function(ve){return ie._settledAt(ge,H,ve)},function(ve){return ie._settledAt(xe,H,ve)})},B}();function b(B){return new Ct(this,B).promise}function d(B){var z=this;return o(B)?new z(function(U,H){for(var ie=B.length,ve=0;ve<ie;ve++)z.resolve(B[ve]).then(U,H)}):new z(function(U,H){return H(new TypeError("You must pass an array to race."))})}function m(B){var z=this,U=new z(ae);return me(U,B),U}function x(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function k(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var W=function(){function B(z){this[ce]=ne(),this._result=this._state=void 0,this._subscribers=[],ae!==z&&(typeof z!="function"&&x(),this instanceof B?Ae(this,z):k())}return B.prototype.catch=function(U){return this.then(null,U)},B.prototype.finally=function(U){var H=this,ie=H.constructor;return n(U)?H.then(function(ve){return ie.resolve(U()).then(function(){return ve})},function(ve){return ie.resolve(U()).then(function(){throw ve})}):H.then(U,U)},B}();W.prototype.then=j,W.all=b,W.race=d,W.resolve=K,W.reject=m,W._setScheduler=h,W._setAsap=g,W._asap=l;function Z(){var B=void 0;if(typeof ba<"u")B=ba;else if(typeof self<"u")B=self;else try{B=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var z=B.Promise;if(z){var U=null;try{U=Object.prototype.toString.call(z.resolve())}catch{}if(U==="[object Promise]"&&!z.cast)return}B.Promise=W}return W.polyfill=Z,W.Promise=W,W})})(em);(function(){(function(e){(function(t){var r={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};function n(P){return P&&DataView.prototype.isPrototypeOf(P)}if(r.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(P){return P&&a.indexOf(Object.prototype.toString.call(P))>-1};function s(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(P))throw new TypeError("Invalid character in header field name");return P.toLowerCase()}function u(P){return typeof P!="string"&&(P=String(P)),P}function c(P){var j={next:function(){var K=P.shift();return{done:K===void 0,value:K}}};return r.iterable&&(j[Symbol.iterator]=function(){return j}),j}function l(P){this.map={},P instanceof l?P.forEach(function(j,K){this.append(K,j)},this):Array.isArray(P)?P.forEach(function(j){this.append(j[0],j[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(j){this.append(j,P[j])},this)}l.prototype.append=function(P,j){P=s(P),j=u(j);var K=this.map[P];this.map[P]=K?K+", "+j:j},l.prototype.delete=function(P){delete this.map[s(P)]},l.prototype.get=function(P){return P=s(P),this.has(P)?this.map[P]:null},l.prototype.has=function(P){return this.map.hasOwnProperty(s(P))},l.prototype.set=function(P,j){this.map[s(P)]=u(j)},l.prototype.forEach=function(P,j){for(var K in this.map)this.map.hasOwnProperty(K)&&P.call(j,this.map[K],K,this)},l.prototype.keys=function(){var P=[];return this.forEach(function(j,K){P.push(K)}),c(P)},l.prototype.values=function(){var P=[];return this.forEach(function(j){P.push(j)}),c(P)},l.prototype.entries=function(){var P=[];return this.forEach(function(j,K){P.push([K,j])}),c(P)},r.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);function h(P){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}function g(P){return new Promise(function(j,K){P.onload=function(){j(P.result)},P.onerror=function(){K(P.error)}})}function O(P){var j=new FileReader,K=g(j);return j.readAsArrayBuffer(P),K}function C(P){var j=new FileReader,K=g(j);return j.readAsText(P),K}function w(P){for(var j=new Uint8Array(P),K=new Array(j.length),ce=0;ce<j.length;ce++)K[ce]=String.fromCharCode(j[ce]);return K.join("")}function _(P){if(P.slice)return P.slice(0);var j=new Uint8Array(P.byteLength);return j.set(new Uint8Array(P)),j.buffer}function R(){return this.bodyUsed=!1,this._initBody=function(P){this._bodyInit=P,P?typeof P=="string"?this._bodyText=P:r.blob&&Blob.prototype.isPrototypeOf(P)?this._bodyBlob=P:r.formData&&FormData.prototype.isPrototypeOf(P)?this._bodyFormData=P:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)?this._bodyText=P.toString():r.arrayBuffer&&r.blob&&n(P)?(this._bodyArrayBuffer=_(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(P)||o(P))?this._bodyArrayBuffer=_(P):this._bodyText=P=Object.prototype.toString.call(P):this._bodyText="",this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var P=h(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(O)}),this.text=function(){var P=h(this);if(P)return P;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(N)}),this.json=function(){return this.text().then(JSON.parse)},this}var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function S(P){var j=P.toUpperCase();return v.indexOf(j)>-1?j:P}function A(P,j){j=j||{};var K=j.body;if(P instanceof A){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,j.headers||(this.headers=new l(P.headers)),this.method=P.method,this.mode=P.mode,this.signal=P.signal,!K&&P._bodyInit!=null&&(K=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=j.credentials||this.credentials||"same-origin",(j.headers||!this.headers)&&(this.headers=new l(j.headers)),this.method=S(j.method||this.method||"GET"),this.mode=j.mode||this.mode||null,this.signal=j.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&K)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(K)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function N(P){var j=new FormData;return P.trim().split("&").forEach(function(K){if(K){var ce=K.split("="),ae=ce.shift().replace(/\+/g," "),le=ce.join("=").replace(/\+/g," ");j.append(decodeURIComponent(ae),decodeURIComponent(le))}}),j}function $(P){var j=new l,K=P.replace(/\r?\n[\t ]+/g," ");return K.split(/\r?\n/).forEach(function(ce){var ae=ce.split(":"),le=ae.shift().trim();if(le){var ge=ae.join(":").trim();j.append(le,ge)}}),j}R.call(A.prototype);function I(P,j){j||(j={}),this.type="default",this.status=j.status===void 0?200:j.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in j?j.statusText:"OK",this.headers=new l(j.headers),this.url=j.url||"",this._initBody(P)}R.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},I.error=function(){var P=new I(null,{status:0,statusText:""});return P.type="error",P};var V=[301,302,303,307,308];I.redirect=function(P,j){if(V.indexOf(j)===-1)throw new RangeError("Invalid status code");return new I(null,{status:j,headers:{location:P}})},t.DOMException=e.DOMException;try{new t.DOMException}catch{t.DOMException=function(j,K){this.message=j,this.name=K;var ce=Error(j);this.stack=ce.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function L(P,j){return new Promise(function(K,ce){var ae=new A(P,j);if(ae.signal&&ae.signal.aborted)return ce(new t.DOMException("Aborted","AbortError"));var le=new XMLHttpRequest;function ge(){le.abort()}le.onload=function(){var xe={status:le.status,statusText:le.statusText,headers:$(le.getAllResponseHeaders()||"")};xe.url="responseURL"in le?le.responseURL:xe.headers.get("X-Request-URL");var Ce="response"in le?le.response:le.responseText;K(new I(Ce,xe))},le.onerror=function(){ce(new TypeError("Network request failed"))},le.ontimeout=function(){ce(new TypeError("Network request failed"))},le.onabort=function(){ce(new t.DOMException("Aborted","AbortError"))},le.open(ae.method,ae.url,!0),ae.credentials==="include"?le.withCredentials=!0:ae.credentials==="omit"&&(le.withCredentials=!1),"responseType"in le&&r.blob&&(le.responseType="blob"),ae.headers.forEach(function(xe,Ce){le.setRequestHeader(Ce,xe)}),ae.signal&&(ae.signal.addEventListener("abort",ge),le.onreadystatechange=function(){le.readyState===4&&ae.signal.removeEventListener("abort",ge)}),le.send(typeof ae._bodyInit>"u"?null:ae._bodyInit)})}return L.polyfill=!0,e.fetch||(e.fetch=L,e.Headers=l,e.Request=A,e.Response=I),t.Headers=l,t.Request=A,t.Response=I,t.fetch=L,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:ba)})();var aa={exports:{}},ff;function df(){if(ff)return aa.exports;ff=1,aa.exports=e,aa.exports.HttpsAgent=e;function e(){}return aa.exports}em.exports.polyfill();const{logRequestError:Xv,logRequestInfo:tm,logResponseInfo:Kv}=Jp,Jv={accept:"application/fhir+json"},pf="__response",mf="__request";let pl=!1,rm,nm;try{rm=df(),nm=df().HttpsAgent,pl=!0}catch{tm("HTTP Agent is not available")}const wn=new WeakMap;function eg(e,t={}){const r={baseUrl:e,agentOptions:t};return pl?(wn.get(r)||(e.startsWith("https")?wn.set(r,{agent:new nm(t)}):wn.set(r,{agent:new rm(t)})),wn.get(r)):{}}function hf({status:e,data:t,method:r,headers:n,url:a}){const o={response:{status:e,data:t},config:{method:r,url:a,headers:n}};return Xv(o),o}function tg(e){return typeof e=="string"?e:JSON.stringify(e)}var rg=class wa{static lcKeys(t){return t&&Object.keys(t).reduce((r,n)=>(r[n.toLowerCase()]=t[n],r),{})}constructor({baseUrl:t,customHeaders:r={},requestOptions:n={},requestSigner:a=void 0}){this.baseUrl=t,this.customHeaders=r,this.baseRequestOptions=n,this.requestSigner=a}set baseUrl(t){if(!t)throw new Error("baseUrl cannot be blank");if(typeof t!="string")throw new Error("baseUrl must be a string");this.baseUrlValue=t}get baseUrl(){return this.baseUrlValue}static responseFor(t){return t[pf]}static requestFor(t){return t[mf]}set bearerToken(t){const r=`Bearer ${t}`;this.authHeader={authorization:r}}requestBuilder(t,r,n,a){const o={...this.baseRequestOptions,...n,method:t,body:tg(a)};let s={};return pl||(s={keepalive:Object.prototype.hasOwnProperty.call(o,"keepalive")?o.keepalive:!0}),Object.assign(o,s,{headers:new Headers(this.mergeHeaders(n.headers))},eg(this.baseUrl,o)),this.requestSigner&&this.requestSigner(r,o),new Request(r,o)}async request(t,r,n={},a){const o=this.expandUrl(r),s=this.requestBuilder(t,o,n,a);tm(t,o,s.headers);const u=await fetch(s),{status:c,headers:l}=u;Kv({status:c,response:u});const h=await u.text();let g={};if(h)try{g=JSON.parse(h)}catch{throw g=h,hf({status:c,data:g,method:t,headers:l,url:o})}if(!u.ok)throw hf({status:c,data:g,method:t,headers:l,url:o});return Object.defineProperty(g,pf,{writable:!1,enumerable:!1,value:u}),Object.defineProperty(g,mf,{writable:!1,enumerable:!1,value:s}),g}async get(t,r){return this.request("GET",t,r)}async delete(t,r){return this.request("DELETE",t,r)}async put(t,r,n={}){const a={"content-type":"application/fhir+json",...wa.lcKeys(n.headers)},o={...n,headers:a};return this.request("PUT",t,o,r)}async post(t,r,n={}){const a={"content-type":"application/fhir+json",...wa.lcKeys(n.headers)},o={...n,headers:a};return this.request("POST",t,o,r)}async patch(t,r,n){return this.request("PATCH",t,n,r)}expandUrl(t=""){return t.toLowerCase().startsWith("http")?t:this.baseUrl.endsWith("/")&&t.startsWith("/")?this.baseUrl+t.slice(1):this.baseUrl.endsWith("/")||t.startsWith("/")?this.baseUrl+t:`${this.baseUrl}/${t}`}mergeHeaders(t){const{lcKeys:r}=wa;return{...r(Jv),...r(this.authHeader),...r(this.customHeaders),...r(t)}}},ng={fhirReferenceRegEx:/^((http|https):\/\/([A-Za-z0-9\\.:%$]*\/)*)?(Account|ActivityDefinition|AdverseEvent|AllergyIntolerance|Appointment|AppointmentResponse|AuditEvent|Basic|Binary|BiologicallyDerivedProduct|BodySite|BodyStructure|Bundle|CapabilityStatement|CarePlan|CareTeam|CatalogEntry|ChargeItem|ChargeItemDefinition|Claim|ClaimResponse|ClinicalImpression|CodeSystem|Communication|CommunicationRequest|CompartmentDefinition|Composition|ConceptMap|Condition|Conformance|Consent|Contract|Coverage|CoverageEligibilityRequest|CoverageEligibilityResponse|DataElement|DecisionSupportRule|DecisionSupportServiceModule|DetectedIssue|Device|DeviceComponent|DeviceDefinition|DeviceMetric|DeviceRequest|DeviceUseRequest|DeviceUseStatement|DiagnosticOrder|DiagnosticReport|DiagnosticRequest|DocumentManifest|DocumentReference|EffectEvidenceSynthesis|EligibilityRequest|EligibilityResponse|Encounter|Endpoint|EnrollmentRequest|EnrollmentResponse|EntryDefinition|EpisodeOfCare|EventDefinition|Evidence|EvidenceVariable|ExampleScenario|ExpansionProfile|ExplanationOfBenefit|FamilyMemberHistory|Flag|Goal|GraphDefinition|Group|GuidanceRequest|GuidanceResponse|HealthcareService|ImagingExcerpt|ImagingManifest|ImagingObjectSelection|ImagingStudy|Immunization|ImmunizationEvaluation|ImmunizationRecommendation|ImplementationGuide|ImplementationGuideInput|ImplementationGuideOutput|InsurancePlan|Invoice|ItemInstance|Library|Linkage|List|Location|Measure|MeasureReport|Media|Medication|MedicationAdministration|MedicationDispense|MedicationKnowledge|MedicationOrder|MedicationRequest|MedicationStatement|MedicinalProduct|MedicinalProductAuthorization|MedicinalProductClinicals|MedicinalProductContraindication|MedicinalProductDeviceSpec|MedicinalProductIndication|MedicinalProductIngredient|MedicinalProductInteraction|MedicinalProductManufactured|MedicinalProductPackaged|MedicinalProductPharmaceutical|MedicinalProductUndesirableEffect|MessageDefinition|MessageHeader|ModuleDefinition|ModuleMetadata|MolecularSequence|NamingSystem|NutritionOrder|NutritionRequest|Observation|ObservationDefinition|OccupationalData|OperationDefinition|OperationOutcome|Order|OrderResponse|OrderSet|Organization|OrganizationAffiliation|OrganizationRole|Patient|PaymentNotice|PaymentReconciliation|Person|PlanDefinition|Practitioner|PractitionerRole|Procedure|ProcedureRequest|ProcessRequest|ProcessResponse|ProductPlan|Protocol|Provenance|Questionnaire|QuestionnaireResponse|ReferralRequest|RelatedPerson|RequestGroup|ResearchDefinition|ResearchElementDefinition|ResearchStudy|ResearchSubject|RiskAssessment|RiskEvidenceSynthesis|Schedule|SearchParameter|Sequence|ServiceDefinition|ServiceRequest|Slot|Specimen|SpecimenDefinition|StructureDefinition|StructureMap|Subscription|Substance|SubstanceNucleicAcid|SubstancePolymer|SubstanceProtein|SubstanceReferenceInformation|SubstanceSourceMaterial|SubstanceSpecification|SupplyDelivery|SupplyRequest|Task|TerminologyCapabilities|TestReport|TestScript|UserSession|ValueSet|VerificationResult|VisionPrescription)\/[A-Za-z0-9\-.]{1,256}(\/_history\/[A-Za-z0-9\-.]{1,256})?$/};const ag=dl,{fhirReferenceRegEx:yf}=ng;function og(e){if(!e.match(yf))throw new Error(`${e} is not a recognized FHIR reference`);let t,r=e;e.startsWith("http")&&([,t]=yf.exec(e),r=e.slice(t.length),t.endsWith("/")&&(t=t.slice(0,-1)));const[n,a]=r.split("/");return{baseUrl:t,resourceType:n,id:a}}function ig(e){return!e.startsWith("/")&&!e.includes(":")&&/\S/.test(e)}function sg(e){if(e instanceof Object&&Object.keys(e).length>0)return ag.stringify(e)}var am={createQueryString:sg,splitReference:og,validResourceType:ig};const ug=(e,t)=>{if(Object.prototype.hasOwnProperty.call(e,"resourceType")){console.warn("WARNING: positional parameters for pagination methods are deprecated and will be removed in the next major version. Call with ({ bundle, options }) rather than (bundle, headers)");const r={bundle:e};return t&&(r.options={headers:t}),r}return e},cg=(e,t)=>t?(console.warn("WARNING: headers is deprecated and will be removed in the next major version. Use options.headers instead."),console.warn(JSON.stringify(t,null,"  ")),{headers:t,...e}):e;var om={deprecateHeaders:cg,deprecatePaginationArgs:ug},as,vf;function lg(){if(vf)return as;vf=1;const{splitReference:e}=am,{deprecateHeaders:t}=om;return as=class{constructor(r){this.client=r}async resolve({reference:r,context:n,headers:a,options:o={}}={}){return n===void 0?r.startsWith("http")?this.resolveAbsoluteReference(r,t(o,a)):this.client.httpClient.get(r,t(o,a)):r.startsWith("#")?this.resolveContainedReference(r,n):this.resolveBundleReference(r,n,t(o,a))}async resolveAbsoluteReference(r,n){if(r.startsWith(this.client.baseUrl))return this.client.httpClient.get(r,n);const{baseUrl:a,resourceType:o,id:s}=e(r),u=um();return new u({baseUrl:a}).read({resourceType:o,id:s,options:n})}resolveContainedReference(r,n){if(n.contained){const a=r.slice(1),o=n.contained.find(s=>s.id===a);if(o)return o}throw new Error(`Unable to resolve contained reference: ${r}`)}async resolveBundleReference(r,n,a){const o=new RegExp(`(^|/)${r}$`),s=n.entry.find(u=>o.test(u.fullUrl));return s?s.resource:this.resolve({reference:r,options:a})}},as}class fg{constructor(t){this.httpClient=t}nextPage(t,{headers:r}={}){const n=t.link.find(a=>a.relation==="next");return n?this.httpClient.get(n.url,{headers:r}):void 0}prevPage(t,{headers:r}={}){const n=t.link.find(a=>a.relation.match(/^prev(ious)?$/));return n?this.httpClient.get(n.url,{headers:r}):void 0}}var dg=fg,im={};const ml=typeof self<"u"?self:typeof window<"u"?window:void 0;if(!ml)throw new Error("Unable to find global scope. Are you sure this is running in the browser?");if(!ml.AbortController)throw new Error('Could not find "AbortController" in the global scope. You need to polyfill it first');im.AbortController=ml.AbortController;const{AbortController:pg}=im;class sm{constructor(){this.controller=new pg,this.resolving=!1}addSignalOption(t){return{signal:this.controller.signal,...t}}safeAbort(){this.resolving||this.controller.abort()}}class mg{constructor(){this.jobs=[],this.numJobs=0}buildJob(){const t=new sm;return this.numJobs=this.jobs.push(t),t}safeAbortOthers(t){t.resolving=!0;for(let r=0,n=this.numJobs;r<n;r+=1)t!==this.jobs[r]&&this.jobs[r].safeAbort()}}var hg={FetchQueue:mg,FetchJob:sm};class yg{constructor(t){this.capabilityStatement=t}serverCan(t){return this.supportFor({capabilityType:"interaction",where:{code:t}})}resourceCan(t,r){return this.supportFor({resourceType:t,capabilityType:"interaction",where:{code:r}})}serverSearch(t){return this.supportFor({capabilityType:"searchParam",where:{name:t}})}resourceSearch(t,r){return this.supportFor({resourceType:t,capabilityType:"searchParam",where:{name:r}})}supportFor({resourceType:t,capabilityType:r,where:n}={}){let a;if(t?a=this.resourceCapabilities({resourceType:t}):a=this.serverCapabilities(),!a)return!1;const o=a[r];if(n&&o){const s=Object.keys(n)[0];return o.find(c=>c[s]===n[s])!==void 0}return o!==void 0}interactionsFor({resourceType:t}={}){const r=this.resourceCapabilities({resourceType:t});return r===void 0?[]:r.interaction.map(n=>n.code)}searchParamsFor({resourceType:t}={}){const r=this.resourceCapabilities({resourceType:t});return r===void 0?[]:r.searchParam===void 0?[]:r.searchParam.map(n=>n.name)}resourceCapabilities({resourceType:t}={}){return this.serverCapabilities().resource.find(a=>a.type===t)}capabilityContents({resourceType:t,capabilityType:r}={}){const n=this.resourceCapabilities({resourceType:t});if(n!==void 0)return n[r]}serverCapabilities(){return this.capabilityStatement.rest.find(t=>t.mode==="server")}}var vg=yg,gf;function um(){if(gf)return na.exports;gf=1;const e=dl,{authFromCapability:t,authFromWellKnown:r}=Zv,n=rg,a=lg(),o=dg,{createQueryString:s,validResourceType:u}=am,{FetchQueue:c}=hg,{deprecatePaginationArgs:l,deprecateHeaders:h}=om,g=vg;class O{constructor({baseUrl:w,customHeaders:_,requestOptions:R,requestSigner:v,bearerToken:S}={}){this.httpClient=new n({baseUrl:w,customHeaders:_,requestOptions:R,requestSigner:v}),S&&(this.httpClient.bearerToken=S),this.resolver=new a(this),this.pagination=new o(this.httpClient)}static httpFor(w){return{request:n.requestFor(w),response:n.responseFor(w)}}get baseUrl(){return this.httpClient&&this.httpClient.baseUrl}set baseUrl(w){this.httpClient&&(this.httpClient.baseUrl=w)}get customHeaders(){return this.httpClient.customHeaders}set customHeaders(w){this.httpClient.customHeaders=w}set bearerToken(w){this.httpClient.bearerToken=w}resolve({reference:w,context:_,headers:R,options:v={}}={}){return this.resolver.resolve({reference:w,context:_,options:h(v,R)})}async smartAuthMetadata({headers:w,options:_={}}={}){const R={options:h(_,w)};R.options.headers||(R.options.headers={}),R.options.headers.accept="application/fhir+json,application/json";const v=this.baseUrl.replace(/\/*$/,"/"),S=new c,A=S.buildJob(),N=S.buildJob(),$=S.buildJob(),I=[];return new Promise((V,L)=>{function P(j){I.push(j)===S.numJobs&&L(new Error(I.map(K=>K.message).join("; ")))}this.httpClient.request("GET",`${v}.well-known/smart-configuration`,N.addSignalOption(R)).then(j=>(S.safeAbortOthers(N),V(r(j)))).catch(j=>P(j)),this.capabilityStatement(A.addSignalOption(R)).then(j=>(S.safeAbortOthers(A),V(t(j)))).catch(j=>P(j)),this.httpClient.request("GET",`${v}.well-known/openid-configuration`,$.addSignalOption(R)).then(j=>(S.safeAbortOthers($),V(r(j)))).catch(j=>P(j))})}capabilityStatement({headers:w,options:_={}}={}){return this.metadata||(this.metadata=this.httpClient.get("metadata",h(_,w))),this.metadata}request(w,{method:_="GET",options:R={},body:v}={}){return R.method&&R.method!==_&&console.warn(`WARNING: 'options.method' has been specified: ${R.method} but will be ignored. Use 'method' instead.`),this.httpClient.request(_,w,R,v)}read({resourceType:w,id:_,headers:R,options:v={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);return this.httpClient.get(`${w}/${_}`,h(v,R))}vread({resourceType:w,id:_,version:R,headers:v,options:S={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);return this.httpClient.get(`${w}/${_}/_history/${R}`,h(S,v))}create({resourceType:w,body:_,headers:R,options:v={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);return this.httpClient.post(w,_,h(v,R))}delete({resourceType:w,id:_,headers:R,options:v={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);return this.httpClient.delete(`${w}/${_}`,h(v,R))}update({resourceType:w,id:_,searchParams:R,body:v,headers:S,options:A={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);if(_&&R)throw new Error("Conditional update with search params cannot be with id",w);if(R){const N=s(R);return this.httpClient.put(`${w}?${N}`,v,h(A,S))}return this.httpClient.put(`${w}/${_}`,v,h(A,S))}patch({resourceType:w,id:_,JSONPatch:R,headers:v,options:S={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);const N={...h(S,v).headers||{},"Content-Type":"application/json-patch+json"};return this.httpClient.patch(`${w}/${_}`,R,{...S,headers:N})}batch({body:w,headers:_,options:R={}}={}){return this.httpClient.post("/",w,h(R,_))}transaction({body:w,headers:_,options:R={}}={}){return this.httpClient.post("/",w,h(R,_))}operation({name:w,resourceType:_,id:R,method:v="POST",input:S,options:A={}}={}){const N=["/"];if(_){if(!u(_))throw new Error("Invalid resourceType",_);N.push(`${_}/`)}if(R&&N.push(`${R}/`),N.push(`${w.startsWith("$")?w:`$${w}`}`),v.toUpperCase()==="POST")return this.httpClient.post(N.join(""),S,A);if(v.toUpperCase()==="GET")return S&&N.push(`?${e.stringify(S)}`),this.httpClient.get(N.join(""),A)}nextPage(w,_){const{bundle:R,options:v={}}=l(w,_);return this.pagination.nextPage(R,v)}prevPage(w,_){const{bundle:R,options:v={}}=l(w,_);return this.pagination.prevPage(R,v)}search({resourceType:w,compartment:_,searchParams:R,headers:v,options:S={}}={}){if(w&&!u(w))throw new Error("Invalid resourceType",w);if(_&&w)return this.compartmentSearch({resourceType:w,compartment:_,searchParams:R,options:h(S,v)});if(w)return this.resourceSearch({resourceType:w,searchParams:R,options:h(S,v)});if(R instanceof Object&&Object.keys(R).length>0)return this.systemSearch({searchParams:R,options:h(S,v)});throw new Error("search requires either searchParams or a resourceType")}resourceSearch({resourceType:w,searchParams:_,headers:R,options:v={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);let S=w;return v.postSearch&&(S+="/_search"),this.baseSearch({searchPath:S,searchParams:_,headers:R,options:v})}systemSearch({searchParams:w,headers:_,options:R={}}={}){const v="/_search";return this.baseSearch({searchPath:v,searchParams:w,headers:_,options:R})}compartmentSearch({resourceType:w,compartment:_,searchParams:R,headers:v,options:S={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);const{resourceType:A,id:N}=_;if(!u(A))throw new Error("Invalid compartmentType",A);let $=`/${A}/${N}/${w}`;return S.postSearch&&($+="/_search"),this.baseSearch({searchPath:$,searchParams:R,headers:v,options:S})}baseSearch({searchPath:w,searchParams:_,headers:R,options:v}){const S=s(_),A=h(v,R),N=v.postSearch?"postSearch":"getSearch";return this[N](w,S,A)}postSearch(w,_,R){const S={...{"Content-Type":"application/x-www-form-urlencoded"},...R.headers},A={...R,headers:S};return this.httpClient.post(w,_,A)}getSearch(w,_,R){let v=w;return _&&(v+=`?${_}`),this.httpClient.get(v,R)}history({resourceType:w,id:_,headers:R,options:v={}}={}){if(w&&!u(w))throw new Error("Invalid resourceType",w);return _&&w?this.resourceHistory({resourceType:w,id:_,options:h(v,R)}):w?this.typeHistory({resourceType:w,options:h(v,R)}):this.systemHistory({options:h(v,R)})}resourceHistory({resourceType:w,id:_,headers:R,options:v={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);return this.httpClient.get(`${w}/${_}/_history`,h(v,R))}typeHistory({resourceType:w,headers:_,options:R={}}={}){if(!u(w))throw new Error("Invalid resourceType",w);return this.httpClient.get(`${w}/_history`,h(R,_))}systemHistory({headers:w,options:_={}}={}){return this.httpClient.get("_history",h(_,w))}}return na.exports=O,na.exports.CapabilityTool=g,na.exports}var gg=um();function bg(e,t,r){const n=e==="production"?"https://api.zusapi.com/fhir":`https://api.${e}.zusapi.com/fhir`,a=Gy;return r&&(a["Zus-Account"]=r),new gg({baseUrl:n,bearerToken:t,customHeaders:a})}const $n=e=>wg(e),wg=e=>{if(Array.isArray(e))return e.length===0?void 0:e.map($n);if(e!==null&&typeof e=="object"){const t=e;return Object.entries(t).forEach(([r,n])=>{t[r]=$n(n)}),t}return e},xg="ctw-",cm={sm:640,md:768,lg:1024},_g={colors:{transparent:"transparent",white:"#fff",black:"#000",primary:{light:"#F3E8FF",main:"#A855F7",dark:"#7E22CE"},icon:{default:"#374151",light:"#D1D5DB",active:"#A855F7"},divider:{main:"#D1D5DB",light:"#E5E7EB"},content:{black:"#111827",light:"#6B7280",lighter:"#9CA3AF"},error:{main:"#EF4444",light:"#FEE2E2",dark:"#7F1D1D",heading:"#991B1B",message:"#B91C1B",bg:"#FEF2F2",icon:"#F97171"},success:{main:"#10B981",light:"#D1FAE5"},caution:{main:"#F59E0B",light:"#FEF3C7",heading:"#92400E",message:"#B45309",bg:"#FFFBEB",icon:"#FBBF24"},info:{main:"#0EA5E9",light:"#E0F2FE"},bg:{white:"#FFFFFF",lighter:"#F9FAFB",light:"#F3F4F6",dark:"#E5E7EB",black:"#111827"}}},Eg={"--tw-pan-x":" ","--tw-pan-y":" ","--tw-pinch-zoom":" ","--tw-ordinal":" ","--tw-slashed-zero":" ","--tw-numeric-figure":" ","--tw-numeric-spacing":" ","--tw-numeric-fraction":" ","--tw-ring-inset":" ","--tw-blur":" ","--tw-brightness":" ","--tw-contrast":" ","--tw-grayscale":" ","--tw-hue-rotate":" ","--tw-invert":" ","--tw-saturate":" ","--tw-sepia":" ","--tw-drop-shadow":" ","--tw-backdrop-blur":" ","--tw-backdrop-brightness":" ","--tw-backdrop-contrast":" ","--tw-backdrop-grayscale":" ","--tw-backdrop-hue-rotate":" ","--tw-backdrop-invert":" ","--tw-backdrop-opacity":" ","--tw-backdrop-saturate":" ","--tw-backdrop-sepia":" "},Sg={..._g,breakpoints:cm};function bf(e){return`--${xg}-${e}`}function Tg(e){const t={};return Object.entries(e).forEach(([r,n])=>{typeof n=="string"?t[bf(r)]=wf(n):Object.entries(n).forEach(([a,o])=>{t[bf(`${r}-${a}`)]=wf(o)})}),t}function wf(e,t){if(e.startsWith("#")){const r=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),a=parseInt(e.slice(5,7),16);return t?`rgba(${r}, ${n}, ${a}, ${t})`:`rgb(${r}, ${n}, ${a})`}return e}function Ms(e){this.message=e}Ms.prototype=new Error,Ms.prototype.name="InvalidCharacterError";var xf=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new Ms("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,a=0,o=0,s="";n=t.charAt(o++);~n&&(r=a%4?64*r+n:n,a++%4)?s+=String.fromCharCode(255&r>>(-2*a&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return s};function Og(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(r){return decodeURIComponent(xf(r).replace(/(.)/g,function(n,a){var o=a.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}(t)}catch{return xf(t)}}function po(e){this.message=e}function Cg(e,t){if(typeof e!="string")throw new po("Invalid token specified");var r=(t=t||{}).header===!0?0:1;try{return JSON.parse(Og(e.split(".")[r]))}catch(n){throw new po("Invalid token specified: "+n.message)}}po.prototype=new Error,po.prototype.name="InvalidTokenError";const Rg="https://zusapi.com/builder_id",Ng="https://zusapi.com/builder_name",Ag="https://zusapi.com/practitioner_id",Pg="https://zusapi.com/email";function ki(e){try{return Cg(e)}catch{return{}}}function Dg(e){return ki(e)[Rg]}function lm(e){return ki(e)[Ng]}function $g(e){return ki(e)[Ag]}function Ig(e){return ki(e)[Pg]}const Mg=6e4;function _f({theme:e,children:t,...r}){const[n,a]=y.exports.useState(),o=y.exports.useRef(null);y.exports.useEffect(()=>{window.CTWComponentLibrary={version:Iv}},[]),y.exports.useEffect(()=>{var h;const c={...Tg((e==null?void 0:e.colors)||{}),...Eg},l=Object.entries(c).map(([g,O])=>`${g}:${O}`).join(";");(h=o.current)==null||h.setAttribute("style",l)},[o,e]);const s=y.exports.useCallback(async()=>{if(r.authToken)return r.authToken;const c=await kg(n,r.authTokenURL,r.headers);return(n==null?void 0:n.accessToken)!==c.accessToken&&a(c),c.accessToken},[n,r]),u=y.exports.useMemo(()=>({...r,theme:G.exports.merge({},Sg,e),token:n,ctwProviderRef:o,actions:{handleAuth:s}}),[r,e,s,n,o]);return p.createElement("div",{ref:o},p.createElement(Zp.Provider,{value:u},p.createElement(Sv,{client:Mr},t)),p.createElement("div",{id:"headlessui-portal-root"},p.createElement("div",null)))}function zt(){const e=y.exports.useContext(Zp);if(e===void 0||e.theme===void 0)throw new Error("useCTW must be used within a CTWProvider");return{getRequestContext:y.exports.useCallback(async()=>{var a,o;const r=await e.actions.handleAuth();return{env:e.env,authToken:r,builderId:(o=(a=e.builderId)!=null?a:Dg(r))!=null?o:"",contextBuilderId:e.builderId,fhirClient:bg(e.env,r,e.builderId)}},[e]),theme:e.theme,ctwProviderRef:e.ctwProviderRef}}function Fg(e,t,r,n=!0){const{getRequestContext:a}=zt();return fl([e,...t],async()=>{const o=await a();return r(o,t)},{enabled:n})}async function kg(e,t,r){if(!e||Date.now()>=e.expiresAt+Mg){const a=await(await Mi(t,{headers:r})).json();return{accessToken:a.access_token,issuedTokenType:a.issued_token_type,tokenType:a.token_type,expiresAt:Date.now()+a.expires_in*1e3}}return e}try{_f.displayName="CTWProvider",_f.__docgenInfo={description:"",displayName:"CTWProvider",props:{env:{defaultValue:null,description:"",name:"env",required:!0,type:{name:"enum",value:[{value:'"dev"'},{value:'"sandbox"'},{value:'"production"'}]}},builderId:{defaultValue:null,description:"",name:"builderId",required:!1,type:{name:"string"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},headers:{defaultValue:null,description:"",name:"headers",required:!1,type:{name:"Record<string, string>"}},authToken:{defaultValue:null,description:"",name:"authToken",required:!1,type:{name:"string"}},authTokenURL:{defaultValue:null,description:"",name:"authTokenURL",required:!1,type:{name:"string"}}}}}catch{}function hl(e,t){let[r,n]=y.exports.useState(e),a=Bp(e);return xt(()=>n(a.current),[a,n,...t]),r}function Ef(e){var t;if(e.type)return e.type;let r=(t=e.as)!=null?t:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function fm(e,t){let[r,n]=y.exports.useState(()=>Ef(e));return xt(()=>{n(Ef(e))},[e.type,e.as]),xt(()=>{r||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&n("button")},[r,t]),r}function dm({container:e,accept:t,walk:r,enabled:n=!0}){let a=y.exports.useRef(t),o=y.exports.useRef(r);y.exports.useEffect(()=>{a.current=t,o.current=r},[t,r]),xt(()=>{if(!e||!n)return;let s=Ky(e);if(!s)return;let u=a.current,c=o.current,l=Object.assign(g=>u(g),{acceptNode:u}),h=s.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,l,!1);for(;h.nextNode();)c(h.currentNode)},[e,n,a,o])}function Bg(e){throw new Error("Unexpected object: "+e)}var et=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(et||{});function pm(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),a=n!=null?n:-1,o=(()=>{switch(e.focus){case 0:return r.findIndex(s=>!t.resolveDisabled(s));case 1:{let s=r.slice().reverse().findIndex((u,c,l)=>a!==-1&&l.length-c-1>=a?!1:!t.resolveDisabled(u));return s===-1?s:r.length-1-s}case 2:return r.findIndex((s,u)=>u<=a?!1:!t.resolveDisabled(s));case 3:{let s=r.slice().reverse().findIndex(u=>!t.resolveDisabled(u));return s===-1?s:r.length-1-s}case 4:return r.findIndex(s=>t.resolveId(s)===e.id);case 5:return null;default:Bg(e)}})();return o===-1?n:o}function mm(e={},t=null,r=[]){for(let[n,a]of Object.entries(e))ym(r,hm(t,n),a);return r}function hm(e,t){return e?e+"["+t+"]":t}function ym(e,t,r){if(Array.isArray(r))for(let[n,a]of r.entries())ym(e,hm(t,n.toString()),a);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):mm(r,t,e)}function Lg(e,t,r){let[n,a]=y.exports.useState(r),o=e!==void 0;return[o?e:n,Qe(s=>(o||a(s),t==null?void 0:t(s)))]}var Ug=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ug||{}),qg=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(qg||{}),Vg=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Vg||{}),jg=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e))(jg||{});function os(e,t=r=>r){let r=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,n=jp(t(e.options.slice()),o=>o.dataRef.current.domRef.current),a=r?n.indexOf(r):null;return a===-1&&(a=null),{options:n,activeOptionIndex:a}}let Hg={[1](e){return e.dataRef.current.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},[0](e){if(e.dataRef.current.disabled||e.comboboxState===0)return e;let t=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,n=e.options.findIndex(a=>r(a.dataRef.current.value));return n!==-1&&(t=n),{...e,comboboxState:0,activeOptionIndex:t}},[2](e,t){var r;if(e.dataRef.current.disabled||e.dataRef.current.optionsRef.current&&!e.dataRef.current.optionsPropsRef.current.static&&e.comboboxState===1)return e;let n=os(e);if(n.activeOptionIndex===null){let o=n.options.findIndex(s=>!s.dataRef.current.disabled);o!==-1&&(n.activeOptionIndex=o)}let a=pm(t,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...e,...n,activeOptionIndex:a,activationTrigger:(r=t.trigger)!=null?r:1}},[3]:(e,t)=>{let r={id:t.id,dataRef:t.dataRef},n=os(e,o=>[...o,r]);e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(r));let a={...e,...n,activationTrigger:1};return e.dataRef.current.__demoMode&&e.dataRef.current.value===void 0&&(a.activeOptionIndex=0),a},[4]:(e,t)=>{let r=os(e,n=>{let a=n.findIndex(o=>o.id===t.id);return a!==-1&&n.splice(a,1),n});return{...e,...r,activationTrigger:1}},[5]:(e,t)=>({...e,labelId:t.id})},yl=y.exports.createContext(null);yl.displayName="ComboboxActionsContext";function Wn(e){let t=y.exports.useContext(yl);if(t===null){let r=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Wn),r}return t}let vl=y.exports.createContext(null);vl.displayName="ComboboxDataContext";function pn(e){let t=y.exports.useContext(vl);if(t===null){let r=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,pn),r}return t}function zg(e,t){return _r(t.type,Hg,e,t)}let Wg=y.exports.Fragment;function Yg(e,t){let{value:r,defaultValue:n,onChange:a,name:o,by:s=(pe,oe)=>pe===oe,disabled:u=!1,__demoMode:c=!1,nullable:l=!1,multiple:h=!1,...g}=e,[O,C]=Lg(r,a,n),[w,_]=y.exports.useReducer(zg,{dataRef:y.exports.createRef(),comboboxState:c?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),R=y.exports.useRef(!1),v=y.exports.useRef({static:!1,hold:!1}),S=y.exports.useRef(null),A=y.exports.useRef(null),N=y.exports.useRef(null),$=y.exports.useRef(null),I=Qe(typeof s=="string"?(pe,oe)=>{let X=s;return(pe==null?void 0:pe[X])===(oe==null?void 0:oe[X])}:s),V=y.exports.useCallback(pe=>_r(L.mode,{[1]:()=>O.some(oe=>I(oe,pe)),[0]:()=>I(O,pe)}),[O]),L=y.exports.useMemo(()=>({...w,optionsPropsRef:v,labelRef:S,inputRef:A,buttonRef:N,optionsRef:$,value:O,disabled:u,mode:h?1:0,get activeOptionIndex(){if(R.current&&w.activeOptionIndex===null&&w.options.length>0){let pe=w.options.findIndex(oe=>!oe.dataRef.current.disabled);if(pe!==-1)return pe}return w.activeOptionIndex},compare:I,isSelected:V,nullable:l,__demoMode:c}),[O,u,h,l,c,w]);xt(()=>{w.dataRef.current=L},[L]),Up([L.buttonRef,L.inputRef,L.optionsRef],()=>_({type:1}),L.comboboxState===0);let P=y.exports.useMemo(()=>({open:L.comboboxState===0,disabled:u,activeIndex:L.activeOptionIndex,activeOption:L.activeOptionIndex===null?null:L.options[L.activeOptionIndex].dataRef.current.value,value:O}),[L,u,O]),j=Qe(pe=>{let oe=L.options.find(X=>X.id===pe);!oe||Ce(oe.dataRef.current.value)}),K=Qe(()=>{if(L.activeOptionIndex!==null){let{dataRef:pe,id:oe}=L.options[L.activeOptionIndex];Ce(pe.current.value),_({type:2,focus:et.Specific,id:oe})}}),ce=Qe(()=>{_({type:0}),R.current=!0}),ae=Qe(()=>{_({type:1}),R.current=!1}),le=Qe((pe,oe,X)=>(R.current=!1,pe===et.Specific?_({type:2,focus:et.Specific,id:oe,trigger:X}):_({type:2,focus:pe,trigger:X}))),ge=Qe((pe,oe)=>(_({type:3,id:pe,dataRef:oe}),()=>_({type:4,id:pe}))),xe=Qe(pe=>(_({type:5,id:pe}),()=>_({type:5,id:null}))),Ce=Qe(pe=>_r(L.mode,{[0](){return C==null?void 0:C(pe)},[1](){let oe=L.value.slice(),X=oe.findIndex(Ze=>I(Ze,pe));return X===-1?oe.push(pe):oe.splice(X,1),C==null?void 0:C(oe)}})),ye=y.exports.useMemo(()=>({onChange:Ce,registerOption:ge,registerLabel:xe,goToOption:le,closeCombobox:ae,openCombobox:ce,selectActiveOption:K,selectOption:j}),[]),Re=t===null?{}:{ref:t};return p.createElement(yl.Provider,{value:ye},p.createElement(vl.Provider,{value:L},p.createElement(qp,{value:_r(L.comboboxState,{[0]:rn.Open,[1]:rn.Closed})},o!=null&&O!=null&&mm({[o]:O}).map(([pe,oe])=>p.createElement(ev,{features:tv.Hidden,...rv({key:pe,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:pe,value:oe})})),nr({ourProps:Re,theirProps:g,slot:P,defaultTag:Wg,name:"Combobox"}))))}let Gg=rr(Yg),Qg="input",Zg=rr(function(e,t){var r,n;let{value:a,onChange:o,displayValue:s,type:u="text",...c}=e,l=pn("Combobox.Input"),h=Wn("Combobox.Input"),g=hr(l.inputRef,t),O=`headlessui-combobox-input-${Or()}`,C=Fi(),w=y.exports.useMemo(()=>{var N;return typeof s=="function"?(N=s(l.value))!=null?N:"":typeof l.value=="string"?l.value:""},[l.value]);Jy(([N,$],[I,V])=>{!l.inputRef.current||(V===0&&$===1||N!==I)&&(l.inputRef.current.value=N)},[w,l.comboboxState]);let _=Qe(N=>{switch(N.key){case We.Backspace:case We.Delete:if(l.mode!==0||!l.nullable)return;let $=N.currentTarget;C.requestAnimationFrame(()=>{$.value===""&&(h.onChange(null),l.optionsRef.current&&(l.optionsRef.current.scrollTop=0),h.goToOption(et.Nothing))});break;case We.Enter:if(l.comboboxState!==0||N.nativeEvent.isComposing)return;if(N.preventDefault(),N.stopPropagation(),l.activeOptionIndex===null){h.closeCombobox();return}h.selectActiveOption(),l.mode===0&&h.closeCombobox();break;case We.ArrowDown:return N.preventDefault(),N.stopPropagation(),_r(l.comboboxState,{[0]:()=>{h.goToOption(et.Next)},[1]:()=>{h.openCombobox()}});case We.ArrowUp:return N.preventDefault(),N.stopPropagation(),_r(l.comboboxState,{[0]:()=>{h.goToOption(et.Previous)},[1]:()=>{h.openCombobox(),C.nextFrame(()=>{l.value||h.goToOption(et.Last)})}});case We.Home:case We.PageUp:return N.preventDefault(),N.stopPropagation(),h.goToOption(et.First);case We.End:case We.PageDown:return N.preventDefault(),N.stopPropagation(),h.goToOption(et.Last);case We.Escape:return l.comboboxState!==0?void 0:(N.preventDefault(),l.optionsRef.current&&!l.optionsPropsRef.current.static&&N.stopPropagation(),h.closeCombobox());case We.Tab:if(l.comboboxState!==0)return;l.mode===0&&h.selectActiveOption(),h.closeCombobox();break}}),R=Qe(N=>{h.openCombobox(),o==null||o(N)}),v=hl(()=>{if(l.labelId)return[l.labelId].join(" ")},[l.labelId]),S=y.exports.useMemo(()=>({open:l.comboboxState===0,disabled:l.disabled}),[l]),A={ref:g,id:O,role:"combobox",type:u,"aria-controls":(r=l.optionsRef.current)==null?void 0:r.id,"aria-expanded":l.disabled?void 0:l.comboboxState===0,"aria-activedescendant":l.activeOptionIndex===null||(n=l.options[l.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":l.mode===1?!0:void 0,"aria-labelledby":v,disabled:l.disabled,onKeyDown:_,onChange:R};return nr({ourProps:A,theirProps:c,slot:S,defaultTag:Qg,name:"Combobox.Input"})}),Xg="button",Kg=rr(function(e,t){var r;let n=pn("Combobox.Button"),a=Wn("Combobox.Button"),o=hr(n.buttonRef,t),s=`headlessui-combobox-button-${Or()}`,u=Fi(),c=Qe(w=>{switch(w.key){case We.ArrowDown:return w.preventDefault(),w.stopPropagation(),n.comboboxState===1&&a.openCombobox(),u.nextFrame(()=>{var _;return(_=n.inputRef.current)==null?void 0:_.focus({preventScroll:!0})});case We.ArrowUp:return w.preventDefault(),w.stopPropagation(),n.comboboxState===1&&(a.openCombobox(),u.nextFrame(()=>{n.value||a.goToOption(et.Last)})),u.nextFrame(()=>{var _;return(_=n.inputRef.current)==null?void 0:_.focus({preventScroll:!0})});case We.Escape:return n.comboboxState!==0?void 0:(w.preventDefault(),n.optionsRef.current&&!n.optionsPropsRef.current.static&&w.stopPropagation(),a.closeCombobox(),u.nextFrame(()=>{var _;return(_=n.inputRef.current)==null?void 0:_.focus({preventScroll:!0})}));default:return}}),l=Qe(w=>{if(Vp(w.currentTarget))return w.preventDefault();n.comboboxState===0?a.closeCombobox():(w.preventDefault(),a.openCombobox()),u.nextFrame(()=>{var _;return(_=n.inputRef.current)==null?void 0:_.focus({preventScroll:!0})})}),h=hl(()=>{if(n.labelId)return[n.labelId,s].join(" ")},[n.labelId,s]),g=y.exports.useMemo(()=>({open:n.comboboxState===0,disabled:n.disabled,value:n.value}),[n]),O=e,C={ref:o,id:s,type:fm(e,n.buttonRef),tabIndex:-1,"aria-haspopup":!0,"aria-controls":(r=n.optionsRef.current)==null?void 0:r.id,"aria-expanded":n.disabled?void 0:n.comboboxState===0,"aria-labelledby":h,disabled:n.disabled,onClick:l,onKeyDown:c};return nr({ourProps:C,theirProps:O,slot:g,defaultTag:Xg,name:"Combobox.Button"})}),Jg="label",e0=rr(function(e,t){let r=pn("Combobox.Label"),n=`headlessui-combobox-label-${Or()}`,a=Wn("Combobox.Label"),o=hr(r.labelRef,t);xt(()=>a.registerLabel(n),[n]);let s=Qe(()=>{var c;return(c=r.inputRef.current)==null?void 0:c.focus({preventScroll:!0})}),u=y.exports.useMemo(()=>({open:r.comboboxState===0,disabled:r.disabled}),[r]);return nr({ourProps:{ref:o,id:n,onClick:s},theirProps:e,slot:u,defaultTag:Jg,name:"Combobox.Label"})}),t0="ul",r0=lo.RenderStrategy|lo.Static,n0=rr(function(e,t){var r;let{hold:n=!1,...a}=e,o=pn("Combobox.Options"),s=hr(o.optionsRef,t),u=`headlessui-combobox-options-${Or()}`,c=Lp(),l=(()=>c!==null?c===rn.Open:o.comboboxState===0)();xt(()=>{var C;o.optionsPropsRef.current.static=(C=e.static)!=null?C:!1},[o.optionsPropsRef,e.static]),xt(()=>{o.optionsPropsRef.current.hold=n},[o.optionsPropsRef,n]),dm({container:o.optionsRef.current,enabled:o.comboboxState===0,accept(C){return C.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:C.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(C){C.setAttribute("role","none")}});let h=hl(()=>{var C,w;return(w=o.labelId)!=null?w:(C=o.buttonRef.current)==null?void 0:C.id},[o.labelId,o.buttonRef.current]),g=y.exports.useMemo(()=>({open:o.comboboxState===0}),[o]),O={"aria-activedescendant":o.activeOptionIndex===null||(r=o.options[o.activeOptionIndex])==null?void 0:r.id,"aria-labelledby":h,role:"listbox",id:u,ref:s};return nr({ourProps:O,theirProps:a,slot:g,defaultTag:t0,features:r0,visible:l,name:"Combobox.Options"})}),a0="li",o0=rr(function(e,t){var r,n;let{disabled:a=!1,value:o,...s}=e,u=pn("Combobox.Option"),c=Wn("Combobox.Option"),l=`headlessui-combobox-option-${Or()}`,h=u.activeOptionIndex!==null?u.options[u.activeOptionIndex].id===l:!1,g=u.isSelected(o),O=y.exports.useRef(null),C=Bp({disabled:a,value:o,domRef:O,textValue:(n=(r=O.current)==null?void 0:r.textContent)==null?void 0:n.toLowerCase()}),w=hr(t,O),_=Qe(()=>c.selectOption(l));xt(()=>c.registerOption(l,C),[C,l]);let R=y.exports.useRef(!u.__demoMode);xt(()=>{if(!u.__demoMode)return;let I=Dn();return I.requestAnimationFrame(()=>{R.current=!0}),I.dispose},[]),xt(()=>{if(u.comboboxState!==0||!h||!R.current||u.activationTrigger===0)return;let I=Dn();return I.requestAnimationFrame(()=>{var V,L;(L=(V=O.current)==null?void 0:V.scrollIntoView)==null||L.call(V,{block:"nearest"})}),I.dispose},[O,h,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let v=Qe(I=>{if(a)return I.preventDefault();_(),u.mode===0&&c.closeCombobox()}),S=Qe(()=>{if(a)return c.goToOption(et.Nothing);c.goToOption(et.Specific,l)}),A=Qe(()=>{a||h||c.goToOption(et.Specific,l,0)}),N=Qe(()=>{a||!h||u.optionsPropsRef.current.hold||c.goToOption(et.Nothing)}),$=y.exports.useMemo(()=>({active:h,selected:g,disabled:a}),[h,g,a]);return nr({ourProps:{id:l,ref:w,role:"option",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-selected":g,disabled:void 0,onClick:v,onFocus:S,onPointerMove:A,onMouseMove:A,onPointerLeave:N,onMouseLeave:N},theirProps:s,slot:$,defaultTag:a0,name:"Combobox.Option"})}),Rn=Object.assign(Gg,{Input:Zg,Button:Kg,Label:e0,Options:n0,Option:o0});var i0=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(i0||{}),s0=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(s0||{}),u0=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem",e))(u0||{});function is(e,t=r=>r){let r=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,n=jp(t(e.items.slice()),o=>o.dataRef.current.domRef.current),a=r?n.indexOf(r):null;return a===-1&&(a=null),{items:n,activeItemIndex:a}}let c0={[1](e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},[0](e){return e.menuState===0?e:{...e,menuState:0}},[2]:(e,t)=>{var r;let n=is(e),a=pm(t,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...e,...n,searchQuery:"",activeItemIndex:a,activationTrigger:(r=t.trigger)!=null?r:1}},[3]:(e,t)=>{let r=e.searchQuery!==""?0:1,n=e.searchQuery+t.value.toLowerCase(),a=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(s=>{var u;return((u=s.dataRef.current.textValue)==null?void 0:u.startsWith(n))&&!s.dataRef.current.disabled}),o=a?e.items.indexOf(a):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:o,activationTrigger:1}},[4](e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},[5]:(e,t)=>{let r=is(e,n=>[...n,{id:t.id,dataRef:t.dataRef}]);return{...e,...r}},[6]:(e,t)=>{let r=is(e,n=>{let a=n.findIndex(o=>o.id===t.id);return a!==-1&&n.splice(a,1),n});return{...e,...r,activationTrigger:1}}},gl=y.exports.createContext(null);gl.displayName="MenuContext";function Bi(e){let t=y.exports.useContext(gl);if(t===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Bi),r}return t}function l0(e,t){return _r(t.type,c0,e,t)}let f0=y.exports.Fragment,d0=rr(function(e,t){let r=y.exports.useReducer(l0,{menuState:1,buttonRef:y.exports.createRef(),itemsRef:y.exports.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:n,itemsRef:a,buttonRef:o},s]=r,u=hr(t);Up([o,a],(g,O)=>{var C;s({type:1}),av(O,ov.Loose)||(g.preventDefault(),(C=o.current)==null||C.focus())},n===0);let c=y.exports.useMemo(()=>({open:n===0}),[n]),l=e,h={ref:u};return p.createElement(gl.Provider,{value:r},p.createElement(qp,{value:_r(n,{[0]:rn.Open,[1]:rn.Closed})},nr({ourProps:h,theirProps:l,slot:c,defaultTag:f0,name:"Menu"})))}),p0="button",m0=rr(function(e,t){var r;let[n,a]=Bi("Menu.Button"),o=hr(n.buttonRef,t),s=`headlessui-menu-button-${Or()}`,u=Fi(),c=Qe(w=>{switch(w.key){case We.Space:case We.Enter:case We.ArrowDown:w.preventDefault(),w.stopPropagation(),a({type:0}),u.nextFrame(()=>a({type:2,focus:et.First}));break;case We.ArrowUp:w.preventDefault(),w.stopPropagation(),a({type:0}),u.nextFrame(()=>a({type:2,focus:et.Last}));break}}),l=Qe(w=>{switch(w.key){case We.Space:w.preventDefault();break}}),h=Qe(w=>{if(Vp(w.currentTarget))return w.preventDefault();e.disabled||(n.menuState===0?(a({type:1}),u.nextFrame(()=>{var _;return(_=n.buttonRef.current)==null?void 0:_.focus({preventScroll:!0})})):(w.preventDefault(),a({type:0})))}),g=y.exports.useMemo(()=>({open:n.menuState===0}),[n]),O=e,C={ref:o,id:s,type:fm(e,n.buttonRef),"aria-haspopup":!0,"aria-controls":(r=n.itemsRef.current)==null?void 0:r.id,"aria-expanded":e.disabled?void 0:n.menuState===0,onKeyDown:c,onKeyUp:l,onClick:h};return nr({ourProps:C,theirProps:O,slot:g,defaultTag:p0,name:"Menu.Button"})}),h0="div",y0=lo.RenderStrategy|lo.Static,v0=rr(function(e,t){var r,n;let[a,o]=Bi("Menu.Items"),s=hr(a.itemsRef,t),u=nv(a.itemsRef),c=`headlessui-menu-items-${Or()}`,l=Fi(),h=Lp(),g=(()=>h!==null?h===rn.Open:a.menuState===0)();y.exports.useEffect(()=>{let v=a.itemsRef.current;!v||a.menuState===0&&v!==(u==null?void 0:u.activeElement)&&v.focus({preventScroll:!0})},[a.menuState,a.itemsRef,u]),dm({container:a.itemsRef.current,enabled:a.menuState===0,accept(v){return v.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});let O=Qe(v=>{var S,A;switch(l.dispose(),v.key){case We.Space:if(a.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),o({type:3,value:v.key});case We.Enter:if(v.preventDefault(),v.stopPropagation(),o({type:1}),a.activeItemIndex!==null){let{dataRef:N}=a.items[a.activeItemIndex];(A=(S=N.current)==null?void 0:S.domRef.current)==null||A.click()}Hp(a.buttonRef.current);break;case We.ArrowDown:return v.preventDefault(),v.stopPropagation(),o({type:2,focus:et.Next});case We.ArrowUp:return v.preventDefault(),v.stopPropagation(),o({type:2,focus:et.Previous});case We.Home:case We.PageUp:return v.preventDefault(),v.stopPropagation(),o({type:2,focus:et.First});case We.End:case We.PageDown:return v.preventDefault(),v.stopPropagation(),o({type:2,focus:et.Last});case We.Escape:v.preventDefault(),v.stopPropagation(),o({type:1}),Dn().nextFrame(()=>{var N;return(N=a.buttonRef.current)==null?void 0:N.focus({preventScroll:!0})});break;case We.Tab:v.preventDefault(),v.stopPropagation(),o({type:1}),Dn().nextFrame(()=>{iv(a.buttonRef.current,v.shiftKey?nf.Previous:nf.Next)});break;default:v.key.length===1&&(o({type:3,value:v.key}),l.setTimeout(()=>o({type:4}),350));break}}),C=Qe(v=>{switch(v.key){case We.Space:v.preventDefault();break}}),w=y.exports.useMemo(()=>({open:a.menuState===0}),[a]),_=e,R={"aria-activedescendant":a.activeItemIndex===null||(r=a.items[a.activeItemIndex])==null?void 0:r.id,"aria-labelledby":(n=a.buttonRef.current)==null?void 0:n.id,id:c,onKeyDown:O,onKeyUp:C,role:"menu",tabIndex:0,ref:s};return nr({ourProps:R,theirProps:_,slot:w,defaultTag:h0,features:y0,visible:g,name:"Menu.Items"})}),g0=y.exports.Fragment,b0=rr(function(e,t){let{disabled:r=!1,...n}=e,[a,o]=Bi("Menu.Item"),s=`headlessui-menu-item-${Or()}`,u=a.activeItemIndex!==null?a.items[a.activeItemIndex].id===s:!1,c=y.exports.useRef(null),l=hr(t,c);xt(()=>{if(a.menuState!==0||!u||a.activationTrigger===0)return;let R=Dn();return R.requestAnimationFrame(()=>{var v,S;(S=(v=c.current)==null?void 0:v.scrollIntoView)==null||S.call(v,{block:"nearest"})}),R.dispose},[c,u,a.menuState,a.activationTrigger,a.activeItemIndex]);let h=y.exports.useRef({disabled:r,domRef:c});xt(()=>{h.current.disabled=r},[h,r]),xt(()=>{var R,v;h.current.textValue=(v=(R=c.current)==null?void 0:R.textContent)==null?void 0:v.toLowerCase()},[h,c]),xt(()=>(o({type:5,id:s,dataRef:h}),()=>o({type:6,id:s})),[h,s]);let g=Qe(R=>{if(r)return R.preventDefault();o({type:1}),Hp(a.buttonRef.current)}),O=Qe(()=>{if(r)return o({type:2,focus:et.Nothing});o({type:2,focus:et.Specific,id:s})}),C=Qe(()=>{r||u||o({type:2,focus:et.Specific,id:s,trigger:0})}),w=Qe(()=>{r||!u||o({type:2,focus:et.Nothing})}),_=y.exports.useMemo(()=>({active:u,disabled:r}),[u,r]);return nr({ourProps:{id:s,ref:l,role:"menuitem",tabIndex:r===!0?void 0:-1,"aria-disabled":r===!0?!0:void 0,disabled:void 0,onClick:g,onFocus:O,onPointerMove:C,onMouseMove:C,onPointerLeave:w,onMouseLeave:w},theirProps:n,slot:_,defaultTag:g0,name:"Menu.Item"})}),w0=Object.assign(d0,{Button:m0,Items:v0,Item:b0});function x0(e,t){return y.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),y.exports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"}))}const _0=y.exports.forwardRef(x0),E0=_0;function S0(e,t){return y.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),y.exports.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"}))}const T0=y.exports.forwardRef(S0),vm=T0,Fs=({submitting:e})=>p.createElement("button",{type:"submit",disabled:e,className:it("ctw-btn-primary ctw-save-button ctw-w-28 ctw-whitespace-nowrap")},e?"Saving...":"Save",e&&p.createElement(ul,{className:"ctw-ml-2 ctw-text-white"}));try{Fs.displayName="SaveButton",Fs.__docgenInfo={description:"",displayName:"SaveButton",props:{submitting:{defaultValue:null,description:"",name:"submitting",required:!0,type:{name:"boolean"}}}}}catch{}function O0(e,t){return y.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),y.exports.createElement("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"}))}const C0=y.exports.forwardRef(O0),R0=C0;function N0(e,t){return y.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),y.exports.createElement("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}))}const A0=y.exports.forwardRef(N0),P0=A0;function D0(e,t){return y.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),y.exports.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}))}const $0=y.exports.forwardRef(D0),gm=$0;function I0(e,t){return y.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),y.exports.createElement("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}))}const M0=y.exports.forwardRef(I0),F0=M0;function k0(e,t){return y.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),y.exports.createElement("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"}))}const B0=y.exports.forwardRef(k0),L0=B0;function U0(e,t){return y.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),y.exports.createElement("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"}))}const q0=y.exports.forwardRef(U0),V0=q0;function j0(e,t){return y.exports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),y.exports.createElement("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}))}const H0=y.exports.forwardRef(j0),z0=H0,mo=({header:e,children:t,className:r})=>p.createElement("div",{className:it("ctw-alert-bg ctw-rounded-md ctw-bg-error-bg",r)},p.createElement(gm,{className:"ctw-h-5 ctw-flex-none ctw-text-error-icon"}),p.createElement("div",{className:"ctw-space-y-2"},p.createElement("div",{className:"ctw-font-medium ctw-text-error-heading"},e),t&&p.createElement("div",{className:"ctw-text-error-message"},t))),ks=({header:e,children:t,className:r})=>p.createElement("div",{className:it("ctw-alert-bg ctw-rounded-md ctw-bg-caution-bg",r)},p.createElement(F0,{className:"ctw-h-5 ctw-flex-none ctw-text-caution-icon"}),p.createElement("div",{className:"ctw-space-y-2"},p.createElement("div",{className:"ctw-font-medium ctw-text-caution-heading"},e),t&&p.createElement("div",{className:"ctw-text-caution-message"},t)));try{mo.displayName="ErrorAlert",mo.__docgenInfo={description:"",displayName:"ErrorAlert",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}try{ks.displayName="CautionAlert",ks.__docgenInfo={description:"",displayName:"CautionAlert",props:{header:{defaultValue:null,description:"",name:"header",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}function tt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function W0(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function bl(...e){return t=>e.forEach(r=>W0(r,t))}function $t(...e){return y.exports.useCallback(bl(...e),e)}function Yn(e,t=[]){let r=[];function n(o,s){const u=y.exports.createContext(s),c=r.length;r=[...r,s];function l(g){const{scope:O,children:C,...w}=g,_=(O==null?void 0:O[e][c])||u,R=y.exports.useMemo(()=>w,Object.values(w));return y.exports.createElement(_.Provider,{value:R},C)}function h(g,O){const C=(O==null?void 0:O[e][c])||u,w=y.exports.useContext(C);if(w)return w;if(s!==void 0)return s;throw new Error(`\`${g}\` must be used within \`${o}\``)}return l.displayName=o+"Provider",[l,h]}const a=()=>{const o=r.map(s=>y.exports.createContext(s));return function(u){const c=(u==null?void 0:u[e])||o;return y.exports.useMemo(()=>({[`__scope${e}`]:{...u,[e]:c}}),[u,c])}};return a.scopeName=e,[n,Y0(a,...t)]}function Y0(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const s=n.reduce((u,{useScope:c,scopeName:l})=>{const g=c(o)[`__scope${l}`];return{...u,...g}},{});return y.exports.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function sr(e){const t=y.exports.useRef(e);return y.exports.useEffect(()=>{t.current=e}),y.exports.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function bm({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=G0({defaultProp:t,onChange:r}),o=e!==void 0,s=o?e:n,u=sr(r),c=y.exports.useCallback(l=>{if(o){const g=typeof l=="function"?l(e):l;g!==e&&u(g)}else a(l)},[o,e,a,u]);return[s,c]}function G0({defaultProp:e,onChange:t}){const r=y.exports.useState(e),[n]=r,a=y.exports.useRef(n),o=sr(t);return y.exports.useEffect(()=>{a.current!==n&&(o(n),a.current=n)},[n,a,o]),r}const In=y.exports.forwardRef((e,t)=>{const{children:r,...n}=e,a=y.exports.Children.toArray(r),o=a.find(Z0);if(o){const s=o.props.children,u=a.map(c=>c===o?y.exports.Children.count(s)>1?y.exports.Children.only(null):y.exports.isValidElement(s)?s.props.children:null:c);return y.exports.createElement(Bs,Ge({},n,{ref:t}),y.exports.isValidElement(s)?y.exports.cloneElement(s,void 0,u):null)}return y.exports.createElement(Bs,Ge({},n,{ref:t}),r)});In.displayName="Slot";const Bs=y.exports.forwardRef((e,t)=>{const{children:r,...n}=e;return y.exports.isValidElement(r)?y.exports.cloneElement(r,{...X0(n,r.props),ref:bl(t,r.ref)}):y.exports.Children.count(r)>1?y.exports.Children.only(null):null});Bs.displayName="SlotClone";const Q0=({children:e})=>y.exports.createElement(y.exports.Fragment,null,e);function Z0(e){return y.exports.isValidElement(e)&&e.type===Q0}function X0(e,t){const r={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?r[n]=(...u)=>{o==null||o(...u),a==null||a(...u)}:n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}const K0=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],Vt=K0.reduce((e,t)=>{const r=y.exports.forwardRef((n,a)=>{const{asChild:o,...s}=n,u=o?In:t;return y.exports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),y.exports.createElement(u,Ge({},s,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function wm(e,t){e&&cl.exports.flushSync(()=>e.dispatchEvent(t))}function xm(e){const t=e+"CollectionProvider",[r,n]=Yn(t),[a,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=C=>{const{scope:w,children:_}=C,R=p.useRef(null),v=p.useRef(new Map).current;return p.createElement(a,{scope:w,itemMap:v,collectionRef:R},_)},u=e+"CollectionSlot",c=p.forwardRef((C,w)=>{const{scope:_,children:R}=C,v=o(u,_),S=$t(w,v.collectionRef);return p.createElement(In,{ref:S},R)}),l=e+"CollectionItemSlot",h="data-radix-collection-item",g=p.forwardRef((C,w)=>{const{scope:_,children:R,...v}=C,S=p.useRef(null),A=$t(w,S),N=o(l,_);return p.useEffect(()=>(N.itemMap.set(S,{ref:S,...v}),()=>void N.itemMap.delete(S))),p.createElement(In,{[h]:"",ref:A},R)});function O(C){const w=o(e+"CollectionConsumer",C);return p.useCallback(()=>{const R=w.collectionRef.current;if(!R)return[];const v=Array.from(R.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((N,$)=>v.indexOf(N.ref.current)-v.indexOf($.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:s,Slot:c,ItemSlot:g},O,n]}const J0=y.exports.createContext(void 0);function _m(e){const t=y.exports.useContext(J0);return e||t||"ltr"}function eb(e){const t=sr(e);y.exports.useEffect(()=>{const r=n=>{n.key==="Escape"&&t(n)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[t])}const Ls="dismissableLayer.update",tb="dismissableLayer.pointerDownOutside",rb="dismissableLayer.focusOutside";let Sf;const nb=y.exports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ab=y.exports.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:s,onDismiss:u,...c}=e,l=y.exports.useContext(nb),[h,g]=y.exports.useState(null),[,O]=y.exports.useState({}),C=$t(t,I=>g(I)),w=Array.from(l.layers),[_]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),R=w.indexOf(_),v=h?w.indexOf(h):-1,S=l.layersWithOutsidePointerEventsDisabled.size>0,A=v>=R,N=ob(I=>{const V=I.target,L=[...l.branches].some(P=>P.contains(V));!A||L||(a==null||a(I),s==null||s(I),I.defaultPrevented||u==null||u())}),$=ib(I=>{const V=I.target;[...l.branches].some(P=>P.contains(V))||(o==null||o(I),s==null||s(I),I.defaultPrevented||u==null||u())});return eb(I=>{v===l.layers.size-1&&(n==null||n(I),!I.defaultPrevented&&u&&(I.preventDefault(),u()))}),y.exports.useEffect(()=>{if(!!h)return r&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(Sf=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(h)),l.layers.add(h),Tf(),()=>{r&&l.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=Sf)}},[h,r,l]),y.exports.useEffect(()=>()=>{!h||(l.layers.delete(h),l.layersWithOutsidePointerEventsDisabled.delete(h),Tf())},[h,l]),y.exports.useEffect(()=>{const I=()=>O({});return document.addEventListener(Ls,I),()=>document.removeEventListener(Ls,I)},[]),y.exports.createElement(Vt.div,Ge({},c,{ref:C,style:{pointerEvents:S?A?"auto":"none":void 0,...e.style},onFocusCapture:tt(e.onFocusCapture,$.onFocusCapture),onBlurCapture:tt(e.onBlurCapture,$.onBlurCapture),onPointerDownCapture:tt(e.onPointerDownCapture,N.onPointerDownCapture)}))});function ob(e){const t=sr(e),r=y.exports.useRef(!1),n=y.exports.useRef(()=>{});return y.exports.useEffect(()=>{const a=s=>{if(s.target&&!r.current){let c=function(){Em(tb,t,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(document.removeEventListener("click",n.current),n.current=c,document.addEventListener("click",n.current,{once:!0})):c()}r.current=!1},o=window.setTimeout(()=>{document.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),document.removeEventListener("pointerdown",a),document.removeEventListener("click",n.current)}},[t]),{onPointerDownCapture:()=>r.current=!0}}function ib(e){const t=sr(e),r=y.exports.useRef(!1);return y.exports.useEffect(()=>{const n=a=>{a.target&&!r.current&&Em(rb,t,{originalEvent:a},{discrete:!1})};return document.addEventListener("focusin",n),()=>document.removeEventListener("focusin",n)},[t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Tf(){const e=new CustomEvent(Ls);document.dispatchEvent(e)}function Em(e,t,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?wm(a,o):a.dispatchEvent(o)}let ss=0;function sb(){y.exports.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:Of()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:Of()),ss++,()=>{ss===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),ss--}},[])}function Of(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const us="focusScope.autoFocusOnMount",cs="focusScope.autoFocusOnUnmount",Cf={bubbles:!1,cancelable:!0},ub=y.exports.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...s}=e,[u,c]=y.exports.useState(null),l=sr(a),h=sr(o),g=y.exports.useRef(null),O=$t(t,_=>c(_)),C=y.exports.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.exports.useEffect(()=>{if(n){let _=function(v){if(C.paused||!u)return;const S=v.target;u.contains(S)?g.current=S:Ar(g.current,{select:!0})},R=function(v){C.paused||!u||u.contains(v.relatedTarget)||Ar(g.current,{select:!0})};return document.addEventListener("focusin",_),document.addEventListener("focusout",R),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",R)}}},[n,u,C.paused]),y.exports.useEffect(()=>{if(u){Nf.add(C);const _=document.activeElement;if(!u.contains(_)){const v=new CustomEvent(us,Cf);u.addEventListener(us,l),u.dispatchEvent(v),v.defaultPrevented||(cb(mb(Sm(u)),{select:!0}),document.activeElement===_&&Ar(u))}return()=>{u.removeEventListener(us,l),setTimeout(()=>{const v=new CustomEvent(cs,Cf);u.addEventListener(cs,h),u.dispatchEvent(v),v.defaultPrevented||Ar(_!=null?_:document.body,{select:!0}),u.removeEventListener(cs,h),Nf.remove(C)},0)}}},[u,l,h,C]);const w=y.exports.useCallback(_=>{if(!r&&!n||C.paused)return;const R=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,v=document.activeElement;if(R&&v){const S=_.currentTarget,[A,N]=lb(S);A&&N?!_.shiftKey&&v===N?(_.preventDefault(),r&&Ar(A,{select:!0})):_.shiftKey&&v===A&&(_.preventDefault(),r&&Ar(N,{select:!0})):v===S&&_.preventDefault()}},[r,n,C.paused]);return y.exports.createElement(Vt.div,Ge({tabIndex:-1},s,{ref:O,onKeyDown:w}))});function cb(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ar(n,{select:t}),document.activeElement!==r)return}function lb(e){const t=Sm(e),r=Rf(t,e),n=Rf(t.reverse(),e);return[r,n]}function Sm(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Rf(e,t){for(const r of e)if(!fb(r,{upTo:t}))return r}function fb(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function db(e){return e instanceof HTMLInputElement&&"select"in e}function Ar(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&db(e)&&t&&e.select()}}const Nf=pb();function pb(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Af(e,t),e.unshift(t)},remove(t){var r;e=Af(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function Af(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function mb(e){return e.filter(t=>t.tagName!=="A")}const an=Boolean(globalThis==null?void 0:globalThis.document)?y.exports.useLayoutEffect:()=>{},hb=Ly["useId".toString()]||(()=>{});let yb=0;function Us(e){const[t,r]=y.exports.useState(hb());return an(()=>{e||r(n=>n!=null?n:String(yb++))},[e]),e||(t?`radix-${t}`:"")}function mn(e){return e.split("-")[0]}function Li(e){return e.split("-")[1]}function hn(e){return["top","bottom"].includes(mn(e))?"x":"y"}function wl(e){return e==="y"?"height":"width"}function Pf(e,t,r){let{reference:n,floating:a}=e;const o=n.x+n.width/2-a.width/2,s=n.y+n.height/2-a.height/2,u=hn(t),c=wl(u),l=n[c]/2-a[c]/2,h=mn(t),g=u==="x";let O;switch(h){case"top":O={x:o,y:n.y-a.height};break;case"bottom":O={x:o,y:n.y+n.height};break;case"right":O={x:n.x+n.width,y:s};break;case"left":O={x:n.x-a.width,y:s};break;default:O={x:n.x,y:n.y}}switch(Li(t)){case"start":O[u]-=l*(r&&g?-1:1);break;case"end":O[u]+=l*(r&&g?-1:1);break}return O}const vb=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:s}=r,u=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:l,y:h}=Pf(c,n,u),g=n,O={},C=0;for(let w=0;w<o.length;w++){const{name:_,fn:R}=o[w],{x:v,y:S,data:A,reset:N}=await R({x:l,y:h,initialPlacement:n,placement:g,strategy:a,middlewareData:O,rects:c,platform:s,elements:{reference:e,floating:t}});if(l=v!=null?v:l,h=S!=null?S:h,O={...O,[_]:{...O[_],...A}},N&&C<=50){C++,typeof N=="object"&&(N.placement&&(g=N.placement),N.rects&&(c=N.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:l,y:h}=Pf(c,g,u)),w=-1;continue}}return{x:l,y:h,placement:g,strategy:a,middlewareData:O}};function gb(e){return{top:0,right:0,bottom:0,left:0,...e}}function Tm(e){return typeof e!="number"?gb(e):{top:e,right:e,bottom:e,left:e}}function ho(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function yo(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:o,rects:s,elements:u,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:O=!1,padding:C=0}=t,w=Tm(C),R=u[O?g==="floating"?"reference":"floating":g],v=ho(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(R)))==null||r?R:R.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:l,rootBoundary:h,strategy:c})),S=ho(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:g==="floating"?{...s.floating,x:n,y:a}:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),strategy:c}):s[g]);return{top:v.top-S.top+w.top,bottom:S.bottom-v.bottom+w.bottom,left:v.left-S.left+w.left,right:S.right-v.right+w.right}}const bb=Math.min,wb=Math.max;function qs(e,t,r){return wb(e,bb(t,r))}const Df=e=>({name:"arrow",options:e,async fn(t){const{element:r,padding:n=0}=e!=null?e:{},{x:a,y:o,placement:s,rects:u,platform:c}=t;if(r==null)return{};const l=Tm(n),h={x:a,y:o},g=hn(s),O=Li(s),C=wl(g),w=await c.getDimensions(r),_=g==="y"?"top":"left",R=g==="y"?"bottom":"right",v=u.reference[C]+u.reference[g]-h[g]-u.floating[C],S=h[g]-u.reference[g],A=await(c.getOffsetParent==null?void 0:c.getOffsetParent(r));let N=A?g==="y"?A.clientHeight||0:A.clientWidth||0:0;N===0&&(N=u.floating[C]);const $=v/2-S/2,I=l[_],V=N-w[C]-l[R],L=N/2-w[C]/2+$,P=qs(I,L,V),ce=(O==="start"?l[_]:l[R])>0&&L!==P&&u.reference[C]<=u.floating[C]?L<I?I-L:V-L:0;return{[g]:h[g]-ce,data:{[g]:P,centerOffset:L-P}}}}),xb={left:"right",right:"left",bottom:"top",top:"bottom"};function vo(e){return e.replace(/left|right|bottom|top/g,t=>xb[t])}function _b(e,t,r){r===void 0&&(r=!1);const n=Li(e),a=hn(e),o=wl(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=vo(s)),{main:s,cross:vo(s)}}const Eb={start:"end",end:"start"};function $f(e){return e.replace(/start|end/g,t=>Eb[t])}const Sb=["top","right","bottom","left"];function Tb(e){const t=vo(e);return[$f(e),t,$f(t)]}const Ob=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r;const{placement:n,middlewareData:a,rects:o,initialPlacement:s,platform:u,elements:c}=t,{mainAxis:l=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:O="bestFit",flipAlignment:C=!0,...w}=e,_=mn(n),v=g||(_===s||!C?[vo(s)]:Tb(s)),S=[s,...v],A=await yo(t,w),N=[];let $=((r=a.flip)==null?void 0:r.overflows)||[];if(l&&N.push(A[_]),h){const{main:P,cross:j}=_b(n,o,await(u.isRTL==null?void 0:u.isRTL(c.floating)));N.push(A[P],A[j])}if($=[...$,{placement:n,overflows:N}],!N.every(P=>P<=0)){var I,V;const P=((I=(V=a.flip)==null?void 0:V.index)!=null?I:0)+1,j=S[P];if(j)return{data:{index:P,overflows:$},reset:{placement:j}};let K="bottom";switch(O){case"bestFit":{var L;const ce=(L=$.map(ae=>[ae,ae.overflows.filter(le=>le>0).reduce((le,ge)=>le+ge,0)]).sort((ae,le)=>ae[1]-le[1])[0])==null?void 0:L[0].placement;ce&&(K=ce);break}case"initialPlacement":K=s;break}if(n!==K)return{reset:{placement:K}}}return{}}}};function If(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Mf(e){return Sb.some(t=>e[t]>=0)}const Cb=function(e){let{strategy:t="referenceHidden",...r}=e===void 0?{}:e;return{name:"hide",async fn(n){const{rects:a}=n;switch(t){case"referenceHidden":{const o=await yo(n,{...r,elementContext:"reference"}),s=If(o,a.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Mf(s)}}}case"escaped":{const o=await yo(n,{...r,altBoundary:!0}),s=If(o,a.floating);return{data:{escapedOffsets:s,escaped:Mf(s)}}}default:return{}}}}};async function Rb(e,t){const{placement:r,platform:n,elements:a}=e,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=mn(r),u=Li(r),c=hn(r)==="x",l=["left","top"].includes(s)?-1:1,h=o&&c?-1:1,g=typeof t=="function"?t(e):t;let{mainAxis:O,crossAxis:C,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...g};return u&&typeof w=="number"&&(C=u==="end"?w*-1:w),c?{x:C*h,y:O*l}:{x:O*l,y:C*h}}const Nb=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:r,y:n}=t,a=await Rb(t,e);return{x:r+a.x,y:n+a.y,data:a}}}};function Om(e){return e==="x"?"y":"x"}const Ab=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:u={fn:R=>{let{x:v,y:S}=R;return{x:v,y:S}}},...c}=e,l={x:r,y:n},h=await yo(t,c),g=hn(mn(a)),O=Om(g);let C=l[g],w=l[O];if(o){const R=g==="y"?"top":"left",v=g==="y"?"bottom":"right",S=C+h[R],A=C-h[v];C=qs(S,C,A)}if(s){const R=O==="y"?"top":"left",v=O==="y"?"bottom":"right",S=w+h[R],A=w-h[v];w=qs(S,w,A)}const _=u.fn({...t,[g]:C,[O]:w});return{..._,data:{x:_.x-r,y:_.y-n}}}}},Pb=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:o,middlewareData:s}=t,{offset:u=0,mainAxis:c=!0,crossAxis:l=!0}=e,h={x:r,y:n},g=hn(a),O=Om(g);let C=h[g],w=h[O];const _=typeof u=="function"?u({...o,placement:a}):u,R=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(c){const $=g==="y"?"height":"width",I=o.reference[g]-o.floating[$]+R.mainAxis,V=o.reference[g]+o.reference[$]-R.mainAxis;C<I?C=I:C>V&&(C=V)}if(l){var v,S,A,N;const $=g==="y"?"width":"height",I=["top","left"].includes(mn(a)),V=o.reference[O]-o.floating[$]+(I&&(v=(S=s.offset)==null?void 0:S[O])!=null?v:0)+(I?0:R.crossAxis),L=o.reference[O]+o.reference[$]+(I?0:(A=(N=s.offset)==null?void 0:N[O])!=null?A:0)-(I?R.crossAxis:0);w<V?w=V:w>L&&(w=L)}return{[g]:C,[O]:w}}}};function Cm(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function yr(e){if(e==null)return window;if(!Cm(e)){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function Gn(e){return yr(e).getComputedStyle(e)}function ur(e){return Cm(e)?"":e?(e.nodeName||"").toLowerCase():""}function Rm(){const e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(t=>t.brand+"/"+t.version).join(" "):navigator.userAgent}function Kt(e){return e instanceof yr(e).HTMLElement}function Tr(e){return e instanceof yr(e).Element}function Db(e){return e instanceof yr(e).Node}function xl(e){if(typeof ShadowRoot>"u")return!1;const t=yr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Ui(e){const{overflow:t,overflowX:r,overflowY:n}=Gn(e);return/auto|scroll|overlay|hidden/.test(t+n+r)}function $b(e){return["table","td","th"].includes(ur(e))}function Nm(e){const t=/firefox/i.test(Rm()),r=Gn(e);return r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].includes(r.willChange)||t&&r.willChange==="filter"||t&&(r.filter?r.filter!=="none":!1)}function Am(){return!/^((?!chrome|android).)*safari/i.test(Rm())}const Ff=Math.min,Nn=Math.max,go=Math.round;function cr(e,t,r){var n,a,o,s;t===void 0&&(t=!1),r===void 0&&(r=!1);const u=e.getBoundingClientRect();let c=1,l=1;t&&Kt(e)&&(c=e.offsetWidth>0&&go(u.width)/e.offsetWidth||1,l=e.offsetHeight>0&&go(u.height)/e.offsetHeight||1);const h=Tr(e)?yr(e):window,g=!Am()&&r,O=(u.left+(g&&(n=(a=h.visualViewport)==null?void 0:a.offsetLeft)!=null?n:0))/c,C=(u.top+(g&&(o=(s=h.visualViewport)==null?void 0:s.offsetTop)!=null?o:0))/l,w=u.width/c,_=u.height/l;return{width:w,height:_,top:C,right:O+w,bottom:C+_,left:O,x:O,y:C}}function Cr(e){return((Db(e)?e.ownerDocument:e.document)||window.document).documentElement}function qi(e){return Tr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Pm(e){return cr(Cr(e)).left+qi(e).scrollLeft}function Ib(e){const t=cr(e);return go(t.width)!==e.offsetWidth||go(t.height)!==e.offsetHeight}function Mb(e,t,r){const n=Kt(t),a=Cr(t),o=cr(e,n&&Ib(t),r==="fixed");let s={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if(n||!n&&r!=="fixed")if((ur(t)!=="body"||Ui(a))&&(s=qi(t)),Kt(t)){const c=cr(t,!0);u.x=c.x+t.clientLeft,u.y=c.y+t.clientTop}else a&&(u.x=Pm(a));return{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function Dm(e){return ur(e)==="html"?e:e.assignedSlot||e.parentNode||(xl(e)?e.host:null)||Cr(e)}function kf(e){return!Kt(e)||getComputedStyle(e).position==="fixed"?null:e.offsetParent}function Fb(e){let t=Dm(e);for(xl(t)&&(t=t.host);Kt(t)&&!["html","body"].includes(ur(t));){if(Nm(t))return t;t=t.parentNode}return null}function Vs(e){const t=yr(e);let r=kf(e);for(;r&&$b(r)&&getComputedStyle(r).position==="static";)r=kf(r);return r&&(ur(r)==="html"||ur(r)==="body"&&getComputedStyle(r).position==="static"&&!Nm(r))?t:r||Fb(e)||t}function Bf(e){if(Kt(e))return{width:e.offsetWidth,height:e.offsetHeight};const t=cr(e);return{width:t.width,height:t.height}}function kb(e){let{rect:t,offsetParent:r,strategy:n}=e;const a=Kt(r),o=Cr(r);if(r===o)return t;let s={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if((a||!a&&n!=="fixed")&&((ur(r)!=="body"||Ui(o))&&(s=qi(r)),Kt(r))){const c=cr(r,!0);u.x=c.x+r.clientLeft,u.y=c.y+r.clientTop}return{...t,x:t.x-s.scrollLeft+u.x,y:t.y-s.scrollTop+u.y}}function Bb(e,t){const r=yr(e),n=Cr(e),a=r.visualViewport;let o=n.clientWidth,s=n.clientHeight,u=0,c=0;if(a){o=a.width,s=a.height;const l=Am();(l||!l&&t==="fixed")&&(u=a.offsetLeft,c=a.offsetTop)}return{width:o,height:s,x:u,y:c}}function Lb(e){var t;const r=Cr(e),n=qi(e),a=(t=e.ownerDocument)==null?void 0:t.body,o=Nn(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=Nn(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let u=-n.scrollLeft+Pm(e);const c=-n.scrollTop;return Gn(a||r).direction==="rtl"&&(u+=Nn(r.clientWidth,a?a.clientWidth:0)-o),{width:o,height:s,x:u,y:c}}function $m(e){const t=Dm(e);return["html","body","#document"].includes(ur(t))?e.ownerDocument.body:Kt(t)&&Ui(t)?t:$m(t)}function bo(e,t){var r;t===void 0&&(t=[]);const n=$m(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),o=yr(n),s=a?[o].concat(o.visualViewport||[],Ui(n)?n:[]):n,u=t.concat(s);return a?u:u.concat(bo(s))}function Ub(e,t){const r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&xl(r)){let n=t;do{if(n&&e===n)return!0;n=n.parentNode||n.host}while(n)}return!1}function qb(e,t){const r=cr(e,!1,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft;return{top:n,left:a,x:a,y:n,right:a+e.clientWidth,bottom:n+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}function Lf(e,t,r){return t==="viewport"?ho(Bb(e,r)):Tr(t)?qb(t,r):ho(Lb(Cr(e)))}function Vb(e){const t=bo(e),n=["absolute","fixed"].includes(Gn(e).position)&&Kt(e)?Vs(e):e;return Tr(n)?t.filter(a=>Tr(a)&&Ub(a,n)&&ur(a)!=="body"):[]}function jb(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[...r==="clippingAncestors"?Vb(t):[].concat(r),n],u=s[0],c=s.reduce((l,h)=>{const g=Lf(t,h,a);return l.top=Nn(g.top,l.top),l.right=Ff(g.right,l.right),l.bottom=Ff(g.bottom,l.bottom),l.left=Nn(g.left,l.left),l},Lf(t,u,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}const Hb={getClippingRect:jb,convertOffsetParentRelativeRectToViewportRelativeRect:kb,isElement:Tr,getDimensions:Bf,getOffsetParent:Vs,getDocumentElement:Cr,getElementRects:e=>{let{reference:t,floating:r,strategy:n}=e;return{reference:Mb(t,Vs(r),n),floating:{...Bf(r),x:0,y:0}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Gn(e).direction==="rtl"};function zb(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:s=!0,animationFrame:u=!1}=n,c=a&&!u,l=o&&!u,h=c||l?[...Tr(e)?bo(e):[],...bo(t)]:[];h.forEach(_=>{c&&_.addEventListener("scroll",r,{passive:!0}),l&&_.addEventListener("resize",r)});let g=null;if(s){let _=!0;g=new ResizeObserver(()=>{_||r(),_=!1}),Tr(e)&&!u&&g.observe(e),g.observe(t)}let O,C=u?cr(e):null;u&&w();function w(){const _=cr(e);C&&(_.x!==C.x||_.y!==C.y||_.width!==C.width||_.height!==C.height)&&r(),C=_,O=requestAnimationFrame(w)}return r(),()=>{var _;h.forEach(R=>{c&&R.removeEventListener("scroll",r),l&&R.removeEventListener("resize",r)}),(_=g)==null||_.disconnect(),g=null,u&&cancelAnimationFrame(O)}}const Wb=(e,t,r)=>vb(e,t,{platform:Hb,...r});var js=typeof document<"u"?y.exports.useLayoutEffect:y.exports.useEffect;function Hs(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!Hs(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const o=a[n];if(!(o==="_owner"&&e.$$typeof)&&!Hs(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Yb(e){const t=y.exports.useRef(e);return js(()=>{t.current=e}),t}function Gb(e){let{middleware:t,placement:r="bottom",strategy:n="absolute",whileElementsMounted:a}=e===void 0?{}:e;const o=y.exports.useRef(null),s=y.exports.useRef(null),u=Yb(a),c=y.exports.useRef(null),[l,h]=y.exports.useState({x:null,y:null,strategy:n,placement:r,middlewareData:{}}),[g,O]=y.exports.useState(t);Hs(g==null?void 0:g.map(A=>{let{options:N}=A;return N}),t==null?void 0:t.map(A=>{let{options:N}=A;return N}))||O(t);const C=y.exports.useCallback(()=>{!o.current||!s.current||Wb(o.current,s.current,{middleware:g,placement:r,strategy:n}).then(A=>{w.current&&cl.exports.flushSync(()=>{h(A)})})},[g,r,n]);js(()=>{w.current&&C()},[C]);const w=y.exports.useRef(!1);js(()=>(w.current=!0,()=>{w.current=!1}),[]);const _=y.exports.useCallback(()=>{if(typeof c.current=="function"&&(c.current(),c.current=null),o.current&&s.current)if(u.current){const A=u.current(o.current,s.current,C);c.current=A}else C()},[C,u]),R=y.exports.useCallback(A=>{o.current=A,_()},[_]),v=y.exports.useCallback(A=>{s.current=A,_()},[_]),S=y.exports.useMemo(()=>({reference:o,floating:s}),[]);return y.exports.useMemo(()=>({...l,update:C,refs:S,reference:R,floating:v}),[l,C,S,R,v])}const Qb=e=>{const{element:t,padding:r}=e;function n(a){return Object.prototype.hasOwnProperty.call(a,"current")}return{name:"arrow",options:e,fn(a){return n(t)?t.current!=null?Df({element:t.current,padding:r}).fn(a):{}:t?Df({element:t,padding:r}).fn(a):{}}}},Zb=y.exports.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...o}=e;return y.exports.createElement(Vt.svg,Ge({},o,{ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?r:y.exports.createElement("polygon",{points:"0,0 30,0 15,10"}))}),Xb=Zb;function Kb(e){const[t,r]=y.exports.useState(void 0);return an(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let s,u;if("borderBoxSize"in o){const c=o.borderBoxSize,l=Array.isArray(c)?c[0]:c;s=l.inlineSize,u=l.blockSize}else s=e.offsetWidth,u=e.offsetHeight;r({width:s,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}const Im="Popper",[_l,Mm]=Yn(Im),[Jb,Fm]=_l(Im),ew=e=>{const{__scopePopper:t,children:r}=e,[n,a]=y.exports.useState(null);return y.exports.createElement(Jb,{scope:t,anchor:n,onAnchorChange:a},r)},tw="PopperAnchor",rw=y.exports.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,o=Fm(tw,r),s=y.exports.useRef(null),u=$t(t,s);return y.exports.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:y.exports.createElement(Vt.div,Ge({},a,{ref:u}))}),wo="PopperContent",[nw,aw]=_l(wo),[ow,iw]=_l(wo,{hasParent:!1,positionUpdateFns:new Set}),sw=y.exports.forwardRef((e,t)=>{var r,n,a,o,s,u,c,l;const{__scopePopper:h,side:g="bottom",sideOffset:O=0,align:C="center",alignOffset:w=0,arrowPadding:_=0,collisionBoundary:R=[],collisionPadding:v=0,sticky:S="partial",hideWhenDetached:A=!1,avoidCollisions:N=!0,...$}=e,I=Fm(wo,h),[V,L]=y.exports.useState(null),P=$t(t,k=>L(k)),[j,K]=y.exports.useState(null),ce=Kb(j),ae=(r=ce==null?void 0:ce.width)!==null&&r!==void 0?r:0,le=(n=ce==null?void 0:ce.height)!==null&&n!==void 0?n:0,ge=g+(C!=="center"?"-"+C:""),xe=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},Ce=Array.isArray(R)?R:[R],ye=Ce.length>0,Re={padding:xe,boundary:Ce.filter(dw),altBoundary:ye},{reference:pe,floating:oe,strategy:X,x:Ze,y:$e,placement:ze,middlewareData:me,update:Q}=Gb({strategy:"fixed",placement:ge,whileElementsMounted:zb,middleware:[Nb({mainAxis:O+le,alignmentAxis:w}),N?Ab({mainAxis:!0,crossAxis:!1,limiter:S==="partial"?Pb():void 0,...Re}):void 0,j?Qb({element:j,padding:_}):void 0,N?Ob({...Re}):void 0,pw({arrowWidth:ae,arrowHeight:le}),A?Cb({strategy:"referenceHidden"}):void 0].filter(fw)});an(()=>{pe(I.anchor)},[pe,I.anchor]);const Y=Ze!==null&&$e!==null,[re,Ae]=km(ze),Te=(a=me.arrow)===null||a===void 0?void 0:a.x,ne=(o=me.arrow)===null||o===void 0?void 0:o.y,ee=((s=me.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[ft,Ct]=y.exports.useState();an(()=>{V&&Ct(window.getComputedStyle(V).zIndex)},[V]);const{hasParent:b,positionUpdateFns:d}=iw(wo,h),m=!b;y.exports.useLayoutEffect(()=>{if(!m)return d.add(Q),()=>{d.delete(Q)}},[m,d,Q]),y.exports.useLayoutEffect(()=>{m&&Y&&Array.from(d).reverse().forEach(k=>requestAnimationFrame(k))},[m,Y,d]);const x={"data-side":re,"data-align":Ae,...$,ref:P,style:{...$.style,animation:Y?void 0:"none",opacity:(u=me.hide)!==null&&u!==void 0&&u.referenceHidden?0:void 0}};return y.exports.createElement("div",{ref:oe,"data-radix-popper-content-wrapper":"",style:{position:X,left:0,top:0,transform:Y?`translate3d(${Math.round(Ze)}px, ${Math.round($e)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:ft,["--radix-popper-transform-origin"]:[(c=me.transformOrigin)===null||c===void 0?void 0:c.x,(l=me.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")}},y.exports.createElement(nw,{scope:h,placedSide:re,onArrowChange:K,arrowX:Te,arrowY:ne,shouldHideArrow:ee},m?y.exports.createElement(ow,{scope:h,hasParent:!0,positionUpdateFns:d},y.exports.createElement(Vt.div,x)):y.exports.createElement(Vt.div,x)))}),uw="PopperArrow",cw={top:"bottom",right:"left",bottom:"top",left:"right"},lw=y.exports.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,o=aw(uw,n),s=cw[o.placedSide];return y.exports.createElement("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0}},y.exports.createElement(Xb,Ge({},a,{ref:r,style:{...a.style,display:"block"}})))});function fw(e){return e!==void 0}function dw(e){return e!==null}const pw=e=>({name:"transformOrigin",options:e,fn(t){var r,n,a,o,s;const{placement:u,rects:c,middlewareData:l}=t,g=((r=l.arrow)===null||r===void 0?void 0:r.centerOffset)!==0,O=g?0:e.arrowWidth,C=g?0:e.arrowHeight,[w,_]=km(u),R={start:"0%",center:"50%",end:"100%"}[_],v=((n=(a=l.arrow)===null||a===void 0?void 0:a.x)!==null&&n!==void 0?n:0)+O/2,S=((o=(s=l.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+C/2;let A="",N="";return w==="bottom"?(A=g?R:`${v}px`,N=`${-C}px`):w==="top"?(A=g?R:`${v}px`,N=`${c.floating.height+C}px`):w==="right"?(A=`${-C}px`,N=g?R:`${S}px`):w==="left"&&(A=`${c.floating.width+C}px`,N=g?R:`${S}px`),{data:{x:A,y:N}}}});function km(e){const[t,r="center"]=e.split("-");return[t,r]}const mw=ew,hw=rw,yw=sw,vw=lw,gw=y.exports.forwardRef((e,t)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...a}=e;return n?uv.createPortal(y.exports.createElement(Vt.div,Ge({},a,{ref:t})),n):null});function bw(e,t){return y.exports.useReducer((r,n)=>{const a=t[r][n];return a!=null?a:r},e)}const El=e=>{const{present:t,children:r}=e,n=ww(t),a=typeof r=="function"?r({present:n.isPresent}):y.exports.Children.only(r),o=$t(n.ref,a.ref);return typeof r=="function"||n.isPresent?y.exports.cloneElement(a,{ref:o}):null};El.displayName="Presence";function ww(e){const[t,r]=y.exports.useState(),n=y.exports.useRef({}),a=y.exports.useRef(e),o=y.exports.useRef("none"),s=e?"mounted":"unmounted",[u,c]=bw(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.exports.useEffect(()=>{const l=oa(n.current);o.current=u==="mounted"?l:"none"},[u]),an(()=>{const l=n.current,h=a.current;if(h!==e){const O=o.current,C=oa(l);e?c("MOUNT"):C==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(h&&O!==C?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),an(()=>{if(t){const l=g=>{const C=oa(n.current).includes(g.animationName);g.target===t&&C&&cl.exports.flushSync(()=>c("ANIMATION_END"))},h=g=>{g.target===t&&(o.current=oa(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",l),t.addEventListener("animationend",l),()=>{t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",l),t.removeEventListener("animationend",l)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:y.exports.useCallback(l=>{l&&(n.current=getComputedStyle(l)),r(l)},[])}}function oa(e){return(e==null?void 0:e.animationName)||"none"}const ls="rovingFocusGroup.onEntryFocus",xw={bubbles:!1,cancelable:!0},Sl="RovingFocusGroup",[zs,Bm,_w]=xm(Sl),[Ew,Lm]=Yn(Sl,[_w]),[Sw,Tw]=Ew(Sl),Ow=y.exports.forwardRef((e,t)=>y.exports.createElement(zs.Provider,{scope:e.__scopeRovingFocusGroup},y.exports.createElement(zs.Slot,{scope:e.__scopeRovingFocusGroup},y.exports.createElement(Cw,Ge({},e,{ref:t}))))),Cw=y.exports.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:c,onEntryFocus:l,...h}=e,g=y.exports.useRef(null),O=$t(t,g),C=_m(o),[w=null,_]=bm({prop:s,defaultProp:u,onChange:c}),[R,v]=y.exports.useState(!1),S=sr(l),A=Bm(r),N=y.exports.useRef(!1);return y.exports.useEffect(()=>{const $=g.current;if($)return $.addEventListener(ls,S),()=>$.removeEventListener(ls,S)},[S]),y.exports.createElement(Sw,{scope:r,orientation:n,dir:C,loop:a,currentTabStopId:w,onItemFocus:y.exports.useCallback($=>_($),[_]),onItemShiftTab:y.exports.useCallback(()=>v(!0),[])},y.exports.createElement(Vt.div,Ge({tabIndex:R?-1:0,"data-orientation":n},h,{ref:O,style:{outline:"none",...e.style},onMouseDown:tt(e.onMouseDown,()=>{N.current=!0}),onFocus:tt(e.onFocus,$=>{const I=!N.current;if($.target===$.currentTarget&&I&&!R){const V=new CustomEvent(ls,xw);if($.currentTarget.dispatchEvent(V),!V.defaultPrevented){const L=A().filter(ae=>ae.focusable),P=L.find(ae=>ae.active),j=L.find(ae=>ae.id===w),ce=[P,j,...L].filter(Boolean).map(ae=>ae.ref.current);Um(ce)}}N.current=!1}),onBlur:tt(e.onBlur,()=>v(!1))})))}),Rw="RovingFocusGroupItem",Nw=y.exports.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,...o}=e,s=Us(),u=Tw(Rw,r),c=u.currentTabStopId===s,l=Bm(r);return y.exports.createElement(zs.ItemSlot,{scope:r,id:s,focusable:n,active:a},y.exports.createElement(Vt.span,Ge({tabIndex:c?0:-1,"data-orientation":u.orientation},o,{ref:t,onMouseDown:tt(e.onMouseDown,h=>{n?u.onItemFocus(s):h.preventDefault()}),onFocus:tt(e.onFocus,()=>u.onItemFocus(s)),onKeyDown:tt(e.onKeyDown,h=>{if(h.key==="Tab"&&h.shiftKey){u.onItemShiftTab();return}if(h.target!==h.currentTarget)return;const g=Dw(h,u.orientation,u.dir);if(g!==void 0){h.preventDefault();let C=l().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")C.reverse();else if(g==="prev"||g==="next"){g==="prev"&&C.reverse();const w=C.indexOf(h.currentTarget);C=u.loop?$w(C,w+1):C.slice(w+1)}setTimeout(()=>Um(C))}})})))}),Aw={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Pw(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Dw(e,t,r){const n=Pw(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Aw[n]}function Um(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function $w(e,t){return e.map((r,n)=>e[(t+n)%e.length])}const Iw=Ow,Mw=Nw;var Fw=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zr=new WeakMap,ia=new WeakMap,sa={},fs=0,kw=function(e,t,r,n){var a=Array.isArray(e)?e:[e];sa[r]||(sa[r]=new WeakMap);var o=sa[r],s=[],u=new Set,c=new Set(a),l=function(g){!g||u.has(g)||(u.add(g),l(g.parentNode))};a.forEach(l);var h=function(g){!g||c.has(g)||Array.prototype.forEach.call(g.children,function(O){if(u.has(O))h(O);else{var C=O.getAttribute(n),w=C!==null&&C!=="false",_=(zr.get(O)||0)+1,R=(o.get(O)||0)+1;zr.set(O,_),o.set(O,R),s.push(O),_===1&&w&&ia.set(O,!0),R===1&&O.setAttribute(r,"true"),w||O.setAttribute(n,"true")}})};return h(t),u.clear(),fs++,function(){s.forEach(function(g){var O=zr.get(g)-1,C=o.get(g)-1;zr.set(g,O),o.set(g,C),O||(ia.has(g)||g.removeAttribute(n),ia.delete(g)),C||g.removeAttribute(r)}),fs--,fs||(zr=new WeakMap,zr=new WeakMap,ia=new WeakMap,sa={})}},Bw=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||Fw(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),kw(n,a,r,"aria-hidden")):function(){return null}},Gt=function(){return Gt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Gt.apply(this,arguments)};function qm(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Lw(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var xa="right-scroll-bar-position",_a="width-before-scroll-bar",Uw="with-scroll-bars-hidden",qw="--removed-body-scroll-bar-size";function Vw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function jw(e,t){var r=y.exports.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}function Hw(e,t){return jw(t||null,function(r){return e.forEach(function(n){return Vw(n,r)})})}function zw(e){return e}function Ww(e,t){t===void 0&&(t=zw);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var s=t(o,n);return r.push(s),function(){r=r.filter(function(u){return u!==s})}},assignSyncMedium:function(o){for(n=!0;r.length;){var s=r;r=[],s.forEach(o)}r={push:function(u){return o(u)},filter:function(){return r}}},assignMedium:function(o){n=!0;var s=[];if(r.length){var u=r;r=[],u.forEach(o),s=r}var c=function(){var h=s;s=[],h.forEach(o)},l=function(){return Promise.resolve().then(c)};l(),r={push:function(h){s.push(h),l()},filter:function(h){return s=s.filter(h),r}}}};return a}function Yw(e){e===void 0&&(e={});var t=Ww(null);return t.options=Gt({async:!0,ssr:!1},e),t}var Vm=function(e){var t=e.sideCar,r=qm(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.exports.createElement(n,Gt({},r))};Vm.isSideCarExport=!0;function Gw(e,t){return e.useMedium(t),Vm}var jm=Yw(),ds=function(){},Vi=y.exports.forwardRef(function(e,t){var r=y.exports.useRef(null),n=y.exports.useState({onScrollCapture:ds,onWheelCapture:ds,onTouchMoveCapture:ds}),a=n[0],o=n[1],s=e.forwardProps,u=e.children,c=e.className,l=e.removeScrollBar,h=e.enabled,g=e.shards,O=e.sideCar,C=e.noIsolation,w=e.inert,_=e.allowPinchZoom,R=e.as,v=R===void 0?"div":R,S=qm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),A=O,N=Hw([r,t]),$=Gt(Gt({},S),a);return y.exports.createElement(y.exports.Fragment,null,h&&y.exports.createElement(A,{sideCar:jm,removeScrollBar:l,shards:g,noIsolation:C,inert:w,setCallbacks:o,allowPinchZoom:!!_,lockRef:r}),s?y.exports.cloneElement(y.exports.Children.only(u),Gt(Gt({},$),{ref:N})):y.exports.createElement(v,Gt({},$,{className:c,ref:N}),u))});Vi.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vi.classNames={fullWidth:_a,zeroRight:xa};var Qw=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Zw(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Qw();return t&&e.setAttribute("nonce",t),e}function Xw(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Kw(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Jw=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Zw())&&(Xw(t,r),Kw(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ex=function(){var e=Jw();return function(t,r){y.exports.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Hm=function(){var e=ex(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},tx={left:0,top:0,right:0,gap:0},ps=function(e){return parseInt(e||"",10)||0},rx=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ps(r),ps(n),ps(a)]},nx=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return tx;var t=rx(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},ax=Hm(),ox=function(e,t,r,n){var a=e.left,o=e.top,s=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Uw,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xa,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(_a,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(xa," .").concat(xa,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(_a," .").concat(_a,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body {
    `).concat(qw,": ").concat(u,`px;
  }
`)},ix=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n,o=y.exports.useMemo(function(){return nx(a)},[a]);return y.exports.createElement(ax,{styles:ox(o,!t,a,r?"":"!important")})},Ws=!1;if(typeof window<"u")try{var ua=Object.defineProperty({},"passive",{get:function(){return Ws=!0,!0}});window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{Ws=!1}var Wr=Ws?{passive:!1}:!1,sx=function(e){var t=window.getComputedStyle(e);return t.overflowY!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowY==="visible")},ux=function(e){var t=window.getComputedStyle(e);return t.overflowX!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowX==="visible")},Uf=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=zm(e,r);if(n){var a=Wm(e,r),o=a[1],s=a[2];if(o>s)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},cx=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},lx=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},zm=function(e,t){return e==="v"?sx(t):ux(t)},Wm=function(e,t){return e==="v"?cx(t):lx(t)},fx=function(e,t){return e==="h"&&t==="rtl"?-1:1},dx=function(e,t,r,n,a){var o=fx(e,window.getComputedStyle(t).direction),s=o*n,u=r.target,c=t.contains(u),l=!1,h=s>0,g=0,O=0;do{var C=Wm(e,u),w=C[0],_=C[1],R=C[2],v=_-R-o*w;(w||v)&&zm(e,u)&&(g+=v,O+=w),u=u.parentNode}while(!c&&u!==document.body||c&&(t.contains(u)||t===u));return(h&&(a&&g===0||!a&&s>g)||!h&&(a&&O===0||!a&&-s>O))&&(l=!0),l},ca=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qf=function(e){return[e.deltaX,e.deltaY]},Vf=function(e){return e&&"current"in e?e.current:e},px=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mx=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},hx=0,Yr=[];function yx(e){var t=y.exports.useRef([]),r=y.exports.useRef([0,0]),n=y.exports.useRef(),a=y.exports.useState(hx++)[0],o=y.exports.useState(function(){return Hm()})[0],s=y.exports.useRef(e);y.exports.useEffect(function(){s.current=e},[e]),y.exports.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var _=Lw([e.lockRef.current],(e.shards||[]).map(Vf),!0).filter(Boolean);return _.forEach(function(R){return R.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),_.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=y.exports.useCallback(function(_,R){if("touches"in _&&_.touches.length===2)return!s.current.allowPinchZoom;var v=ca(_),S=r.current,A="deltaX"in _?_.deltaX:S[0]-v[0],N="deltaY"in _?_.deltaY:S[1]-v[1],$,I=_.target,V=Math.abs(A)>Math.abs(N)?"h":"v";if("touches"in _&&V==="h"&&I.type==="range")return!1;var L=Uf(V,I);if(!L)return!0;if(L?$=V:($=V==="v"?"h":"v",L=Uf(V,I)),!L)return!1;if(!n.current&&"changedTouches"in _&&(A||N)&&(n.current=$),!$)return!0;var P=n.current||$;return dx(P,R,_,P==="h"?A:N,!0)},[]),c=y.exports.useCallback(function(_){var R=_;if(!(!Yr.length||Yr[Yr.length-1]!==o)){var v="deltaY"in R?qf(R):ca(R),S=t.current.filter(function($){return $.name===R.type&&$.target===R.target&&px($.delta,v)})[0];if(S&&S.should){R.preventDefault();return}if(!S){var A=(s.current.shards||[]).map(Vf).filter(Boolean).filter(function($){return $.contains(R.target)}),N=A.length>0?u(R,A[0]):!s.current.noIsolation;N&&R.preventDefault()}}},[]),l=y.exports.useCallback(function(_,R,v,S){var A={name:_,delta:R,target:v,should:S};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(N){return N!==A})},1)},[]),h=y.exports.useCallback(function(_){r.current=ca(_),n.current=void 0},[]),g=y.exports.useCallback(function(_){l(_.type,qf(_),_.target,u(_,e.lockRef.current))},[]),O=y.exports.useCallback(function(_){l(_.type,ca(_),_.target,u(_,e.lockRef.current))},[]);y.exports.useEffect(function(){return Yr.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:O}),document.addEventListener("wheel",c,Wr),document.addEventListener("touchmove",c,Wr),document.addEventListener("touchstart",h,Wr),function(){Yr=Yr.filter(function(_){return _!==o}),document.removeEventListener("wheel",c,Wr),document.removeEventListener("touchmove",c,Wr),document.removeEventListener("touchstart",h,Wr)}},[]);var C=e.removeScrollBar,w=e.inert;return y.exports.createElement(y.exports.Fragment,null,w?y.exports.createElement(o,{styles:mx(a)}):null,C?y.exports.createElement(ix,{gapMode:"margin"}):null)}const vx=Gw(jm,yx);var Ym=y.exports.forwardRef(function(e,t){return y.exports.createElement(Vi,Gt({},e,{ref:t,sideCar:vx}))});Ym.classNames=Vi.classNames;const gx=Ym,bx=["Enter"," "],wx=["ArrowDown","PageUp","Home"],Gm=["ArrowUp","PageDown","End"],xx=[...wx,...Gm],ji="Menu",[Ys,_x,Ex]=xm(ji),[Vr,Qm]=Yn(ji,[Ex,Mm,Lm]),Hi=Mm(),Zm=Lm(),[Sx,Qn]=Vr(ji),[Tx,Tl]=Vr(ji),Ox=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:o,modal:s=!0}=e,u=Hi(t),[c,l]=y.exports.useState(null),h=y.exports.useRef(!1),g=sr(o),O=_m(a);return y.exports.useEffect(()=>{const C=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),y.exports.createElement(mw,u,y.exports.createElement(Sx,{scope:t,open:r,onOpenChange:g,content:c,onContentChange:l},y.exports.createElement(Tx,{scope:t,onClose:y.exports.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:h,dir:O,modal:s},n)))},Cx=y.exports.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Hi(r);return y.exports.createElement(hw,Ge({},a,n,{ref:t}))}),Xm="MenuPortal",[Rx,Nx]=Vr(Xm,{forceMount:void 0}),Ax=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,o=Qn(Xm,t);return y.exports.createElement(Rx,{scope:t,forceMount:r},y.exports.createElement(El,{present:r||o.open},y.exports.createElement(gw,{asChild:!0,container:a},n)))},Er="MenuContent",[Px,Km]=Vr(Er),Dx=y.exports.forwardRef((e,t)=>{const r=Nx(Er,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,o=Qn(Er,e.__scopeMenu),s=Tl(Er,e.__scopeMenu);return y.exports.createElement(Ys.Provider,{scope:e.__scopeMenu},y.exports.createElement(El,{present:n||o.open},y.exports.createElement(Ys.Slot,{scope:e.__scopeMenu},s.modal?y.exports.createElement($x,Ge({},a,{ref:t})):y.exports.createElement(Ix,Ge({},a,{ref:t})))))}),$x=y.exports.forwardRef((e,t)=>{const r=Qn(Er,e.__scopeMenu),n=y.exports.useRef(null),a=$t(t,n);return y.exports.useEffect(()=>{const o=n.current;if(o)return Bw(o)},[]),y.exports.createElement(Jm,Ge({},e,{ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:tt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)}))}),Ix=y.exports.forwardRef((e,t)=>{const r=Qn(Er,e.__scopeMenu);return y.exports.createElement(Jm,Ge({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)}))}),Jm=y.exports.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:u,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:h,onInteractOutside:g,onDismiss:O,disableOutsideScroll:C,...w}=e,_=Qn(Er,r),R=Tl(Er,r),v=Hi(r),S=Zm(r),A=_x(r),[N,$]=y.exports.useState(null),I=y.exports.useRef(null),V=$t(t,I,_.onContentChange),L=y.exports.useRef(0),P=y.exports.useRef(""),j=y.exports.useRef(0),K=y.exports.useRef(null),ce=y.exports.useRef("right"),ae=y.exports.useRef(0),le=C?gx:y.exports.Fragment,ge=C?{as:In,allowPinchZoom:!0}:void 0,xe=ye=>{var Re,pe;const oe=P.current+ye,X=A().filter(Y=>!Y.disabled),Ze=document.activeElement,$e=(Re=X.find(Y=>Y.ref.current===Ze))===null||Re===void 0?void 0:Re.textValue,ze=X.map(Y=>Y.textValue),me=Hx(ze,oe,$e),Q=(pe=X.find(Y=>Y.textValue===me))===null||pe===void 0?void 0:pe.ref.current;(function Y(re){P.current=re,window.clearTimeout(L.current),re!==""&&(L.current=window.setTimeout(()=>Y(""),1e3))})(oe),Q&&setTimeout(()=>Q.focus())};y.exports.useEffect(()=>()=>window.clearTimeout(L.current),[]),sb();const Ce=y.exports.useCallback(ye=>{var Re,pe;return ce.current===((Re=K.current)===null||Re===void 0?void 0:Re.side)&&Wx(ye,(pe=K.current)===null||pe===void 0?void 0:pe.area)},[]);return y.exports.createElement(Px,{scope:r,searchRef:P,onItemEnter:y.exports.useCallback(ye=>{Ce(ye)&&ye.preventDefault()},[Ce]),onItemLeave:y.exports.useCallback(ye=>{var Re;Ce(ye)||((Re=I.current)===null||Re===void 0||Re.focus(),$(null))},[Ce]),onTriggerLeave:y.exports.useCallback(ye=>{Ce(ye)&&ye.preventDefault()},[Ce]),pointerGraceTimerRef:j,onPointerGraceIntentChange:y.exports.useCallback(ye=>{K.current=ye},[])},y.exports.createElement(le,ge,y.exports.createElement(ub,{asChild:!0,trapped:a,onMountAutoFocus:tt(o,ye=>{var Re;ye.preventDefault(),(Re=I.current)===null||Re===void 0||Re.focus()}),onUnmountAutoFocus:s},y.exports.createElement(ab,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:h,onInteractOutside:g,onDismiss:O},y.exports.createElement(Iw,Ge({asChild:!0},S,{dir:R.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:$,onEntryFocus:ye=>{R.isUsingKeyboardRef.current||ye.preventDefault()}}),y.exports.createElement(yw,Ge({role:"menu","aria-orientation":"vertical","data-state":qx(_.open),dir:R.dir},v,w,{ref:V,style:{outline:"none",...w.style},onKeyDown:tt(w.onKeyDown,ye=>{const pe=ye.target.closest('[role="menu"]')===ye.currentTarget,oe=ye.ctrlKey||ye.altKey||ye.metaKey,X=ye.key.length===1;pe&&(ye.key==="Tab"&&ye.preventDefault(),!oe&&X&&xe(ye.key));const Ze=I.current;if(ye.target!==Ze||!xx.includes(ye.key))return;ye.preventDefault();const ze=A().filter(me=>!me.disabled).map(me=>me.ref.current);Gm.includes(ye.key)&&ze.reverse(),Vx(ze)}),onBlur:tt(e.onBlur,ye=>{ye.currentTarget.contains(ye.target)||(window.clearTimeout(L.current),P.current="")}),onPointerMove:tt(e.onPointerMove,Qs(ye=>{const Re=ye.target,pe=ae.current!==ye.clientX;if(ye.currentTarget.contains(Re)&&pe){const oe=ye.clientX>ae.current?"right":"left";ce.current=oe,ae.current=ye.clientX}}))})))))))}),Gs="MenuItem",jf="menu.itemSelect",Mx=y.exports.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,o=y.exports.useRef(null),s=Tl(Gs,e.__scopeMenu),u=Km(Gs,e.__scopeMenu),c=$t(t,o),l=y.exports.useRef(!1),h=()=>{const g=o.current;if(!r&&g){const O=new CustomEvent(jf,{bubbles:!0,cancelable:!0});g.addEventListener(jf,C=>n==null?void 0:n(C),{once:!0}),wm(g,O),O.defaultPrevented?l.current=!1:s.onClose()}};return y.exports.createElement(Fx,Ge({},a,{ref:c,disabled:r,onClick:tt(e.onClick,h),onPointerDown:g=>{var O;(O=e.onPointerDown)===null||O===void 0||O.call(e,g),l.current=!0},onPointerUp:tt(e.onPointerUp,g=>{var O;l.current||(O=g.currentTarget)===null||O===void 0||O.click()}),onKeyDown:tt(e.onKeyDown,g=>{const O=u.searchRef.current!=="";r||O&&g.key===" "||bx.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})}))}),Fx=y.exports.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...o}=e,s=Km(Gs,r),u=Zm(r),c=y.exports.useRef(null),l=$t(t,c),[h,g]=y.exports.useState(!1),[O,C]=y.exports.useState("");return y.exports.useEffect(()=>{const w=c.current;if(w){var _;C(((_=w.textContent)!==null&&_!==void 0?_:"").trim())}},[o.children]),y.exports.createElement(Ys.ItemSlot,{scope:r,disabled:n,textValue:a!=null?a:O},y.exports.createElement(Mw,Ge({asChild:!0},u,{focusable:!n}),y.exports.createElement(Vt.div,Ge({role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0},o,{ref:l,onPointerMove:tt(e.onPointerMove,Qs(w=>{n?s.onItemLeave(w):(s.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus())})),onPointerLeave:tt(e.onPointerLeave,Qs(w=>s.onItemLeave(w))),onFocus:tt(e.onFocus,()=>g(!0)),onBlur:tt(e.onBlur,()=>g(!1))}))))}),kx="MenuRadioGroup";Vr(kx,{value:void 0,onValueChange:()=>{}});const Bx="MenuItemIndicator";Vr(Bx,{checked:!1});const Lx=y.exports.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Hi(r);return y.exports.createElement(vw,Ge({},a,n,{ref:t}))}),Ux="MenuSub";Vr(Ux);function qx(e){return e?"open":"closed"}function Vx(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function jx(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Hx(e,t,r){const a=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let s=jx(e,Math.max(o,0));a.length===1&&(s=s.filter(l=>l!==r));const c=s.find(l=>l.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function zx(e,t){const{x:r,y:n}=e;let a=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const u=t[o].x,c=t[o].y,l=t[s].x,h=t[s].y;c>n!=h>n&&r<(l-u)*(n-c)/(h-c)+u&&(a=!a)}return a}function Wx(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return zx(r,t)}function Qs(e){return t=>t.pointerType==="mouse"?e(t):void 0}const Yx=Ox,Gx=Cx,Qx=Ax,Zx=Dx,Xx=Mx,Kx=Lx,eh="DropdownMenu",[Jx,aD]=Yn(eh,[Qm]),yn=Qm(),[e_,th]=Jx(eh),t_=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:o,onOpenChange:s,modal:u=!0}=e,c=yn(t),l=y.exports.useRef(null),[h=!1,g]=bm({prop:a,defaultProp:o,onChange:s});return y.exports.createElement(e_,{scope:t,triggerId:Us(),triggerRef:l,contentId:Us(),open:h,onOpenChange:g,onOpenToggle:y.exports.useCallback(()=>g(O=>!O),[g]),modal:u},y.exports.createElement(Yx,Ge({},c,{open:h,onOpenChange:g,dir:n,modal:u}),r))},r_="DropdownMenuTrigger",n_=y.exports.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,o=th(r_,r),s=yn(r);return y.exports.createElement(Gx,Ge({asChild:!0},s),y.exports.createElement(Vt.button,Ge({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open?!0:void 0,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n},a,{ref:bl(t,o.triggerRef),onPointerDown:tt(e.onPointerDown,u=>{!n&&u.button===0&&u.ctrlKey===!1&&(o.onOpenToggle(),o.open||u.preventDefault())}),onKeyDown:tt(e.onKeyDown,u=>{n||(["Enter"," "].includes(u.key)&&o.onOpenToggle(),u.key==="ArrowDown"&&o.onOpenChange(!0),[" ","ArrowDown"].includes(u.key)&&u.preventDefault())})})))}),a_=e=>{const{__scopeDropdownMenu:t,...r}=e,n=yn(t);return y.exports.createElement(Qx,Ge({},n,r))},o_="DropdownMenuContent",i_=y.exports.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=th(o_,r),o=yn(r),s=y.exports.useRef(!1);return y.exports.createElement(Zx,Ge({id:a.contentId,"aria-labelledby":a.triggerId},o,n,{ref:t,onCloseAutoFocus:tt(e.onCloseAutoFocus,u=>{var c;s.current||(c=a.triggerRef.current)===null||c===void 0||c.focus(),s.current=!1,u.preventDefault()}),onInteractOutside:tt(e.onInteractOutside,u=>{const c=u.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,h=c.button===2||l;(!a.modal||h)&&(s.current=!0)}),style:{...e.style,["--radix-dropdown-menu-content-transform-origin"]:"var(--radix-popper-transform-origin)"}}))}),s_=y.exports.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=yn(r);return y.exports.createElement(Xx,Ge({},a,n,{ref:t}))}),u_=y.exports.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=yn(r);return y.exports.createElement(Kx,Ge({},a,n,{ref:t}))}),c_=t_,l_=n_,f_=a_,d_=i_,p_=s_,m_=u_;const Fr=({message:e="Loading..."})=>p.createElement("div",{className:"ctw-space-x-2"},e&&p.createElement("span",{className:"ctw-text-sm ctw-italic"},e),p.createElement(ul,null));try{Fr.displayName="Loading",Fr.__docgenInfo={description:"",displayName:"Loading",props:{message:{defaultValue:{value:"Loading..."},description:"",name:"message",required:!1,type:{name:"string"}}}}}catch{}function xo({children:e,menuItems:t}){const{ctwProviderRef:r}=zt(),[n,a]=y.exports.useState(!1);async function o(s){a(!0),await s.action(),a(!1)}return p.createElement(w0,null,p.createElement(c_,{modal:!1},p.createElement(l_,{className:"ctw-btn-clear ctw-link","aria-label":"dropdown"},n&&p.createElement(Fr,{message:""}),!n&&e),p.createElement(f_,{container:r.current},p.createElement(d_,{onFocusOutside:s=>s.preventDefault(),className:"ctw-dropdown-menu-container",collisionPadding:10},p.createElement(m_,{asChild:!0},p.createElement("div",{className:"ctw-dropdown-menu-arrow"})),t.map(s=>p.createElement(p_,{onClick:()=>o(s),key:s.name,className:it(s.className,"ctw-dropdown-menu-item")},s.name))))))}try{xo.displayName="DropdownMenu",xo.__docgenInfo={description:"",displayName:"DropdownMenu",props:{menuItems:{defaultValue:null,description:"",name:"menuItems",required:!0,type:{name:"MenuItem[]"}}}}}catch{}function _o({className:e,conditions:t,rowMenuActions:r,hideMenu:n,sort:a={columnTitle:"Last Recorded",dir:"desc"},onSort:o,...s}){const u=[{title:"Condition",dataIndex:"display",widthPercent:40,minWidth:320,sortIndices:[{index:"display"},{index:"recorded",dir:"desc"}]},{title:"Category",dataIndex:"ccsGrouping",widthPercent:25,minWidth:192,sortIndices:[{index:"ccsGrouping"},{index:"display",dir:"asc"}]},{title:"Status",render:c=>p.createElement("div",{className:"ctw-capitalize"},p.createElement("div",{className:"ctw-text-content-black"},c.clinicalStatus),p.createElement("div",null,c.isArchived?"Archived":c.verificationStatus)),widthPercent:17.5,minWidth:128,sortIndices:[{index:"clinicalStatus"},{index:"verificationStatus"},{index:"recorded",dir:"desc"}]},{title:"Last Recorded",dataIndex:"recordedDate",widthPercent:17.5,minWidth:132,sortIndices:[{index:"recorded"},{index:"display",dir:"asc"}]}];return n||u.push({className:"ctw-table-action-column",render:c=>p.createElement(xo,{menuItems:r(c)},p.createElement(vm,{className:"ctw-w-5"}))}),p.createElement(sl,{className:e,records:t,columns:u,sort:a,onSort:o,...s})}try{_o.displayName="ConditionsTableBase",_o.__docgenInfo={description:"",displayName:"ConditionsTableBase",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string | (string & Mapping) | (string & ArgumentArray)"}},conditions:{defaultValue:null,description:"",name:"conditions",required:!0,type:{name:"ConditionModel[]"}},rowMenuActions:{defaultValue:null,description:"",name:"rowMenuActions",required:!0,type:{name:"(condition: ConditionModel) => MenuItem[]"}},hideMenu:{defaultValue:null,description:"",name:"hideMenu",required:!0,type:{name:"boolean"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},message:{defaultValue:null,description:"Displayed when we have 0 records.",name:"message",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},showTableHead:{defaultValue:null,description:"",name:"showTableHead",required:!1,type:{name:"boolean"}},stacked:{defaultValue:null,description:"",name:"stacked",required:!1,type:{name:"boolean"}},sort:{defaultValue:{value:'{ columnTitle: "Last Recorded", dir: "desc" }'},description:"",name:"sort",required:!1,type:{name:"TableSort"}},onSort:{defaultValue:null,description:"",name:"onSort",required:!1,type:{name:"((sort: TableSort) => void)"}},handleRowClick:{defaultValue:null,description:"",name:"handleRowClick",required:!1,type:{name:"((record: ConditionModel) => void)"}},rowActions:{defaultValue:null,description:"",name:"rowActions",required:!1,type:{name:"((record: ConditionModel) => Element)"}},hidePagination:{defaultValue:null,description:"",name:"hidePagination",required:!1,type:{name:"boolean"}}}}}catch{}function _t(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Je(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ea(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ea=function(r){return typeof r}:Ea=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ea(e)}function Ke(e){Je(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Ea(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function h_(e,t){Je(2,arguments);var r=Ke(e).getTime(),n=_t(t);return new Date(r+n)}var y_={};function vn(){return y_}function rh(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Hf(e,t){Je(2,arguments);var r=Ke(e),n=Ke(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}var Ol=6e4,Cl=36e5,v_=1e3;function Sa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sa=function(r){return typeof r}:Sa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Sa(e)}function g_(e){return Je(1,arguments),e instanceof Date||Sa(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Eo(e){if(Je(1,arguments),!g_(e)&&typeof e!="number")return!1;var t=Ke(e);return!isNaN(Number(t))}function b_(e,t){Je(2,arguments);var r=Ke(e),n=Ke(t);return r.getFullYear()-n.getFullYear()}function nh(e,t){Je(2,arguments);var r=Ke(e),n=Ke(t),a=Hf(r,n),o=Math.abs(b_(r,n));r.setFullYear(1584),n.setFullYear(1584);var s=Hf(r,n)===-a,u=a*(o-Number(s));return u===0?0:u}function ah(e,t){Je(2,arguments);var r=_t(t);return h_(e,-r)}var w_=864e5;function x_(e){Je(1,arguments);var t=Ke(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/w_)+1}function on(e){Je(1,arguments);var t=1,r=Ke(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function oh(e){Je(1,arguments);var t=Ke(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=on(n),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var s=on(o);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function __(e){Je(1,arguments);var t=oh(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=on(r);return n}var E_=6048e5;function ih(e){Je(1,arguments);var t=Ke(e),r=on(t).getTime()-__(t).getTime();return Math.round(r/E_)+1}function kr(e,t){var r,n,a,o,s,u,c,l;Je(1,arguments);var h=vn(),g=_t((r=(n=(a=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(u=s.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&a!==void 0?a:h.weekStartsOn)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&r!==void 0?r:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var O=Ke(e),C=O.getUTCDay(),w=(C<g?7:0)+C-g;return O.setUTCDate(O.getUTCDate()-w),O.setUTCHours(0,0,0,0),O}function Rl(e,t){var r,n,a,o,s,u,c,l;Je(1,arguments);var h=Ke(e),g=h.getUTCFullYear(),O=vn(),C=_t((r=(n=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(u=s.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:O.firstWeekContainsDate)!==null&&n!==void 0?n:(c=O.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(g+1,0,C),w.setUTCHours(0,0,0,0);var _=kr(w,t),R=new Date(0);R.setUTCFullYear(g,0,C),R.setUTCHours(0,0,0,0);var v=kr(R,t);return h.getTime()>=_.getTime()?g+1:h.getTime()>=v.getTime()?g:g-1}function S_(e,t){var r,n,a,o,s,u,c,l;Je(1,arguments);var h=vn(),g=_t((r=(n=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(u=s.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&r!==void 0?r:1),O=Rl(e,t),C=new Date(0);C.setUTCFullYear(O,0,g),C.setUTCHours(0,0,0,0);var w=kr(C,t);return w}var T_=6048e5;function sh(e,t){Je(1,arguments);var r=Ke(e),n=kr(r,t).getTime()-S_(r,t).getTime();return Math.round(n/T_)+1}function Me(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var O_={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return Me(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Me(n+1,2)},d:function(t,r){return Me(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Me(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Me(t.getUTCHours(),r.length)},m:function(t,r){return Me(t.getUTCMinutes(),r.length)},s:function(t,r){return Me(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),o=Math.floor(a*Math.pow(10,n-3));return Me(o,r.length)}};const gr=O_;var Gr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},C_={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),o=a>0?a:1-a;return n.ordinalNumber(o,{unit:"year"})}return gr.y(t,r)},Y:function(t,r,n,a){var o=Rl(t,a),s=o>0?o:1-o;if(r==="YY"){var u=s%100;return Me(u,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):Me(s,r.length)},R:function(t,r){var n=oh(t);return Me(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Me(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Me(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Me(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return gr.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return Me(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var o=sh(t,a);return r==="wo"?n.ordinalNumber(o,{unit:"week"}):Me(o,r.length)},I:function(t,r,n){var a=ih(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):Me(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):gr.d(t,r)},D:function(t,r,n){var a=x_(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Me(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var o=t.getUTCDay(),s=(o-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return Me(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var o=t.getUTCDay(),s=(o-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return Me(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),o=a===0?7:a;switch(r){case"i":return String(o);case"ii":return Me(o,r.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),o=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),o;switch(a===12?o=Gr.noon:a===0?o=Gr.midnight:o=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),o;switch(a>=17?o=Gr.evening:a>=12?o=Gr.afternoon:a>=4?o=Gr.morning:o=Gr.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return gr.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):gr.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Me(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):Me(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):gr.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):gr.s(t,r)},S:function(t,r){return gr.S(t,r)},X:function(t,r,n,a){var o=a._originalDate||t,s=o.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return Wf(s);case"XXXX":case"XX":return Pr(s);case"XXXXX":case"XXX":default:return Pr(s,":")}},x:function(t,r,n,a){var o=a._originalDate||t,s=o.getTimezoneOffset();switch(r){case"x":return Wf(s);case"xxxx":case"xx":return Pr(s);case"xxxxx":case"xxx":default:return Pr(s,":")}},O:function(t,r,n,a){var o=a._originalDate||t,s=o.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+zf(s,":");case"OOOO":default:return"GMT"+Pr(s,":")}},z:function(t,r,n,a){var o=a._originalDate||t,s=o.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+zf(s,":");case"zzzz":default:return"GMT"+Pr(s,":")}},t:function(t,r,n,a){var o=a._originalDate||t,s=Math.floor(o.getTime()/1e3);return Me(s,r.length)},T:function(t,r,n,a){var o=a._originalDate||t,s=o.getTime();return Me(s,r.length)}};function zf(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),o=n%60;if(o===0)return r+String(a);var s=t||"";return r+String(a)+s+Me(o,2)}function Wf(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Me(Math.abs(e)/60,2)}return Pr(e,t)}function Pr(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),o=Me(Math.floor(a/60),2),s=Me(a%60,2);return n+o+r+s}const R_=C_;var Yf=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},uh=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},N_=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return Yf(t,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",Yf(a,r)).replace("{{time}}",uh(o,r))},A_={p:uh,P:N_};const Zs=A_;var P_=["D","DD"],D_=["YY","YYYY"];function ch(e){return P_.indexOf(e)!==-1}function lh(e){return D_.indexOf(e)!==-1}function So(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var $_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},I_=function(t,r,n){var a,o=$_[t];return typeof o=="string"?a=o:r===1?a=o.one:a=o.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};const M_=I_;function ms(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var F_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},k_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},B_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},L_={date:ms({formats:F_,defaultWidth:"full"}),time:ms({formats:k_,defaultWidth:"full"}),dateTime:ms({formats:B_,defaultWidth:"full"})};const U_=L_;var q_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},V_=function(t,r,n,a){return q_[t]};const j_=V_;function xn(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{var u=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[u]}var l=e.argumentCallback?e.argumentCallback(t):t;return a[l]}}var H_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},z_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},W_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Y_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},G_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Q_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Z_=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},X_={ordinalNumber:Z_,era:xn({values:H_,defaultWidth:"wide"}),quarter:xn({values:z_,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:xn({values:W_,defaultWidth:"wide"}),day:xn({values:Y_,defaultWidth:"wide"}),dayPeriod:xn({values:G_,defaultWidth:"wide",formattingValues:Q_,defaultFormattingWidth:"wide"})};const K_=X_;function _n(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;var s=o[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(u)?eE(u,function(g){return g.test(s)}):J_(u,function(g){return g.test(s)}),l;l=e.valueCallback?e.valueCallback(c):c,l=r.valueCallback?r.valueCallback(l):l;var h=t.slice(s.length);return{value:l,rest:h}}}function J_(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function eE(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function tE(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],o=t.match(e.parsePattern);if(!o)return null;var s=e.valueCallback?e.valueCallback(o[0]):o[0];s=r.valueCallback?r.valueCallback(s):s;var u=t.slice(a.length);return{value:s,rest:u}}}var rE=/^(\d+)(th|st|nd|rd)?/i,nE=/\d+/i,aE={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oE={any:[/^b/i,/^(a|c)/i]},iE={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sE={any:[/1/i,/2/i,/3/i,/4/i]},uE={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cE={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lE={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fE={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dE={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pE={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mE={ordinalNumber:tE({matchPattern:rE,parsePattern:nE,valueCallback:function(t){return parseInt(t,10)}}),era:_n({matchPatterns:aE,defaultMatchWidth:"wide",parsePatterns:oE,defaultParseWidth:"any"}),quarter:_n({matchPatterns:iE,defaultMatchWidth:"wide",parsePatterns:sE,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:_n({matchPatterns:uE,defaultMatchWidth:"wide",parsePatterns:cE,defaultParseWidth:"any"}),day:_n({matchPatterns:lE,defaultMatchWidth:"wide",parsePatterns:fE,defaultParseWidth:"any"}),dayPeriod:_n({matchPatterns:dE,defaultMatchWidth:"any",parsePatterns:pE,defaultParseWidth:"any"})};const hE=mE;var yE={code:"en-US",formatDistance:M_,formatLong:U_,formatRelative:j_,localize:K_,match:hE,options:{weekStartsOn:0,firstWeekContainsDate:1}};const fh=yE;var vE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bE=/^'([^]*?)'?$/,wE=/''/g,xE=/[a-zA-Z]/;function Zn(e,t,r){var n,a,o,s,u,c,l,h,g,O,C,w,_,R,v,S,A,N;Je(2,arguments);var $=String(t),I=vn(),V=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:I.locale)!==null&&n!==void 0?n:fh,L=_t((o=(s=(u=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(l=r.locale)===null||l===void 0||(h=l.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&u!==void 0?u:I.firstWeekContainsDate)!==null&&s!==void 0?s:(g=I.locale)===null||g===void 0||(O=g.options)===null||O===void 0?void 0:O.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(L>=1&&L<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=_t((C=(w=(_=(R=r==null?void 0:r.weekStartsOn)!==null&&R!==void 0?R:r==null||(v=r.locale)===null||v===void 0||(S=v.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&_!==void 0?_:I.weekStartsOn)!==null&&w!==void 0?w:(A=I.locale)===null||A===void 0||(N=A.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&C!==void 0?C:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!V.localize)throw new RangeError("locale must contain localize property");if(!V.formatLong)throw new RangeError("locale must contain formatLong property");var j=Ke(e);if(!Eo(j))throw new RangeError("Invalid time value");var K=rh(j),ce=ah(j,K),ae={firstWeekContainsDate:L,weekStartsOn:P,locale:V,_originalDate:j},le=$.match(gE).map(function(ge){var xe=ge[0];if(xe==="p"||xe==="P"){var Ce=Zs[xe];return Ce(ge,V.formatLong)}return ge}).join("").match(vE).map(function(ge){if(ge==="''")return"'";var xe=ge[0];if(xe==="'")return _E(ge);var Ce=R_[xe];if(Ce)return!(r!=null&&r.useAdditionalWeekYearTokens)&&lh(ge)&&So(ge,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&ch(ge)&&So(ge,t,String(e)),Ce(ce,ge,V.localize,ae);if(xe.match(xE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+xe+"`");return ge}).join("");return le}function _E(e){var t=e.match(bE);return t?t[1].replace(wE,"'"):e}function EE(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function SE(e,t){var r,n;Je(1,arguments);var a=Ke(e);if(isNaN(a.getTime()))throw new RangeError("Invalid time value");var o=String((r=t==null?void 0:t.format)!==null&&r!==void 0?r:"extended"),s=String((n=t==null?void 0:t.representation)!==null&&n!==void 0?n:"complete");if(o!=="extended"&&o!=="basic")throw new RangeError("format must be 'extended' or 'basic'");if(s!=="date"&&s!=="time"&&s!=="complete")throw new RangeError("representation must be 'date', 'time', or 'complete'");var u="",c="",l=o==="extended"?"-":"",h=o==="extended"?":":"";if(s!=="time"){var g=Me(a.getDate(),2),O=Me(a.getMonth()+1,2),C=Me(a.getFullYear(),4);u="".concat(C).concat(l).concat(O).concat(l).concat(g)}if(s!=="date"){var w=a.getTimezoneOffset();if(w!==0){var _=Math.abs(w),R=Me(Math.floor(_/60),2),v=Me(_%60,2),S=w<0?"+":"-";c="".concat(S).concat(R,":").concat(v)}else c="Z";var A=Me(a.getHours(),2),N=Me(a.getMinutes(),2),$=Me(a.getSeconds(),2),I=u===""?"":"T",V=[A,N,$].join(h);u="".concat(u).concat(I).concat(V).concat(c)}return u}function TE(e,t){Je(2,arguments);var r=Ke(e),n=Ke(t);return r.getTime()<n.getTime()}function OE(e,t){Je(2,arguments);var r=Ke(e),n=Ke(t);return r.getTime()===n.getTime()}function Ta(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ta=function(r){return typeof r}:Ta=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ta(e)}function dh(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xs(e,t)}function Xs(e,t){return Xs=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Xs(e,t)}function ph(e){var t=RE();return function(){var n=To(e),a;if(t){var o=To(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return CE(this,a)}}function CE(e,t){return t&&(Ta(t)==="object"||typeof t=="function")?t:Ks(e)}function Ks(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function To(e){return To=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},To(e)}function Nl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Al(e,t,r){return t&&Gf(e.prototype,t),r&&Gf(e,r),e}function Js(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var NE=10,mh=function(){function e(){Nl(this,e),Js(this,"subPriority",0)}return Al(e,[{key:"validate",value:function(r,n){return!0}}]),e}(),AE=function(e){dh(r,e);var t=ph(r);function r(n,a,o,s,u){var c;return Nl(this,r),c=t.call(this),c.value=n,c.validateValue=a,c.setValue=o,c.priority=s,u&&(c.subPriority=u),c}return Al(r,[{key:"validate",value:function(a,o){return this.validateValue(a,this.value,o)}},{key:"set",value:function(a,o,s){return this.setValue(a,o,this.value,s)}}]),r}(mh),PE=function(e){dh(r,e);var t=ph(r);function r(){var n;Nl(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Js(Ks(n),"priority",NE),Js(Ks(n),"subPriority",-1),n}return Al(r,[{key:"set",value:function(a,o){if(o.timestampIsSet)return a;var s=new Date(0);return s.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),s.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),s}}]),r}(mh);function DE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $E(e,t,r){return t&&Qf(e.prototype,t),r&&Qf(e,r),e}var He=function(){function e(){DE(this,e)}return $E(e,[{key:"run",value:function(r,n,a,o){var s=this.parse(r,n,a,o);return s?{setter:new AE(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(r,n,a){return!0}}]),e}();function Oa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Oa=function(r){return typeof r}:Oa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Oa(e)}function IE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ME(e,t,r){return t&&Zf(e.prototype,t),r&&Zf(e,r),e}function FE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eu(e,t)}function eu(e,t){return eu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},eu(e,t)}function kE(e){var t=LE();return function(){var n=Oo(e),a;if(t){var o=Oo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return BE(this,a)}}function BE(e,t){return t&&(Oa(t)==="object"||typeof t=="function")?t:tu(e)}function tu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Oo(e){return Oo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Oo(e)}function Xf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var UE=function(e){FE(r,e);var t=kE(r);function r(){var n;IE(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Xf(tu(n),"priority",140),Xf(tu(n),"incompatibleTokens",["R","u","t","T"]),n}return ME(r,[{key:"parse",value:function(a,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"})||s.era(a,{width:"narrow"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})||s.era(a,{width:"abbreviated"})||s.era(a,{width:"narrow"})}}},{key:"set",value:function(a,o,s){return o.era=s,a.setUTCFullYear(s,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(He),at={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Qt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ot(e,t){return e&&{value:t(e.value),rest:e.rest}}function rt(e,t){var r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Zt(e,t){var r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};var n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,s=r[5]?parseInt(r[5],10):0;return{value:n*(a*Cl+o*Ol+s*v_),rest:t.slice(r[0].length)}}function hh(e){return rt(at.anyDigitsSigned,e)}function nt(e,t){switch(e){case 1:return rt(at.singleDigit,t);case 2:return rt(at.twoDigits,t);case 3:return rt(at.threeDigits,t);case 4:return rt(at.fourDigits,t);default:return rt(new RegExp("^\\d{1,"+e+"}"),t)}}function Co(e,t){switch(e){case 1:return rt(at.singleDigitSigned,t);case 2:return rt(at.twoDigitsSigned,t);case 3:return rt(at.threeDigitsSigned,t);case 4:return rt(at.fourDigitsSigned,t);default:return rt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Pl(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function yh(e,t){var r=t>0,n=r?t:1-t,a;if(n<=50)a=e||100;else{var o=n+50,s=Math.floor(o/100)*100,u=e>=o%100;a=e+s-(u?100:0)}return r?a:1-a}function vh(e){return e%400===0||e%4===0&&e%100!==0}function Ca(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ca=function(r){return typeof r}:Ca=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ca(e)}function qE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function VE(e,t,r){return t&&Kf(e.prototype,t),r&&Kf(e,r),e}function jE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ru(e,t)}function ru(e,t){return ru=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},ru(e,t)}function HE(e){var t=WE();return function(){var n=Ro(e),a;if(t){var o=Ro(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return zE(this,a)}}function zE(e,t){return t&&(Ca(t)==="object"||typeof t=="function")?t:nu(e)}function nu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ro(e){return Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ro(e)}function Jf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var YE=function(e){jE(r,e);var t=HE(r);function r(){var n;qE(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Jf(nu(n),"priority",130),Jf(nu(n),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),n}return VE(r,[{key:"parse",value:function(a,o,s){var u=function(l){return{year:l,isTwoDigitYear:o==="yy"}};switch(o){case"y":return ot(nt(4,a),u);case"yo":return ot(s.ordinalNumber(a,{unit:"year"}),u);default:return ot(nt(o.length,a),u)}}},{key:"validate",value:function(a,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(a,o,s){var u=a.getUTCFullYear();if(s.isTwoDigitYear){var c=yh(s.year,u);return a.setUTCFullYear(c,0,1),a.setUTCHours(0,0,0,0),a}var l=!("era"in o)||o.era===1?s.year:1-s.year;return a.setUTCFullYear(l,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(He);function Ra(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ra=function(r){return typeof r}:Ra=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ra(e)}function GE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ed(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function QE(e,t,r){return t&&ed(e.prototype,t),r&&ed(e,r),e}function ZE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&au(e,t)}function au(e,t){return au=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},au(e,t)}function XE(e){var t=JE();return function(){var n=No(e),a;if(t){var o=No(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return KE(this,a)}}function KE(e,t){return t&&(Ra(t)==="object"||typeof t=="function")?t:ou(e)}function ou(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function No(e){return No=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},No(e)}function td(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var eS=function(e){ZE(r,e);var t=XE(r);function r(){var n;GE(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),td(ou(n),"priority",130),td(ou(n),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),n}return QE(r,[{key:"parse",value:function(a,o,s){var u=function(l){return{year:l,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return ot(nt(4,a),u);case"Yo":return ot(s.ordinalNumber(a,{unit:"year"}),u);default:return ot(nt(o.length,a),u)}}},{key:"validate",value:function(a,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(a,o,s,u){var c=Rl(a,u);if(s.isTwoDigitYear){var l=yh(s.year,c);return a.setUTCFullYear(l,0,u.firstWeekContainsDate),a.setUTCHours(0,0,0,0),kr(a,u)}var h=!("era"in o)||o.era===1?s.year:1-s.year;return a.setUTCFullYear(h,0,u.firstWeekContainsDate),a.setUTCHours(0,0,0,0),kr(a,u)}}]),r}(He);function Na(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Na=function(r){return typeof r}:Na=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Na(e)}function tS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rS(e,t,r){return t&&rd(e.prototype,t),r&&rd(e,r),e}function nS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iu(e,t)}function iu(e,t){return iu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},iu(e,t)}function aS(e){var t=iS();return function(){var n=Ao(e),a;if(t){var o=Ao(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return oS(this,a)}}function oS(e,t){return t&&(Na(t)==="object"||typeof t=="function")?t:su(e)}function su(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ao(e){return Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ao(e)}function nd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sS=function(e){nS(r,e);var t=aS(r);function r(){var n;tS(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),nd(su(n),"priority",130),nd(su(n),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),n}return rS(r,[{key:"parse",value:function(a,o){return Co(o==="R"?4:o.length,a)}},{key:"set",value:function(a,o,s){var u=new Date(0);return u.setUTCFullYear(s,0,4),u.setUTCHours(0,0,0,0),on(u)}}]),r}(He);function Aa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Aa=function(r){return typeof r}:Aa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Aa(e)}function uS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ad(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cS(e,t,r){return t&&ad(e.prototype,t),r&&ad(e,r),e}function lS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uu(e,t)}function uu(e,t){return uu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},uu(e,t)}function fS(e){var t=pS();return function(){var n=Po(e),a;if(t){var o=Po(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return dS(this,a)}}function dS(e,t){return t&&(Aa(t)==="object"||typeof t=="function")?t:cu(e)}function cu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Po(e){return Po=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Po(e)}function od(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mS=function(e){lS(r,e);var t=fS(r);function r(){var n;uS(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),od(cu(n),"priority",130),od(cu(n),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),n}return cS(r,[{key:"parse",value:function(a,o){return Co(o==="u"?4:o.length,a)}},{key:"set",value:function(a,o,s){return a.setUTCFullYear(s,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(He);function Pa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pa=function(r){return typeof r}:Pa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pa(e)}function hS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function id(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yS(e,t,r){return t&&id(e.prototype,t),r&&id(e,r),e}function vS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lu(e,t)}function lu(e,t){return lu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},lu(e,t)}function gS(e){var t=wS();return function(){var n=Do(e),a;if(t){var o=Do(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return bS(this,a)}}function bS(e,t){return t&&(Pa(t)==="object"||typeof t=="function")?t:fu(e)}function fu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Do(e){return Do=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Do(e)}function sd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xS=function(e){vS(r,e);var t=gS(r);function r(){var n;hS(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),sd(fu(n),"priority",120),sd(fu(n),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),n}return yS(r,[{key:"parse",value:function(a,o,s){switch(o){case"Q":case"QQ":return nt(o.length,a);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"})||s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})||s.quarter(a,{width:"abbreviated",context:"formatting"})||s.quarter(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,o){return o>=1&&o<=4}},{key:"set",value:function(a,o,s){return a.setUTCMonth((s-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),r}(He);function Da(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Da=function(r){return typeof r}:Da=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Da(e)}function _S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ud(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ES(e,t,r){return t&&ud(e.prototype,t),r&&ud(e,r),e}function SS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&du(e,t)}function du(e,t){return du=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},du(e,t)}function TS(e){var t=CS();return function(){var n=$o(e),a;if(t){var o=$o(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return OS(this,a)}}function OS(e,t){return t&&(Da(t)==="object"||typeof t=="function")?t:pu(e)}function pu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $o(e){return $o=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},$o(e)}function cd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var RS=function(e){SS(r,e);var t=TS(r);function r(){var n;_S(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),cd(pu(n),"priority",120),cd(pu(n),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),n}return ES(r,[{key:"parse",value:function(a,o,s){switch(o){case"q":case"qq":return nt(o.length,a);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"})||s.quarter(a,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})||s.quarter(a,{width:"abbreviated",context:"standalone"})||s.quarter(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,o){return o>=1&&o<=4}},{key:"set",value:function(a,o,s){return a.setUTCMonth((s-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),r}(He);function $a(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$a=function(r){return typeof r}:$a=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$a(e)}function NS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ld(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AS(e,t,r){return t&&ld(e.prototype,t),r&&ld(e,r),e}function PS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mu(e,t)}function mu(e,t){return mu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},mu(e,t)}function DS(e){var t=IS();return function(){var n=Io(e),a;if(t){var o=Io(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return $S(this,a)}}function $S(e,t){return t&&($a(t)==="object"||typeof t=="function")?t:hu(e)}function hu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Io(e){return Io=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Io(e)}function fd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var MS=function(e){PS(r,e);var t=DS(r);function r(){var n;NS(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),fd(hu(n),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),fd(hu(n),"priority",110),n}return AS(r,[{key:"parse",value:function(a,o,s){var u=function(l){return l-1};switch(o){case"M":return ot(rt(at.month,a),u);case"MM":return ot(nt(2,a),u);case"Mo":return ot(s.ordinalNumber(a,{unit:"month"}),u);case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"})||s.month(a,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})||s.month(a,{width:"abbreviated",context:"formatting"})||s.month(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,o){return o>=0&&o<=11}},{key:"set",value:function(a,o,s){return a.setUTCMonth(s,1),a.setUTCHours(0,0,0,0),a}}]),r}(He);function Ia(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ia=function(r){return typeof r}:Ia=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ia(e)}function FS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kS(e,t,r){return t&&dd(e.prototype,t),r&&dd(e,r),e}function BS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yu(e,t)}function yu(e,t){return yu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},yu(e,t)}function LS(e){var t=qS();return function(){var n=Mo(e),a;if(t){var o=Mo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return US(this,a)}}function US(e,t){return t&&(Ia(t)==="object"||typeof t=="function")?t:vu(e)}function vu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mo(e){return Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Mo(e)}function pd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var VS=function(e){BS(r,e);var t=LS(r);function r(){var n;FS(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),pd(vu(n),"priority",110),pd(vu(n),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),n}return kS(r,[{key:"parse",value:function(a,o,s){var u=function(l){return l-1};switch(o){case"L":return ot(rt(at.month,a),u);case"LL":return ot(nt(2,a),u);case"Lo":return ot(s.ordinalNumber(a,{unit:"month"}),u);case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"})||s.month(a,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})||s.month(a,{width:"abbreviated",context:"standalone"})||s.month(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,o){return o>=0&&o<=11}},{key:"set",value:function(a,o,s){return a.setUTCMonth(s,1),a.setUTCHours(0,0,0,0),a}}]),r}(He);function jS(e,t,r){Je(2,arguments);var n=Ke(e),a=_t(t),o=sh(n,r)-a;return n.setUTCDate(n.getUTCDate()-o*7),n}function Ma(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ma=function(r){return typeof r}:Ma=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ma(e)}function HS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function md(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zS(e,t,r){return t&&md(e.prototype,t),r&&md(e,r),e}function WS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gu(e,t)}function gu(e,t){return gu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},gu(e,t)}function YS(e){var t=QS();return function(){var n=Fo(e),a;if(t){var o=Fo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return GS(this,a)}}function GS(e,t){return t&&(Ma(t)==="object"||typeof t=="function")?t:bu(e)}function bu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Fo(e)}function hd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ZS=function(e){WS(r,e);var t=YS(r);function r(){var n;HS(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),hd(bu(n),"priority",100),hd(bu(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),n}return zS(r,[{key:"parse",value:function(a,o,s){switch(o){case"w":return rt(at.week,a);case"wo":return s.ordinalNumber(a,{unit:"week"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){return o>=1&&o<=53}},{key:"set",value:function(a,o,s,u){return kr(jS(a,s,u),u)}}]),r}(He);function XS(e,t){Je(2,arguments);var r=Ke(e),n=_t(t),a=ih(r)-n;return r.setUTCDate(r.getUTCDate()-a*7),r}function Fa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fa=function(r){return typeof r}:Fa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fa(e)}function KS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JS(e,t,r){return t&&yd(e.prototype,t),r&&yd(e,r),e}function e1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wu(e,t)}function wu(e,t){return wu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},wu(e,t)}function t1(e){var t=n1();return function(){var n=ko(e),a;if(t){var o=ko(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return r1(this,a)}}function r1(e,t){return t&&(Fa(t)==="object"||typeof t=="function")?t:xu(e)}function xu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ko(e){return ko=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ko(e)}function vd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a1=function(e){e1(r,e);var t=t1(r);function r(){var n;KS(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),vd(xu(n),"priority",100),vd(xu(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),n}return JS(r,[{key:"parse",value:function(a,o,s){switch(o){case"I":return rt(at.week,a);case"Io":return s.ordinalNumber(a,{unit:"week"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){return o>=1&&o<=53}},{key:"set",value:function(a,o,s){return on(XS(a,s))}}]),r}(He);function ka(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ka=function(r){return typeof r}:ka=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ka(e)}function o1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i1(e,t,r){return t&&gd(e.prototype,t),r&&gd(e,r),e}function s1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_u(e,t)}function _u(e,t){return _u=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},_u(e,t)}function u1(e){var t=l1();return function(){var n=Bo(e),a;if(t){var o=Bo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return c1(this,a)}}function c1(e,t){return t&&(ka(t)==="object"||typeof t=="function")?t:Ba(e)}function Ba(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bo(e){return Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Bo(e)}function hs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f1=[31,28,31,30,31,30,31,31,30,31,30,31],d1=[31,29,31,30,31,30,31,31,30,31,30,31],p1=function(e){s1(r,e);var t=u1(r);function r(){var n;o1(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),hs(Ba(n),"priority",90),hs(Ba(n),"subPriority",1),hs(Ba(n),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),n}return i1(r,[{key:"parse",value:function(a,o,s){switch(o){case"d":return rt(at.date,a);case"do":return s.ordinalNumber(a,{unit:"date"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){var s=a.getUTCFullYear(),u=vh(s),c=a.getUTCMonth();return u?o>=1&&o<=d1[c]:o>=1&&o<=f1[c]}},{key:"set",value:function(a,o,s){return a.setUTCDate(s),a.setUTCHours(0,0,0,0),a}}]),r}(He);function La(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?La=function(r){return typeof r}:La=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},La(e)}function m1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h1(e,t,r){return t&&bd(e.prototype,t),r&&bd(e,r),e}function y1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eu(e,t)}function Eu(e,t){return Eu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Eu(e,t)}function v1(e){var t=b1();return function(){var n=Lo(e),a;if(t){var o=Lo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return g1(this,a)}}function g1(e,t){return t&&(La(t)==="object"||typeof t=="function")?t:Ua(e)}function Ua(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lo(e){return Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Lo(e)}function ys(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w1=function(e){y1(r,e);var t=v1(r);function r(){var n;m1(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),ys(Ua(n),"priority",90),ys(Ua(n),"subpriority",1),ys(Ua(n),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),n}return h1(r,[{key:"parse",value:function(a,o,s){switch(o){case"D":case"DD":return rt(at.dayOfYear,a);case"Do":return s.ordinalNumber(a,{unit:"date"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){var s=a.getUTCFullYear(),u=vh(s);return u?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(a,o,s){return a.setUTCMonth(0,s),a.setUTCHours(0,0,0,0),a}}]),r}(He);function Dl(e,t,r){var n,a,o,s,u,c,l,h;Je(2,arguments);var g=vn(),O=_t((n=(a=(o=(s=r==null?void 0:r.weekStartsOn)!==null&&s!==void 0?s:r==null||(u=r.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&o!==void 0?o:g.weekStartsOn)!==null&&a!==void 0?a:(l=g.locale)===null||l===void 0||(h=l.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&n!==void 0?n:0);if(!(O>=0&&O<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var C=Ke(e),w=_t(t),_=C.getUTCDay(),R=w%7,v=(R+7)%7,S=(v<O?7:0)+w-_;return C.setUTCDate(C.getUTCDate()+S),C}function qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qa=function(r){return typeof r}:qa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qa(e)}function x1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _1(e,t,r){return t&&wd(e.prototype,t),r&&wd(e,r),e}function E1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Su(e,t)}function Su(e,t){return Su=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Su(e,t)}function S1(e){var t=O1();return function(){var n=Uo(e),a;if(t){var o=Uo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return T1(this,a)}}function T1(e,t){return t&&(qa(t)==="object"||typeof t=="function")?t:Tu(e)}function Tu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uo(e){return Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Uo(e)}function xd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C1=function(e){E1(r,e);var t=S1(r);function r(){var n;x1(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),xd(Tu(n),"priority",90),xd(Tu(n),"incompatibleTokens",["D","i","e","c","t","T"]),n}return _1(r,[{key:"parse",value:function(a,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"})||s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})||s.day(a,{width:"abbreviated",context:"formatting"})||s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,o){return o>=0&&o<=6}},{key:"set",value:function(a,o,s,u){return a=Dl(a,s,u),a.setUTCHours(0,0,0,0),a}}]),r}(He);function Va(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Va=function(r){return typeof r}:Va=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Va(e)}function R1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N1(e,t,r){return t&&_d(e.prototype,t),r&&_d(e,r),e}function A1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ou(e,t)}function Ou(e,t){return Ou=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Ou(e,t)}function P1(e){var t=$1();return function(){var n=qo(e),a;if(t){var o=qo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return D1(this,a)}}function D1(e,t){return t&&(Va(t)==="object"||typeof t=="function")?t:Cu(e)}function Cu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qo(e){return qo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},qo(e)}function Ed(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var I1=function(e){A1(r,e);var t=P1(r);function r(){var n;R1(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Ed(Cu(n),"priority",90),Ed(Cu(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),n}return N1(r,[{key:"parse",value:function(a,o,s,u){var c=function(h){var g=Math.floor((h-1)/7)*7;return(h+u.weekStartsOn+6)%7+g};switch(o){case"e":case"ee":return ot(nt(o.length,a),c);case"eo":return ot(s.ordinalNumber(a,{unit:"day"}),c);case"eee":return s.day(a,{width:"abbreviated",context:"formatting"})||s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(a,{width:"wide",context:"formatting"})||s.day(a,{width:"abbreviated",context:"formatting"})||s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,o){return o>=0&&o<=6}},{key:"set",value:function(a,o,s,u){return a=Dl(a,s,u),a.setUTCHours(0,0,0,0),a}}]),r}(He);function ja(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ja=function(r){return typeof r}:ja=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ja(e)}function M1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function F1(e,t,r){return t&&Sd(e.prototype,t),r&&Sd(e,r),e}function k1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ru(e,t)}function Ru(e,t){return Ru=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Ru(e,t)}function B1(e){var t=U1();return function(){var n=Vo(e),a;if(t){var o=Vo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return L1(this,a)}}function L1(e,t){return t&&(ja(t)==="object"||typeof t=="function")?t:Nu(e)}function Nu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vo(e){return Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Vo(e)}function Td(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var q1=function(e){k1(r,e);var t=B1(r);function r(){var n;M1(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Td(Nu(n),"priority",90),Td(Nu(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),n}return F1(r,[{key:"parse",value:function(a,o,s,u){var c=function(h){var g=Math.floor((h-1)/7)*7;return(h+u.weekStartsOn+6)%7+g};switch(o){case"c":case"cc":return ot(nt(o.length,a),c);case"co":return ot(s.ordinalNumber(a,{unit:"day"}),c);case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"})||s.day(a,{width:"short",context:"standalone"})||s.day(a,{width:"narrow",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"})||s.day(a,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(a,{width:"wide",context:"standalone"})||s.day(a,{width:"abbreviated",context:"standalone"})||s.day(a,{width:"short",context:"standalone"})||s.day(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,o){return o>=0&&o<=6}},{key:"set",value:function(a,o,s,u){return a=Dl(a,s,u),a.setUTCHours(0,0,0,0),a}}]),r}(He);function V1(e,t){Je(2,arguments);var r=_t(t);r%7===0&&(r=r-7);var n=1,a=Ke(e),o=a.getUTCDay(),s=r%7,u=(s+7)%7,c=(u<n?7:0)+r-o;return a.setUTCDate(a.getUTCDate()+c),a}function Ha(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ha=function(r){return typeof r}:Ha=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ha(e)}function j1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Od(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H1(e,t,r){return t&&Od(e.prototype,t),r&&Od(e,r),e}function z1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Au(e,t)}function Au(e,t){return Au=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Au(e,t)}function W1(e){var t=G1();return function(){var n=jo(e),a;if(t){var o=jo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Y1(this,a)}}function Y1(e,t){return t&&(Ha(t)==="object"||typeof t=="function")?t:Pu(e)}function Pu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jo(e){return jo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},jo(e)}function Cd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Q1=function(e){z1(r,e);var t=W1(r);function r(){var n;j1(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Cd(Pu(n),"priority",90),Cd(Pu(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),n}return H1(r,[{key:"parse",value:function(a,o,s){var u=function(l){return l===0?7:l};switch(o){case"i":case"ii":return nt(o.length,a);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return ot(s.day(a,{width:"abbreviated",context:"formatting"})||s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"}),u);case"iiiii":return ot(s.day(a,{width:"narrow",context:"formatting"}),u);case"iiiiii":return ot(s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"}),u);case"iiii":default:return ot(s.day(a,{width:"wide",context:"formatting"})||s.day(a,{width:"abbreviated",context:"formatting"})||s.day(a,{width:"short",context:"formatting"})||s.day(a,{width:"narrow",context:"formatting"}),u)}}},{key:"validate",value:function(a,o){return o>=1&&o<=7}},{key:"set",value:function(a,o,s){return a=V1(a,s),a.setUTCHours(0,0,0,0),a}}]),r}(He);function za(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?za=function(r){return typeof r}:za=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},za(e)}function Z1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X1(e,t,r){return t&&Rd(e.prototype,t),r&&Rd(e,r),e}function K1(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Du(e,t)}function Du(e,t){return Du=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Du(e,t)}function J1(e){var t=tT();return function(){var n=Ho(e),a;if(t){var o=Ho(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return eT(this,a)}}function eT(e,t){return t&&(za(t)==="object"||typeof t=="function")?t:$u(e)}function $u(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ho(e){return Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ho(e)}function Nd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rT=function(e){K1(r,e);var t=J1(r);function r(){var n;Z1(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Nd($u(n),"priority",80),Nd($u(n),"incompatibleTokens",["b","B","H","k","t","T"]),n}return X1(r,[{key:"parse",value:function(a,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"})||s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})||s.dayPeriod(a,{width:"abbreviated",context:"formatting"})||s.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,o,s){return a.setUTCHours(Pl(s),0,0,0),a}}]),r}(He);function Wa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wa=function(r){return typeof r}:Wa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wa(e)}function nT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ad(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aT(e,t,r){return t&&Ad(e.prototype,t),r&&Ad(e,r),e}function oT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Iu(e,t)}function Iu(e,t){return Iu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Iu(e,t)}function iT(e){var t=uT();return function(){var n=zo(e),a;if(t){var o=zo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return sT(this,a)}}function sT(e,t){return t&&(Wa(t)==="object"||typeof t=="function")?t:Mu(e)}function Mu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zo(e){return zo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},zo(e)}function Pd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cT=function(e){oT(r,e);var t=iT(r);function r(){var n;nT(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Pd(Mu(n),"priority",80),Pd(Mu(n),"incompatibleTokens",["a","B","H","k","t","T"]),n}return aT(r,[{key:"parse",value:function(a,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"})||s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})||s.dayPeriod(a,{width:"abbreviated",context:"formatting"})||s.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,o,s){return a.setUTCHours(Pl(s),0,0,0),a}}]),r}(He);function Ya(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ya=function(r){return typeof r}:Ya=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ya(e)}function lT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fT(e,t,r){return t&&Dd(e.prototype,t),r&&Dd(e,r),e}function dT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fu(e,t)}function Fu(e,t){return Fu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Fu(e,t)}function pT(e){var t=hT();return function(){var n=Wo(e),a;if(t){var o=Wo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return mT(this,a)}}function mT(e,t){return t&&(Ya(t)==="object"||typeof t=="function")?t:ku(e)}function ku(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wo(e){return Wo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Wo(e)}function $d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yT=function(e){dT(r,e);var t=pT(r);function r(){var n;lT(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),$d(ku(n),"priority",80),$d(ku(n),"incompatibleTokens",["a","b","t","T"]),n}return fT(r,[{key:"parse",value:function(a,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"})||s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})||s.dayPeriod(a,{width:"abbreviated",context:"formatting"})||s.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,o,s){return a.setUTCHours(Pl(s),0,0,0),a}}]),r}(He);function Ga(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ga=function(r){return typeof r}:Ga=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ga(e)}function vT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Id(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gT(e,t,r){return t&&Id(e.prototype,t),r&&Id(e,r),e}function bT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bu(e,t)}function Bu(e,t){return Bu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Bu(e,t)}function wT(e){var t=_T();return function(){var n=Yo(e),a;if(t){var o=Yo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return xT(this,a)}}function xT(e,t){return t&&(Ga(t)==="object"||typeof t=="function")?t:Lu(e)}function Lu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yo(e){return Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Yo(e)}function Md(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ET=function(e){bT(r,e);var t=wT(r);function r(){var n;vT(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Md(Lu(n),"priority",70),Md(Lu(n),"incompatibleTokens",["H","K","k","t","T"]),n}return gT(r,[{key:"parse",value:function(a,o,s){switch(o){case"h":return rt(at.hour12h,a);case"ho":return s.ordinalNumber(a,{unit:"hour"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){return o>=1&&o<=12}},{key:"set",value:function(a,o,s){var u=a.getUTCHours()>=12;return u&&s<12?a.setUTCHours(s+12,0,0,0):!u&&s===12?a.setUTCHours(0,0,0,0):a.setUTCHours(s,0,0,0),a}}]),r}(He);function Qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qa=function(r){return typeof r}:Qa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qa(e)}function ST(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TT(e,t,r){return t&&Fd(e.prototype,t),r&&Fd(e,r),e}function OT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uu(e,t)}function Uu(e,t){return Uu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Uu(e,t)}function CT(e){var t=NT();return function(){var n=Go(e),a;if(t){var o=Go(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return RT(this,a)}}function RT(e,t){return t&&(Qa(t)==="object"||typeof t=="function")?t:qu(e)}function qu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Go(e){return Go=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Go(e)}function kd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var AT=function(e){OT(r,e);var t=CT(r);function r(){var n;ST(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),kd(qu(n),"priority",70),kd(qu(n),"incompatibleTokens",["a","b","h","K","k","t","T"]),n}return TT(r,[{key:"parse",value:function(a,o,s){switch(o){case"H":return rt(at.hour23h,a);case"Ho":return s.ordinalNumber(a,{unit:"hour"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){return o>=0&&o<=23}},{key:"set",value:function(a,o,s){return a.setUTCHours(s,0,0,0),a}}]),r}(He);function Za(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Za=function(r){return typeof r}:Za=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Za(e)}function PT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DT(e,t,r){return t&&Bd(e.prototype,t),r&&Bd(e,r),e}function $T(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vu(e,t)}function Vu(e,t){return Vu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Vu(e,t)}function IT(e){var t=FT();return function(){var n=Qo(e),a;if(t){var o=Qo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return MT(this,a)}}function MT(e,t){return t&&(Za(t)==="object"||typeof t=="function")?t:ju(e)}function ju(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qo(e){return Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Qo(e)}function Ld(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kT=function(e){$T(r,e);var t=IT(r);function r(){var n;PT(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Ld(ju(n),"priority",70),Ld(ju(n),"incompatibleTokens",["h","H","k","t","T"]),n}return DT(r,[{key:"parse",value:function(a,o,s){switch(o){case"K":return rt(at.hour11h,a);case"Ko":return s.ordinalNumber(a,{unit:"hour"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){return o>=0&&o<=11}},{key:"set",value:function(a,o,s){var u=a.getUTCHours()>=12;return u&&s<12?a.setUTCHours(s+12,0,0,0):a.setUTCHours(s,0,0,0),a}}]),r}(He);function Xa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xa=function(r){return typeof r}:Xa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xa(e)}function BT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ud(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LT(e,t,r){return t&&Ud(e.prototype,t),r&&Ud(e,r),e}function UT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hu(e,t)}function Hu(e,t){return Hu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Hu(e,t)}function qT(e){var t=jT();return function(){var n=Zo(e),a;if(t){var o=Zo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return VT(this,a)}}function VT(e,t){return t&&(Xa(t)==="object"||typeof t=="function")?t:zu(e)}function zu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zo(e){return Zo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Zo(e)}function qd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var HT=function(e){UT(r,e);var t=qT(r);function r(){var n;BT(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),qd(zu(n),"priority",70),qd(zu(n),"incompatibleTokens",["a","b","h","H","K","t","T"]),n}return LT(r,[{key:"parse",value:function(a,o,s){switch(o){case"k":return rt(at.hour24h,a);case"ko":return s.ordinalNumber(a,{unit:"hour"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){return o>=1&&o<=24}},{key:"set",value:function(a,o,s){var u=s<=24?s%24:s;return a.setUTCHours(u,0,0,0),a}}]),r}(He);function Ka(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ka=function(r){return typeof r}:Ka=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ka(e)}function zT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function WT(e,t,r){return t&&Vd(e.prototype,t),r&&Vd(e,r),e}function YT(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wu(e,t)}function Wu(e,t){return Wu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Wu(e,t)}function GT(e){var t=ZT();return function(){var n=Xo(e),a;if(t){var o=Xo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return QT(this,a)}}function QT(e,t){return t&&(Ka(t)==="object"||typeof t=="function")?t:Yu(e)}function Yu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xo(e){return Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Xo(e)}function jd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var XT=function(e){YT(r,e);var t=GT(r);function r(){var n;zT(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),jd(Yu(n),"priority",60),jd(Yu(n),"incompatibleTokens",["t","T"]),n}return WT(r,[{key:"parse",value:function(a,o,s){switch(o){case"m":return rt(at.minute,a);case"mo":return s.ordinalNumber(a,{unit:"minute"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){return o>=0&&o<=59}},{key:"set",value:function(a,o,s){return a.setUTCMinutes(s,0,0),a}}]),r}(He);function Ja(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ja=function(r){return typeof r}:Ja=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ja(e)}function KT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JT(e,t,r){return t&&Hd(e.prototype,t),r&&Hd(e,r),e}function eO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gu(e,t)}function Gu(e,t){return Gu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Gu(e,t)}function tO(e){var t=nO();return function(){var n=Ko(e),a;if(t){var o=Ko(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return rO(this,a)}}function rO(e,t){return t&&(Ja(t)==="object"||typeof t=="function")?t:Qu(e)}function Qu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ko(e){return Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Ko(e)}function zd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var aO=function(e){eO(r,e);var t=tO(r);function r(){var n;KT(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),zd(Qu(n),"priority",50),zd(Qu(n),"incompatibleTokens",["t","T"]),n}return JT(r,[{key:"parse",value:function(a,o,s){switch(o){case"s":return rt(at.second,a);case"so":return s.ordinalNumber(a,{unit:"second"});default:return nt(o.length,a)}}},{key:"validate",value:function(a,o){return o>=0&&o<=59}},{key:"set",value:function(a,o,s){return a.setUTCSeconds(s,0),a}}]),r}(He);function eo(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eo=function(r){return typeof r}:eo=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},eo(e)}function oO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iO(e,t,r){return t&&Wd(e.prototype,t),r&&Wd(e,r),e}function sO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zu(e,t)}function Zu(e,t){return Zu=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Zu(e,t)}function uO(e){var t=lO();return function(){var n=Jo(e),a;if(t){var o=Jo(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return cO(this,a)}}function cO(e,t){return t&&(eo(t)==="object"||typeof t=="function")?t:Xu(e)}function Xu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Jo(e){return Jo=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Jo(e)}function Yd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fO=function(e){sO(r,e);var t=uO(r);function r(){var n;oO(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Yd(Xu(n),"priority",30),Yd(Xu(n),"incompatibleTokens",["t","T"]),n}return iO(r,[{key:"parse",value:function(a,o){var s=function(c){return Math.floor(c*Math.pow(10,-o.length+3))};return ot(nt(o.length,a),s)}},{key:"set",value:function(a,o,s){return a.setUTCMilliseconds(s),a}}]),r}(He);function to(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?to=function(r){return typeof r}:to=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},to(e)}function dO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pO(e,t,r){return t&&Gd(e.prototype,t),r&&Gd(e,r),e}function mO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ku(e,t)}function Ku(e,t){return Ku=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Ku(e,t)}function hO(e){var t=vO();return function(){var n=ei(e),a;if(t){var o=ei(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return yO(this,a)}}function yO(e,t){return t&&(to(t)==="object"||typeof t=="function")?t:Ju(e)}function Ju(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ei(e){return ei=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ei(e)}function Qd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gO=function(e){mO(r,e);var t=hO(r);function r(){var n;dO(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Qd(Ju(n),"priority",10),Qd(Ju(n),"incompatibleTokens",["t","T","x"]),n}return pO(r,[{key:"parse",value:function(a,o){switch(o){case"X":return Zt(Qt.basicOptionalMinutes,a);case"XX":return Zt(Qt.basic,a);case"XXXX":return Zt(Qt.basicOptionalSeconds,a);case"XXXXX":return Zt(Qt.extendedOptionalSeconds,a);case"XXX":default:return Zt(Qt.extended,a)}}},{key:"set",value:function(a,o,s){return o.timestampIsSet?a:new Date(a.getTime()-s)}}]),r}(He);function ro(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ro=function(r){return typeof r}:ro=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ro(e)}function bO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wO(e,t,r){return t&&Zd(e.prototype,t),r&&Zd(e,r),e}function xO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ec(e,t)}function ec(e,t){return ec=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},ec(e,t)}function _O(e){var t=SO();return function(){var n=ti(e),a;if(t){var o=ti(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return EO(this,a)}}function EO(e,t){return t&&(ro(t)==="object"||typeof t=="function")?t:tc(e)}function tc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ti(e){return ti=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ti(e)}function Xd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var TO=function(e){xO(r,e);var t=_O(r);function r(){var n;bO(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Xd(tc(n),"priority",10),Xd(tc(n),"incompatibleTokens",["t","T","X"]),n}return wO(r,[{key:"parse",value:function(a,o){switch(o){case"x":return Zt(Qt.basicOptionalMinutes,a);case"xx":return Zt(Qt.basic,a);case"xxxx":return Zt(Qt.basicOptionalSeconds,a);case"xxxxx":return Zt(Qt.extendedOptionalSeconds,a);case"xxx":default:return Zt(Qt.extended,a)}}},{key:"set",value:function(a,o,s){return o.timestampIsSet?a:new Date(a.getTime()-s)}}]),r}(He);function no(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?no=function(r){return typeof r}:no=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},no(e)}function OO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CO(e,t,r){return t&&Kd(e.prototype,t),r&&Kd(e,r),e}function RO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rc(e,t)}function rc(e,t){return rc=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},rc(e,t)}function NO(e){var t=PO();return function(){var n=ri(e),a;if(t){var o=ri(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return AO(this,a)}}function AO(e,t){return t&&(no(t)==="object"||typeof t=="function")?t:nc(e)}function nc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ri(e){return ri=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ri(e)}function Jd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var DO=function(e){RO(r,e);var t=NO(r);function r(){var n;OO(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),Jd(nc(n),"priority",40),Jd(nc(n),"incompatibleTokens","*"),n}return CO(r,[{key:"parse",value:function(a){return hh(a)}},{key:"set",value:function(a,o,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),r}(He);function ao(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ao=function(r){return typeof r}:ao=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ao(e)}function $O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ep(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IO(e,t,r){return t&&ep(e.prototype,t),r&&ep(e,r),e}function MO(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ac(e,t)}function ac(e,t){return ac=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},ac(e,t)}function FO(e){var t=BO();return function(){var n=ni(e),a;if(t){var o=ni(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return kO(this,a)}}function kO(e,t){return t&&(ao(t)==="object"||typeof t=="function")?t:oc(e)}function oc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ni(e){return ni=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ni(e)}function tp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var LO=function(e){MO(r,e);var t=FO(r);function r(){var n;$O(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o)),tp(oc(n),"priority",20),tp(oc(n),"incompatibleTokens","*"),n}return IO(r,[{key:"parse",value:function(a){return hh(a)}},{key:"set",value:function(a,o,s){return[new Date(s),{timestampIsSet:!0}]}}]),r}(He),UO={G:new UE,y:new YE,Y:new eS,R:new sS,u:new mS,Q:new xS,q:new RS,M:new MS,L:new VS,w:new ZS,I:new a1,d:new p1,D:new w1,E:new C1,e:new I1,c:new q1,i:new Q1,a:new rT,b:new cT,B:new yT,h:new ET,H:new AT,K:new kT,k:new HT,m:new XT,s:new aO,S:new fO,X:new gO,x:new TO,t:new DO,T:new LO};function oo(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?oo=function(r){return typeof r}:oo=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},oo(e)}function rp(e,t){var r;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(r=qO(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,u;return{s:function(){r=e[Symbol.iterator]()},n:function(){var l=r.next();return o=l.done,l},e:function(l){s=!0,u=l},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw u}}}}function qO(e,t){if(!!e){if(typeof e=="string")return np(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return np(e,t)}}function np(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var VO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HO=/^'([^]*?)'?$/,zO=/''/g,WO=/\S/,YO=/[a-zA-Z]/;function GO(e,t,r,n){var a,o,s,u,c,l,h,g,O,C,w,_,R,v,S,A,N,$;Je(3,arguments);var I=String(e),V=String(t),L=vn(),P=(a=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:L.locale)!==null&&a!==void 0?a:fh;if(!P.match)throw new RangeError("locale must contain match property");var j=_t((s=(u=(c=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(h=n.locale)===null||h===void 0||(g=h.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&c!==void 0?c:L.firstWeekContainsDate)!==null&&u!==void 0?u:(O=L.locale)===null||O===void 0||(C=O.options)===null||C===void 0?void 0:C.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var K=_t((w=(_=(R=(v=n==null?void 0:n.weekStartsOn)!==null&&v!==void 0?v:n==null||(S=n.locale)===null||S===void 0||(A=S.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&R!==void 0?R:L.weekStartsOn)!==null&&_!==void 0?_:(N=L.locale)===null||N===void 0||($=N.options)===null||$===void 0?void 0:$.weekStartsOn)!==null&&w!==void 0?w:0);if(!(K>=0&&K<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(V==="")return I===""?Ke(r):new Date(NaN);var ce={firstWeekContainsDate:j,weekStartsOn:K,locale:P},ae=[new PE],le=V.match(jO).map(function(Y){var re=Y[0];if(re in Zs){var Ae=Zs[re];return Ae(Y,P.formatLong)}return Y}).join("").match(VO),ge=[],xe=rp(le),Ce;try{var ye=function(){var re=Ce.value;!(n!=null&&n.useAdditionalWeekYearTokens)&&lh(re)&&So(re,V,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&ch(re)&&So(re,V,e);var Ae=re[0],Te=UO[Ae];if(Te){var ne=Te.incompatibleTokens;if(Array.isArray(ne)){var ee=ge.find(function(Ct){return ne.includes(Ct.token)||Ct.token===Ae});if(ee)throw new RangeError("The format string mustn't contain `".concat(ee.fullToken,"` and `").concat(re,"` at the same time"))}else if(Te.incompatibleTokens==="*"&&ge.length>0)throw new RangeError("The format string mustn't contain `".concat(re,"` and any other token at the same time"));ge.push({token:Ae,fullToken:re});var ft=Te.run(I,re,P.match,ce);if(!ft)return{v:new Date(NaN)};ae.push(ft.setter),I=ft.rest}else{if(Ae.match(YO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ae+"`");if(re==="''"?re="'":Ae==="'"&&(re=QO(re)),I.indexOf(re)===0)I=I.slice(re.length);else return{v:new Date(NaN)}}};for(xe.s();!(Ce=xe.n()).done;){var Re=ye();if(oo(Re)==="object")return Re.v}}catch(Y){xe.e(Y)}finally{xe.f()}if(I.length>0&&WO.test(I))return new Date(NaN);var pe=ae.map(function(Y){return Y.priority}).sort(function(Y,re){return re-Y}).filter(function(Y,re,Ae){return Ae.indexOf(Y)===re}).map(function(Y){return ae.filter(function(re){return re.priority===Y}).sort(function(re,Ae){return Ae.subPriority-re.subPriority})}).map(function(Y){return Y[0]}),oe=Ke(r);if(isNaN(oe.getTime()))return new Date(NaN);var X=ah(oe,rh(oe)),Ze={},$e=rp(pe),ze;try{for($e.s();!(ze=$e.n()).done;){var me=ze.value;if(!me.validate(X,ce))return new Date(NaN);var Q=me.set(X,Ze,ce);Array.isArray(Q)?(X=Q[0],EE(Ze,Q[1])):X=Q}}catch(Y){$e.e(Y)}finally{$e.f()}return X}function QO(e){return e.match(HO)[1].replace(zO,"'")}function gh(e,t){var r;Je(1,arguments);var n=_t((r=t==null?void 0:t.additionalDigits)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=JO(e),o;if(a.date){var s=eC(a.date,n);o=tC(s.restDateString,s.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var u=o.getTime(),c=0,l;if(a.time&&(c=rC(a.time),isNaN(c)))return new Date(NaN);if(a.timezone){if(l=nC(a.timezone),isNaN(l))return new Date(NaN)}else{var h=new Date(u+c),g=new Date(0);return g.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),g.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),g}return new Date(u+c+l)}var la={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ZO=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,XO=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,KO=/^([+-])(\d{2})(?::?(\d{2}))?$/;function JO(e){var t={},r=e.split(la.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],la.timeZoneDelimiter.test(t.date)&&(t.date=e.split(la.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=la.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function eC(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?a:o*100,restDateString:e.slice((n[1]||n[2]).length)}}function tC(e,t){if(t===null)return new Date(NaN);var r=e.match(ZO);if(!r)return new Date(NaN);var n=!!r[4],a=En(r[1]),o=En(r[2])-1,s=En(r[3]),u=En(r[4]),c=En(r[5])-1;if(n)return uC(t,u,c)?aC(t,u,c):new Date(NaN);var l=new Date(0);return!iC(t,o,s)||!sC(t,a)?new Date(NaN):(l.setUTCFullYear(t,o,Math.max(a,s)),l)}function En(e){return e?parseInt(e):1}function rC(e){var t=e.match(XO);if(!t)return NaN;var r=vs(t[1]),n=vs(t[2]),a=vs(t[3]);return cC(r,n,a)?r*Cl+n*Ol+a*1e3:NaN}function vs(e){return e&&parseFloat(e.replace(",","."))||0}function nC(e){if(e==="Z")return 0;var t=e.match(KO);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return lC(n,a)?r*(n*Cl+a*Ol):NaN}function aC(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,o=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+o),n}var oC=[31,null,31,30,31,30,31,31,30,31,30,31];function bh(e){return e%400===0||e%4===0&&e%100!==0}function iC(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(oC[t]||(bh(e)?29:28))}function sC(e,t){return t>=1&&t<=(bh(e)?366:365)}function uC(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function cC(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function lC(e,t){return t>=0&&t<=59}function vt(e){if(!e)return;const t=gh(e);return Zn(t,"P")}const fC=e=>{const t=["P","yyyyMMddHHmm"];for(let r=0;r<t.length;r+=1){const n=GO(e,t[r],new Date);if(Eo(n))return n}return e};function dC(e){if(!e)return;const t=fC(e);return t instanceof Date?SE(t,{representation:"date"}):t}function pC(e){if(!e)return;const t=e.substring(4,6),r=e.substring(6,8),n=e.substring(0,4);return`${t}/${r}/${n}`}function Dr(e){if(e)return e.toISOString().split("T")[0]}function mC(e){if(!e)return;const r=e.replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return r?`${r[1]}-${r[2]}-${r[3]}`:e}const hC=e=>{const t=Ee.get("resource.medicationCodeableConcept.coding.0",e);return t?`${t.system}_${t.code}`:""},yC=e=>{var r;const t=new Date((r=e.dateLocal)!=null?r:0);return Dr(t)},vC=e=>{var r;const t=new Date((r=e.date)!=null?r:0);return e.resourceType==="MedicationRequest"?t.getTime()-1:t.getTime()},gC=e=>{if(e.length===0)return e;const t=(a,o)=>[a,a.resourceType,o],r=Ee.pipe(Ee.groupBy(yC),Ee.mapValues(a=>Ee.orderBy(vC,"asc",a)),Ee.mapValues(a=>a.map(t)),Ee.mapValues(bC))(e);return Ee.orderBy(a=>new Date(a).getTime(),"desc",Ee.keys(r)).map(a=>r[a]).reduce(Ee.concat)};function bC(e=[]){const t=new Map,r=e.map(([n,a,o])=>{const s=hC(n);if(a==="MedicationDispense")t.set(s,o);else if(t.has(s)&&a==="MedicationRequest"){const u=t.get(s);return{model:n,type:a,sortOrder:u-.1}}return{model:n,type:a,sortOrder:o}});return Ee.orderBy(Ee.get("sortOrder"),"desc",r).map(Ee.get("model"))}const ai=({data:e,hideEmpty:t=!0,onEdit:r,documentButton:n})=>p.createElement("div",{className:"ctw-rounded-lg ctw-bg-bg-lighter"},p.createElement("dl",{className:"ctw-space-y-2 ctw-p-4"},p.createElement("div",{className:"ctw-flex ctw-justify-between ctw-space-x-2 ctw-text-sm ctw-uppercase ctw-text-content-light"},p.createElement("div",{className:"ctw-title-container"},"Details"),p.createElement("div",{className:"ctw-flex"},n,r&&p.createElement("button",{type:"button",className:"ctw-btn-default ctw-flex ctw-space-x-2 ctw-align-middle",onClick:r},p.createElement(V0,{className:"ctw-h-4 ctw-w-4"}),p.createElement("span",null,"Update")))),e.filter(a=>!t||a.value||a.value===0).map(({label:a,value:o})=>p.createElement("div",{key:a,className:"ctw-text-gray-900 ctw-flex ctw-items-baseline"},p.createElement("dt",{className:"ctw-w-1/3 ctw-flex-shrink-0 ctw-font-medium"},a),p.createElement("dd",{className:"ctw-m-0"},o)))));try{ai.displayName="Details",ai.__docgenInfo={description:"",displayName:"Details",props:{hideEmpty:{defaultValue:{value:"true"},description:"",name:"hideEmpty",required:!1,type:{name:"boolean"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"CollapsibleDataListEntry[]"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"(() => void)"}},documentButton:{defaultValue:null,description:"",name:"documentButton",required:!1,type:{name:"ReactNode"}}}}}catch{}const ic=({id:e,date:t,title:r,subtitle:n,data:a,hideEmpty:o,documentButton:s})=>{const[u,c]=y.exports.useState(!1);return p.createElement("div",{className:"ctw-collapsible-data-list ctw-space-y-1"},p.createElement(wC,{date:t,title:r,subtitle:n,isDetailShown:u,setIsDetailShown:c}),u&&p.createElement(ai,{data:a,hideEmpty:o,documentButton:s}))},wC=({date:e,title:t,subtitle:r,isDetailShown:n,setIsDetailShown:a})=>p.createElement("button",{type:"button","aria-label":"details",onClick:()=>a(!n),className:"ctw-w-full ctw-cursor-pointer ctw-border-none ctw-bg-transparent ctw-p-0 ctw-text-base ctw-outline-none"},p.createElement("div",{className:"ctw-flex ctw-items-center ctw-justify-between ctw-rounded-lg ctw-bg-bg-white ctw-p-3 ctw-text-left ctw-outline ctw-outline-1 ctw-outline-bg-dark"},p.createElement("div",{className:"ctw-flex ctw-space-x-3"},e&&p.createElement("div",{className:"ctw-min-w-[5rem]"},e),p.createElement("div",null,p.createElement("div",{className:"ctw-font-semibold ctw-text-content-black"},t),p.createElement("div",{className:"ctw-text-content-light"},r))),p.createElement("div",{className:"ctw-justify-right ctw-flex"},p.createElement(E0,{className:it("ctw-h-5 ctw-w-5 ctw-text-primary-dark",{"ctw-rotate-90":n})}))));try{ic.displayName="CollapsibleDataList",ic.__docgenInfo={description:"",displayName:"CollapsibleDataList",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},date:{defaultValue:null,description:"",name:"date",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},subtitle:{defaultValue:null,description:"",name:"subtitle",required:!1,type:{name:"string"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"CollapsibleDataListEntry[]"}},hideEmpty:{defaultValue:null,description:"",name:"hideEmpty",required:!1,type:{name:"boolean"}},documentButton:{defaultValue:null,description:"",name:"documentButton",required:!1,type:{name:"ReactNode"}}}}}catch{}const Mn=({entries:e,limit:t})=>{const[r,n]=y.exports.useState(!t||e.length<=t);return p.createElement("div",{className:"ctw-space-y-3"},p.createElement("div",{className:"ctw-text-base ctw-font-medium ctw-uppercase ctw-text-content-light"},"History"),e.map(a=>p.createElement("div",{key:`${a.id}`},p.createElement(ic,{id:a.id,date:a.date,title:a.title,subtitle:a.subtitle,data:a.data,hideEmpty:a.hideEmpty,documentButton:a.documentButton}))),!r&&p.createElement("div",{className:"ctw-text-center"},p.createElement("button",{type:"button",className:"ctw-link-primary",onClick:()=>n(!0)},"Load ",e.length-t," More")))};try{Mn.displayName="CollapsibleDataListStack",Mn.__docgenInfo={description:"",displayName:"CollapsibleDataListStack",props:{entries:{defaultValue:null,description:"",name:"entries",required:!0,type:{name:"CollapsibleDataListStackEntries"}},limit:{defaultValue:null,description:"",name:"limit",required:!1,type:{name:"number"}}}}}catch{}const zi=e=>e.resourceType==="Bundle";function xC(e,t){var n;const r=[];return zi(e)&&((n=e.entry)==null||n.forEach(a=>{var o;((o=a.resource)==null?void 0:o.resourceType)===t&&r.push(a.resource)})),r}function _C(e){var r;const t={};return zi(e)&&((r=e.entry)==null||r.forEach(n=>{const{resource:a}=n;if(!a)return;const o=`${a.resourceType}/${a.id}`;t[o]=a})),t}function $l(e){var r;const t={};return zi(e)&&((r=e.entry)==null||r.forEach(n=>{const{resource:a,search:o}=n;if(!a||(o==null?void 0:o.mode)!=="include")return;const s=`${a.resourceType}/${a.id}`;t[s]=a})),t}function EC(e){const t={};return!zi(e)||!e.entry||e.entry.forEach(r=>{var s,u,c;const{resource:n,search:a}=r;if(!n||(a==null?void 0:a.mode)!=="include"||n.resourceType!=="Basic")return;const o=G.exports.last((u=(s=n.subject)==null?void 0:s.reference)==null?void 0:u.split("/"));!o||(t[o]||(t[o]=[]),(c=t[o])==null||c.push(n))}),t}function wh(e){return Object.assign({},...e.map(t=>$l(t)))}function lr(e,t,r,n){var a;if(!!n){if(n.startsWith("#"))return G.exports.find(t,{id:n.substring(1),resourceType:e});if(((a=r==null?void 0:r[n])==null?void 0:a.resourceType)===e)return r[n]}}const SC="http://terminology.hl7.org/CodeSystem/basic-resource-type",TC="http://terminology.hl7.org/CodeSystem/condition-category",sc="http://terminology.hl7.org/CodeSystem/condition-clinical",Il="http://terminology.hl7.org/CodeSystem/condition-ver-status",xh="http://terminology.hl7.org/3.1.0/CodeSystem-v3-DataOperation.html",OC="http://terminology.hl7.org/CodeSystem/provenance-participant-type",ap="https://www.hcup-us.ahrq.gov/toolssoftware/ccsr/dxccsr.jsp",CC="http://hl7.org/fhir/sid/icd-9",RC="http://hl7.org/fhir/sid/icd-9-cm",An="http://hl7.org/fhir/sid/icd-10",NC="http://hl7.org/fhir/sid/icd-10-cm",_h="http://www.nlm.nih.gov/research/umls/rxnorm",Xr="http://snomed.info/sct",Eh="https://zusapi.com/summary",uc="https://zusapi.com/lens",Ml="https://zusapi.com/accesscontrol/owner",cc="https://zusapi.com/profile/action",gs="https://zusapi.com/thirdparty/source",Wi="https://zusapi.com/fhir/identifier/universal-id",AC="https://zusapi.com/fhir/tag/upi-record-type",Sh="https://zusapi.com/terminology/enrichment",Th="https://zusapi.com/lens/extension/medicationLastFillDate",Oh="https://zusapi.com/lens/extension/medicationLastPrescribedDate",Ch="https://zusapi.com/lens/extension/medicationQuantity",Rh="https://zusapi.com/lens/extension/medicationDaysSupply",Nh="https://zusapi.com/lens/extension/medicationRefills",Ah="https://zusapi.com/lens/extension/medicationLastPrescriber",Ph="https://zusapi.com/lens/extension/aggregatedFrom",Dh="https://zusapi.com/ctw-component-library/extension/lensAggregatedFrom",PC={active:"Currently taking","entered-in-error":"Never taken","not-taken":"Prescribed, not taken",completed:"No longer taking","on-hold":"On hold",intended:"Intend to take",stopped:"No longer taking"};function $h(e,t){var n;if(e.medicationCodeableConcept)return e.medicationCodeableConcept;const r=lr("Medication",e.contained,t,(n=e.medicationReference)==null?void 0:n.reference);return r==null?void 0:r.code}function Kr(e,t){var r;return(r=Ih(e,t))==null?void 0:r.code}function Ih(e,t){var a;const r=$h(e,t),n=["ActiveIngredient","BrandName"];return(a=r==null?void 0:r.coding)==null?void 0:a.find(o=>o.system===_h&&(o.extension===void 0||!o.extension.some(s=>s.url===Sh&&s.valueString&&n.includes(s.valueString))))}function Mh(e,t){var n,a,o;let r;switch(e.resourceType){case"MedicationAdministration":case"MedicationDispense":r=(a=(n=e.performer)==null?void 0:n[0])==null?void 0:a.actor;break;case"MedicationRequest":r=e.performer||((o=e.dispenseRequest)==null?void 0:o.performer);break;case"MedicationStatement":default:return}if((r==null?void 0:r.reference)&&r.type==="Organization")return lr("Organization",e.contained,t,r.reference)}function DC(e){return G.exports.get(PC,e,"")}const $C=250,IC=[`${gs}|surescripts`,`${gs}|commonwell`,`${gs}|elation`],Fh=[`${uc}|ActiveMedications`,`${uc}|ChronicConditions`],kh=[`${AC}|universal`],Fl=[`${Eh}|Common`];async function Xn(e,t,r){var h;const{patientUPID:n,_count:a,...o}=r!=null?r:{},u=typeof a>"u"?$C:a,c=await t.fhirClient.search({resourceType:e,searchParams:{...o,_count:u,...BC(e,n)}}),l=xC(c,e);return{bundle:c,total:(h=c.total)!=null?h:0,resources:l}}async function Kn(e,t,r){const n=[...IC,...Fh,...Fl,...kh],a=`${Ml}|builder/${t.builderId}`,o=Yi(r,{_tag:[a],"_tag:not":n});return Xn(e,t,o)}async function MC(e,t,r,n){const a=[`${uc}|${r}`,`${Ml}|builder/${t.builderId}`],o=Yi(n,{_tag:a});return Xn(e,t,o)}async function FC(e,t,r){const n=[...Fl,`${Ml}|builder/${t.builderId}`],a=Yi(r,{_tag:n});return Xn(e,t,a)}async function kC(e,t,r){const n=Yi(r,{"_tag:not":[...Fh,...Fl,...kh]});return Xn(e,t,n)}function BC(e,t){if(!t)return{};const r=`${Wi}|${t}`;switch(e){case"Coverage":return{"beneficiary.identifier":r};case"Condition":case"Encounter":case"MedicationAdministration":case"MedicationDispense":case"MedicationRequest":case"MedicationStatement":return{"patient.identifier":r};case"Patient":return{identifier:r};default:throw new Error(`Unhandled patient search for resource type: ${e}`)}}function Yi(e,t){return G.exports.mergeWith(e,t,(r,n)=>Array.isArray(r)?r.concat(n):void 0)}let fa;const LC=new Uint8Array(16);function UC(){if(!fa&&(fa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!fa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fa(LC)}const pt=[];for(let e=0;e<256;++e)pt.push((e+256).toString(16).slice(1));function qC(e,t=0){return(pt[e[t+0]]+pt[e[t+1]]+pt[e[t+2]]+pt[e[t+3]]+"-"+pt[e[t+4]]+pt[e[t+5]]+"-"+pt[e[t+6]]+pt[e[t+7]]+"-"+pt[e[t+8]]+pt[e[t+9]]+"-"+pt[e[t+10]]+pt[e[t+11]]+pt[e[t+12]]+pt[e[t+13]]+pt[e[t+14]]+pt[e[t+15]]).toLowerCase()}const VC=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),op={randomUUID:VC};function ip(e,t,r){if(op.randomUUID&&!t&&!e)return op.randomUUID();e=e||{};const n=e.random||(e.rng||UC)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let a=0;a<16;++a)t[r+a]=n[a];return t}return qC(n)}function Bh(e){return typeof e=="object"&&e!==null?"issue"in e:!1}const wt=e=>{var t,r,n,a,o,s,u;return(u=(s=(n=e==null?void 0:e.text)!=null?n:(r=(t=e==null?void 0:e.coding)==null?void 0:t[0])==null?void 0:r.display)!=null?s:(o=(a=e==null?void 0:e.coding)==null?void 0:a[0])==null?void 0:o.code)!=null?u:""};function Ut(e,t){return G.exports.find(t==null?void 0:t.coding,{system:e})}function Lh(e,t){return G.exports.find(t==null?void 0:t.coding,{system:e,extension:[{url:Sh}]})}const sp=(e,t)=>{for(let r=0;r<e.length;r+=1){const n=e[r];if(n.checkForEnrichment){const a=Lh(n.system,t);if(a)return a}else{const a=Ut(n.system,t);if(a)return a}}};class jC{constructor(t){Rr(this,"resource");this.resource=t}get display(){return wt(this.resource.details)||this.resource.diagnostics||`${this.resource.code} error`}get severity(){return this.resource.severity}}class Uh{constructor(t){Rr(this,"resource");this.resource=t}get display(){return this.resource.issue.filter(r=>r.severity!=="warning").map(r=>{let n="";return r.location&&r.location.length>0&&(n+=`${r.location[0]} -- `),`${n}${r.diagnostics}`}).join("; ")}get issues(){return this.resource.issue.map(t=>new jC(t))}get resourceType(){return this.resource.resourceType}}function oi(e){return typeof e=="object"&&e!==null?"response"in e&&"config"in e:!1}const HC=(e,t)=>{const{data:r,status:n}=t.response;let a="";return Bh(r)&&(a=new Uh(r).display),{title:e,status:n,statusText:a}};class vr{constructor(t,r,n){Rr(this,"resource");Rr(this,"includedResources");Rr(this,"revIncludes");this.resource=t,this.includedResources=r,this.revIncludes=n}get id(){return this.resource.id||""}get isSummaryResource(){var t;return G.exports.find((t=this.resource.meta)==null?void 0:t.tag,{system:Eh})!==void 0}get resourceType(){return this.resource.resourceType}getBasicResourceByAction(t){return G.exports.find(this.revIncludes,{resourceType:"Basic",meta:{tag:[{system:cc,code:t}]}})}toString(){return`new ${this.constructor.name}(${JSON.stringify(this.resource,null,2)}
)`}}class kl extends vr{get fullName(){var n,a;const t=(n=this.resource.name)==null?void 0:n[0];return[(a=t==null?void 0:t.given)!=null&&a.length?t.given[0]:"",t==null?void 0:t.family].filter(o=>o).join(" ")}}const zC=async(e,t)=>{let r=[];try{const{resources:n}=await Kn("Practitioner",t,{_id:e});r=n}catch(n){throw new Error(`Failed fetching practitioner with an id of: ${e}. ${n}`)}if(!r[0])throw new Error(`No practitioner found with an id of: ${e}`);return new kl(r[0])};async function Gi(e){const t=$g(e.authToken);if(t){const r=await zC(t,e);return{reference:`Practitioner/${t}`,type:"Practitioner",display:r.fullName}}return{display:Ig(e.authToken)}}const qh={system:OC,code:"assembler",display:"Assembler"},Vh={coding:[{system:xh,code:"CREATE",display:"create"}]},WC={coding:[{system:xh,code:"UPDATE",display:"revise"}]},YC=async(e,t,r)=>{var u;const{fhirClient:n}=r,a=lm(r.authToken),o=parseInt(((u=t.meta)==null?void 0:u.versionId)||"0",10),s={resourceType:"Provenance",agent:[{who:await Gi(r),onBehalfOf:{display:a}},{type:{coding:[qh]},who:{display:"Zus Health"}}],recorded:new Date().toISOString(),target:[{reference:`${t.resourceType}/${t.id}/_history/${o}`,type:t.resourceType}]};return s.activity=e==="CREATE"?Vh:WC,n.create({resourceType:"Provenance",body:s})};async function Qi(e,t){const{fhirClient:r}=t,n=e;try{if(e.id){const o=await r.update({resourceType:e.resourceType,id:e.id,body:$n(e)});return oi(o)||await YC("UPDATE",o,t),o}const a=await r.create({resourceType:e.resourceType,body:$n(e)});return oi(a)||(n.id=a.id),a}catch(a){return a}}async function GC(e,t){const{fhirClient:r}=t,n=lm(t.authToken),a=e.id||ip(),o=ip(),s={resourceType:"Bundle",type:"transaction",entry:[{request:{method:"POST",url:e.resourceType},fullUrl:a,resource:e},{request:{method:"POST",url:"Provenance"},fullUrl:o,resource:{resourceType:"Provenance",activity:Vh,agent:[{who:await Gi(t),onBehalfOf:{display:n}},{type:{coding:[qh]},who:{display:"Zus Health"}}],recorded:new Date().toISOString(),target:[{reference:`${e.resourceType}/${a}`,type:e.resourceType}]}}]};return r.transaction({body:$n({...s,type:"transaction"})})}async function QC(e,t,r){const n={resourceType:"Parameters",parameter:[{name:"meta",valueMeta:{tag:r}}]},{fhirClient:a}=t;await a.request(`${e.resourceType}/${e.id}/$meta-delete`,{method:"POST",body:JSON.stringify(n),options:{headers:{"content-type":"application/json"}}})}const Bl="patientConditions",Ll="otherProviderConditions",ZC="conditionHistory",Ul="patient",jh="medications",Hh="builder-medications",XC="patients-list",KC="medication-history",JC=async(e,t,r)=>{const n=await r(),a=G.exports.cloneDeep(e.resource);a.gender=t.gender,a.birthDate=Dr(t.dateOfBirth),a.name=[{use:"official",family:t.lastName,given:[t.firstName]}],a.address=[{line:[t.address],city:t.city,state:t.state,postalCode:t.zipCode}];const o=[];t.phone&&o.push({system:"phone",value:t.phone}),t.email&&o.push({system:"email",value:t.email}),a.telecom=o;const s=await Qi(a,n);return await Mr.invalidateQueries([Ul]),s};class eR extends vr{get name(){return this.resource.name}}const tR=[{text:"Annulled",code:"A"},{text:"Divorced",code:"D"},{text:"Interlocutory",code:"I"},{text:"Legally Separated",code:"L"},{text:"Married",code:"M"},{text:"Polygamous",code:"P"},{text:"Never Married",code:"S"},{text:"Domestic Partner",code:"T"},{text:"unmarried",code:"U"},{text:"Widowed",code:"W"}];class Zi extends vr{get active(){return this.resource.active}get contact(){return this.resource.contact}get dob(){return vt(this.resource.birthDate)}get age(){if(!this.resource.birthDate)return;const t=gh(this.resource.birthDate);return nh(new Date,t)}get gender(){return this.resource.gender}get maritalStatus(){var n,a,o;const t=(o=(a=(n=this.resource.maritalStatus)==null?void 0:n.coding)==null?void 0:a[0])==null?void 0:o.code,r=tR.find(s=>s.code===t);return r==null?void 0:r.text}get organization(){var r;const t=lr("Organization",this.resource.contained,this.includedResources,(r=this.resource.managingOrganization)==null?void 0:r.reference);if(t)return new eR(t,this.includedResources)}get use(){return this.bestName.use}get UPID(){var r;const t=(r=G.exports.find(this.resource.identifier,{system:Wi}))==null?void 0:r.value;if(!t)throw Error(`Patient with ID ${this.resource.identifier} does not have a UPID`);return t}getPhoneNumber(t){const r={system:"phone"};t&&(r.use=t);const n=G.exports.find(this.resource.telecom,r);return mC(n==null?void 0:n.value)}get phoneNumber(){return this.getPhoneNumber()}get email(){var t;return(t=G.exports.find(this.resource.telecom,{system:"email"}))==null?void 0:t.value}get bestHomeAddress(){return G.exports.find(this.resource.address,{use:"home"})||G.exports.find(this.resource.address,t=>!t.use)}get homeAddress(){return G.exports.cloneDeep(this.bestHomeAddress)}get bestName(){return(!this.resource.name||this.resource.name.length===0)&&(this.resource.name=[{use:"official"}]),G.exports.find(this.resource.name,{use:"official"})||G.exports.find(this.resource.name,{use:"usual"})||this.resource.name[0]||{}}get additionalNames(){if(this.bestName.given&&this.bestName.given.length>1){const[,...t]=this.bestName.given;return t.join(" ")}}get display(){return[this.firstName,this.lastName].filter(t=>t).join(" ")}get firstName(){var t;return((t=this.bestName.given)==null?void 0:t[0])||""}get fullName(){return[this.lastName,this.firstName].filter(t=>t).join(", ")}get lastName(){return this.bestName.family}get nickname(){var r;const t=G.exports.find(this.resource.name,{use:"nickname"});return(r=t==null?void 0:t.given)==null?void 0:r.join(" ")}get prefix(){var t;return(t=this.bestName.prefix)==null?void 0:t.join(" ")}get suffix(){var t;return(t=this.bestName.suffix)==null?void 0:t.join(" ")}}async function rR(e,t,r,n){let a=[],o;try{const s=await Kn("Patient",e,{...n,identifier:`${r}|${t}`,_count:1,_include:"Patient:organization"});a=s.resources,o=s.bundle}catch(s){throw dn("Failed fetching patient",s)}if(!a[0])throw dn(`Failed fetching patient information for patient from patientID ${t} with system ${r}`);return new Zi(a[0],$l(o))}async function nR(e,t=[]){const[r,n,a]=t,o=parseInt(`${n!=null?n:"0"}`,10)*parseInt(`${r!=null?r:"1"}`,10),s=G.exports.pickBy({_count:r,_total:"accurate",_offset:o,name:a});try{const{total:u,resources:c}=await Kn("Patient",e,s);return{searchParams:s,patients:c.map(l=>new Zi(l)),total:u}}catch(u){throw dn("Failed fetching patients",u)}}const aR=1e3*60*5,ql=y.exports.createContext({patientID:"",systemURL:""});function up({children:e,patientUPID:t,patientID:r,systemURL:n,tags:a,onPatientSave:o}){const s=y.exports.useMemo(()=>({patientID:t||r,systemURL:t?Wi:n,tags:a,onPatientSave:o}),[r,t,n,a,o]);return p.createElement(ql.Provider,{value:s},e)}function Vl(){const{getRequestContext:e}=zt(),{patientID:t,systemURL:r,tags:n}=y.exports.useContext(ql);return fl([Ul,t,r,n],async()=>{var o;const a=await e();return rR(a,t,r,{_tag:(o=n==null?void 0:n.map(s=>`${s.system}|${s.code}`))!=null?o:[]})},{staleTime:aR})}function lc(e){const{getRequestContext:t}=zt(),{onPatientSave:r}=y.exports.useContext(ql);return y.exports.useCallback(async n=>r?r(n):JC(e,n,t),[r,e,t])}function gn(e,t,r,n=!0){var s,u;const{getRequestContext:a}=zt(),o=Vl();return fl([e,(s=o.data)==null?void 0:s.UPID,...t],async()=>{const c=await a();return r(c,o.data,t)},{enabled:!!((u=o.data)!=null&&u.UPID)&&n})}try{up.displayName="PatientProvider",up.__docgenInfo={description:"",displayName:"PatientProvider",props:{tags:{defaultValue:null,description:"",name:"tags",required:!1,type:{name:"Tag[]"}},onPatientSave:{defaultValue:null,description:"",name:"onPatientSave",required:!1,type:{name:"((data: PatientFormData) => Promise<void>)"}},patientUPID:{defaultValue:null,description:"",name:"patientUPID",required:!1,type:{name:"string"}},patientID:{defaultValue:null,description:"",name:"patientID",required:!1,type:{name:"string"}},systemURL:{defaultValue:null,description:"",name:"systemURL",required:!1,type:{name:"string"}}}}}catch{}try{lc.displayName="useHandlePatientSave",lc.__docgenInfo={description:"",displayName:"useHandlePatientSave",props:{active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean | undefined"}},contact:{defaultValue:null,description:"",name:"contact",required:!0,type:{name:"PatientContact[] | undefined"}},dob:{defaultValue:null,description:"",name:"dob",required:!0,type:{name:"string | undefined"}},age:{defaultValue:null,description:"",name:"age",required:!0,type:{name:"number | undefined"}},gender:{defaultValue:null,description:"",name:"gender",required:!0,type:{name:"string | undefined"}},maritalStatus:{defaultValue:null,description:"",name:"maritalStatus",required:!0,type:{name:"string | undefined"}},organization:{defaultValue:null,description:"",name:"organization",required:!0,type:{name:"OrganizationModel | undefined"}},use:{defaultValue:null,description:"",name:"use",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"usual"'},{value:'"official"'},{value:'"temp"'},{value:'"nickname"'},{value:'"anonymous"'},{value:'"old"'},{value:'"maiden"'}]}},UPID:{defaultValue:null,description:"",name:"UPID",required:!0,type:{name:"string"}},getPhoneNumber:{defaultValue:null,description:"",name:"getPhoneNumber",required:!0,type:{name:'(use?: "temp" | "old" | "home" | "work" | "mobile" | undefined) => string | undefined'}},phoneNumber:{defaultValue:null,description:"",name:"phoneNumber",required:!0,type:{name:"string | undefined"}},email:{defaultValue:null,description:"",name:"email",required:!0,type:{name:"string | undefined"}},bestHomeAddress:{defaultValue:null,description:"",name:"bestHomeAddress",required:!0,type:{name:"Address | undefined"}},homeAddress:{defaultValue:null,description:"",name:"homeAddress",required:!0,type:{name:"Address | undefined"}},bestName:{defaultValue:null,description:"",name:"bestName",required:!0,type:{name:"HumanName"}},additionalNames:{defaultValue:null,description:"",name:"additionalNames",required:!0,type:{name:"string | undefined"}},display:{defaultValue:null,description:"",name:"display",required:!0,type:{name:"string"}},firstName:{defaultValue:null,description:"",name:"firstName",required:!0,type:{name:"string"}},fullName:{defaultValue:null,description:"",name:"fullName",required:!0,type:{name:"string"}},lastName:{defaultValue:null,description:"",name:"lastName",required:!0,type:{name:"string | undefined"}},nickname:{defaultValue:null,description:"",name:"nickname",required:!0,type:{name:"string | undefined"}},prefix:{defaultValue:null,description:"",name:"prefix",required:!0,type:{name:"string | undefined"}},suffix:{defaultValue:null,description:"",name:"suffix",required:!0,type:{name:"string | undefined"}},resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"Patient"}},includedResources:{defaultValue:null,description:"",name:"includedResources",required:!1,type:{name:"ResourceMap"}},revIncludes:{defaultValue:null,description:"",name:"revIncludes",required:!1,type:{name:"Resource[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isSummaryResource:{defaultValue:null,description:"",name:"isSummaryResource",required:!0,type:{name:"boolean"}},resourceType:{defaultValue:null,description:"",name:"resourceType",required:!0,type:{name:"string"}},getBasicResourceByAction:{defaultValue:null,description:"",name:"getBasicResourceByAction",required:!0,type:{name:"(profileAction: string) => Basic | undefined"}},toString:{defaultValue:null,description:"",name:"toString",required:!1,type:{name:"() => string"}}}}}catch{}class zh extends vr{get dosageDisplay(){const{text:t,route:r,dose:n}=this.resource.dosage||{};return t||Ee.compact([n==null?void 0:n.value,n==null?void 0:n.unit]).join(" ")}get dosageRoute(){const{route:t}=this.resource.dosage||{};return t==null?void 0:t.text}get effectivePeriod(){const{start:t,end:r}=this.resource.effectivePeriod||{};return{start:t?vt(t):"",end:r?vt(r):""}}}class Wh extends vr{get includedPerformer(){var n,a,o,s;const t=(a=(n=this.resource.performer)==null?void 0:n[0])==null?void 0:a.actor.reference,r=lr("Practitioner",this.resource.contained,this.includedResources,t);return r?new kl(r).fullName:(s=(o=this.resource.performer)==null?void 0:o[0])==null?void 0:s.actor.display}get performer(){return Mh(this.resource,this.includedResources)}get performerDetails(){var r,n,a,o,s;const{performer:t}=this;return{name:(r=t==null?void 0:t.name)!=null?r:"",address:(a=(n=t==null?void 0:t.address)==null?void 0:n[0].text)!=null?a:"",telecom:(s=(o=t==null?void 0:t.telecom)==null?void 0:o[0].value)!=null?s:""}}get status(){return this.resource.status}get quantityDisplay(){const{value:t,unit:r="units"}=this.resource.quantity||{};return t?`${t} ${r}`:void 0}get supplied(){const{value:t,unit:r="days"}=this.resource.daysSupply||{};return t?`${t} ${r}`:void 0}}class Yh extends vr{get includedRequester(){var n,a;const t=(n=this.resource.requester)==null?void 0:n.reference,r=lr("Practitioner",this.resource.contained,this.includedResources,t);return r?new kl(r).fullName:(a=this.resource.requester)==null?void 0:a.display}get pharmacy(){var a,o,s;const{reference:t,display:r}=((a=this.resource.dispenseRequest)==null?void 0:a.performer)||{},n=lr("Organization",this.resource.contained,this.includedResources,t);if(n){const u=(o=n.telecom)==null?void 0:o[0].value,{city:c,state:l,postalCode:h,text:g,line:O=[]}=((s=n.address)==null?void 0:s[0])||{},C=Ee.compact([c,`${l} ${h}`]).join(", ");return{telecom:u,name:n.name,address:g!=null?g:Ee.compact([O,C]).join(`
`)}}return{name:r}}}class Br extends vr{constructor(){super(...arguments);Rr(this,"builderPatientRxNormStatus")}get basedOn(){var r,n;return(n=(r=this.resource.basedOn)==null?void 0:r[0])==null?void 0:n.type}get category(){return wt(this.resource.category)}get context(){var r;return(r=this.resource.context)==null?void 0:r.display}get dateAsserted(){return vt(this.resource.dateAsserted)}set dateAsserted(r){r instanceof Date?this.resource.dateAsserted=Dr(r):this.resource.dateAsserted=r}get derivedFrom(){var r;return((r=this.resource.derivedFrom)==null?void 0:r.map(({display:n})=>n||""))||[]}get aggregatedFrom(){const r=Ee.find(n=>n.url===Ph||n.url===Dh,this.resource.extension);return r!=null&&r.extension?Ee.compact(r.extension.map(Ee.get("valueReference"))):Ee.compact(this.resource.derivedFrom)}get display(){return wt($h(this.resource,this.includedResources))}get dosage(){var r,n;return(n=(r=this.resource.dosage)==null?void 0:r[0])==null?void 0:n.text}get effectiveStart(){var r;return vt((r=this.resource.effectivePeriod)==null?void 0:r.start)}get identifier(){var r,n;return(n=(r=this.resource.identifier)==null?void 0:r[0])==null?void 0:n.value}get informationSource(){return this.resource.informationSource||void 0}set informationSource(r){this.resource.informationSource=r}get medicationReference(){var r;return(r=this.resource.medicationReference)==null?void 0:r.display}get notesDisplay(){var r;return((r=this.resource.note)==null?void 0:r.map(({text:n})=>n))||[]}get partOf(){var r,n;return(n=(r=this.resource.partOf)==null?void 0:r[0])==null?void 0:n.display}get patientStatus(){var r,n;return DC((n=this.builderPatientRxNormStatus)==null?void 0:n[(r=this.rxNorm)!=null?r:""])}get rxNorm(){return Kr(this.resource,this.includedResources)}get rxNormCodeableConcept(){var n;const r=Ih(this.resource,this.includedResources);return{...r!=null?r:{},display:(n=r==null?void 0:r.display)!=null?n:this.display}}get reason(){var r;return wt((r=this.resource.reasonCode)==null?void 0:r[0])}get reasonReference(){return this.resource.reasonReference}get status(){return Ee.capitalize(this.resource.status)}get statusReason(){var r;return wt((r=this.resource.statusReason)==null?void 0:r[0])}get subject(){return this.resource.subject}get subjectID(){var n;const[,r]=((n=this.resource.subject.reference)==null?void 0:n.split("/"))||[];return r||""}get lastFillDate(){var r,n;return vt((n=(r=this.resource.extension)==null?void 0:r.find(a=>a.url===Th))==null?void 0:n.valueDateTime)}get quantity(){var n,a;const r=(a=(n=this.resource.extension)==null?void 0:n.find(o=>o.url===Ch))==null?void 0:a.valueQuantity;if(r)return`${r.value} ${r.unit||""}`}get daysSupply(){var r,n,a,o;return(o=(a=(n=(r=this.resource.extension)==null?void 0:r.find(s=>s.url===Rh))==null?void 0:n.valueQuantity)==null?void 0:a.value)==null?void 0:o.toString()}get refills(){var r,n,a;return(a=(n=(r=this.resource.extension)==null?void 0:r.find(o=>o.url===Nh))==null?void 0:n.valueUnsignedInt)==null?void 0:a.toString()}get lastPrescriber(){var a,o;const r=(o=(a=this.resource.extension)==null?void 0:a.find(s=>s.url===Ah))==null?void 0:o.valueReference;if(!(r!=null&&r.type)||!r.reference)return;const n=lr(r.type,this.resource.contained,this.includedResources,r.reference);if(n!=null&&n.name){if(typeof n.name=="string")return n.name;const{family:s,given:u=[]}=n.name[0];return Ee.compact([s,u[0]]).join(", ")}return r.display}get lastPrescribedDate(){var r,n;return vt((n=(r=this.resource.extension)==null?void 0:r.find(a=>a.url===Oh))==null?void 0:n.valueDateTime)}}class Gh extends vr{get performer(){var t;return(t=Mh(this.resource,this.includedResources))==null?void 0:t.name}get status(){return this.resource.status}get dosage(){var t,r,n;switch(this.resource.resourceType){case"MedicationStatement":return(r=(t=this.resource.dosage)==null?void 0:t[0])==null?void 0:r.text;case"MedicationAdministration":return new zh(this.resource,this.includedResources).dosageDisplay;case"MedicationDispense":case"MedicationRequest":return wt((n=this.resource.dosageInstruction)==null?void 0:n[0]);default:return""}}get date(){var t,r,n,a,o,s,u,c,l;switch(this.resource.resourceType){case"MedicationStatement":return(r=this.resource.dateAsserted)!=null?r:(t=this.resource.effectivePeriod)==null?void 0:t.start;case"MedicationAdministration":return(n=this.resource.effectivePeriod)==null?void 0:n.start;case"MedicationDispense":return(a=this.resource.whenHandedOver)!=null?a:this.resource.whenPrepared;case"MedicationRequest":return(l=this.resource.authoredOn)!=null?l:(c=(u=(s=(o=this.resource.dosageInstruction)==null?void 0:o[0].timing)==null?void 0:s.repeat)==null?void 0:u.boundsPeriod)==null?void 0:c.start;default:return""}}get dateLocal(){return vt(this.date)}get patient(){var r;const t=lr("Patient",this.resource.contained,this.includedResources,(r=this.resource.subject)==null?void 0:r.reference);if(t)return new Zi(t,this.includedResources)}get prescriber(){switch(this.resource.resourceType){case"MedicationStatement":return new Br(this.resource,this.includedResources).lastPrescriber;case"MedicationDispense":return new Wh(this.resource,this.includedResources).includedPerformer;case"MedicationRequest":return new Yh(this.resource,this.includedResources).includedRequester;default:return}}}function jl(e,t,r,n=!1){const a=G.exports.isString(t)?Ee.get(t):t;return n?oR(e,a,r):G.exports.orderBy(e,t,r)}function oR(e,t,r){return e.sort((n,a)=>{const o=t(n),s=t(a);if(!o&&!s)return 0;if(!o)return r==="asc"?-1:1;if(!s)return r==="asc"?1:-1;const u=new Date(o).getTime(),c=new Date(s).getTime();return r==="asc"?u-c:c-u}),e}const Qh=Ee.omit(["informationSourceNot","informationSource"]);function Zh(e,t={},r=!1){let n=r?uR(e.resources,e.bundle):e.resources;return t.informationSource&&(n=n.filter(a=>{var o;return((o=a.informationSource)==null?void 0:o.type)===t.informationSource})),t.informationSourceNot&&(n=n.filter(a=>{var o;return((o=a.informationSource)==null?void 0:o.type)!==t.informationSourceNot})),n}async function iR(e,t,r=[]){const[n={}]=r;try{const a=await Kn("MedicationStatement",e,{patientUPID:t.UPID,_include:"MedicationStatement:medication",...Qh(n)}),o=Zh(a,n,!1);return{bundle:a.bundle,medications:o}}catch(a){throw dn("Failed fetching medications for patient",a)}}async function sR(e,t,r=[]){const[n={}]=r;try{const a=await MC("MedicationStatement",e,"ActiveMedications",{patientUPID:t.UPID,_include:"MedicationStatement:medication",...Qh(n)}),o=Zh(a,n,!0);return{bundle:a.bundle,medications:o}}catch(a){throw dn("Failed fetching medications for patient",a)}}function uR(e,t){const r=_C(t);return e.filter(n=>Kr(n,r)!==void 0)}function cR(e,t,r){const n=e.filter(o=>!t.some(s=>Kr(s,r)===Kr(o,r)));return{builderMedications:t.map(o=>{var h,g,O;const s=e.find(C=>Kr(C,r)===Kr(o,r));if(!s)return o;const u=G.exports.cloneDeep(o),c=[Th,Oh,Ch,Rh,Nh,Ah];u.extension=(h=s.extension)==null?void 0:h.filter(C=>c.includes(C.url));const l=G.exports.cloneDeep((g=s.extension)==null?void 0:g.find(C=>C.url===Ph));return l&&(l.url=Dh,(O=u.extension)==null||O.push(l)),u}),otherProviderMedications:n}}function Xh(e){const t=e?new Br(e).aggregatedFrom:[],r=Ee.pipe(Ee.get("reference"),Ee.split("/"),Ee.last),n=Ee.pipe(Ee.groupBy(Ee.get("type")),Ee.mapValues(Ee.map(r)))(t);return gn(KC,[(e==null?void 0:e.id)||"empty"],async(a,o)=>{try{if(!e)return{includedResources:{},medications:[]};const[s,u,c,l]=await Promise.all([da("MedicationStatement",a,o.UPID,n.MedicationStatement),da("MedicationAdministration",a,o.UPID,n.MedicationAdministration),da("MedicationRequest",a,o.UPID,n.MedicationRequest,["MedicationRequest:requester"]),da("MedicationDispense",a,o.UPID,n.MedicationDispense,["MedicationDispense:performer","MedicationDispense:prescription"])]),h=wh(Ee.compact([s.bundle,u.bundle,c.bundle,l.bundle])),g=Ee.compact([...s.resources,...u.resources,...c.resources,...l.resources]).map(C=>new Gh(C,h));return{medications:jl(G.exports.uniqWith(g,(C,w)=>C.date===w.date&&C.resource.resourceType===w.resource.resourceType),"date","desc",!0),includedResources:h}}catch(s){throw new Error(`Failed fetching medication history for medication ${e==null?void 0:e.id}: ${s}`)}})}function lR(e){const[t,r]=y.exports.useState(),[n,a]=y.exports.useState(!0),o=Xh(e);return y.exports.useEffect(()=>{const{includedResources:s={},medications:u=[]}=o.data||{};if(t===void 0&&u.length){const c=Ee.pipe(Ee.map(Ee.get("resource")),Ee.filter(Ee.propEq("resourceType","MedicationRequest")),Ee.sortBy(l=>Date.parse(l.authoredOn)),Ee.map(l=>new Gh(l,s)),Ee.last,Ee.get("prescriber"))(u);r(c||""),a(!1)}},[t,o.data]),{isLoading:n,lastPrescriber:t}}function da(e,t,r,n=[],a=[]){return n.length>0?Xn(e,t,{_id:n.join(","),_include:[`${e}:patient`,`${e}:medication`,...a],"_include:iterate":"Patient:organization","patient.identifier":`${Wi}|${r}`}):{resources:[],bundle:void 0}}const fR=10;function fc({medication:e}){const[t,r]=y.exports.useState([]),n=Xh(e.resource),a=n.isLoading;return y.exports.useEffect(()=>{if(n.data){const{medications:o}=n.data;r(gC(o).map(pR))}},[n.data]),a?p.createElement(p.Fragment,null,p.createElement("h2",{className:"ctw-text-lg ctw-font-semibold"},"Medication History"),p.createElement(Fr,{message:""})):p.createElement(p.Fragment,null,p.createElement("h2",{className:"ctw-text-lg ctw-font-semibold"},"Medication History"),t.length?p.createElement(Mn,{entries:t,limit:fR}):p.createElement("span",null,"No history available for this medication."))}function dR(e){var n;const t=e.resource,r=new Br(t);return{date:e.dateLocal,id:e.id,title:"Medication Reviewed",hideEmpty:!1,subtitle:((n=r.informationSource)==null?void 0:n.display)||"",data:[{label:"Status",value:G.exports.capitalize(r.status)},{label:"Instructions",value:r.dosage}]}}function pR(e){if(e.resourceType==="MedicationStatement")return dR(e);if(e.resourceType==="MedicationRequest")return mR(e);if(e.resourceType==="MedicationDispense")return hR(e);if(e.resourceType==="MedicationAdministration")return yR(e);throw new Error(`Unknown medication resource type "${e.resourceType}"`)}function mR(e){const t=e.resource,{prescriber:r}=e,{name:n,address:a,telecom:o}=new Yh(t,e.includedResources).pharmacy,{numberOfRepeatsAllowed:s="",initialFill:u}=t.dispenseRequest||{},{value:c="",unit:l=""}=(u==null?void 0:u.quantity)||{};return{date:e.dateLocal,id:e.id,title:"Prescription Ordered",subtitle:r,hideEmpty:!1,data:[{label:"Quantity",value:[c,l].join(" ")},{label:"Refills Allowed",value:s},{label:"Instructions",value:e.dosage},{label:"Prescriber",value:r},{label:"Pharmacy",value:p.createElement(p.Fragment,null,n&&p.createElement("div",null,n),a&&p.createElement("div",null,a),o&&p.createElement("div",null,"T: ",o))}]}}function hR(e){const t=e.resource,r=new Wh(t,e.includedResources),{quantityDisplay:n,supplied:a,performerDetails:o}=r,{name:s,address:u,telecom:c}=o;return{date:e.dateLocal,hideEmpty:!1,id:e.id,title:"Medication Filled",subtitle:G.exports.compact([n,a?`${a} supplied`:null]).join(", "),data:[{label:"Quantity",value:n},{label:"Days supply",value:a},{label:"Pharmacy",value:p.createElement(p.Fragment,null,s&&p.createElement("div",null,s),u&&p.createElement("div",null,u),c&&p.createElement("div",null,"T: ",c))}]}}function yR(e){const t=e.resource,r=new zh(t,e.includedResources);return{id:e.id,date:e.dateLocal,hideEmpty:!1,title:"Medication Administered",subtitle:G.exports.compact([r.dosageDisplay,r.dosageRoute]).join(", "),data:[{label:"Dosage",value:r.dosageDisplay},{label:"Route",value:r.dosageRoute},{label:"Start Date",value:r.effectivePeriod.start},{label:"End Date",value:r.effectivePeriod.end}]}}try{fc.displayName="MedicationHistory",fc.__docgenInfo={description:"Displays the history of a medication",displayName:"MedicationHistory",props:{medication:{defaultValue:null,description:"",name:"medication",required:!0,type:{name:"MedicationStatementModel"}}}}}catch{}function vR(e,t){return e?[{label:"Status",value:G.exports.capitalize(e.status)},{label:"Last Fill Date",value:e.lastFillDate},{label:"Quantity",value:e.quantity},{label:"Days Supply",value:e.daysSupply},{label:"Refills",value:e.refills},{label:"Instructions",value:e.dosage},{label:"Prescriber",value:t},{label:"Last Prescribed Date",value:e.lastPrescribedDate},...lv("Note",e.notesDisplay)]:[]}const ii=({medication:e,...t})=>{const{lastPrescriber:r,isLoading:n}=lR(e==null?void 0:e.resource),a=vR(e,r);return p.createElement(or,{title:"Medication Details",...t},p.createElement(or.Body,null,p.createElement("div",{className:"ctw-space-y-5"},p.createElement("div",{className:"ctw-flex ctw-justify-between ctw-space-x-8"},p.createElement("h3",{className:"ctw-m-0 ctw-text-3xl ctw-font-light"},e==null?void 0:e.display)),n&&p.createElement(Fr,null),!n&&p.createElement(cv,{title:"Summary",data:a}),e&&p.createElement(fc,{medication:e}))),p.createElement(or.Footer,null,p.createElement("div",{className:"ctw-flex ctw-justify-end"},p.createElement("button",{type:"button",className:"ctw-btn-default",onClick:t.onClose},"Close"))))};try{ii.displayName="MedicationDrawer",ii.__docgenInfo={description:"",displayName:"MedicationDrawer",props:{medication:{defaultValue:null,description:"",name:"medication",required:!1,type:{name:"MedicationStatementModel"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}}}catch{}var $r=[],gR=function(){return $r.some(function(e){return e.activeTargets.length>0})},bR=function(){return $r.some(function(e){return e.skippedTargets.length>0})},cp="ResizeObserver loop completed with undelivered notifications.",wR=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:cp}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=cp),window.dispatchEvent(e)},Fn;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Fn||(Fn={}));var Ir=function(e){return Object.freeze(e)},xR=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,Ir(this)}return e}(),Kh=function(){function e(t,r,n,a){return this.x=t,this.y=r,this.width=n,this.height=a,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Ir(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,n=t.y,a=t.top,o=t.right,s=t.bottom,u=t.left,c=t.width,l=t.height;return{x:r,y:n,top:a,right:o,bottom:s,left:u,width:c,height:l}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Hl=function(e){return e instanceof SVGElement&&"getBBox"in e},Jh=function(e){if(Hl(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var a=e,o=a.offsetWidth,s=a.offsetHeight;return!(o||s||e.getClientRects().length)},lp=function(e){var t;if(e instanceof Element)return!0;var r=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},_R=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Pn=typeof window<"u"?window:{},pa=new WeakMap,fp=/auto|scroll/,ER=/^tb|vertical/,SR=/msie|trident/i.test(Pn.navigator&&Pn.navigator.userAgent),Yt=function(e){return parseFloat(e||"0")},en=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new xR((r?t:e)||0,(r?e:t)||0)},dp=Ir({devicePixelContentBoxSize:en(),borderBoxSize:en(),contentBoxSize:en(),contentRect:new Kh(0,0,0,0)}),ey=function(e,t){if(t===void 0&&(t=!1),pa.has(e)&&!t)return pa.get(e);if(Jh(e))return pa.set(e,dp),dp;var r=getComputedStyle(e),n=Hl(e)&&e.ownerSVGElement&&e.getBBox(),a=!SR&&r.boxSizing==="border-box",o=ER.test(r.writingMode||""),s=!n&&fp.test(r.overflowY||""),u=!n&&fp.test(r.overflowX||""),c=n?0:Yt(r.paddingTop),l=n?0:Yt(r.paddingRight),h=n?0:Yt(r.paddingBottom),g=n?0:Yt(r.paddingLeft),O=n?0:Yt(r.borderTopWidth),C=n?0:Yt(r.borderRightWidth),w=n?0:Yt(r.borderBottomWidth),_=n?0:Yt(r.borderLeftWidth),R=g+l,v=c+h,S=_+C,A=O+w,N=u?e.offsetHeight-A-e.clientHeight:0,$=s?e.offsetWidth-S-e.clientWidth:0,I=a?R+S:0,V=a?v+A:0,L=n?n.width:Yt(r.width)-I-$,P=n?n.height:Yt(r.height)-V-N,j=L+R+$+S,K=P+v+N+A,ce=Ir({devicePixelContentBoxSize:en(Math.round(L*devicePixelRatio),Math.round(P*devicePixelRatio),o),borderBoxSize:en(j,K,o),contentBoxSize:en(L,P,o),contentRect:new Kh(g,c,L,P)});return pa.set(e,ce),ce},ty=function(e,t,r){var n=ey(e,r),a=n.borderBoxSize,o=n.contentBoxSize,s=n.devicePixelContentBoxSize;switch(t){case Fn.DEVICE_PIXEL_CONTENT_BOX:return s;case Fn.BORDER_BOX:return a;default:return o}},TR=function(){function e(t){var r=ey(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=Ir([r.borderBoxSize]),this.contentBoxSize=Ir([r.contentBoxSize]),this.devicePixelContentBoxSize=Ir([r.devicePixelContentBoxSize])}return e}(),ry=function(e){if(Jh(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t},OR=function(){var e=1/0,t=[];$r.forEach(function(s){if(s.activeTargets.length!==0){var u=[];s.activeTargets.forEach(function(l){var h=new TR(l.target),g=ry(l.target);u.push(h),l.lastReportedSize=ty(l.target,l.observedBox),g<e&&(e=g)}),t.push(function(){s.callback.call(s.observer,u,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var r=0,n=t;r<n.length;r++){var a=n[r];a()}return e},pp=function(e){$r.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(a){a.isActive()&&(ry(a.target)>e?r.activeTargets.push(a):r.skippedTargets.push(a))})})},CR=function(){var e=0;for(pp(e);gR();)e=OR(),pp(e);return bR()&&wR(),e>0},bs,ny=[],RR=function(){return ny.splice(0).forEach(function(e){return e()})},NR=function(e){if(!bs){var t=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return RR()}).observe(r,n),bs=function(){r.textContent="".concat(t?t--:t++)}}ny.push(e),bs()},AR=function(e){NR(function(){requestAnimationFrame(e)})},io=0,PR=function(){return!!io},DR=250,$R={attributes:!0,characterData:!0,childList:!0,subtree:!0},mp=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],hp=function(e){return e===void 0&&(e=0),Date.now()+e},ws=!1,IR=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=DR),!ws){ws=!0;var n=hp(t);AR(function(){var a=!1;try{a=CR()}finally{if(ws=!1,t=n-hp(),!PR())return;a?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,$R)};document.body?r():Pn.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),mp.forEach(function(r){return Pn.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),mp.forEach(function(r){return Pn.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),dc=new IR,yp=function(e){!io&&e>0&&dc.start(),io+=e,!io&&dc.stop()},MR=function(e){return!Hl(e)&&!_R(e)&&getComputedStyle(e).display==="inline"},FR=function(){function e(t,r){this.target=t,this.observedBox=r||Fn.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=ty(this.target,this.observedBox,!0);return MR(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),kR=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}(),ma=new WeakMap,vp=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},ha=function(){function e(){}return e.connect=function(t,r){var n=new kR(t,r);ma.set(t,n)},e.observe=function(t,r,n){var a=ma.get(t),o=a.observationTargets.length===0;vp(a.observationTargets,r)<0&&(o&&$r.push(a),a.observationTargets.push(new FR(r,n&&n.box)),yp(1),dc.schedule())},e.unobserve=function(t,r){var n=ma.get(t),a=vp(n.observationTargets,r),o=n.observationTargets.length===1;a>=0&&(o&&$r.splice($r.indexOf(n),1),n.observationTargets.splice(a,1),yp(-1))},e.disconnect=function(t){var r=this,n=ma.get(t);n.observationTargets.slice().forEach(function(a){return r.unobserve(t,a.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),BR=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ha.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!lp(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ha.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!lp(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ha.unobserve(this,t)},e.prototype.disconnect=function(){ha.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const LR=p[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],UR=LR,qR=e=>{const t=y.exports.useRef(e);return y.exports.useEffect(()=>{t.current=e}),t},VR=qR,jR=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:BR;function HR(){}function zR(e,t){const r=YR(),n=VR(t);return UR(()=>{let a=!1;const o=e&&"current"in e?e.current:e;if(!o)return HR;function s(u,c){a||n.current(u,c)}return r.subscribe(o,s),()=>{a=!0,r.unsubscribe(o,s)}},[e,r,n]),r.observer}function WR(){let e=!1,t=[];const r=new Map,n=new jR((a,o)=>{t=t.concat(a);function s(){const u=new Set;for(let c=0;c<t.length;c++){if(u.has(t[c].target))continue;u.add(t[c].target);const l=r.get(t[c].target);l==null||l.forEach(h=>h(t[c],o))}t=[],e=!1}e||window.requestAnimationFrame(s),e=!0});return{observer:n,subscribe(a,o){var s;n.observe(a);const u=(s=r.get(a))!==null&&s!==void 0?s:[];u.push(o),r.set(a,u)},unsubscribe(a,o){var s;const u=(s=r.get(a))!==null&&s!==void 0?s:[];if(u.length===1){n.unobserve(a),r.delete(a);return}const c=u.indexOf(o);c!==-1&&u.splice(c,1),r.set(a,u)}}}let xs;const YR=()=>xs||(xs=WR()),GR=typeof window<"u"?y.exports.useLayoutEffect:y.exports.useEffect;function zl(e){const{theme:t}=zt(),[r,n]=y.exports.useState(G.exports.mapValues(cm,()=>!1));function a(){const o=e.current;if(!o)return;const{width:s}=o.getBoundingClientRect(),u={};Object.entries(t.breakpoints).forEach(([c,l])=>{u[c]=s<l}),n(u)}return GR(a,[e,t]),zR(e,o=>a()),r}const si=({children:e,className:t="",rowMenuActions:r,hideMenu:n=!1,medicationStatements:a,...o})=>{const s=y.exports.useRef(null),u=zl(s),c=Ee.compact([{title:"Medication Name",render:l=>p.createElement(p.Fragment,null,p.createElement("div",{className:"ctw-font-medium"},l.display),p.createElement("div",{className:"ctw-font-light"},l.dosage))},{title:"Dispensed",render:l=>p.createElement(p.Fragment,null,l.quantity&&p.createElement("div",null,l.quantity),l.refills&&p.createElement("div",null,l.refills," refills"))},{title:"Last Filled",dataIndex:"lastFillDate"},{title:"Last Prescribed",render:l=>p.createElement(p.Fragment,null,l.lastPrescribedDate&&p.createElement("div",null,l.lastPrescribedDate),l.lastPrescriber&&p.createElement("div",null,l.lastPrescriber))}]);return!n&&Ee.isFunction(r)&&c.push({className:"ctw-table-action-column",render:l=>p.createElement(xo,{menuItems:r(l)},p.createElement(vm,{className:"ctw-w-5"}))}),p.createElement("div",{className:t,ref:s},p.createElement(sl,{stacked:u.sm,records:a,columns:c,message:"There are no medications to display.",...o}),e)};try{si.displayName="MedicationsTableBase",si.__docgenInfo={description:"",displayName:"MedicationsTableBase",props:{medicationStatements:{defaultValue:null,description:"",name:"medicationStatements",required:!0,type:{name:"MedicationStatementModel[]"}},rowMenuActions:{defaultValue:null,description:"",name:"rowMenuActions",required:!1,type:{name:"((condition: MedicationStatementModel) => MenuItem[])"}},hideMenu:{defaultValue:{value:"false"},description:"",name:"hideMenu",required:!1,type:{name:"boolean"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string | (string & Mapping) | (string & ArgumentArray)"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},message:{defaultValue:null,description:"Displayed when we have 0 records.",name:"message",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},showTableHead:{defaultValue:null,description:"",name:"showTableHead",required:!1,type:{name:"boolean"}},stacked:{defaultValue:null,description:"",name:"stacked",required:!1,type:{name:"boolean"}},sort:{defaultValue:null,description:"",name:"sort",required:!1,type:{name:"TableSort"}},onSort:{defaultValue:null,description:"",name:"onSort",required:!1,type:{name:"((sort: TableSort) => void)"}},handleRowClick:{defaultValue:null,description:"",name:"handleRowClick",required:!1,type:{name:"((record: MedicationStatementModel) => void)"}},rowActions:{defaultValue:null,description:"",name:"rowActions",required:!1,type:{name:"((record: MedicationStatementModel) => Element)"}},hidePagination:{defaultValue:null,description:"",name:"hidePagination",required:!1,type:{name:"boolean"}}}}}catch{}var Ye;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const o={};for(const s of a)o[s]=s;return o},e.getValidEnumValues=a=>{const o=e.objectKeys(a).filter(u=>typeof a[a[u]]!="number"),s={};for(const u of o)s[u]=a[u];return e.objectValues(s)},e.objectValues=a=>e.objectKeys(a).map(function(o){return a[o]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&o.push(s);return o},e.find=(a,o)=>{for(const s of a)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,o=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(Ye||(Ye={}));const he=Ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),wr=e=>{switch(typeof e){case"undefined":return he.undefined;case"string":return he.string;case"number":return isNaN(e)?he.nan:he.number;case"boolean":return he.boolean;case"function":return he.function;case"bigint":return he.bigint;case"object":return Array.isArray(e)?he.array:e===null?he.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?he.promise:typeof Map<"u"&&e instanceof Map?he.map:typeof Set<"u"&&e instanceof Set?he.set:typeof Date<"u"&&e instanceof Date?he.date:he.object;default:return he.unknown}},de=Ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),QR=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ir extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(o){return o.message},n={_errors:[]},a=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let u=n,c=0;for(;c<s.path.length;){const l=s.path[c];c===s.path.length-1?(u[l]=u[l]||{_errors:[]},u[l]._errors.push(r(s))):u[l]=u[l]||{_errors:[]},u=u[l],c++}}};return a(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ir.create=e=>new ir(e);const kn=(e,t)=>{let r;switch(e.code){case de.invalid_type:e.received===he.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case de.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ye.jsonStringifyReplacer)}`;break;case de.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ye.joinValues(e.keys,", ")}`;break;case de.invalid_union:r="Invalid input";break;case de.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ye.joinValues(e.options)}`;break;case de.invalid_enum_value:r=`Invalid enum value. Expected ${Ye.joinValues(e.options)}, received '${e.received}'`;break;case de.invalid_arguments:r="Invalid function arguments";break;case de.invalid_return_type:r="Invalid function return type";break;case de.invalid_date:r="Invalid date";break;case de.invalid_string:typeof e.validation=="object"?"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ye.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case de.too_small:e.type==="array"?r=`Array must contain ${e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be greater than ${e.inclusive?"or equal to ":""}${e.minimum}`:e.type==="date"?r=`Date must be greater than ${e.inclusive?"or equal to ":""}${new Date(e.minimum)}`:r="Invalid input";break;case de.too_big:e.type==="array"?r=`Array must contain ${e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be less than ${e.inclusive?"or equal to ":""}${e.maximum}`:e.type==="date"?r=`Date must be smaller than ${e.inclusive?"or equal to ":""}${new Date(e.maximum)}`:r="Invalid input";break;case de.custom:r="Invalid input";break;case de.invalid_intersection_types:r="Intersection results could not be merged";break;case de.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;default:r=t.defaultError,Ye.assertNever(e)}return{message:r}};let ay=kn;function ZR(e){ay=e}function ui(){return ay}const ci=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,o=[...r,...a.path||[]],s={...a,path:o};let u="";const c=n.filter(l=>!!l).slice().reverse();for(const l of c)u=l(s,{data:t,defaultError:u}).message;return{...a,path:o,message:a.message||u}},XR=[];function _e(e,t){const r=ci({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,ui(),kn].filter(n=>!!n)});e.common.issues.push(r)}class Et{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Pe;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r)n.push({key:await a.key,value:await a.value});return Et.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:o,value:s}=a;if(o.status==="aborted"||s.status==="aborted")return Pe;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),(typeof s.value<"u"||a.alwaysSet)&&(n[o.value]=s.value)}return{status:t.value,value:n}}}const Pe=Object.freeze({status:"aborted"}),KR=e=>({status:"dirty",value:e}),St=e=>({status:"valid",value:e}),pc=e=>e.status==="aborted",mc=e=>e.status==="dirty",li=e=>e.status==="valid",hc=e=>typeof Promise!==void 0&&e instanceof Promise;var qe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(qe||(qe={}));class Jt{constructor(t,r,n,a){this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._path.concat(this._key)}}const gp=(e,t)=>{if(li(t))return{success:!0,data:t.value};{if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");const r=new ir(e.common.issues);return{success:!1,error:r}}};function Le(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(s,u)=>s.code!=="invalid_type"?{message:u.defaultError}:typeof u.data>"u"?{message:n!=null?n:u.defaultError}:{message:r!=null?r:u.defaultError},description:a}}class Be{constructor(t){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return wr(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:wr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Et,ctx:{common:t.parent.common,data:t.data,parsedType:wr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(hc(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wr(t)},o=this._parseSync({data:t,path:a.path,parent:a});return gp(a,o)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wr(t)},a=this._parse({data:t,path:[],parent:n}),o=await(hc(a)?a:Promise.resolve(a));return gp(n,o)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,o)=>{const s=t(a),u=()=>o.addIssue({code:de.custom,...n(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Nt({schema:this,typeName:Ne.ZodEffects,effect:{type:"refinement",refinement:t}})}optional(){return Dt.create(this)}nullable(){return Ur.create(this)}nullish(){return this.optional().nullable()}array(){return It.create(this)}promise(){return cn.create(this)}or(t){return Bn.create([this,t])}and(t){return Ln.create(this,t)}transform(t){return new Nt({schema:this,typeName:Ne.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Ki({innerType:this,defaultValue:r,typeName:Ne.ZodDefault})}brand(){return new iy({typeName:Ne.ZodBranded,type:this,...Le(void 0)})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const JR=/^c[^\s-]{8,}$/i,eN=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,tN=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;class er extends Be{constructor(){super(...arguments),this._regex=(t,r,n)=>this.refinement(a=>t.test(a),{validation:r,code:de.invalid_string,...qe.errToObj(n)}),this.nonempty=t=>this.min(1,qe.errToObj(t)),this.trim=()=>new er({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(t){if(this._getType(t)!==he.string){const o=this._getOrReturnCtx(t);return _e(o,{code:de.invalid_type,expected:he.string,received:o.parsedType}),Pe}const n=new Et;let a;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(a=this._getOrReturnCtx(t,a),_e(a,{code:de.too_small,minimum:o.value,type:"string",inclusive:!0,message:o.message}),n.dirty());else if(o.kind==="max")t.data.length>o.value&&(a=this._getOrReturnCtx(t,a),_e(a,{code:de.too_big,maximum:o.value,type:"string",inclusive:!0,message:o.message}),n.dirty());else if(o.kind==="email")tN.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"email",code:de.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")eN.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"uuid",code:de.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")JR.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"cuid",code:de.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),_e(a,{validation:"url",code:de.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"regex",code:de.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="startsWith"?t.data.startsWith(o.value)||(a=this._getOrReturnCtx(t,a),_e(a,{code:de.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(a=this._getOrReturnCtx(t,a),_e(a,{code:de.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):Ye.assertNever(o);return{status:n.value,value:t.data}}_addCheck(t){return new er({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...qe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...qe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...qe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...qe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...qe.errToObj(r)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...qe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...qe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...qe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...qe.errToObj(r)})}length(t,r){return this.min(t,r).max(t,r)}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}er.create=e=>new er({checks:[],typeName:Ne.ZodString,...Le(e)});function rN(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,o=parseInt(e.toFixed(a).replace(".","")),s=parseInt(t.toFixed(a).replace(".",""));return o%s/Math.pow(10,a)}class fr extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._getType(t)!==he.number){const o=this._getOrReturnCtx(t);return _e(o,{code:de.invalid_type,expected:he.number,received:o.parsedType}),Pe}let n;const a=new Et;for(const o of this._def.checks)o.kind==="int"?Ye.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),_e(n,{code:de.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),_e(n,{code:de.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),_e(n,{code:de.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="multipleOf"?rN(t.data,o.value)!==0&&(n=this._getOrReturnCtx(t,n),_e(n,{code:de.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):Ye.assertNever(o);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,qe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,qe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,qe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,qe.toString(r))}setLimit(t,r,n,a){return new fr({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:qe.toString(a)}]})}_addCheck(t){return new fr({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:qe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:qe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:qe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:qe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:qe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:qe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int")}}fr.create=e=>new fr({checks:[],typeName:Ne.ZodNumber,...Le(e)});class fi extends Be{_parse(t){if(this._getType(t)!==he.bigint){const n=this._getOrReturnCtx(t);return _e(n,{code:de.invalid_type,expected:he.bigint,received:n.parsedType}),Pe}return St(t.data)}}fi.create=e=>new fi({typeName:Ne.ZodBigInt,...Le(e)});class sn extends Be{_parse(t){if(this._getType(t)!==he.boolean){const n=this._getOrReturnCtx(t);return _e(n,{code:de.invalid_type,expected:he.boolean,received:n.parsedType}),Pe}return St(t.data)}}sn.create=e=>new sn({typeName:Ne.ZodBoolean,...Le(e)});class dr extends Be{_parse(t){if(this._getType(t)!==he.date){const o=this._getOrReturnCtx(t);return _e(o,{code:de.invalid_type,expected:he.date,received:o.parsedType}),Pe}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return _e(o,{code:de.invalid_date}),Pe}const n=new Et;let a;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(a=this._getOrReturnCtx(t,a),_e(a,{code:de.too_small,message:o.message,inclusive:!0,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(a=this._getOrReturnCtx(t,a),_e(a,{code:de.too_big,message:o.message,inclusive:!0,maximum:o.value,type:"date"}),n.dirty()):Ye.assertNever(o);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new dr({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:qe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:qe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}dr.create=e=>new dr({checks:[],typeName:Ne.ZodDate,...Le(e)});class di extends Be{_parse(t){if(this._getType(t)!==he.undefined){const n=this._getOrReturnCtx(t);return _e(n,{code:de.invalid_type,expected:he.undefined,received:n.parsedType}),Pe}return St(t.data)}}di.create=e=>new di({typeName:Ne.ZodUndefined,...Le(e)});class pi extends Be{_parse(t){if(this._getType(t)!==he.null){const n=this._getOrReturnCtx(t);return _e(n,{code:de.invalid_type,expected:he.null,received:n.parsedType}),Pe}return St(t.data)}}pi.create=e=>new pi({typeName:Ne.ZodNull,...Le(e)});class un extends Be{constructor(){super(...arguments),this._any=!0}_parse(t){return St(t.data)}}un.create=e=>new un({typeName:Ne.ZodAny,...Le(e)});class Sr extends Be{constructor(){super(...arguments),this._unknown=!0}_parse(t){return St(t.data)}}Sr.create=e=>new Sr({typeName:Ne.ZodUnknown,...Le(e)});class pr extends Be{_parse(t){const r=this._getOrReturnCtx(t);return _e(r,{code:de.invalid_type,expected:he.never,received:r.parsedType}),Pe}}pr.create=e=>new pr({typeName:Ne.ZodNever,...Le(e)});class mi extends Be{_parse(t){if(this._getType(t)!==he.undefined){const n=this._getOrReturnCtx(t);return _e(n,{code:de.invalid_type,expected:he.void,received:n.parsedType}),Pe}return St(t.data)}}mi.create=e=>new mi({typeName:Ne.ZodVoid,...Le(e)});class It extends Be{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==he.array)return _e(r,{code:de.invalid_type,expected:he.array,received:r.parsedType}),Pe;if(a.minLength!==null&&r.data.length<a.minLength.value&&(_e(r,{code:de.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(_e(r,{code:de.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all(r.data.map((s,u)=>a.type._parseAsync(new Jt(r,s,r.path,u)))).then(s=>Et.mergeArray(n,s));const o=r.data.map((s,u)=>a.type._parseSync(new Jt(r,s,r.path,u)));return Et.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new It({...this._def,minLength:{value:t,message:qe.toString(r)}})}max(t,r){return new It({...this._def,maxLength:{value:t,message:qe.toString(r)}})}length(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}It.create=(e,t)=>new It({type:e,minLength:null,maxLength:null,typeName:Ne.ZodArray,...Le(t)});var hi;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(hi||(hi={}));const bp=e=>t=>new Xe({...e,shape:()=>({...e.shape(),...t})});function Zr(e){if(e instanceof Xe){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Dt.create(Zr(n))}return new Xe({...e._def,shape:()=>t})}else return e instanceof It?It.create(Zr(e.element)):e instanceof Dt?Dt.create(Zr(e.unwrap())):e instanceof Ur?Ur.create(Zr(e.unwrap())):e instanceof tr?tr.create(e.items.map(t=>Zr(t))):e}class Xe extends Be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=bp(this._def),this.extend=bp(this._def)}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ye.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==he.object){const l=this._getOrReturnCtx(t);return _e(l,{code:de.invalid_type,expected:he.object,received:l.parsedType}),Pe}const{status:n,ctx:a}=this._processInputParams(t),{shape:o,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof pr&&this._def.unknownKeys==="strip"))for(const l in a.data)s.includes(l)||u.push(l);const c=[];for(const l of s){const h=o[l],g=a.data[l];c.push({key:{status:"valid",value:l},value:h._parse(new Jt(a,g,a.path,l)),alwaysSet:l in a.data})}if(this._def.catchall instanceof pr){const l=this._def.unknownKeys;if(l==="passthrough")for(const h of u)c.push({key:{status:"valid",value:h},value:{status:"valid",value:a.data[h]}});else if(l==="strict")u.length>0&&(_e(a,{code:de.unrecognized_keys,keys:u}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const h of u){const g=a.data[h];c.push({key:{status:"valid",value:h},value:l._parse(new Jt(a,g,a.path,h)),alwaysSet:h in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const l=[];for(const h of c){const g=await h.key;l.push({key:g,value:await h.value,alwaysSet:h.alwaysSet})}return l}).then(l=>Et.mergeObjectSync(n,l)):Et.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return qe.errToObj,new Xe({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,o,s,u;const c=(s=(o=(a=this._def).errorMap)===null||o===void 0?void 0:o.call(a,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(u=qe.errToObj(t).message)!==null&&u!==void 0?u:c}:{message:c}}}:{}})}strip(){return new Xe({...this._def,unknownKeys:"strip"})}passthrough(){return new Xe({...this._def,unknownKeys:"passthrough"})}setKey(t,r){return this.augment({[t]:r})}merge(t){return new Xe({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>hi.mergeShapes(this._def.shape(),t._def.shape()),typeName:Ne.ZodObject})}catchall(t){return new Xe({...this._def,catchall:t})}pick(t){const r={};return Ye.objectKeys(t).map(n=>{this.shape[n]&&(r[n]=this.shape[n])}),new Xe({...this._def,shape:()=>r})}omit(t){const r={};return Ye.objectKeys(this.shape).map(n=>{Ye.objectKeys(t).indexOf(n)===-1&&(r[n]=this.shape[n])}),new Xe({...this._def,shape:()=>r})}deepPartial(){return Zr(this)}partial(t){const r={};if(t)return Ye.objectKeys(this.shape).map(n=>{Ye.objectKeys(t).indexOf(n)===-1?r[n]=this.shape[n]:r[n]=this.shape[n].optional()}),new Xe({...this._def,shape:()=>r});for(const n in this.shape){const a=this.shape[n];r[n]=a.optional()}return new Xe({...this._def,shape:()=>r})}required(){const t={};for(const r in this.shape){let a=this.shape[r];for(;a instanceof Dt;)a=a._def.innerType;t[r]=a}return new Xe({...this._def,shape:()=>t})}keyof(){return oy(Ye.objectKeys(this.shape))}}Xe.create=(e,t)=>new Xe({shape:()=>e,unknownKeys:"strip",catchall:pr.create(),typeName:Ne.ZodObject,...Le(t)});Xe.strictCreate=(e,t)=>new Xe({shape:()=>e,unknownKeys:"strict",catchall:pr.create(),typeName:Ne.ZodObject,...Le(t)});Xe.lazycreate=(e,t)=>new Xe({shape:e,unknownKeys:"strip",catchall:pr.create(),typeName:Ne.ZodObject,...Le(t)});class Bn extends Be{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;const s=o.map(u=>new ir(u.ctx.common.issues));return _e(r,{code:de.invalid_union,unionErrors:s}),Pe}if(r.common.async)return Promise.all(n.map(async o=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(a);{let o;const s=[];for(const c of n){const l={...r,common:{...r.common,issues:[]},parent:null},h=c._parseSync({data:r.data,path:r.path,parent:l});if(h.status==="valid")return h;h.status==="dirty"&&!o&&(o={result:h,ctx:l}),l.common.issues.length&&s.push(l.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const u=s.map(c=>new ir(c));return _e(r,{code:de.invalid_union,unionErrors:u}),Pe}}get options(){return this._def.options}}Bn.create=(e,t)=>new Bn({options:e,typeName:Ne.ZodUnion,...Le(t)});class Xi extends Be{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==he.object)return _e(r,{code:de.invalid_type,expected:he.object,received:r.parsedType}),Pe;const n=this.discriminator,a=r.data[n],o=this.options.get(a);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(_e(r,{code:de.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[n]}),Pe)}get discriminator(){return this._def.discriminator}get validDiscriminatorValues(){return Array.from(this.options.keys())}get options(){return this._def.options}static create(t,r,n){const a=new Map;try{r.forEach(o=>{const s=o.shape[t].value;a.set(s,o)})}catch{throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(a.size!==r.length)throw new Error("Some of the discriminator values are not unique");return new Xi({typeName:Ne.ZodDiscriminatedUnion,discriminator:t,options:a,...Le(n)})}}function yc(e,t){const r=wr(e),n=wr(t);if(e===t)return{valid:!0,data:e};if(r===he.object&&n===he.object){const a=Ye.objectKeys(t),o=Ye.objectKeys(e).filter(u=>a.indexOf(u)!==-1),s={...e,...t};for(const u of o){const c=yc(e[u],t[u]);if(!c.valid)return{valid:!1};s[u]=c.data}return{valid:!0,data:s}}else if(r===he.array&&n===he.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let o=0;o<e.length;o++){const s=e[o],u=t[o],c=yc(s,u);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===he.date&&n===he.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ln extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(o,s)=>{if(pc(o)||pc(s))return Pe;const u=yc(o.value,s.value);return u.valid?((mc(o)||mc(s))&&r.dirty(),{status:r.value,value:u.data}):(_e(n,{code:de.invalid_intersection_types}),Pe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,s])=>a(o,s)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ln.create=(e,t,r)=>new Ln({left:e,right:t,typeName:Ne.ZodIntersection,...Le(r)});class tr extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==he.array)return _e(n,{code:de.invalid_type,expected:he.array,received:n.parsedType}),Pe;if(n.data.length<this._def.items.length)return _e(n,{code:de.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),Pe;!this._def.rest&&n.data.length>this._def.items.length&&(_e(n,{code:de.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),r.dirty());const o=n.data.map((s,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new Jt(n,s,n.path,u)):null}).filter(s=>!!s);return n.common.async?Promise.all(o).then(s=>Et.mergeArray(r,s)):Et.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new tr({...this._def,rest:t})}}tr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new tr({items:e,typeName:Ne.ZodTuple,rest:null,...Le(t)})};class Un extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==he.object)return _e(n,{code:de.invalid_type,expected:he.object,received:n.parsedType}),Pe;const a=[],o=this._def.keyType,s=this._def.valueType;for(const u in n.data)a.push({key:o._parse(new Jt(n,u,n.path,u)),value:s._parse(new Jt(n,n.data[u],n.path,u))});return n.common.async?Et.mergeObjectAsync(r,a):Et.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Be?new Un({keyType:t,valueType:r,typeName:Ne.ZodRecord,...Le(n)}):new Un({keyType:er.create(),valueType:t,typeName:Ne.ZodRecord,...Le(r)})}}class yi extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==he.map)return _e(n,{code:de.invalid_type,expected:he.map,received:n.parsedType}),Pe;const a=this._def.keyType,o=this._def.valueType,s=[...n.data.entries()].map(([u,c],l)=>({key:a._parse(new Jt(n,u,n.path,[l,"key"])),value:o._parse(new Jt(n,c,n.path,[l,"value"]))}));if(n.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of s){const l=await c.key,h=await c.value;if(l.status==="aborted"||h.status==="aborted")return Pe;(l.status==="dirty"||h.status==="dirty")&&r.dirty(),u.set(l.value,h.value)}return{status:r.value,value:u}})}else{const u=new Map;for(const c of s){const l=c.key,h=c.value;if(l.status==="aborted"||h.status==="aborted")return Pe;(l.status==="dirty"||h.status==="dirty")&&r.dirty(),u.set(l.value,h.value)}return{status:r.value,value:u}}}}yi.create=(e,t,r)=>new yi({valueType:t,keyType:e,typeName:Ne.ZodMap,...Le(r)});class Lr extends Be{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==he.set)return _e(n,{code:de.invalid_type,expected:he.set,received:n.parsedType}),Pe;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(_e(n,{code:de.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(_e(n,{code:de.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,message:a.maxSize.message}),r.dirty());const o=this._def.valueType;function s(c){const l=new Set;for(const h of c){if(h.status==="aborted")return Pe;h.status==="dirty"&&r.dirty(),l.add(h.value)}return{status:r.value,value:l}}const u=[...n.data.values()].map((c,l)=>o._parse(new Jt(n,c,n.path,l)));return n.common.async?Promise.all(u).then(c=>s(c)):s(u)}min(t,r){return new Lr({...this._def,minSize:{value:t,message:qe.toString(r)}})}max(t,r){return new Lr({...this._def,maxSize:{value:t,message:qe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Lr.create=(e,t)=>new Lr({valueType:e,minSize:null,maxSize:null,typeName:Ne.ZodSet,...Le(t)});class tn extends Be{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==he.function)return _e(r,{code:de.invalid_type,expected:he.function,received:r.parsedType}),Pe;function n(u,c){return ci({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ui(),kn].filter(l=>!!l),issueData:{code:de.invalid_arguments,argumentsError:c}})}function a(u,c){return ci({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ui(),kn].filter(l=>!!l),issueData:{code:de.invalid_return_type,returnTypeError:c}})}const o={errorMap:r.common.contextualErrorMap},s=r.data;return this._def.returns instanceof cn?St(async(...u)=>{const c=new ir([]),l=await this._def.args.parseAsync(u,o).catch(O=>{throw c.addIssue(n(u,O)),c}),h=await s(...l);return await this._def.returns._def.type.parseAsync(h,o).catch(O=>{throw c.addIssue(a(h,O)),c})}):St((...u)=>{const c=this._def.args.safeParse(u,o);if(!c.success)throw new ir([n(u,c.error)]);const l=s(...c.data),h=this._def.returns.safeParse(l,o);if(!h.success)throw new ir([a(l,h.error)]);return h.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new tn({...this._def,args:tr.create(t).rest(Sr.create())})}returns(t){return new tn({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new tn({args:t||tr.create([]).rest(Sr.create()),returns:r||Sr.create(),typeName:Ne.ZodFunction,...Le(n)})}}class vi extends Be{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}vi.create=(e,t)=>new vi({getter:e,typeName:Ne.ZodLazy,...Le(t)});class qn extends Be{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return _e(r,{code:de.invalid_literal,expected:this._def.value}),Pe}return{status:"valid",value:t.data}}get value(){return this._def.value}}qn.create=(e,t)=>new qn({value:e,typeName:Ne.ZodLiteral,...Le(t)});function oy(e,t){return new Jn({values:e,typeName:Ne.ZodEnum,...Le(t)})}class Jn extends Be{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return _e(r,{expected:Ye.joinValues(n),received:r.parsedType,code:de.invalid_type}),Pe}if(this._def.values.indexOf(t.data)===-1){const r=this._getOrReturnCtx(t),n=this._def.values;return _e(r,{received:r.data,code:de.invalid_enum_value,options:n}),Pe}return St(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}}Jn.create=oy;class Vn extends Be{_parse(t){const r=Ye.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==he.string&&n.parsedType!==he.number){const a=Ye.objectValues(r);return _e(n,{expected:Ye.joinValues(a),received:n.parsedType,code:de.invalid_type}),Pe}if(r.indexOf(t.data)===-1){const a=Ye.objectValues(r);return _e(n,{received:n.data,code:de.invalid_enum_value,options:a}),Pe}return St(t.data)}get enum(){return this._def.values}}Vn.create=(e,t)=>new Vn({values:e,typeName:Ne.ZodNativeEnum,...Le(t)});class cn extends Be{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==he.promise&&r.common.async===!1)return _e(r,{code:de.invalid_type,expected:he.promise,received:r.parsedType}),Pe;const n=r.parsedType===he.promise?r.data:Promise.resolve(r.data);return St(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}cn.create=(e,t)=>new cn({type:e,typeName:Ne.ZodPromise,...Le(t)});class Nt extends Be{innerType(){return this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null;if(a.type==="preprocess"){const s=a.transform(n.data);return n.common.async?Promise.resolve(s).then(u=>this._def.schema._parseAsync({data:u,path:n.path,parent:n})):this._def.schema._parseSync({data:s,path:n.path,parent:n})}const o={addIssue:s=>{_e(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="refinement"){const s=u=>{const c=a.refinement(u,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?Pe:(u.status==="dirty"&&r.dirty(),s(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?Pe:(u.status==="dirty"&&r.dirty(),s(u.value).then(()=>({status:r.value,value:u.value}))))}if(a.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!li(s))return s;const u=a.transform(s.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>li(s)?Promise.resolve(a.transform(s.value,o)).then(u=>({status:r.value,value:u})):s);Ye.assertNever(a)}}Nt.create=(e,t,r)=>new Nt({schema:e,typeName:Ne.ZodEffects,effect:t,...Le(r)});Nt.createWithPreprocess=(e,t,r)=>new Nt({schema:t,effect:{type:"preprocess",transform:e},typeName:Ne.ZodEffects,...Le(r)});class Dt extends Be{_parse(t){return this._getType(t)===he.undefined?St(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Dt.create=(e,t)=>new Dt({innerType:e,typeName:Ne.ZodOptional,...Le(t)});class Ur extends Be{_parse(t){return this._getType(t)===he.null?St(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ur.create=(e,t)=>new Ur({innerType:e,typeName:Ne.ZodNullable,...Le(t)});class Ki extends Be{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===he.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Ki.create=(e,t)=>new Dt({innerType:e,typeName:Ne.ZodOptional,...Le(t)});class gi extends Be{_parse(t){if(this._getType(t)!==he.nan){const n=this._getOrReturnCtx(t);return _e(n,{code:de.invalid_type,expected:he.nan,received:n.parsedType}),Pe}return{status:"valid",value:t.data}}}gi.create=e=>new gi({typeName:Ne.ZodNaN,...Le(e)});const nN=Symbol("zod_brand");class iy extends Be{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}const sy=(e,t={},r)=>e?un.create().superRefine((n,a)=>{if(!e(n)){const o=typeof t=="function"?t(n):t,s=typeof o=="string"?{message:o}:o;a.addIssue({code:"custom",...s,fatal:r})}}):un.create(),aN={object:Xe.lazycreate};var Ne;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded"})(Ne||(Ne={}));const oN=(e,t={message:`Input not instance of ${e.name}`})=>sy(r=>r instanceof e,t,!0),uy=er.create,cy=fr.create,iN=gi.create,sN=fi.create,ly=sn.create,uN=dr.create,cN=di.create,lN=pi.create,fN=un.create,dN=Sr.create,pN=pr.create,mN=mi.create,hN=It.create,yN=Xe.create,vN=Xe.strictCreate,gN=Bn.create,bN=Xi.create,wN=Ln.create,xN=tr.create,_N=Un.create,EN=yi.create,SN=Lr.create,TN=tn.create,ON=vi.create,CN=qn.create,RN=Jn.create,NN=Vn.create,AN=cn.create,wp=Nt.create,PN=Dt.create,DN=Ur.create,$N=Nt.createWithPreprocess,IN=()=>uy().optional(),MN=()=>cy().optional(),FN=()=>ly().optional(),kN=Pe;var ke=Object.freeze({__proto__:null,getParsedType:wr,ZodParsedType:he,defaultErrorMap:kn,setErrorMap:ZR,getErrorMap:ui,makeIssue:ci,EMPTY_PATH:XR,addIssueToContext:_e,ParseStatus:Et,INVALID:Pe,DIRTY:KR,OK:St,isAborted:pc,isDirty:mc,isValid:li,isAsync:hc,ZodType:Be,ZodString:er,ZodNumber:fr,ZodBigInt:fi,ZodBoolean:sn,ZodDate:dr,ZodUndefined:di,ZodNull:pi,ZodAny:un,ZodUnknown:Sr,ZodNever:pr,ZodVoid:mi,ZodArray:It,get objectUtil(){return hi},ZodObject:Xe,ZodUnion:Bn,ZodDiscriminatedUnion:Xi,ZodIntersection:Ln,ZodTuple:tr,ZodRecord:Un,ZodMap:yi,ZodSet:Lr,ZodFunction:tn,ZodLazy:vi,ZodLiteral:qn,ZodEnum:Jn,ZodNativeEnum:Vn,ZodPromise:cn,ZodEffects:Nt,ZodTransformer:Nt,ZodOptional:Dt,ZodNullable:Ur,ZodDefault:Ki,ZodNaN:gi,BRAND:nN,ZodBranded:iy,custom:sy,Schema:Be,ZodSchema:Be,late:aN,get ZodFirstPartyTypeKind(){return Ne},any:fN,array:hN,bigint:sN,boolean:ly,date:uN,discriminatedUnion:bN,effect:wp,enum:RN,function:TN,instanceof:oN,intersection:wN,lazy:ON,literal:CN,map:EN,nan:iN,nativeEnum:NN,never:pN,null:lN,nullable:DN,number:cy,object:yN,oboolean:FN,onumber:MN,optional:PN,ostring:IN,preprocess:$N,promise:AN,record:_N,set:SN,strictObject:vN,string:uy,transformer:wp,tuple:xN,undefined:cN,union:gN,unknown:dN,void:mN,NEVER:kN,ZodIssueCode:de,quotelessJson:QR,ZodError:ir});const bi=({options:e,isLoading:t,name:r,defaultSearchTerm:n,defaultValue:a,onSearchChange:o,readonly:s})=>{const[u,c]=y.exports.useState(n||""),[l,h]=y.exports.useState({}),g=G.exports.isEmpty(l)?a:l,O=G.exports.isObject(g)?JSON.stringify(g):g,C=y.exports.useMemo(()=>{const _=R=>{const v=R.target.value;v.length>1&&o(v),v!==u&&c(v),e.filter(S=>S.label===v).length===0&&h({})};return G.exports.debounce(_,300)},[o]),w=_=>{const R=e.filter(v=>v.label===_)[0];h(R.value),c(_)};return p.createElement(Rn,{onChange:w,value:u,disabled:s},({open:_})=>p.createElement("div",null,p.createElement(Rn.Button,{as:"div",onClick:R=>{(_||u.length===0)&&Uy(R)&&R.preventDefault()}},p.createElement(Rn.Input,{className:"ctw-listbox-input ctw-w-full",onChange:R=>{R.persist(),C(R)},placeholder:"Type to search"})),p.createElement("input",{hidden:!0,name:r,value:O,readOnly:!0}),p.createElement(Rn.Options,{className:"ctw-listbox ctw-absolute ctw-z-10 ctw-m-0 ctw-mt-1 ctw-max-h-60 ctw-w-full ctw-list-none ctw-overflow-auto ctw-rounded-md ctw-bg-white ctw-p-0 ctw-py-1 ctw-text-base ctw-shadow-lg ctw-ring-1 ctw-ring-opacity-5 focus:ctw-outline-none sm:ctw-text-sm"},p.createElement(BN,{options:e,query:u,isLoading:t}))))},BN=({options:e,query:t,isLoading:r})=>t.length===0?p.createElement(Sn,{option:{value:"",label:"Type to search"}}):r?p.createElement(Sn,{option:{value:"",label:"Loading..."}}):t.length<2?p.createElement(Sn,{option:{value:"",label:"Pleae type at least two characters"}}):e.length===0?p.createElement(Sn,{option:{value:"",label:`No results found for search term '${t}'`}}):p.createElement(p.Fragment,null,e.map(n=>p.createElement(Sn,{option:n,key:n.label}))),Sn=({option:e})=>p.createElement(Rn.Option,{value:e.label,className:({active:t})=>`ctw-relative ctw-cursor-default ctw-select-none ctw-py-2 ctw-pr-4 ctw-pl-4 ${t?"ctw-bg-primary-light ctw-text-primary-dark":"ctw-text-content-black"}`},e.label);try{bi.displayName="ComboboxField",bi.__docgenInfo={description:"",displayName:"ComboboxField",props:{options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"ComboxboxFieldOption[]"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!0,type:{name:"T"}},defaultSearchTerm:{defaultValue:null,description:"",name:"defaultSearchTerm",required:!0,type:{name:"string"}},onSearchChange:{defaultValue:null,description:"",name:"onSearchChange",required:!0,type:{name:"(searchTerm: string) => void"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!0,type:{name:"boolean | undefined"}}}}}catch{}const ln=e=>e==="production"?"https://api.zusapi.com":`https://api.${e}.zusapi.com`,LN=e=>`${ln(e)}/forms-data/terminology/conditions`,UN=e=>`${ln(e)}/forms-data/terminology/dosages`,qN=async(e,t)=>{const{authToken:r,contextBuilderId:n}=e;return(await(await fetch(`${UN(e.env)}?display=${t}`,{headers:{Authorization:`Bearer ${r}`,...n&&{"Zus-Account":n}}})).json()).data},vc=({defaultCoding:e,readonly:t,...r})=>{const{getRequestContext:n}=zt(),[a,o]=y.exports.useState(!1),[s,u]=y.exports.useState(),c=async l=>{o(!0);const h=await n(),g=await qN(h,l);g&&u(g.map(O=>({value:O,label:O.display}))),o(!1)};return p.createElement(bi,{options:s||[],isLoading:a,name:`${r.name}`,defaultSearchTerm:r.defaultValue,readonly:t,onSearchChange:c,defaultValue:e})};try{vc.displayName="MedicationsAutoComplete",vc.__docgenInfo={description:"",displayName:"MedicationsAutoComplete",props:{defaultCoding:{defaultValue:null,description:"",name:"defaultCoding",required:!1,type:{name:"Coding"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!0,type:{name:"boolean | undefined"}}}}}catch{}const gc=e=>[{label:"Subject",value:e.subjectID,field:"subjectID",readonly:!0,hidden:!0},{label:"Date Asserted",value:Zn(new Date,"P"),field:"dateAsserted",readonly:!0},{label:"Medication",field:"medication",value:e.display,readonly:!1,render:(t,r)=>p.createElement(vc,{readonly:t,...r,defaultCoding:e.rxNormCodeableConcept})},{label:"Latest Status",value:e.status,field:"status"},{label:"Instructions",value:e.dosage,field:"dosage"}],VN=ke.object({subjectID:ke.string({required_error:"Patient must be specified."}),dateAsserted:ke.date({required_error:"Date asserted is required."}),medication:ke.object({code:ke.string({required_error:"Please choose a medication."}),display:ke.string().optional(),system:ke.string().optional()}),dosage:ke.string().optional(),status:ke.enum(["active","completed","entered-in-error","intended","not-taken","on-hold","stopped","unknown"])});try{gc.displayName="getMedicationFormData",gc.__docgenInfo={description:"",displayName:"getMedicationFormData",props:{builderPatientRxNormStatus:{defaultValue:null,description:"",name:"builderPatientRxNormStatus",required:!1,type:{name:"Record<string, string>"}},basedOn:{defaultValue:null,description:"",name:"basedOn",required:!0,type:{name:"string | undefined"}},category:{defaultValue:null,description:"",name:"category",required:!0,type:{name:"string"}},context:{defaultValue:null,description:"",name:"context",required:!0,type:{name:"string | undefined"}},dateAsserted:{defaultValue:null,description:"",name:"dateAsserted",required:!0,type:{name:"string | undefined"}},derivedFrom:{defaultValue:null,description:"",name:"derivedFrom",required:!0,type:{name:"string[]"}},aggregatedFrom:{defaultValue:null,description:"",name:"aggregatedFrom",required:!0,type:{name:"Reference[]"}},display:{defaultValue:null,description:"",name:"display",required:!0,type:{name:"string"}},dosage:{defaultValue:null,description:"",name:"dosage",required:!0,type:{name:"string | undefined"}},effectiveStart:{defaultValue:null,description:"",name:"effectiveStart",required:!0,type:{name:"string | undefined"}},identifier:{defaultValue:null,description:"",name:"identifier",required:!0,type:{name:"string | undefined"}},informationSource:{defaultValue:null,description:"",name:"informationSource",required:!0,type:{name:"Reference | undefined"}},medicationReference:{defaultValue:null,description:"",name:"medicationReference",required:!0,type:{name:"string | undefined"}},notesDisplay:{defaultValue:null,description:"",name:"notesDisplay",required:!0,type:{name:"string[]"}},partOf:{defaultValue:null,description:"",name:"partOf",required:!0,type:{name:"string | undefined"}},patientStatus:{defaultValue:null,description:"",name:"patientStatus",required:!0,type:{name:"string"}},rxNorm:{defaultValue:null,description:"",name:"rxNorm",required:!0,type:{name:"string | undefined"}},rxNormCodeableConcept:{defaultValue:null,description:'Get RxNorm coding with "display" defaulting to this Med-Statement label.',name:"rxNormCodeableConcept",required:!0,type:{name:"{ display: string; code?: string | undefined; _code?: Element | undefined; _display?: Element | undefined; system?: string | undefined; _system?: Element | undefined; ... 6 more ...; _id?: Element | undefined; }"}},reason:{defaultValue:null,description:"",name:"reason",required:!0,type:{name:"string | undefined"}},reasonReference:{defaultValue:null,description:"",name:"reasonReference",required:!0,type:{name:"Reference[] | undefined"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},statusReason:{defaultValue:null,description:"",name:"statusReason",required:!0,type:{name:"string | undefined"}},subject:{defaultValue:null,description:"",name:"subject",required:!0,type:{name:"Reference"}},subjectID:{defaultValue:null,description:"",name:"subjectID",required:!0,type:{name:"string"}},lastFillDate:{defaultValue:null,description:"",name:"lastFillDate",required:!0,type:{name:"string | undefined"}},quantity:{defaultValue:null,description:"",name:"quantity",required:!0,type:{name:"string | undefined"}},daysSupply:{defaultValue:null,description:"",name:"daysSupply",required:!0,type:{name:"string | undefined"}},refills:{defaultValue:null,description:"",name:"refills",required:!0,type:{name:"string | undefined"}},lastPrescriber:{defaultValue:null,description:"",name:"lastPrescriber",required:!0,type:{name:"string | undefined"}},lastPrescribedDate:{defaultValue:null,description:"",name:"lastPrescribedDate",required:!0,type:{name:"string | undefined"}},resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"MedicationStatement"}},includedResources:{defaultValue:null,description:"",name:"includedResources",required:!1,type:{name:"ResourceMap"}},revIncludes:{defaultValue:null,description:"",name:"revIncludes",required:!1,type:{name:"Resource[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isSummaryResource:{defaultValue:null,description:"",name:"isSummaryResource",required:!0,type:{name:"boolean"}},resourceType:{defaultValue:null,description:"",name:"resourceType",required:!0,type:{name:"string"}},getBasicResourceByAction:{defaultValue:null,description:"",name:"getBasicResourceByAction",required:!0,type:{name:"(profileAction: string) => Basic | undefined"}},toString:{defaultValue:null,description:"",name:"toString",required:!1,type:{name:"() => string"}}}}}catch{}const jN=[Ul,jh,Hh],HN=async(e,t)=>{const r={resourceType:"MedicationStatement",status:e.status,dateAsserted:Dr(e.dateAsserted),subject:{type:"Patient",reference:`Patient/${e.subjectID}`},medicationCodeableConcept:{text:e.medication.display,coding:[{system:_h,code:e.medication.code}]},...e.dosage&&{dosage:[{text:e.dosage}]}},n=new Br(r),a=await GC(n.resource,await t());return await Promise.all(jN.map(async o=>Mr.invalidateQueries([o]))),a},wi=({isOpen:e,handleOnClose:t,medication:r,children:n})=>{var s,u;const a=Vl(),o=gc(new Br(r!=null?r:{resourceType:"MedicationStatement",status:"active",subject:{reference:`Patient/${(s=a.data)==null?void 0:s.id}`,display:(u=a.data)==null?void 0:u.display},dateAsserted:Zn(new Date,"yyyy-MM-dd")}));return p.createElement(p.Fragment,null,n,p.createElement(zn,{title:"Add Medication",action:HN,data:o,schema:VN,isOpen:e,onClose:()=>t()}))};try{wi.displayName="AddNewMedDrawer",wi.__docgenInfo={description:"",displayName:"AddNewMedDrawer",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},handleOnClose:{defaultValue:null,description:"",name:"handleOnClose",required:!0,type:{name:"() => void"}},medication:{defaultValue:null,description:"",name:"medication",required:!1,type:{name:"MedicationStatement"}}}}}catch{}function zN(){return gn(Hh,[{informationSourceNot:"Patient"}],iR)}function WN(){return gn(jh,[],sR)}function fy(){const[e,t]=y.exports.useState(),[r,n]=y.exports.useState(),a=WN(),o=zN();y.exports.useEffect(()=>{var l,h;if(((l=a.data)==null?void 0:l.bundle)&&((h=o.data)==null?void 0:h.bundle)){const{medications:g}=a.data,{medications:O}=o.data,C=wh([a.data.bundle,o.data.bundle]),w=cR(g,O,C);t(w.builderMedications.map(_=>new Br(_,C))),n(w.otherProviderMedications.map(_=>new Br(_,C)))}},[a.data,o.data]);const s=o.isLoading||a.isLoading,u=o.isFetching||a.isFetching,c=o.isError||a.isError;return{isFetching:u,isLoading:s,isError:c,builderMedications:e,otherProviderMedications:r}}function bc({sortOrder:e="asc",sortColumn:t="display"}){const[r,n]=y.exports.useState([]),[a,o]=y.exports.useState(!1),[s,u]=y.exports.useState(!1),[c,l]=y.exports.useState(),{otherProviderMedications:h,isLoading:g}=fy();function O(w){l(w),o(!0)}function C(w){l(w),u(!0)}return y.exports.useEffect(()=>{!h||n(jl(h,Ee.pipe(Ee.get(t),Ee.toLower),e))},[h,t,e]),p.createElement(p.Fragment,null,p.createElement(si,{medicationStatements:r,isLoading:g,rowMenuActions:w=>[{name:"View History",action:async()=>{O(w)}},{name:"Add to Record",action:async()=>{C(w)}}]}),p.createElement(ii,{medication:c,isOpen:a,onClose:()=>o(!1)}),p.createElement(wi,{medication:c==null?void 0:c.resource,isOpen:s,handleOnClose:()=>u(!1)}))}try{bc.displayName="OtherProviderMedsTable",bc.__docgenInfo={description:`Displays a table of medications that are not scoped to the current builder.
This component displays the inverse results of \`ProviderMedsTable\`.

The table has a menu to the right side which will pull out the
history for the medication listed in that row.`,displayName:"OtherProviderMedsTable",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},sortColumn:{defaultValue:{value:"display"},description:"",name:"sortColumn",required:!1,type:{name:"enum",value:[{value:'"builderPatientRxNormStatus"'},{value:'"basedOn"'},{value:'"category"'},{value:'"context"'},{value:'"dateAsserted"'},{value:'"derivedFrom"'},{value:'"aggregatedFrom"'},{value:'"display"'},{value:'"dosage"'},{value:'"effectiveStart"'},{value:'"identifier"'},{value:'"informationSource"'},{value:'"medicationReference"'},{value:'"notesDisplay"'},{value:'"partOf"'},{value:'"patientStatus"'},{value:'"rxNorm"'},{value:'"rxNormCodeableConcept"'},{value:'"reason"'},{value:'"reasonReference"'},{value:'"status"'},{value:'"statusReason"'},{value:'"subject"'},{value:'"subjectID"'},{value:'"lastFillDate"'},{value:'"quantity"'},{value:'"daysSupply"'},{value:'"refills"'},{value:'"lastPrescriber"'},{value:'"lastPrescribedDate"'},{value:'"resource"'},{value:'"includedResources"'},{value:'"revIncludes"'},{value:'"id"'},{value:'"isSummaryResource"'},{value:'"resourceType"'},{value:'"getBasicResourceByAction"'},{value:'"toString"'}]}},sortOrder:{defaultValue:{value:"asc"},description:"",name:"sortOrder",required:!1,type:{name:"enum",value:[{value:'"asc"'},{value:'"desc"'}]}}}}}catch{}function wc({showInactive:e=!1,sortColumn:t="display",sortOrder:r="asc"}){const[n,a]=y.exports.useState([]),[o,s]=y.exports.useState(!1),[u,c]=y.exports.useState(),{builderMedications:l,isLoading:h}=fy();function g(O){c(O),s(!0)}return y.exports.useEffect(()=>{!l||a(jl(e?l:l.filter(O=>O.status==="Active"),Ee.pipe(Ee.get(t),Ee.toLower),r))},[l,t,r,e]),p.createElement(p.Fragment,null,p.createElement(si,{medicationStatements:n,isLoading:h,rowMenuActions:O=>[{name:"View History",action:async()=>{g(O)}}]}),p.createElement(ii,{medication:u,isOpen:o,onClose:()=>s(!1)}))}try{wc.displayName="ProviderMedsTable",wc.__docgenInfo={description:`Displays a table of medications that are scoped to the CTWContext builder
and patient. To show medications that aren't scoped to the builder, use the
\`OtherProviderMedsTable\` instead.

The table has a menu to the right side which will pull out the
history for the medication listed in that row.`,displayName:"ProviderMedsTable",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},sortColumn:{defaultValue:{value:"display"},description:"",name:"sortColumn",required:!1,type:{name:"enum",value:[{value:'"builderPatientRxNormStatus"'},{value:'"basedOn"'},{value:'"category"'},{value:'"context"'},{value:'"dateAsserted"'},{value:'"derivedFrom"'},{value:'"aggregatedFrom"'},{value:'"display"'},{value:'"dosage"'},{value:'"effectiveStart"'},{value:'"identifier"'},{value:'"informationSource"'},{value:'"medicationReference"'},{value:'"notesDisplay"'},{value:'"partOf"'},{value:'"patientStatus"'},{value:'"rxNorm"'},{value:'"rxNormCodeableConcept"'},{value:'"reason"'},{value:'"reasonReference"'},{value:'"status"'},{value:'"statusReason"'},{value:'"subject"'},{value:'"subjectID"'},{value:'"lastFillDate"'},{value:'"quantity"'},{value:'"daysSupply"'},{value:'"refills"'},{value:'"lastPrescriber"'},{value:'"lastPrescribedDate"'},{value:'"resource"'},{value:'"includedResources"'},{value:'"revIncludes"'},{value:'"id"'},{value:'"isSummaryResource"'},{value:'"resourceType"'},{value:'"getBasicResourceByAction"'},{value:'"toString"'}]}},sortOrder:{defaultValue:{value:"asc"},description:"",name:"sortOrder",required:!1,type:{name:"enum",value:[{value:'"asc"'},{value:'"desc"'}]}},showInactive:{defaultValue:{value:"false"},description:"",name:"showInactive",required:!1,type:{name:"boolean"}}}}}catch{}function xp({className:e,children:t}){return p.createElement("div",{className:it("ctw-container",e)},t)}function xi({className:e,children:t}){const r=y.exports.useRef(null),n=zl(r),a=it(e,{"ctw-stacked":n.sm});return p.createElement("div",{className:a,ref:r},t)}function _i({className:e,title:t,children:r}){return p.createElement("div",{className:it("ctw-heading-container",e)},t&&p.createElement("div",{className:"ctw-title"},t),r)}function Ei({className:e,title:t,children:r}){return p.createElement("div",{className:it("ctw-title-container",e)},t&&p.createElement("div",{className:"ctw-title"},t),r)}function jn({className:e,title:t,titleChildren:r,children:n}){const a=!!(t||r);return p.createElement("div",{className:it("ctw-body-container",e)},p.createElement("div",{className:"ctw-space-y-3"},a&&p.createElement(Ei,{title:t},r),n))}try{xp.displayName="Wrapper",xp.__docgenInfo={description:"",displayName:"Wrapper",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}try{xi.displayName="StackedWrapper",xi.__docgenInfo={description:"",displayName:"StackedWrapper",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}try{_i.displayName="Heading",_i.__docgenInfo={description:"",displayName:"Heading",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}try{Ei.displayName="Title",Ei.__docgenInfo={description:"",displayName:"Title",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}}}}}catch{}try{jn.displayName="Body",jn.__docgenInfo={description:"",displayName:"Body",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},titleChildren:{defaultValue:null,description:"",name:"titleChildren",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}}}}}catch{}const Si=({name:e,text:t,onChange:r,inputProps:n})=>p.createElement("div",{className:"ctw-toggle"},p.createElement("div",{className:"ctw-relative ctw-mr-2 ctw-inline-block ctw-w-10 ctw-select-none ctw-align-middle ctw-transition ctw-duration-200 ctw-ease-in"},p.createElement("label",{htmlFor:e,className:"ctw-relative ctw-block ctw-h-6 ctw-cursor-pointer ctw-overflow-hidden ctw-rounded-full ctw-bg-divider-light"},p.createElement("input",{onChange:r,...n,type:"checkbox",name:e,id:e}),p.createElement("span",{className:"ctw-toggle-span"}))),p.createElement("label",{htmlFor:e,className:"ctw-text-sm ctw-font-medium ctw-text-icon-default"},t));try{Si.displayName="Toggle",Si.__docgenInfo={description:"",displayName:"Toggle",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},inputProps:{defaultValue:null,description:"",name:"inputProps",required:!1,type:{name:"{ value: string; defaultChecked: boolean; } | { value: string; checked: boolean; disabled: boolean; }"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((event: ChangeEvent<HTMLInputElement>) => void)"}}}}}catch{}const Ti=({toggleProps:e,onFormChange:t})=>p.createElement("form",{onChange:t,className:"ctw-text-end"},p.createElement(Si,{...e}));try{Ti.displayName="ToggleControl",Ti.__docgenInfo={description:"",displayName:"ToggleControl",props:{toggleProps:{defaultValue:null,description:"",name:"toggleProps",required:!0,type:{name:"ToggleProps"}},onFormChange:{defaultValue:null,description:"",name:"onFormChange",required:!0,type:{name:"(e: FormEvent<HTMLFormElement>) => void"}}}}}catch{}function _p({className:e,readOnly:t=!1,showConfirmedMedsTable:r=!0,showOtherProvidersMedsTable:n=!0}){const[a,o]=y.exports.useState(!1),[s,u]=y.exports.useState(!1);return p.createElement(xi,{className:it("ctw-patient-medications",e)},p.createElement(_i,{title:"Medications"},!t&&p.createElement(wi,{isOpen:a,handleOnClose:()=>o(!1)},p.createElement("button",{className:"ctw-btn-clear ctw-link",type:"button",onClick:()=>o(!0)},"+ Add Medication"))),r&&p.createElement(jn,null,p.createElement(Ei,{title:"Confirmed Medications"},p.createElement(Ti,{onFormChange:()=>u(!s),toggleProps:{name:"status",text:"Include Inactive"}})),p.createElement(wc,{showInactive:s})),n&&p.createElement(jn,{title:"Other Provider Records"},p.createElement(bc,null)))}try{_p.displayName="PatientMedications",_p.__docgenInfo={description:"",displayName:"PatientMedications",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},status:{defaultValue:null,description:"",name:"status",required:!1,type:{name:"enum",value:[{value:'"active"'},{value:'"entered-in-error"'},{value:'"not-taken"'},{value:'"completed"'},{value:'"on-hold"'},{value:'"intended"'},{value:'"stopped"'}]}},showConfirmedMedsTable:{defaultValue:{value:"true"},description:"",name:"showConfirmedMedsTable",required:!1,type:{name:"boolean"}},showOtherProvidersMedsTable:{defaultValue:{value:"true"},description:"",name:"showOtherProvidersMedsTable",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}}}}}catch{}const xc=({currentPage:e,isLoading:t=!1,pageSize:r,setCurrentPage:n,total:a})=>{const o=Math.min(a,(e-1)*r+1),s=Math.min(e*r,a),u=Math.ceil(a/r),c=Math.max(e-1,1),l=Math.min(e+1,u);let h=[1,u];return h.push(e-1,e,e+1),h=G.exports.uniq(h.sort((g,O)=>g-O).filter(g=>g>=1&&g<=u)),p.createElement("div",{className:"ctw-flex ctw-justify-between ctw-py-3 ctw-px-6"},p.createElement("div",{className:"ctw-text-gray-600 ctw-text-sm"},t?p.createElement(Fr,null):p.createElement(p.Fragment,null,p.createElement("span",{className:"ctw-font-medium"},o)," to"," ",p.createElement("span",{className:"ctw-font-medium"},s)," of"," ",p.createElement("span",{className:"ctw-font-medium"},a)," results")),u>1&&p.createElement("div",null,p.createElement("nav",{className:"ctw-pagination-nav","aria-label":"Pagination"},p.createElement(ya,{page:c,setCurrentPage:n,className:"ctw-pagination-group-start ctw-hover:ctw-bg-gray-50",disabled:e===1},p.createElement("span",{className:"ctw-sr-only"},"Previous"),p.createElement(R0,{className:"ctw-h-5 ctw-w-5","aria-hidden":"true"})),h.map((g,O)=>{var _;const C=(_=h[O-1])!=null?_:0,w=g-C-1;return p.createElement(y.exports.Fragment,{key:g},w>1&&p.createElement("span",{className:"ctw-pagination-ellipsis"},"..."),w===1&&p.createElement(ya,{page:g-1,setCurrentPage:n,currentPage:e}),p.createElement(ya,{setCurrentPage:n,page:g,currentPage:e}))}),p.createElement(ya,{page:l,setCurrentPage:n,className:"ctw-pagination-group-end",disabled:e===u},p.createElement("span",{className:"ctw-sr-only"},"Next"),p.createElement(P0,{className:"ctw-h-5 ctw-w-5","aria-hidden":"true"})))))},ya=({setCurrentPage:e,page:t,currentPage:r,children:n,className:a,disabled:o=!1})=>{const s=t===r;return p.createElement("button",{type:"button",disabled:o,onClick:()=>e(t),className:it(a,"ctw-pagination-page-btn",{active:s,disabled:o})},n||t)};try{xc.displayName="Pagination",xc.__docgenInfo={description:"",displayName:"Pagination",props:{currentPage:{defaultValue:null,description:"",name:"currentPage",required:!0,type:{name:"number"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},pageSize:{defaultValue:null,description:"",name:"pageSize",required:!0,type:{name:"number"}},setCurrentPage:{defaultValue:null,description:"",name:"setCurrentPage",required:!0,type:{name:"(n: number) => void"}},total:{defaultValue:null,description:"",name:"total",required:!0,type:{name:"number"}}}}}catch{}function YN(e,t,r){return Fg(XC,[e,t,r],nR)}const Ep=({className:e,handleAddNewPatient:t,handleRowClick:r,pageSize:n=5,title:a="Patients"})=>{const[o,s]=y.exports.useState(1),[u,c]=y.exports.useState(0),[l,h]=y.exports.useState([]),[g,O]=y.exports.useState(),{data:{patients:C,total:w}={},isFetching:_,isError:R}=YN(n,o-1,g),v=y.exports.useCallback(G.exports.debounce(S=>{O(S),s(1),c(0),h([])},100),[]);return y.exports.useEffect(()=>{!_&&C&&(c(w!=null?w:0),h(C))},[C,w,R,_]),y.exports.useEffect(()=>{R&&(c(0),h([]))},[R,_]),p.createElement(xi,{className:it("ctw-patients-table",e)},p.createElement(_i,{title:a},p.createElement("div",{className:"ctw-relative"},p.createElement("div",{className:"ctw-search-icon-wrapper"},p.createElement(z0,{className:"ctw-search-icon"})),p.createElement("input",{type:"text",className:"ctw-patients-table-search",placeholder:"Search",name:"searchPatientName",onChange:S=>v(S.currentTarget.value)}))),p.createElement(jn,null,p.createElement(sl,{records:l,columns:GN,handleRowClick:r,hidePagination:!0},p.createElement(xc,{setCurrentPage:s,total:u,currentPage:o,pageSize:n,isLoading:_}))))},GN=[{title:"Name",render:e=>p.createElement(QN,{patient:e})},{title:"Contact",render:({email:e,phoneNumber:t})=>p.createElement(p.Fragment,null,p.createElement("div",{className:"ctw-patients-table-email"},e),p.createElement("div",{className:"ctw-patients-table-phone"},t))}],QN=({patient:e})=>p.createElement("div",{className:"ctw-flex ctw-items-center"},p.createElement("div",{className:"ctw-ml-4"},p.createElement("div",{className:"ctw-flex ctw-font-medium"},p.createElement("div",{className:"ctw-max-w-xs"},e.fullName),e.gender&&p.createElement("div",{className:"ctw-uppercase"}," (",e.gender[0],")")),p.createElement("div",{className:"ctw-text-content-lighter"},e.dob," (",e.age,")")));try{Ep.displayName="PatientsTable",Ep.__docgenInfo={description:"PatientsTable displays a paginated list of all patients for a builder. In\naddition to having configurable page size, lazy loading and name search, the\ncomponent accepts an `onRowClick` prop so developers can add their own\nlogic when a row is clicked. The `onRowClick` receives the targeted\n`PatientModel` as its sole argument, which contains the underlying FHIR\nobject as `.resource`.",displayName:"PatientsTable",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}},handleRowClick:{defaultValue:null,description:"",name:"handleRowClick",required:!0,type:{name:"(row: PatientModel) => void"}},handleAddNewPatient:{defaultValue:null,description:"",name:"handleAddNewPatient",required:!1,type:{name:"(() => void)"}},pageSize:{defaultValue:{value:"5"},description:"",name:"pageSize",required:!1,type:{name:"number"}},title:{defaultValue:{value:"Patients"},description:"",name:"title",required:!1,type:{name:"string"}},getRowClasses:{defaultValue:null,description:"",name:"getRowClasses",required:!1,type:{name:"((row: PatientModel) => Argument)"}},onRowClick:{defaultValue:null,description:"",name:"onRowClick",required:!1,type:{name:"((row: PatientModel) => void)"}}}}}catch{}const Sp=({className:e,color:t,text:r})=>{const n={primary:"ctw-bg-primary-light ctw-text-primary-main",gray:"ctw-bg-bg-light ctw-text-content-light",info:"ctw-bg-info-light ctw-text-info-main",success:"ctw-bg-success-light ctw-text-success-main",caution:"ctw-bg-caution-light ctw-text-caution-main",error:"ctw-bg-error-light ctw-text-error-main"}[t];return p.createElement("span",{className:it(e,n,"ctw-inline-flex ctw-rounded-full ctw-px-2 ctw-text-xs ctw-font-semibold ctw-leading-5")},r)};try{Sp.displayName="Badge",Sp.__docgenInfo={description:"",displayName:"Badge",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},color:{defaultValue:null,description:"",name:"color",required:!0,type:{name:"enum",value:[{value:'"error"'},{value:'"primary"'},{value:'"gray"'},{value:'"info"'},{value:'"success"'},{value:'"caution"'}]}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}}}}}catch{}const Oi=({isOpen:e,onAfterClosed:t,children:r,className:n})=>p.createElement(rs,{appear:!0,show:e,as:y.exports.Fragment},p.createElement(af,{as:"div",className:"ctw-relative ctw-z-[10100]",onClose:()=>{}},p.createElement(rs.Child,{as:y.exports.Fragment,enter:"ctw-ease-out ctw-duration-300",enterFrom:"ctw-opacity-0",enterTo:"ctw-opacity-100",leave:"ctw-ease-in ctw-duration-200",leaveFrom:"ctw-opacity-100",leaveTo:"ctw-opacity-0",afterLeave:t},p.createElement("div",{className:"ctw-fixed ctw-inset-0  ctw-transition-opacity"},p.createElement("div",{className:"ctw-h-full ctw-w-full ctw-bg-content-light ctw-opacity-75"}))),p.createElement("div",{className:"ctw-fixed ctw-inset-0 ctw-overflow-auto"},p.createElement("div",{className:"ctw-flex ctw-min-h-full ctw-items-center ctw-justify-center ctw-p-4 ctw-text-center"},p.createElement(rs.Child,{as:y.exports.Fragment,enter:"ctw-ease-out ctw-duration-300",enterFrom:"ctw-opacity-0 ctw-scale-95",enterTo:"ctw-opacity-100 ctw-scale-100",leave:"ctw-ease-in ctw-duration-200",leaveFrom:"ctw-opacity-100 ctw-scale-100",leaveTo:"ctw-opacity-0 ctw-scale-95"},p.createElement(af.Panel,{className:it("ctw-min-w-fit ctw-max-w-lg ctw-transform ctw-rounded-lg ctw-bg-white ctw-py-10 ctw-px-10 ctw-align-middle ctw-shadow-xl",n)},p.createElement("div",{className:"ctw-flex ctw-h-full ctw-flex-col ctw-space-y-6"},r)))))));try{Oi.displayName="Modal",Oi.__docgenInfo={description:"",displayName:"Modal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onAfterClosed:{defaultValue:null,description:"",name:"onAfterClosed",required:!1,type:{name:"(() => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const ZN={INF:{fullName:"Certain Infectious and Parasitic Diseases",shortName:"Infectious and Parasitic Diseases"},NEO:{fullName:"Neoplasms",shortName:"Neoplasms"},BLD:{fullName:"Diseases of the Blood and Blood Forming Organs and Certain Disorders Involving the Immune Mechanism",shortName:"Blood Diseases"},END:{fullName:"Endocrine, Nutritional and Metabolic Diseases",shortName:"Endocrine, Nutritional and Metabolic"},MBD:{fullName:"Mental, Behavioral and Neurodevelopmental Disorders",shortName:"Mental and Behavioral"},NVS:{fullName:"Diseases of the Nervous System",shortName:"Nervous System"},EYE:{fullName:"Diseases of the Eye and Adnexa",shortName:"Eye and Adnexa"},EAR:{fullName:"Diseases of the Ear and Mastoid Process",shortName:"Ear and Mastoid Process"},CIR:{fullName:"Diseases of the Circulatory System",shortName:"Circulatory System"},RSP:{fullName:"Diseases of the Respiratory System",shortName:"Respiratory System"},DIG:{fullName:"Diseases of the Digestive System",shortName:"Digestive System"},SKN:{fullName:"Diseases of the Skin and Subcutaneous Tissue",shortName:"Skin and Subcutaneous Tissue"},MUS:{fullName:"Diseases of the Musculoskeletal System and Connective Tissue",shortName:"Musculoskeletal System"},GEN:{fullName:"Diseases of the Genitourinary System",shortName:"Genitourinary System"},PRG:{fullName:"Pregnancy, Childbirth and the Puerperium",shortName:"Pregnancy & Childbirth"},PNL:{fullName:"Certain Conditions Originating in the Perinatal Period",shortName:"Perinatal Conditions"},MAL:{fullName:"Congenital Malformations, Deformations and Chromosomal Abnormalities",shortName:"Malformations and Chromosomal Abnormalities"},SYM:{fullName:"Symptoms, Signs and Abnormal Clinical and Laboratory Findings",shortName:"Clinical Findings"},INJ:{fullName:"Injury, Poisoning and Certain Other Consequences of External Causes",shortName:"External Causes Injury"},EXT:{fullName:"External Causes of Morbidity",shortName:"External Morbidity"},FAC:{fullName:"Factors Influencing Health Status and Contact with Health Services",shortName:"Health Status Influences"},XXX:{fullName:"Unacceptable principal diagnosis (inpatient data) or first-listed diagnosis (outpatient data)",shortName:"Unacceptable principal diagnosis"}};function dy(e){return G.exports.cloneDeep(e)}const XN=e=>{let t="",r="";switch(e){case"Active":t="confirmed",r="active";break;case"Inactive":t="confirmed",r="inactive";break;case"Pending":t="unconfirmed",r="active";break;case"Refuted":t="refuted",r="inactive";break;case"Entered In Error":t="entered-in-error";break;default:throw Error("status is should be of type ConditionStatus")}return G.exports.omitBy({verificationStatus:{coding:[{system:Il,code:t}]},...r&&{clinicalStatus:{coding:[{system:sc,code:r}]}}},G.exports.isUndefined)},KN=async(e,t,r,n)=>{const a=await n(),o={resourceType:"Condition",id:r.id,recorder:await Gi(a),...XN(r.status),category:r.id&&e?e.resource.category:[{coding:[{system:TC,code:"problem-list-item",display:"Problem List Item"}]}],code:r.id&&e?e.codings:{coding:[{system:r.condition.system,code:r.condition.code,display:r.condition.display}],text:r.condition.display},...r.abatement&&{abatementDateTime:Dr(r.abatement)},onsetDateTime:Dr(r.onset),recordedDate:Dr(new Date),subject:{type:"Patient",reference:`Patient/${t}`},note:r.note?[{text:r.note}]:void 0},s=await Qi(o,a);return await Promise.all([Mr.invalidateQueries([Bl]),Mr.invalidateQueries([Ll])]),s},_s=[{system:Xr,checkForEnrichment:!0},{system:An,checkForEnrichment:!0},{system:Xr},{system:An},{system:NC},{system:CC},{system:RC}];function JN(e){const t={resourceType:"Condition",subject:{type:"Patient",reference:`Patient/${e}`}};return dy(t)}function eA(){return gn(Bl,[],async(e,t)=>{try{const{bundle:r,resources:n}=await Kn("Condition",e,{patientUPID:t.UPID});return my(py(n,r))}catch(r){throw new Error(`Failed fetching condition information for patient: ${r}`)}})}function tA(){return gn(Ll,[],async(e,t)=>{try{const{bundle:r,resources:n}=await FC("Condition",e,{_revinclude:"Basic:subject",patientUPID:t.UPID});return my(py(n,r))}catch(r){throw new Error(`Failed fetching condition information for patient: ${r}`)}})}function rA(e){return gn(ZC,[e],async(t,r)=>{if(!!e)try{const n=e.knownCodings.map(u=>`${u.system}|${u.code}`),a={patientUPID:r.UPID,_include:["Condition:patient","Condition:encounter"],"_include:iterate":"Patient:organization"};n.length>0?a.code=n.join(","):a._id=e.id;const{resources:o,bundle:s}=await kC("Condition",t,a);return{conditions:o,bundle:s}}catch(n){throw new Error(`Failed fetching condition history information for patient: ${n}`)}},!!e)}function py(e,t){const r=EC(t);return e.map(n=>{var a;return new Ci(n,void 0,r[(a=n.id)!=null?a:""])})}function my(e){return G.exports.orderBy(e.filter(t=>{var r;return((r=t.resource.asserter)==null?void 0:r.type)!=="Patient"}),[t=>{var r;return(r=t.resource.recordedDate)!=null?r:""},t=>t.display],["desc"])}async function nA(e,t){const r=new Map;return t&&await Promise.all(t.map(async n=>{var l,h;const a=`${ln(e.env)}/fhir/Provenance?target=Condition/${n.id}`,s=await(await fetch(a,{headers:{Authorization:`Bearer ${e.authToken}`}})).json();let u;if(((h=(l=s.entry)==null?void 0:l[0].resource.entity)==null?void 0:h[0].role)==="source"){const g=s.entry[0].resource.entity[0].what.reference,O=`${ln(e.env)}/fhir/${g}`;u=await(await fetch(O,{headers:{Authorization:`Bearer ${e.authToken}`,accept:"application/json","Content-Type":"application/json+fhir"}})).json()}const c={xmlBinary:u||void 0,isBinary:(u==null?void 0:u.data)!==void 0};r.set(n.id,c)})),r}class Ci extends vr{get abatement(){var t,r,n;return this.resource.abatementAge?(t=this.resource.abatementAge.value)==null?void 0:t.toString():this.resource.abatementDateTime?vt(this.resource.abatementDateTime):this.resource.abatementPeriod?vt(this.resource.abatementPeriod.start):this.resource.abatementRange?vt((n=(r=this.resource.abatementRange.low)==null?void 0:r.value)==null?void 0:n.toString()):this.resource.abatementString}get active(){var r;const t=G.exports.find((r=this.resource.clinicalStatus)==null?void 0:r.coding,{system:sc});return t!=null&&t.code?["active","recurrence","relapse"].includes(t.code):!1}get isArchived(){return this.getBasicResourceByAction("archive")!==void 0}get asserter(){var t;return(t=this.resource.asserter)==null?void 0:t.display}get bodySites(){var t;return((t=this.resource.bodySite)==null?void 0:t.map(r=>wt(r)))||[]}get categories(){var t;return((t=this.resource.category)==null?void 0:t.map(r=>wt(r)))||[]}get ccsChapter(){var r;const t=this.ccsChapterCode;if(!!t)return(r=ZN[t])==null?void 0:r.shortName}get ccsChapterCode(){var t,r;return(r=(t=Ut(ap,this.resource.code))==null?void 0:t.code)==null?void 0:r.slice(0,3)}get ccsGrouping(){var t;return(t=Ut(ap,this.resource.code))==null?void 0:t.display}get clinicalStatus(){return wt(this.resource.clinicalStatus)}get clinicalStatusCode(){var t,r;return(r=G.exports.find((t=this.resource.clinicalStatus)==null?void 0:t.coding,{system:sc}))==null?void 0:r.code}get codings(){return this.resource.code}get display(){var t,r;return(r=(t=sp(_s,this.resource.code))==null?void 0:t.display)!=null?r:wt(this.resource.code)}get encounter(){var t;return(t=this.resource.encounter)==null?void 0:t.display}get evidences(){var t;return((t=this.resource.evidence)==null?void 0:t.map(r=>{var n;return wt((n=r.code)==null?void 0:n[0])}))||[]}get icd10Code(){var t;return(t=Ut(An,this.resource.code))==null?void 0:t.code}get icd10System(){var t;return(t=Ut(An,this.resource.code))==null?void 0:t.system}get icd10Display(){var t;return(t=Ut(An,this.resource.code))==null?void 0:t.display}get knownCodings(){const t=G.exports.compact(_s.map(n=>n.checkForEnrichment?Lh(n.system,this.resource.code):Ut(n.system,this.resource.code)));return G.exports.uniqWith(t,(n,a)=>n.system===a.system)}knownCodingsMatch(t){return G.exports.intersectionWith(this.knownCodings,t.knownCodings,(r,n)=>r.code===n.code&&r.system===n.system).length>0}get notes(){var t;return((t=this.resource.note)==null?void 0:t.map(r=>r.text))||[]}get onset(){var t,r,n;return this.resource.onsetAge?(t=this.resource.onsetAge.value)==null?void 0:t.toString():this.resource.onsetDateTime?vt(this.resource.onsetDateTime):this.resource.onsetPeriod?vt(this.resource.onsetPeriod.start):this.resource.onsetRange?vt((n=(r=this.resource.onsetRange.low)==null?void 0:r.value)==null?void 0:n.toString()):pC(this.resource.onsetString)}get patient(){const t=lr("Patient",this.resource.contained,this.includedResources,this.resource.subject.reference);if(t)return new Zi(t,this.includedResources)}get preferredCoding(){return sp(_s,this.resource.code)}get recordedDate(){return vt(this.resource.recordedDate)}get recorded(){return vt(this.resource.recordedDate)}get recorder(){var t;return(t=this.resource.recorder)==null?void 0:t.display}get severity(){return wt(this.resource.severity)}get snomedCoding(){return Ut(Xr,this.resource.code)}get snomedCode(){var t;return(t=Ut(Xr,this.resource.code))==null?void 0:t.code}get snomedDisplay(){var t;return(t=Ut(Xr,this.resource.code))==null?void 0:t.display}get snomedSystem(){var t;return(t=Ut(Xr,this.resource.code))==null?void 0:t.system}get stages(){var t;return((t=this.resource.stage)==null?void 0:t.map(r=>{const n=wt(r.summary),a=wt(r.type);return`Summary: ${n}, Type: ${a}`}))||[]}get status(){function t(r){switch(r){case"active":case"recurrence":case"relapse":return"Active";case"inactive":case"remission":case"resolved":return"Inactive";default:return"Unknown"}}if(this.isSummaryResource)return this.isArchived?"Dismissed":t(this.clinicalStatusCode);switch(this.verificationStatusCode){case"confirmed":return t(this.clinicalStatusCode);case"unconfirmed":return"Pending";case"refuted":return"Refuted";case"entered-in-error":return"Entered in Error";default:return"Unknown"}}get subjectID(){var r;const[,t]=((r=this.resource.subject.reference)==null?void 0:r.split("/"))||[];return t||""}get verificationStatus(){return wt(this.resource.verificationStatus)}get verificationStatusCode(){var t,r;return(r=G.exports.find((t=this.resource.verificationStatus)==null?void 0:t.coding,{system:Il}))==null?void 0:r.code}}function aA(e){return typeof e=="object"&&e!==null?"message"in e:!1}const dn=(e,t)=>{if(oi(t))throw HC(e,t);return aA(t)?{title:e,statusText:t.message}:{title:e}},hy=e=>{let t=[],r=!0;return oi(e)&&Bh(e.response.data)?(t=new Uh(e.response.data).issues.filter(n=>n.severity!=="warning").map(n=>n.display),r=!1):e instanceof Error&&(t=[e.message],r=!1),{requestErrors:t,responseIsSuccess:r}};function yy(e,t,r,n){var s;let a=t;for(;a instanceof Xe||a instanceof Nt;)if(a=a instanceof Xe?a.shape:a instanceof Nt?a._def.schema:null,a===null)throw new Error(`Could not find shape for key ${r}`);if(r.includes(".")){let[u,...c]=r.split(".");e[u]=(s=e[u])!=null?s:{},yy(e[u],a[u],c.join("."),n);return}r.includes("[]")&&(r=r.replace("[]",""));const o=a[r];o&&so(o,e,r,n)}function so(e,t,r,n){let a;if(e instanceof er||e instanceof qn)a=n;else if(e instanceof fr){const o=Number(n);a=isNaN(o)?n:o}else if(e instanceof dr){const o=Date.parse(n);a=isNaN(o)?n:new Date(o)}else if(e instanceof sn)a=n==="true"?!0:n==="false"?!1:Boolean(n);else if(e instanceof Vn||e instanceof Jn)a=n;else if(e instanceof Dt||e instanceof Ki){so(e._def.innerType,t,r,n);return}else if(e instanceof It){t[r]===void 0&&(t[r]=[]),so(e.element,t,r,n);return}else if(e instanceof Nt){so(e._def.schema,t,r,n);return}else if(e instanceof Xe){const o=JSON.parse(n);a=o,Object.entries(e.shape).forEach(([s,u])=>{a[s]||delete o[s]})}else if(e instanceof Sr)a=JSON.parse(n);else throw new Error(`Unexpected type ${e._def.typeName} for key ${r}`);Array.isArray(t[r])?t[r].push(a):t[r]=a}function oA(e){return Symbol.iterator in Object(e)}function iA(e,t){let r={},n=[];oA(e)?n=Array.from(e):n=Object.entries(e);for(const[c,l]of n)l!==""&&yy(r,t,c,l);const o=t.safeParse(r);if(o.success)return{success:!0,data:o.data,errors:void 0};const s={},u=(c,l)=>{s.hasOwnProperty(c)?s[c]=[...s[c],l]:s[c]=[l]};return o.error.issues.forEach(c=>{const{message:l,path:h,code:g,expected:O,received:C}=c,[w,_]=h;let R=r[w];_!==void 0&&(R=R[_]),u(w,l)}),{success:!1,data:void 0,errors:s}}async function sA(e,t){return iA(e,t)}function uA(e,t){var n;const r=e.shape[t];return(r==null?void 0:r.options)||((n=r==null?void 0:r.unwrap)==null?void 0:n.call(r).options)}function vy(e,t={}){const r=e instanceof Nt?e._def.schema:e,{shape:n}=r,a=t;return function(s,u={}){u={...a,...u};const c=n[s];if(!c)throw new Error(`no such key: ${s}`);return gy(s,r,c)}}function gy(e,t,r){var g,O,C,w;let n="text",a,o,s,u,c;const l=uA(t,e);if(r instanceof er){r.isEmail?n="email":r.isURL&&(n="url"),s=(g=r.minLength)!=null?g:void 0,u=(O=r.maxLength)!=null?O:void 0;const _=r._def.checks.find(R=>R.kind==="regex");c=_?_.regex.source:void 0}else if(r instanceof fr)n="number",a=(C=r.minValue)!=null?C:void 0,o=(w=r.maxValue)!=null?w:void 0;else if(r instanceof sn)n="checkbox";else if(r instanceof dr||r._def.innerType instanceof dr)n="date";else if(r instanceof It)return gy(e,t,r.element);const h={name:e,type:n,options:l};return r instanceof Dt||(h["aria-required"]=!0),a&&(h.min=a),o&&(h.max=o),s&&Number.isFinite(s)&&(h.minLength=s),u&&Number.isFinite(u)&&(h.maxLength=u),c&&(h.pattern=c),h}const _c=({action:e,onClose:t,children:r,schema:n,...a})=>{const[o,s]=y.exports.useState(!1),[u,c]=y.exports.useState(),{getRequestContext:l}=zt(),h=()=>{c({}),s(!1)},g=async O=>{O.preventDefault(),s(!0);const C=O.target,w=Array.from(O.target.querySelectorAll("input")),_={};if(w.forEach($=>{$.checkValidity()||(_[$.name]=[`The value is not valid for ${$.name}`])}),!G.exports.isEmpty(_)){c({formErrors:_}),s(!1);return}const R=new FormData(C),v=await sA(R,n);if(!v.success){c({formErrors:v.errors,requestErrors:void 0}),s(!1);return}let S,A,N;try{S=await e(v.data,l)}catch{A=!1,N=[]}if(S){const $=hy(S);A=$.responseIsSuccess,N=$.requestErrors}A?(s(!1),t()):(c({formErrors:void 0,requestErrors:N}),s(!1))};return p.createElement(or,{...a,onClose:t,onAfterClosed:h},p.createElement("form",{className:"ctw-flex ctw-h-full ctw-flex-col ctw-overflow-y-auto",onSubmit:g,noValidate:!0},p.createElement(or.Body,null,p.createElement("div",{className:"ctw-space-y-4"},(u==null?void 0:u.requestErrors)&&p.createElement(mo,{header:"There was an error with your submission"},u.requestErrors.length===1?u.requestErrors[0]:p.createElement("ul",{className:"ctw-m-0 ctw-list-disc ctw-px-4"},u.requestErrors.map(O=>p.createElement("li",null,O)))),r(o,u==null?void 0:u.formErrors))),p.createElement(or.Footer,null,p.createElement("div",{className:"ctw-flex ctw-items-center ctw-justify-between"},p.createElement(p.Fragment,null,(u==null?void 0:u.requestErrors)&&p.createElement("div",{className:"ctw-text-sm ctw-font-medium ctw-text-error-heading"},"There was an error with your submission")),p.createElement("div",{className:"ctw-ml-auto ctw-flex ctw-h-full ctw-space-x-3 ctw-justify-self-end"},p.createElement("button",{type:"button",className:"ctw-btn-default",onClick:t},"Cancel"),p.createElement(Fs,{submitting:o}))))))};try{_c.displayName="DrawerForm",_c.__docgenInfo={description:"",displayName:"DrawerForm",props:{action:{defaultValue:null,description:"",name:"action",required:!0,type:{name:"(data: T, getRequestContext: () => Promise<CTWRequestContext>) => Promise<unknown>"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"AnyZodSchema"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onAfterClosed:{defaultValue:null,description:`Called after drawer closing animation has ended. Use this for
any cleanup that would affect the content displayed in the drawer.`,name:"onAfterClosed",required:!1,type:{name:"(() => void)"}},disableCloseOnBlur:{defaultValue:null,description:"",name:"disableCloseOnBlur",required:!1,type:{name:"boolean"}}}}}catch{}const Hn=({errors:e,options:t,lines:r,defaultValue:n,readonly:a,hidden:o,render:s,...u})=>{const c=u.type==="date"?dC(n):n,l=()=>s?s(a,{...u,defaultValue:n,hidden:o}):t?p.createElement("select",{className:it({"ctw-error":e},"ctw-listbox-button ctw-w-full"),name:u.name,id:u.name,disabled:u.disabled,defaultValue:c},!t.includes(n)&&p.createElement("option",{value:n,disabled:!0},"Select one"),t.map(h=>p.createElement("option",{value:h,key:h},G.exports.startCase(h)))):r?p.createElement("textarea",{rows:r,className:it({"ctw-error":e},"ctw-listbox-textarea ctw-w-full ctw-whitespace-pre-wrap"),defaultValue:c,disabled:u.disabled,readOnly:a,name:u.name,id:u.name}):p.createElement("input",{...u,id:u.name,type:u.type,className:it({"ctw-error":e},"ctw-listbox-input ctw-w-full"),readOnly:a,...c?{defaultValue:c}:{}});return s&&o?s(a,{...u,defaultValue:n,hidden:o}):o?p.createElement("input",{...u,defaultValue:c,hidden:o}):p.createElement(p.Fragment,null,p.createElement("div",{className:"ctw-relative"},l(),a&&p.createElement(L0,{className:"ctw-absolute ctw-right-3 ctw-top-1/2 ctw-h-4 ctw-w-4 ctw--translate-y-1/2 ctw-transform ctw-fill-content-lighter"}),e&&p.createElement("div",{className:"ctw-pointer-events-none ctw-absolute ctw-right-0 ctw-top-2 ctw-pr-4"},p.createElement(gm,{className:"ctw-h-5 ctw-w-5 ctw-text-error-main","aria-hidden":"true"}))),e&&p.createElement("div",{className:"ctw-text-xs ctw-italic ctw-text-error-main"},e.length>1?e.map(h=>p.createElement("div",{key:h},"\u2022 ",h)):e[0]))};try{Hn.displayName="FormField",Hn.__docgenInfo={description:"",displayName:"FormField",props:{errors:{defaultValue:null,description:"",name:"errors",required:!1,type:{name:"string[]"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"string[]"}},lines:{defaultValue:null,description:"",name:"lines",required:!1,type:{name:"number"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"((string | string[]) & (string | number | readonly string[]))"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!1,type:{name:"boolean"}},render:{defaultValue:null,description:"",name:"render",required:!1,type:{name:"((readonly: boolean, props: InputHTMLAttributes<HTMLInputElement>) => Element)"}}}}}catch{}const Ec=({label:e,required:t,name:r})=>p.createElement("div",{className:"ctw-flex ctw-items-center ctw-justify-between"},p.createElement("label",{htmlFor:r},e),!t&&p.createElement("span",{className:"ctw-right-0 ctw-inline-block ctw-text-xs ctw-text-content-light"},"Optional"),t&&p.createElement(p.Fragment,null,p.createElement("div",{className:"ctw-flex-grow ctw-text-icon-default"},"*")));try{Ec.displayName="FormFieldLabel",Ec.__docgenInfo={description:"",displayName:"FormFieldLabel",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},required:{defaultValue:null,description:"",name:"required",required:!0,type:{name:"boolean | undefined"}}}}}catch{}const zn=({title:e,header:t,data:r=[],schema:n,action:a,...o})=>{const s=vy(n);return p.createElement(_c,{title:e,action:a,schema:n,...o},(u,c)=>p.createElement("div",{className:"ctw-space-y-4"},t,p.createElement("div",{className:"ctw-space-y-6"},r.map(l=>{if(G.exports.isArray(l))return p.createElement(cA,{recordList:l,errors:c,submitting:u,schema:n,key:l[0].label});const{label:h,field:g,value:O,lines:C,readonly:w,hidden:_,render:R}=l;if(!g)return p.createElement(Hn,{key:h,readonly:w,render:R,name:h});const v=s(g,n);return _?p.createElement(Hn,{...v,key:h,lines:C,disabled:u,readonly:w,defaultValue:O,errors:c==null?void 0:c[g],hidden:_,render:R}):p.createElement(by,{key:l.label,entry:l,errors:c,props:v,submitting:u})}))))},cA=({recordList:e,errors:t,submitting:r,schema:n})=>{const a=vy(n);return p.createElement("div",{className:"ctw-flex ctw-space-x-3"},e.map(o=>p.createElement(y.exports.Fragment,{key:o.label},p.createElement(by,{entry:o,props:a(o.field,n),submitting:r,errors:t}))))},by=({entry:e,errors:t,props:r,submitting:n})=>{const{label:a,value:o,field:s,lines:u,readonly:c,hidden:l,render:h}=e,g=t==null?void 0:t[s];return p.createElement("div",{key:a,className:"ctw-flex ctw-grow ctw-basis-0 ctw-flex-col ctw-space-y-1.5 ctw-text-sm ctw-font-medium ctw-text-content-black"},p.createElement(Ec,{label:a,name:r.name,required:r["aria-required"]}),p.createElement(Hn,{...r,key:a,lines:u,disabled:n,readonly:c,defaultValue:o,errors:g,hidden:l,render:h}))};try{zn.displayName="DrawerFormWithFields",zn.__docgenInfo={description:"",displayName:"DrawerFormWithFields",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},header:{defaultValue:null,description:"",name:"header",required:!1,type:{name:"ReactNode"}},data:{defaultValue:{value:"[]"},description:"",name:"data",required:!1,type:{name:"FormEntry[]"}},schema:{defaultValue:null,description:"",name:"schema",required:!0,type:{name:"AnyZodSchema"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},action:{defaultValue:null,description:"",name:"action",required:!0,type:{name:"(data: T, getRequestContext: () => Promise<CTWRequestContext>) => Promise<unknown>"}}}}}catch{}const Sc=({resource:e,resourceName:t,onDelete:r,onClose:n,...a})=>{const[o,s]=y.exports.useState(),[u,c]=y.exports.useState(!1),l=async()=>{try{c(!0),await r(),c(!1),n()}catch(h){throw c(!1),s("Something went wrong. Please try again."),h}};return p.createElement(Oi,{onAfterClosed:()=>s(void 0),...a},o&&p.createElement(mo,{header:o}),p.createElement("div",{className:"ctw-items-left ctw-flex ctw-h-full ctw-flex-col ctw-space-y-2 ctw-overflow-y-auto"},p.createElement("span",{className:"ctw-text-left ctw-text-lg ctw-font-medium ctw-text-content-black"},`Remove this ${e.resourceType.toLowerCase()}?`),p.createElement("span",{className:"ctw-subtext ctw-max-w-sm ctw-text-left ctw-text-content-light"},"This will remove"," ",p.createElement("span",{className:"ctw-font-medium"},t)," from this patient's condition list.")),p.createElement("div",{className:"ctw-flex ctw-w-full ctw-space-x-4"},p.createElement("button",{type:"button",onClick:n,className:"ctw-btn-default ctw-flex-1"},"Cancel"),p.createElement("button",{type:"button",disabled:u,onClick:l,className:"ctw-btn-primary ctw-save-button ctw-flex-1"},u?"Removing...":"Remove",u&&p.createElement(ul,{className:"ctw-ml-2 ctw-text-white"}))))};try{Sc.displayName="ModalConfirmDelete",Sc.__docgenInfo={description:"",displayName:"ModalConfirmDelete",props:{resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"Resource"}},resourceName:{defaultValue:null,description:"",name:"resourceName",required:!0,type:{name:"string"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!0,type:{name:"() => Promise<void>"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}}}}}catch{}const Ri=({condition:e})=>{var t;return p.createElement("div",{className:"ctw-py-2"},p.createElement("div",{className:"ctw-text-2xl"},e.display," (",(t=e.preferredCoding)==null?void 0:t.code,")"),p.createElement("div",{className:"ctw-text-sm"},e.ccsChapter))};try{Ri.displayName="ConditionHeader",Ri.__docgenInfo={description:"",displayName:"ConditionHeader",props:{condition:{defaultValue:null,description:"",name:"condition",required:!0,type:{name:"ConditionModel"}}}}}catch{}var lA=Qy(),wy={},Ji={};Ji.byteLength=pA;Ji.toByteArray=hA;Ji.fromByteArray=gA;var Xt=[],Pt=[],fA=typeof Uint8Array<"u"?Uint8Array:Array,Es="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Qr=0,dA=Es.length;Qr<dA;++Qr)Xt[Qr]=Es[Qr],Pt[Es.charCodeAt(Qr)]=Qr;Pt["-".charCodeAt(0)]=62;Pt["_".charCodeAt(0)]=63;function xy(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function pA(e){var t=xy(e),r=t[0],n=t[1];return(r+n)*3/4-n}function mA(e,t,r){return(t+r)*3/4-r}function hA(e){var t,r=xy(e),n=r[0],a=r[1],o=new fA(mA(e,n,a)),s=0,u=a>0?n-4:n,c;for(c=0;c<u;c+=4)t=Pt[e.charCodeAt(c)]<<18|Pt[e.charCodeAt(c+1)]<<12|Pt[e.charCodeAt(c+2)]<<6|Pt[e.charCodeAt(c+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=t&255;return a===2&&(t=Pt[e.charCodeAt(c)]<<2|Pt[e.charCodeAt(c+1)]>>4,o[s++]=t&255),a===1&&(t=Pt[e.charCodeAt(c)]<<10|Pt[e.charCodeAt(c+1)]<<4|Pt[e.charCodeAt(c+2)]>>2,o[s++]=t>>8&255,o[s++]=t&255),o}function yA(e){return Xt[e>>18&63]+Xt[e>>12&63]+Xt[e>>6&63]+Xt[e&63]}function vA(e,t,r){for(var n,a=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),a.push(yA(n));return a.join("")}function gA(e){for(var t,r=e.length,n=r%3,a=[],o=16383,s=0,u=r-n;s<u;s+=o)a.push(vA(e,s,s+o>u?u:s+o));return n===1?(t=e[r-1],a.push(Xt[t>>2]+Xt[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],a.push(Xt[t>>10]+Xt[t>>4&63]+Xt[t<<2&63]+"=")),a.join("")}var Wl={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Wl.read=function(e,t,r,n,a){var o,s,u=a*8-n-1,c=(1<<u)-1,l=c>>1,h=-7,g=r?a-1:0,O=r?-1:1,C=e[t+g];for(g+=O,o=C&(1<<-h)-1,C>>=-h,h+=u;h>0;o=o*256+e[t+g],g+=O,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=s*256+e[t+g],g+=O,h-=8);if(o===0)o=1-l;else{if(o===c)return s?NaN:(C?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-l}return(C?-1:1)*s*Math.pow(2,o-n)};Wl.write=function(e,t,r,n,a,o){var s,u,c,l=o*8-a-1,h=(1<<l)-1,g=h>>1,O=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=n?0:o-1,w=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+g>=1?t+=O/c:t+=O*Math.pow(2,1-g),t*c>=2&&(s++,c/=2),s+g>=h?(u=0,s=h):s+g>=1?(u=(t*c-1)*Math.pow(2,a),s=s+g):(u=t*Math.pow(2,g-1)*Math.pow(2,a),s=0));a>=8;e[r+C]=u&255,C+=w,u/=256,a-=8);for(s=s<<a|u,l+=a;l>0;e[r+C]=s&255,C+=w,s/=256,l-=8);e[r+C-w]|=_*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=Ji,r=Wl,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=S,e.INSPECT_MAX_BYTES=50;var a=2147483647;e.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=o(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var b=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(b,d),b.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function s(b){if(b>a)throw new RangeError('The value "'+b+'" is invalid for option "size"');var d=new Uint8Array(b);return Object.setPrototypeOf(d,u.prototype),d}function u(b,d,m){if(typeof b=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(b)}return c(b,d,m)}u.poolSize=8192;function c(b,d,m){if(typeof b=="string")return O(b,d);if(ArrayBuffer.isView(b))return w(b);if(b==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);if(ee(b,ArrayBuffer)||b&&ee(b.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ee(b,SharedArrayBuffer)||b&&ee(b.buffer,SharedArrayBuffer)))return _(b,d,m);if(typeof b=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var x=b.valueOf&&b.valueOf();if(x!=null&&x!==b)return u.from(x,d,m);var k=R(b);if(k)return k;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof b[Symbol.toPrimitive]=="function")return u.from(b[Symbol.toPrimitive]("string"),d,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b)}u.from=function(b,d,m){return c(b,d,m)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function l(b){if(typeof b!="number")throw new TypeError('"size" argument must be of type number');if(b<0)throw new RangeError('The value "'+b+'" is invalid for option "size"')}function h(b,d,m){return l(b),b<=0?s(b):d!==void 0?typeof m=="string"?s(b).fill(d,m):s(b).fill(d):s(b)}u.alloc=function(b,d,m){return h(b,d,m)};function g(b){return l(b),s(b<0?0:v(b)|0)}u.allocUnsafe=function(b){return g(b)},u.allocUnsafeSlow=function(b){return g(b)};function O(b,d){if((typeof d!="string"||d==="")&&(d="utf8"),!u.isEncoding(d))throw new TypeError("Unknown encoding: "+d);var m=A(b,d)|0,x=s(m),k=x.write(b,d);return k!==m&&(x=x.slice(0,k)),x}function C(b){for(var d=b.length<0?0:v(b.length)|0,m=s(d),x=0;x<d;x+=1)m[x]=b[x]&255;return m}function w(b){if(ee(b,Uint8Array)){var d=new Uint8Array(b);return _(d.buffer,d.byteOffset,d.byteLength)}return C(b)}function _(b,d,m){if(d<0||b.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(b.byteLength<d+(m||0))throw new RangeError('"length" is outside of buffer bounds');var x;return d===void 0&&m===void 0?x=new Uint8Array(b):m===void 0?x=new Uint8Array(b,d):x=new Uint8Array(b,d,m),Object.setPrototypeOf(x,u.prototype),x}function R(b){if(u.isBuffer(b)){var d=v(b.length)|0,m=s(d);return m.length===0||b.copy(m,0,0,d),m}if(b.length!==void 0)return typeof b.length!="number"||ft(b.length)?s(0):C(b);if(b.type==="Buffer"&&Array.isArray(b.data))return C(b.data)}function v(b){if(b>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return b|0}function S(b){return+b!=b&&(b=0),u.alloc(+b)}u.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==u.prototype},u.compare=function(d,m){if(ee(d,Uint8Array)&&(d=u.from(d,d.offset,d.byteLength)),ee(m,Uint8Array)&&(m=u.from(m,m.offset,m.byteLength)),!u.isBuffer(d)||!u.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===m)return 0;for(var x=d.length,k=m.length,W=0,Z=Math.min(x,k);W<Z;++W)if(d[W]!==m[W]){x=d[W],k=m[W];break}return x<k?-1:k<x?1:0},u.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(d,m){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return u.alloc(0);var x;if(m===void 0)for(m=0,x=0;x<d.length;++x)m+=d[x].length;var k=u.allocUnsafe(m),W=0;for(x=0;x<d.length;++x){var Z=d[x];if(ee(Z,Uint8Array))W+Z.length>k.length?u.from(Z).copy(k,W):Uint8Array.prototype.set.call(k,Z,W);else if(u.isBuffer(Z))Z.copy(k,W);else throw new TypeError('"list" argument must be an Array of Buffers');W+=Z.length}return k};function A(b,d){if(u.isBuffer(b))return b.length;if(ArrayBuffer.isView(b)||ee(b,ArrayBuffer))return b.byteLength;if(typeof b!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof b);var m=b.length,x=arguments.length>2&&arguments[2]===!0;if(!x&&m===0)return 0;for(var k=!1;;)switch(d){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return Y(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return Te(b).length;default:if(k)return x?-1:Y(b).length;d=(""+d).toLowerCase(),k=!0}}u.byteLength=A;function N(b,d,m){var x=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,d>>>=0,m<=d))return"";for(b||(b="utf8");;)switch(b){case"hex":return Re(this,d,m);case"utf8":case"utf-8":return le(this,d,m);case"ascii":return Ce(this,d,m);case"latin1":case"binary":return ye(this,d,m);case"base64":return ae(this,d,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,d,m);default:if(x)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase(),x=!0}}u.prototype._isBuffer=!0;function $(b,d,m){var x=b[d];b[d]=b[m],b[m]=x}u.prototype.swap16=function(){var d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<d;m+=2)$(this,m,m+1);return this},u.prototype.swap32=function(){var d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<d;m+=4)$(this,m,m+3),$(this,m+1,m+2);return this},u.prototype.swap64=function(){var d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<d;m+=8)$(this,m,m+7),$(this,m+1,m+6),$(this,m+2,m+5),$(this,m+3,m+4);return this},u.prototype.toString=function(){var d=this.length;return d===0?"":arguments.length===0?le(this,0,d):N.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(d){if(!u.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:u.compare(this,d)===0},u.prototype.inspect=function(){var d="",m=e.INSPECT_MAX_BYTES;return d=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(d+=" ... "),"<Buffer "+d+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(d,m,x,k,W){if(ee(d,Uint8Array)&&(d=u.from(d,d.offset,d.byteLength)),!u.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(m===void 0&&(m=0),x===void 0&&(x=d?d.length:0),k===void 0&&(k=0),W===void 0&&(W=this.length),m<0||x>d.length||k<0||W>this.length)throw new RangeError("out of range index");if(k>=W&&m>=x)return 0;if(k>=W)return-1;if(m>=x)return 1;if(m>>>=0,x>>>=0,k>>>=0,W>>>=0,this===d)return 0;for(var Z=W-k,B=x-m,z=Math.min(Z,B),U=this.slice(k,W),H=d.slice(m,x),ie=0;ie<z;++ie)if(U[ie]!==H[ie]){Z=U[ie],B=H[ie];break}return Z<B?-1:B<Z?1:0};function I(b,d,m,x,k){if(b.length===0)return-1;if(typeof m=="string"?(x=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,ft(m)&&(m=k?0:b.length-1),m<0&&(m=b.length+m),m>=b.length){if(k)return-1;m=b.length-1}else if(m<0)if(k)m=0;else return-1;if(typeof d=="string"&&(d=u.from(d,x)),u.isBuffer(d))return d.length===0?-1:V(b,d,m,x,k);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?k?Uint8Array.prototype.indexOf.call(b,d,m):Uint8Array.prototype.lastIndexOf.call(b,d,m):V(b,[d],m,x,k);throw new TypeError("val must be string, number or Buffer")}function V(b,d,m,x,k){var W=1,Z=b.length,B=d.length;if(x!==void 0&&(x=String(x).toLowerCase(),x==="ucs2"||x==="ucs-2"||x==="utf16le"||x==="utf-16le")){if(b.length<2||d.length<2)return-1;W=2,Z/=2,B/=2,m/=2}function z(Ue,ut){return W===1?Ue[ut]:Ue.readUInt16BE(ut*W)}var U;if(k){var H=-1;for(U=m;U<Z;U++)if(z(b,U)===z(d,H===-1?0:U-H)){if(H===-1&&(H=U),U-H+1===B)return H*W}else H!==-1&&(U-=U-H),H=-1}else for(m+B>Z&&(m=Z-B),U=m;U>=0;U--){for(var ie=!0,ve=0;ve<B;ve++)if(z(b,U+ve)!==z(d,ve)){ie=!1;break}if(ie)return U}return-1}u.prototype.includes=function(d,m,x){return this.indexOf(d,m,x)!==-1},u.prototype.indexOf=function(d,m,x){return I(this,d,m,x,!0)},u.prototype.lastIndexOf=function(d,m,x){return I(this,d,m,x,!1)};function L(b,d,m,x){m=Number(m)||0;var k=b.length-m;x?(x=Number(x),x>k&&(x=k)):x=k;var W=d.length;x>W/2&&(x=W/2);for(var Z=0;Z<x;++Z){var B=parseInt(d.substr(Z*2,2),16);if(ft(B))return Z;b[m+Z]=B}return Z}function P(b,d,m,x){return ne(Y(d,b.length-m),b,m,x)}function j(b,d,m,x){return ne(re(d),b,m,x)}function K(b,d,m,x){return ne(Te(d),b,m,x)}function ce(b,d,m,x){return ne(Ae(d,b.length-m),b,m,x)}u.prototype.write=function(d,m,x,k){if(m===void 0)k="utf8",x=this.length,m=0;else if(x===void 0&&typeof m=="string")k=m,x=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(x)?(x=x>>>0,k===void 0&&(k="utf8")):(k=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var W=this.length-m;if((x===void 0||x>W)&&(x=W),d.length>0&&(x<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");k||(k="utf8");for(var Z=!1;;)switch(k){case"hex":return L(this,d,m,x);case"utf8":case"utf-8":return P(this,d,m,x);case"ascii":case"latin1":case"binary":return j(this,d,m,x);case"base64":return K(this,d,m,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,d,m,x);default:if(Z)throw new TypeError("Unknown encoding: "+k);k=(""+k).toLowerCase(),Z=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ae(b,d,m){return d===0&&m===b.length?t.fromByteArray(b):t.fromByteArray(b.slice(d,m))}function le(b,d,m){m=Math.min(b.length,m);for(var x=[],k=d;k<m;){var W=b[k],Z=null,B=W>239?4:W>223?3:W>191?2:1;if(k+B<=m){var z,U,H,ie;switch(B){case 1:W<128&&(Z=W);break;case 2:z=b[k+1],(z&192)===128&&(ie=(W&31)<<6|z&63,ie>127&&(Z=ie));break;case 3:z=b[k+1],U=b[k+2],(z&192)===128&&(U&192)===128&&(ie=(W&15)<<12|(z&63)<<6|U&63,ie>2047&&(ie<55296||ie>57343)&&(Z=ie));break;case 4:z=b[k+1],U=b[k+2],H=b[k+3],(z&192)===128&&(U&192)===128&&(H&192)===128&&(ie=(W&15)<<18|(z&63)<<12|(U&63)<<6|H&63,ie>65535&&ie<1114112&&(Z=ie))}}Z===null?(Z=65533,B=1):Z>65535&&(Z-=65536,x.push(Z>>>10&1023|55296),Z=56320|Z&1023),x.push(Z),k+=B}return xe(x)}var ge=4096;function xe(b){var d=b.length;if(d<=ge)return String.fromCharCode.apply(String,b);for(var m="",x=0;x<d;)m+=String.fromCharCode.apply(String,b.slice(x,x+=ge));return m}function Ce(b,d,m){var x="";m=Math.min(b.length,m);for(var k=d;k<m;++k)x+=String.fromCharCode(b[k]&127);return x}function ye(b,d,m){var x="";m=Math.min(b.length,m);for(var k=d;k<m;++k)x+=String.fromCharCode(b[k]);return x}function Re(b,d,m){var x=b.length;(!d||d<0)&&(d=0),(!m||m<0||m>x)&&(m=x);for(var k="",W=d;W<m;++W)k+=Ct[b[W]];return k}function pe(b,d,m){for(var x=b.slice(d,m),k="",W=0;W<x.length-1;W+=2)k+=String.fromCharCode(x[W]+x[W+1]*256);return k}u.prototype.slice=function(d,m){var x=this.length;d=~~d,m=m===void 0?x:~~m,d<0?(d+=x,d<0&&(d=0)):d>x&&(d=x),m<0?(m+=x,m<0&&(m=0)):m>x&&(m=x),m<d&&(m=d);var k=this.subarray(d,m);return Object.setPrototypeOf(k,u.prototype),k};function oe(b,d,m){if(b%1!==0||b<0)throw new RangeError("offset is not uint");if(b+d>m)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(d,m,x){d=d>>>0,m=m>>>0,x||oe(d,m,this.length);for(var k=this[d],W=1,Z=0;++Z<m&&(W*=256);)k+=this[d+Z]*W;return k},u.prototype.readUintBE=u.prototype.readUIntBE=function(d,m,x){d=d>>>0,m=m>>>0,x||oe(d,m,this.length);for(var k=this[d+--m],W=1;m>0&&(W*=256);)k+=this[d+--m]*W;return k},u.prototype.readUint8=u.prototype.readUInt8=function(d,m){return d=d>>>0,m||oe(d,1,this.length),this[d]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(d,m){return d=d>>>0,m||oe(d,2,this.length),this[d]|this[d+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(d,m){return d=d>>>0,m||oe(d,2,this.length),this[d]<<8|this[d+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(d,m){return d=d>>>0,m||oe(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(d,m){return d=d>>>0,m||oe(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},u.prototype.readIntLE=function(d,m,x){d=d>>>0,m=m>>>0,x||oe(d,m,this.length);for(var k=this[d],W=1,Z=0;++Z<m&&(W*=256);)k+=this[d+Z]*W;return W*=128,k>=W&&(k-=Math.pow(2,8*m)),k},u.prototype.readIntBE=function(d,m,x){d=d>>>0,m=m>>>0,x||oe(d,m,this.length);for(var k=m,W=1,Z=this[d+--k];k>0&&(W*=256);)Z+=this[d+--k]*W;return W*=128,Z>=W&&(Z-=Math.pow(2,8*m)),Z},u.prototype.readInt8=function(d,m){return d=d>>>0,m||oe(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},u.prototype.readInt16LE=function(d,m){d=d>>>0,m||oe(d,2,this.length);var x=this[d]|this[d+1]<<8;return x&32768?x|4294901760:x},u.prototype.readInt16BE=function(d,m){d=d>>>0,m||oe(d,2,this.length);var x=this[d+1]|this[d]<<8;return x&32768?x|4294901760:x},u.prototype.readInt32LE=function(d,m){return d=d>>>0,m||oe(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},u.prototype.readInt32BE=function(d,m){return d=d>>>0,m||oe(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},u.prototype.readFloatLE=function(d,m){return d=d>>>0,m||oe(d,4,this.length),r.read(this,d,!0,23,4)},u.prototype.readFloatBE=function(d,m){return d=d>>>0,m||oe(d,4,this.length),r.read(this,d,!1,23,4)},u.prototype.readDoubleLE=function(d,m){return d=d>>>0,m||oe(d,8,this.length),r.read(this,d,!0,52,8)},u.prototype.readDoubleBE=function(d,m){return d=d>>>0,m||oe(d,8,this.length),r.read(this,d,!1,52,8)};function X(b,d,m,x,k,W){if(!u.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>k||d<W)throw new RangeError('"value" argument is out of bounds');if(m+x>b.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(d,m,x,k){if(d=+d,m=m>>>0,x=x>>>0,!k){var W=Math.pow(2,8*x)-1;X(this,d,m,x,W,0)}var Z=1,B=0;for(this[m]=d&255;++B<x&&(Z*=256);)this[m+B]=d/Z&255;return m+x},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(d,m,x,k){if(d=+d,m=m>>>0,x=x>>>0,!k){var W=Math.pow(2,8*x)-1;X(this,d,m,x,W,0)}var Z=x-1,B=1;for(this[m+Z]=d&255;--Z>=0&&(B*=256);)this[m+Z]=d/B&255;return m+x},u.prototype.writeUint8=u.prototype.writeUInt8=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,1,255,0),this[m]=d&255,m+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,2,65535,0),this[m]=d&255,this[m+1]=d>>>8,m+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,2,65535,0),this[m]=d>>>8,this[m+1]=d&255,m+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,4,4294967295,0),this[m+3]=d>>>24,this[m+2]=d>>>16,this[m+1]=d>>>8,this[m]=d&255,m+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,4,4294967295,0),this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=d&255,m+4},u.prototype.writeIntLE=function(d,m,x,k){if(d=+d,m=m>>>0,!k){var W=Math.pow(2,8*x-1);X(this,d,m,x,W-1,-W)}var Z=0,B=1,z=0;for(this[m]=d&255;++Z<x&&(B*=256);)d<0&&z===0&&this[m+Z-1]!==0&&(z=1),this[m+Z]=(d/B>>0)-z&255;return m+x},u.prototype.writeIntBE=function(d,m,x,k){if(d=+d,m=m>>>0,!k){var W=Math.pow(2,8*x-1);X(this,d,m,x,W-1,-W)}var Z=x-1,B=1,z=0;for(this[m+Z]=d&255;--Z>=0&&(B*=256);)d<0&&z===0&&this[m+Z+1]!==0&&(z=1),this[m+Z]=(d/B>>0)-z&255;return m+x},u.prototype.writeInt8=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,1,127,-128),d<0&&(d=255+d+1),this[m]=d&255,m+1},u.prototype.writeInt16LE=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,2,32767,-32768),this[m]=d&255,this[m+1]=d>>>8,m+2},u.prototype.writeInt16BE=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,2,32767,-32768),this[m]=d>>>8,this[m+1]=d&255,m+2},u.prototype.writeInt32LE=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,4,2147483647,-2147483648),this[m]=d&255,this[m+1]=d>>>8,this[m+2]=d>>>16,this[m+3]=d>>>24,m+4},u.prototype.writeInt32BE=function(d,m,x){return d=+d,m=m>>>0,x||X(this,d,m,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=d&255,m+4};function Ze(b,d,m,x,k,W){if(m+x>b.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function $e(b,d,m,x,k){return d=+d,m=m>>>0,k||Ze(b,d,m,4),r.write(b,d,m,x,23,4),m+4}u.prototype.writeFloatLE=function(d,m,x){return $e(this,d,m,!0,x)},u.prototype.writeFloatBE=function(d,m,x){return $e(this,d,m,!1,x)};function ze(b,d,m,x,k){return d=+d,m=m>>>0,k||Ze(b,d,m,8),r.write(b,d,m,x,52,8),m+8}u.prototype.writeDoubleLE=function(d,m,x){return ze(this,d,m,!0,x)},u.prototype.writeDoubleBE=function(d,m,x){return ze(this,d,m,!1,x)},u.prototype.copy=function(d,m,x,k){if(!u.isBuffer(d))throw new TypeError("argument should be a Buffer");if(x||(x=0),!k&&k!==0&&(k=this.length),m>=d.length&&(m=d.length),m||(m=0),k>0&&k<x&&(k=x),k===x||d.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("sourceEnd out of bounds");k>this.length&&(k=this.length),d.length-m<k-x&&(k=d.length-m+x);var W=k-x;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,x,k):Uint8Array.prototype.set.call(d,this.subarray(x,k),m),W},u.prototype.fill=function(d,m,x,k){if(typeof d=="string"){if(typeof m=="string"?(k=m,m=0,x=this.length):typeof x=="string"&&(k=x,x=this.length),k!==void 0&&typeof k!="string")throw new TypeError("encoding must be a string");if(typeof k=="string"&&!u.isEncoding(k))throw new TypeError("Unknown encoding: "+k);if(d.length===1){var W=d.charCodeAt(0);(k==="utf8"&&W<128||k==="latin1")&&(d=W)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(m<0||this.length<m||this.length<x)throw new RangeError("Out of range index");if(x<=m)return this;m=m>>>0,x=x===void 0?this.length:x>>>0,d||(d=0);var Z;if(typeof d=="number")for(Z=m;Z<x;++Z)this[Z]=d;else{var B=u.isBuffer(d)?d:u.from(d,k),z=B.length;if(z===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(Z=0;Z<x-m;++Z)this[Z+m]=B[Z%z]}return this};var me=/[^+/0-9A-Za-z-_]/g;function Q(b){if(b=b.split("=")[0],b=b.trim().replace(me,""),b.length<2)return"";for(;b.length%4!==0;)b=b+"=";return b}function Y(b,d){d=d||1/0;for(var m,x=b.length,k=null,W=[],Z=0;Z<x;++Z){if(m=b.charCodeAt(Z),m>55295&&m<57344){if(!k){if(m>56319){(d-=3)>-1&&W.push(239,191,189);continue}else if(Z+1===x){(d-=3)>-1&&W.push(239,191,189);continue}k=m;continue}if(m<56320){(d-=3)>-1&&W.push(239,191,189),k=m;continue}m=(k-55296<<10|m-56320)+65536}else k&&(d-=3)>-1&&W.push(239,191,189);if(k=null,m<128){if((d-=1)<0)break;W.push(m)}else if(m<2048){if((d-=2)<0)break;W.push(m>>6|192,m&63|128)}else if(m<65536){if((d-=3)<0)break;W.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((d-=4)<0)break;W.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return W}function re(b){for(var d=[],m=0;m<b.length;++m)d.push(b.charCodeAt(m)&255);return d}function Ae(b,d){for(var m,x,k,W=[],Z=0;Z<b.length&&!((d-=2)<0);++Z)m=b.charCodeAt(Z),x=m>>8,k=m%256,W.push(k),W.push(x);return W}function Te(b){return t.toByteArray(Q(b))}function ne(b,d,m,x){for(var k=0;k<x&&!(k+m>=d.length||k>=b.length);++k)d[k+m]=b[k];return k}function ee(b,d){return b instanceof d||b!=null&&b.constructor!=null&&b.constructor.name!=null&&b.constructor.name===d.name}function ft(b){return b!==b}var Ct=function(){for(var b="0123456789abcdef",d=new Array(256),m=0;m<16;++m)for(var x=m*16,k=0;k<16;++k)d[x+k]=b[m]+b[k];return d}()})(wy);var q={};(function(e){var t=e;(function(r){function n(i){var f=Array.prototype.slice,E=i.length,D=function(M,se){return function(){return se.apply(this,M.concat(f.call(arguments)))}},T=function(){var M=f.call(arguments);return M.length<E?D(M,T):i.apply(this,f.apply(arguments,[0,E]))};return T}var a=function(i,f){for(var E=0;E<f.length;E+=1)i(f[E],E,f)},o=function(i,f,E){var D=f;return a(function(T,M){D=i(D,T,M)},E),D},s=function(i,f){var E=new Array(f.length);return a(function(D,T){E[T]=i(D)},f),E},u=function(i,f){var E=[];return a(function(D,T){i(D,T)&&E.push(D)},f),E},c=function(i,f){for(var E=0;E<i.length;E+=1)if(i[E]===f)return!0;return!1};function l(i){return function(){return i}}function h(i){return i.toString()}var g=function(i,f){return f.join(i)},O=function(i,f,E){return i+E+f},C=Array.prototype.concat,w=32767;function _(i){for(var f=[],E=0;E<i.length;E+=w){var D=i.slice(E,E+w);f=C.apply(f,D)}return f}function R(i,f){for(var E=Object(i),D=1;D<arguments.length;D++){var T=arguments[D];if(T!=null)for(var M in T)Object.prototype.hasOwnProperty.call(T,M)&&(E[M]=T[M])}return E}v.prototype=new Object,v.prototype.constructor=v,v.superclass=Object.prototype;function v(){this.init()}v.prototype.init=function(){this.reduceActions=[],this.reduceActions[3]=function(i){return new L(i[0],i[2])},this.reduceActions[5]=function(i){return new P(i[0],i[2])},this.reduceActions[7]=function(i){return new j(i[0],i[2])},this.reduceActions[8]=function(i){return new K(i[0],i[2])},this.reduceActions[10]=function(i){return new ce(i[0],i[2])},this.reduceActions[11]=function(i){return new ae(i[0],i[2])},this.reduceActions[12]=function(i){return new le(i[0],i[2])},this.reduceActions[13]=function(i){return new ge(i[0],i[2])},this.reduceActions[15]=function(i){return new xe(i[0],i[2])},this.reduceActions[16]=function(i){return new Ce(i[0],i[2])},this.reduceActions[18]=function(i){return new ye(i[0],i[2])},this.reduceActions[19]=function(i){return new Re(i[0],i[2])},this.reduceActions[20]=function(i){return new pe(i[0],i[2])},this.reduceActions[22]=function(i){return new I(i[1])},this.reduceActions[24]=function(i){return new oe(i[0],i[2])},this.reduceActions[25]=function(i){return new X(void 0,void 0,i[0])},this.reduceActions[27]=function(i){return i[0].locationPath=i[2],i[0]},this.reduceActions[28]=function(i){return i[0].locationPath=i[2],i[0].locationPath.steps.unshift(new Q(Q.DESCENDANTORSELF,Y.nodeTest,[])),i[0]},this.reduceActions[29]=function(i){return new X(i[0],[],void 0)},this.reduceActions[30]=function(i){return H.instance_of(i[0],X)?(i[0].filterPredicates==null&&(i[0].filterPredicates=[]),i[0].filterPredicates.push(i[1]),i[0]):new X(i[0],[i[1]],void 0)},this.reduceActions[32]=function(i){return i[1]},this.reduceActions[33]=function(i){return new ne(i[0])},this.reduceActions[34]=function(i){return new ee(i[0])},this.reduceActions[36]=function(i){return new Ae(i[0],[])},this.reduceActions[37]=function(i){return new Ae(i[0],i[2])},this.reduceActions[38]=function(i){return[i[0]]},this.reduceActions[39]=function(i){return i[2].unshift(i[0]),i[2]},this.reduceActions[43]=function(i){return new me(!0,[])},this.reduceActions[44]=function(i){return i[1].absolute=!0,i[1]},this.reduceActions[46]=function(i){return new me(!1,[i[0]])},this.reduceActions[47]=function(i){return i[0].steps.push(i[2]),i[0]},this.reduceActions[49]=function(i){return new Q(i[0],i[1],[])},this.reduceActions[50]=function(i){return new Q(Q.CHILD,i[0],[])},this.reduceActions[51]=function(i){return new Q(i[0],i[1],i[2])},this.reduceActions[52]=function(i){return new Q(Q.CHILD,i[0],i[1])},this.reduceActions[54]=function(i){return[i[0]]},this.reduceActions[55]=function(i){return i[1].unshift(i[0]),i[1]},this.reduceActions[56]=function(i){return i[0]=="ancestor"?Q.ANCESTOR:i[0]=="ancestor-or-self"?Q.ANCESTORORSELF:i[0]=="attribute"?Q.ATTRIBUTE:i[0]=="child"?Q.CHILD:i[0]=="descendant"?Q.DESCENDANT:i[0]=="descendant-or-self"?Q.DESCENDANTORSELF:i[0]=="following"?Q.FOLLOWING:i[0]=="following-sibling"?Q.FOLLOWINGSIBLING:i[0]=="namespace"?Q.NAMESPACE:i[0]=="parent"?Q.PARENT:i[0]=="preceding"?Q.PRECEDING:i[0]=="preceding-sibling"?Q.PRECEDINGSIBLING:i[0]=="self"?Q.SELF:-1},this.reduceActions[57]=function(i){return Q.ATTRIBUTE},this.reduceActions[59]=function(i){return i[0]=="comment"?Y.commentTest:i[0]=="text"?Y.textTest:i[0]=="processing-instruction"?Y.anyPiTest:i[0]=="node"?Y.nodeTest:new Y(-1,void 0)},this.reduceActions[60]=function(i){return new Y.PITest(i[2])},this.reduceActions[61]=function(i){return i[1]},this.reduceActions[63]=function(i){return i[1].absolute=!0,i[1].steps.unshift(new Q(Q.DESCENDANTORSELF,Y.nodeTest,[])),i[1]},this.reduceActions[64]=function(i){return i[0].steps.push(new Q(Q.DESCENDANTORSELF,Y.nodeTest,[])),i[0].steps.push(i[2]),i[0]},this.reduceActions[65]=function(i){return new Q(Q.SELF,Y.nodeTest,[])},this.reduceActions[66]=function(i){return new Q(Q.PARENT,Y.nodeTest,[])},this.reduceActions[67]=function(i){return new re(i[1])},this.reduceActions[68]=function(i){return Y.nameTestAny},this.reduceActions[69]=function(i){return new Y.NameTestPrefixAny(i[0].split(":")[0])},this.reduceActions[70]=function(i){return new Y.NameTestQName(i[0])}},v.actionTable=[" s s        sssssssss    s ss  s  ss","                 s                  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                rrrrr               "," s s        sssssssss    s ss  s  ss","rs  rrrrrrrr s  sssssrrrrrr  rrs rs "," s s        sssssssss    s ss  s  ss","                            s       ","                            s       ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","  s                                 ","                            s       "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr  r  ","a                                   ","r       s                    rr  r  ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrs  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  srrrrrrrr         rrrrrrs rr sr  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                sssss               ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  srrrrrrrr         rrrrrrs rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","              s                     ","                             s      ","                rrrrr               "," s s        sssssssss    s sss s  ss","r  srrrrrrrr         rrrrrrs rr  r  "," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss      ss  s  ss"," s s        sssssssss    s ss  s  ss"," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr rr  "," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             rr     ","                             s      ","                             rs     ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","                                 r  ","                                 s  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  "," s s        sssssssss    s ss  s  ss","r  rrrrrrrrr         rrrrrrr rr rr  ","                             r      "],v.actionTableNumber=[` 1 0        /.-,+*)('    & %$  #  "!`,"                 J                  ","a  aaaaaaaaa         aaaaaaa aa  a  ","                YYYYY               ",` 1 0        /.-,+*)('    & %$  #  "!`,`K1  KKKKKKKK .  +*)('KKKKKK  KK# K" `,` 1 0        /.-,+*)('    & %$  #  "!`,"                            N       ","                            O       ","e  eeeeeeeee         eeeeeee ee ee  ","f  fffffffff         fffffff ff ff  ","d  ddddddddd         ddddddd dd dd  ","B  BBBBBBBBB         BBBBBBB BB BB  ","A  AAAAAAAAA         AAAAAAA AA AA  ","  P                                 ","                            Q       ",` 1           .  +*)('          #  " `,"b  bbbbbbbbb         bbbbbbb bb  b  ","                                    ","!       S                    !!  !  ",'"      T"                    ""  "  ',"$   V  $$            U       $$  $  ","&   &ZY&&            &XW     &&  &  ",")   )))))            )))\\[   ))  )  ",".   ....._^]         .....   ..  .  ","1   11111111         11111   11  1  ","5   55555555         55555`  55  5  ","7   77777777         777777  77  7  ","9   99999999         999999  99  9  ",":  c::::::::         ::::::b :: a:  ","I  fIIIIIIII         IIIIIIe II  I  ","=  =========         ======= == ==  ","?  ?????????         ??????? ?? ??  ","C  CCCCCCCCC         CCCCCCC CC CC  ","J   JJJJJJJJ         JJJJJJ  JJ  J  ","M   MMMMMMMM         MMMMMM  MM  M  ","N  NNNNNNNNN         NNNNNNN NN  N  ","P  PPPPPPPPP         PPPPPPP PP  P  ","                +*)('               ","R  RRRRRRRRR         RRRRRRR RR aR  ","U  UUUUUUUUU         UUUUUUU UU  U  ","Z  ZZZZZZZZZ         ZZZZZZZ ZZ ZZ  ","c  ccccccccc         ccccccc cc cc  ","                             j      ","L  fLLLLLLLL         LLLLLLe LL  L  ","6   66666666         66666   66  6  ","              k                     ","                             l      ","                XXXXX               ",` 1 0        /.-,+*)('    & %$m #  "!`,"_  f________         ______e __  _  ",` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1 0        /.-,+*)('      %$  #  "!`,` 1 0        /.-,+*)('    & %$  #  "!`,` 1           .  +*)('          #  " `,` 1           .  +*)('          #  " `,">  >>>>>>>>>         >>>>>>> >> >>  ",` 1           .  +*)('          #  " `,` 1           .  +*)('          #  " `,"Q  QQQQQQQQQ         QQQQQQQ QQ aQ  ","V  VVVVVVVVV         VVVVVVV VV aV  ","T  TTTTTTTTT         TTTTTTT TT  T  ","@  @@@@@@@@@         @@@@@@@ @@ @@  ","                             \x87      ","[  [[[[[[[[[         [[[[[[[ [[ [[  ","D  DDDDDDDDD         DDDDDDD DD DD  ","                             HH     ","                             \x88      ","                             F\x89     ","#      T#                    ##  #  ","%   V  %%            U       %%  %  ","'   'ZY''            'XW     ''  '  ","(   (ZY((            (XW     ((  (  ","+   +++++            +++\\[   ++  +  ","*   *****            ***\\[   **  *  ","-   -----            ---\\[   --  -  ",",   ,,,,,            ,,,\\[   ,,  ,  ","0   00000_^]         00000   00  0  ","/   /////_^]         /////   //  /  ","2   22222222         22222   22  2  ","3   33333333         33333   33  3  ","4   44444444         44444   44  4  ","8   88888888         888888  88  8  ","                                 ^  ","                                 \x8A  ",";  f;;;;;;;;         ;;;;;;e ;;  ;  ","<  f<<<<<<<<         <<<<<<e <<  <  ","O  OOOOOOOOO         OOOOOOO OO  O  ","`  `````````         ``````` ``  `  ","S  SSSSSSSSS         SSSSSSS SS  S  ","W  WWWWWWWWW         WWWWWWW WW  W  ","\\  \\\\\\\\\\\\\\\\\\         \\\\\\\\\\\\\\ \\\\ \\\\  ","E  EEEEEEEEE         EEEEEEE EE EE  ",` 1 0        /.-,+*)('    & %$  #  "!`,"]  ]]]]]]]]]         ]]]]]]] ]] ]]  ","                             G      "],v.gotoTable=["3456789:;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","L456789:;<=>?@ AB  CDEFGH IJ ","            M        EFGH IJ ","       N;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","            S        EFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","              e              ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                        h  J ","              i          j   ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ ABpqCDEFGH IJ ","                             ","  r6789:;<=>?@ AB  CDEFGH IJ ","   s789:;<=>?@ AB  CDEFGH IJ ","    t89:;<=>?@ AB  CDEFGH IJ ","    u89:;<=>?@ AB  CDEFGH IJ ","     v9:;<=>?@ AB  CDEFGH IJ ","     w9:;<=>?@ AB  CDEFGH IJ ","     x9:;<=>?@ AB  CDEFGH IJ ","     y9:;<=>?@ AB  CDEFGH IJ ","      z:;<=>?@ AB  CDEFGH IJ ","      {:;<=>?@ AB  CDEFGH IJ ","       |;<=>?@ AB  CDEFGH IJ ","       };<=>?@ AB  CDEFGH IJ ","       ~;<=>?@ AB  CDEFGH IJ ","         \x7F=>?@ AB  CDEFGH IJ ","\x80456789:;<=>?@ AB  CDEFGH IJ\x81","            \x82        EFGH IJ ","            \x83        EFGH IJ ","                             ","                     \x84 GH IJ ","                     \x85 GH IJ ","              i          \x86   ","              i          \x87   ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ AB\x8CqCDEFGH IJ ","                             ","                             "],v.productions=[[1,1,2],[2,1,3],[3,1,4],[3,3,3,-9,4],[4,1,5],[4,3,4,-8,5],[5,1,6],[5,3,5,-22,6],[5,3,5,-5,6],[6,1,7],[6,3,6,-23,7],[6,3,6,-24,7],[6,3,6,-6,7],[6,3,6,-7,7],[7,1,8],[7,3,7,-25,8],[7,3,7,-26,8],[8,1,9],[8,3,8,-12,9],[8,3,8,-11,9],[8,3,8,-10,9],[9,1,10],[9,2,-26,9],[10,1,11],[10,3,10,-27,11],[11,1,12],[11,1,13],[11,3,13,-28,14],[11,3,13,-4,14],[13,1,15],[13,2,13,16],[15,1,17],[15,3,-29,2,-30],[15,1,-15],[15,1,-16],[15,1,18],[18,3,-13,-29,-30],[18,4,-13,-29,19,-30],[19,1,20],[19,3,20,-31,19],[20,1,2],[12,1,14],[12,1,21],[21,1,-28],[21,2,-28,14],[21,1,22],[14,1,23],[14,3,14,-28,23],[14,1,24],[23,2,25,26],[23,1,26],[23,3,25,26,27],[23,2,26,27],[23,1,28],[27,1,16],[27,2,16,27],[25,2,-14,-3],[25,1,-32],[26,1,29],[26,3,-20,-29,-30],[26,4,-21,-29,-15,-30],[16,3,-33,30,-34],[30,1,2],[22,2,-4,14],[24,3,14,-4,23],[28,1,-35],[28,1,-2],[17,2,-36,-18],[29,1,-17],[29,1,-19],[29,1,-18]],v.DOUBLEDOT=2,v.DOUBLECOLON=3,v.DOUBLESLASH=4,v.NOTEQUAL=5,v.LESSTHANOREQUAL=6,v.GREATERTHANOREQUAL=7,v.AND=8,v.OR=9,v.MOD=10,v.DIV=11,v.MULTIPLYOPERATOR=12,v.FUNCTIONNAME=13,v.AXISNAME=14,v.LITERAL=15,v.NUMBER=16,v.ASTERISKNAMETEST=17,v.QNAME=18,v.NCNAMECOLONASTERISK=19,v.NODETYPE=20,v.PROCESSINGINSTRUCTIONWITHLITERAL=21,v.EQUALS=22,v.LESSTHAN=23,v.GREATERTHAN=24,v.PLUS=25,v.MINUS=26,v.BAR=27,v.SLASH=28,v.LEFTPARENTHESIS=29,v.RIGHTPARENTHESIS=30,v.COMMA=31,v.AT=32,v.LEFTBRACKET=33,v.RIGHTBRACKET=34,v.DOT=35,v.DOLLAR=36,v.prototype.tokenize=function(i){for(var f=[],E=[],D=i+"\0",T=0,M=D.charAt(T++);;){for(;M==" "||M=="	"||M=="\r"||M==`
`;)M=D.charAt(T++);if(M=="\0"||T>=D.length)break;if(M=="("){f.push(v.LEFTPARENTHESIS),E.push(M),M=D.charAt(T++);continue}if(M==")"){f.push(v.RIGHTPARENTHESIS),E.push(M),M=D.charAt(T++);continue}if(M=="["){f.push(v.LEFTBRACKET),E.push(M),M=D.charAt(T++);continue}if(M=="]"){f.push(v.RIGHTBRACKET),E.push(M),M=D.charAt(T++);continue}if(M=="@"){f.push(v.AT),E.push(M),M=D.charAt(T++);continue}if(M==","){f.push(v.COMMA),E.push(M),M=D.charAt(T++);continue}if(M=="|"){f.push(v.BAR),E.push(M),M=D.charAt(T++);continue}if(M=="+"){f.push(v.PLUS),E.push(M),M=D.charAt(T++);continue}if(M=="-"){f.push(v.MINUS),E.push(M),M=D.charAt(T++);continue}if(M=="="){f.push(v.EQUALS),E.push(M),M=D.charAt(T++);continue}if(M=="$"){f.push(v.DOLLAR),E.push(M),M=D.charAt(T++);continue}if(M=="."){if(M=D.charAt(T++),M=="."){f.push(v.DOUBLEDOT),E.push(".."),M=D.charAt(T++);continue}if(M>="0"&&M<="9"){var se="."+M;for(M=D.charAt(T++);M>="0"&&M<="9";)se+=M,M=D.charAt(T++);f.push(v.NUMBER),E.push(se);continue}f.push(v.DOT),E.push(".");continue}if(M=="'"||M=='"'){for(var be=M,Ie="";T<D.length&&(M=D.charAt(T))!==be;)Ie+=M,T+=1;if(M!==be)throw ie.fromMessage("Unterminated string literal: "+be+Ie);T+=1,f.push(v.LITERAL),E.push(Ie),M=D.charAt(T++);continue}if(M>="0"&&M<="9"){var se=M;for(M=D.charAt(T++);M>="0"&&M<="9";)se+=M,M=D.charAt(T++);if(M=="."&&D.charAt(T)>="0"&&D.charAt(T)<="9")for(se+=M,se+=D.charAt(T++),M=D.charAt(T++);M>="0"&&M<="9";)se+=M,M=D.charAt(T++);f.push(v.NUMBER),E.push(se);continue}if(M=="*"){if(f.length>0){var ue=f[f.length-1];if(ue!=v.AT&&ue!=v.DOUBLECOLON&&ue!=v.LEFTPARENTHESIS&&ue!=v.LEFTBRACKET&&ue!=v.AND&&ue!=v.OR&&ue!=v.MOD&&ue!=v.DIV&&ue!=v.MULTIPLYOPERATOR&&ue!=v.SLASH&&ue!=v.DOUBLESLASH&&ue!=v.BAR&&ue!=v.PLUS&&ue!=v.MINUS&&ue!=v.EQUALS&&ue!=v.NOTEQUAL&&ue!=v.LESSTHAN&&ue!=v.LESSTHANOREQUAL&&ue!=v.GREATERTHAN&&ue!=v.GREATERTHANOREQUAL){f.push(v.MULTIPLYOPERATOR),E.push(M),M=D.charAt(T++);continue}}f.push(v.ASTERISKNAMETEST),E.push(M),M=D.charAt(T++);continue}if(M==":"&&D.charAt(T)==":"){f.push(v.DOUBLECOLON),E.push("::"),T++,M=D.charAt(T++);continue}if(M=="/"){if(M=D.charAt(T++),M=="/"){f.push(v.DOUBLESLASH),E.push("//"),M=D.charAt(T++);continue}f.push(v.SLASH),E.push("/");continue}if(M=="!"&&D.charAt(T)=="="){f.push(v.NOTEQUAL),E.push("!="),T++,M=D.charAt(T++);continue}if(M=="<"){if(D.charAt(T)=="="){f.push(v.LESSTHANOREQUAL),E.push("<="),T++,M=D.charAt(T++);continue}f.push(v.LESSTHAN),E.push("<"),M=D.charAt(T++);continue}if(M==">"){if(D.charAt(T)=="="){f.push(v.GREATERTHANOREQUAL),E.push(">="),T++,M=D.charAt(T++);continue}f.push(v.GREATERTHAN),E.push(">"),M=D.charAt(T++);continue}if(M=="_"||H.isLetter(M.charCodeAt(0))){var Oe=M;for(M=D.charAt(T++);H.isNCNameChar(M.charCodeAt(0));)Oe+=M,M=D.charAt(T++);if(f.length>0){var ue=f[f.length-1];if(ue!=v.AT&&ue!=v.DOUBLECOLON&&ue!=v.LEFTPARENTHESIS&&ue!=v.LEFTBRACKET&&ue!=v.AND&&ue!=v.OR&&ue!=v.MOD&&ue!=v.DIV&&ue!=v.MULTIPLYOPERATOR&&ue!=v.SLASH&&ue!=v.DOUBLESLASH&&ue!=v.BAR&&ue!=v.PLUS&&ue!=v.MINUS&&ue!=v.EQUALS&&ue!=v.NOTEQUAL&&ue!=v.LESSTHAN&&ue!=v.LESSTHANOREQUAL&&ue!=v.GREATERTHAN&&ue!=v.GREATERTHANOREQUAL){if(Oe=="and"){f.push(v.AND),E.push(Oe);continue}if(Oe=="or"){f.push(v.OR),E.push(Oe);continue}if(Oe=="mod"){f.push(v.MOD),E.push(Oe);continue}if(Oe=="div"){f.push(v.DIV),E.push(Oe);continue}}}if(M==":"){if(D.charAt(T)=="*"){f.push(v.NCNAMECOLONASTERISK),E.push(Oe+":*"),T++,M=D.charAt(T++);continue}if(D.charAt(T)=="_"||H.isLetter(D.charCodeAt(T))){for(Oe+=":",M=D.charAt(T++);H.isNCNameChar(M.charCodeAt(0));)Oe+=M,M=D.charAt(T++);if(M=="("){f.push(v.FUNCTIONNAME),E.push(Oe);continue}f.push(v.QNAME),E.push(Oe);continue}if(D.charAt(T)==":"){f.push(v.AXISNAME),E.push(Oe);continue}}if(M=="("){if(Oe=="comment"||Oe=="text"||Oe=="node"){f.push(v.NODETYPE),E.push(Oe);continue}if(Oe=="processing-instruction"){D.charAt(T)==")"?f.push(v.NODETYPE):f.push(v.PROCESSINGINSTRUCTIONWITHLITERAL),E.push(Oe);continue}f.push(v.FUNCTIONNAME),E.push(Oe);continue}f.push(v.QNAME),E.push(Oe);continue}throw new Error("Unexpected character "+M)}return f.push(1),E.push("[EOF]"),[f,E]},v.SHIFT="s",v.REDUCE="r",v.ACCEPT="a",v.prototype.parse=function(Ie){var f,E,D=this.tokenize(Ie);if(D!=null){f=D[0],E=D[1];var T=0,M=[],se=[],be=[],Ie,ue,Oe;for(M.push(0),se.push(1),be.push("_S"),ue=f[T],Oe=E[T++];;)switch(Ie=M[M.length-1],v.actionTable[Ie].charAt(ue-1)){case v.SHIFT:se.push(-ue),be.push(Oe),M.push(v.actionTableNumber[Ie].charCodeAt(ue-1)-32),ue=f[T],Oe=E[T++];break;case v.REDUCE:for(var ht=v.productions[v.actionTableNumber[Ie].charCodeAt(ue-1)-32][1],Ve=[],kt=0;kt<ht;kt++)se.pop(),Ve.unshift(be.pop()),M.pop();var Wt=M[M.length-1];se.push(v.productions[v.actionTableNumber[Ie].charCodeAt(ue-1)-32][0]),this.reduceActions[v.actionTableNumber[Ie].charCodeAt(ue-1)-32]==null?be.push(Ve[0]):be.push(this.reduceActions[v.actionTableNumber[Ie].charCodeAt(ue-1)-32](Ve)),M.push(v.gotoTable[Wt].charCodeAt(v.productions[v.actionTableNumber[Ie].charCodeAt(ue-1)-32][0]-2)-33);break;case v.ACCEPT:return new S(be.pop());default:throw new Error("XPath parse error")}}},S.prototype=new Object,S.prototype.constructor=S,S.superclass=Object.prototype;function S(i){this.expression=i}S.prototype.toString=function(){return this.expression.toString()};function A(i,f,E){f in i||(i[f]=E)}S.prototype.evaluate=function(i){return i.contextNode=i.expressionContextNode,i.contextSize=1,i.contextPosition=1,i.isHtml&&(A(i,"caseInsensitive",!0),A(i,"allowAnyNamespaceForNoPrefix",!0)),A(i,"caseInsensitive",!1),this.expression.evaluate(i)},S.XML_NAMESPACE_URI="http://www.w3.org/XML/1998/namespace",S.XMLNS_NAMESPACE_URI="http://www.w3.org/2000/xmlns/",N.prototype=new Object,N.prototype.constructor=N,N.superclass=Object.prototype;function N(){}N.prototype.init=function(){},N.prototype.toString=function(){return"<Expression>"},N.prototype.evaluate=function(i){throw new Error("Could not evaluate expression.")},$.prototype=new N,$.prototype.constructor=$,$.superclass=N.prototype;function $(i){arguments.length>0&&this.init(i)}$.prototype.init=function(i){this.rhs=i},I.prototype=new $,I.prototype.constructor=I,I.superclass=$.prototype;function I(i){arguments.length>0&&this.init(i)}I.prototype.init=function(i){I.superclass.init.call(this,i)},I.prototype.evaluate=function(i){return this.rhs.evaluate(i).number().negate()},I.prototype.toString=function(){return"-"+this.rhs.toString()},V.prototype=new N,V.prototype.constructor=V,V.superclass=N.prototype;function V(i,f){arguments.length>0&&this.init(i,f)}V.prototype.init=function(i,f){this.lhs=i,this.rhs=f},L.prototype=new V,L.prototype.constructor=L,L.superclass=V.prototype;function L(i,f){arguments.length>0&&this.init(i,f)}L.prototype.init=function(i,f){L.superclass.init.call(this,i,f)},L.prototype.toString=function(){return"("+this.lhs.toString()+" or "+this.rhs.toString()+")"},L.prototype.evaluate=function(i){var f=this.lhs.evaluate(i).bool();return f.booleanValue()?f:this.rhs.evaluate(i).bool()},P.prototype=new V,P.prototype.constructor=P,P.superclass=V.prototype;function P(i,f){arguments.length>0&&this.init(i,f)}P.prototype.init=function(i,f){P.superclass.init.call(this,i,f)},P.prototype.toString=function(){return"("+this.lhs.toString()+" and "+this.rhs.toString()+")"},P.prototype.evaluate=function(i){var f=this.lhs.evaluate(i).bool();return f.booleanValue()?this.rhs.evaluate(i).bool():f},j.prototype=new V,j.prototype.constructor=j,j.superclass=V.prototype;function j(i,f){arguments.length>0&&this.init(i,f)}j.prototype.init=function(i,f){j.superclass.init.call(this,i,f)},j.prototype.toString=function(){return"("+this.lhs.toString()+" = "+this.rhs.toString()+")"},j.prototype.evaluate=function(i){return this.lhs.evaluate(i).equals(this.rhs.evaluate(i))},K.prototype=new V,K.prototype.constructor=K,K.superclass=V.prototype;function K(i,f){arguments.length>0&&this.init(i,f)}K.prototype.init=function(i,f){K.superclass.init.call(this,i,f)},K.prototype.toString=function(){return"("+this.lhs.toString()+" != "+this.rhs.toString()+")"},K.prototype.evaluate=function(i){return this.lhs.evaluate(i).notequal(this.rhs.evaluate(i))},ce.prototype=new V,ce.prototype.constructor=ce,ce.superclass=V.prototype;function ce(i,f){arguments.length>0&&this.init(i,f)}ce.prototype.init=function(i,f){ce.superclass.init.call(this,i,f)},ce.prototype.evaluate=function(i){return this.lhs.evaluate(i).lessthan(this.rhs.evaluate(i))},ce.prototype.toString=function(){return"("+this.lhs.toString()+" < "+this.rhs.toString()+")"},ae.prototype=new V,ae.prototype.constructor=ae,ae.superclass=V.prototype;function ae(i,f){arguments.length>0&&this.init(i,f)}ae.prototype.init=function(i,f){ae.superclass.init.call(this,i,f)},ae.prototype.evaluate=function(i){return this.lhs.evaluate(i).greaterthan(this.rhs.evaluate(i))},ae.prototype.toString=function(){return"("+this.lhs.toString()+" > "+this.rhs.toString()+")"},le.prototype=new V,le.prototype.constructor=le,le.superclass=V.prototype;function le(i,f){arguments.length>0&&this.init(i,f)}le.prototype.init=function(i,f){le.superclass.init.call(this,i,f)},le.prototype.evaluate=function(i){return this.lhs.evaluate(i).lessthanorequal(this.rhs.evaluate(i))},le.prototype.toString=function(){return"("+this.lhs.toString()+" <= "+this.rhs.toString()+")"},ge.prototype=new V,ge.prototype.constructor=ge,ge.superclass=V.prototype;function ge(i,f){arguments.length>0&&this.init(i,f)}ge.prototype.init=function(i,f){ge.superclass.init.call(this,i,f)},ge.prototype.evaluate=function(i){return this.lhs.evaluate(i).greaterthanorequal(this.rhs.evaluate(i))},ge.prototype.toString=function(){return"("+this.lhs.toString()+" >= "+this.rhs.toString()+")"},xe.prototype=new V,xe.prototype.constructor=xe,xe.superclass=V.prototype;function xe(i,f){arguments.length>0&&this.init(i,f)}xe.prototype.init=function(i,f){xe.superclass.init.call(this,i,f)},xe.prototype.evaluate=function(i){return this.lhs.evaluate(i).number().plus(this.rhs.evaluate(i).number())},xe.prototype.toString=function(){return"("+this.lhs.toString()+" + "+this.rhs.toString()+")"},Ce.prototype=new V,Ce.prototype.constructor=Ce,Ce.superclass=V.prototype;function Ce(i,f){arguments.length>0&&this.init(i,f)}Ce.prototype.init=function(i,f){Ce.superclass.init.call(this,i,f)},Ce.prototype.evaluate=function(i){return this.lhs.evaluate(i).number().minus(this.rhs.evaluate(i).number())},Ce.prototype.toString=function(){return"("+this.lhs.toString()+" - "+this.rhs.toString()+")"},ye.prototype=new V,ye.prototype.constructor=ye,ye.superclass=V.prototype;function ye(i,f){arguments.length>0&&this.init(i,f)}ye.prototype.init=function(i,f){ye.superclass.init.call(this,i,f)},ye.prototype.evaluate=function(i){return this.lhs.evaluate(i).number().multiply(this.rhs.evaluate(i).number())},ye.prototype.toString=function(){return"("+this.lhs.toString()+" * "+this.rhs.toString()+")"},Re.prototype=new V,Re.prototype.constructor=Re,Re.superclass=V.prototype;function Re(i,f){arguments.length>0&&this.init(i,f)}Re.prototype.init=function(i,f){Re.superclass.init.call(this,i,f)},Re.prototype.evaluate=function(i){return this.lhs.evaluate(i).number().div(this.rhs.evaluate(i).number())},Re.prototype.toString=function(){return"("+this.lhs.toString()+" div "+this.rhs.toString()+")"},pe.prototype=new V,pe.prototype.constructor=pe,pe.superclass=V.prototype;function pe(i,f){arguments.length>0&&this.init(i,f)}pe.prototype.init=function(i,f){pe.superclass.init.call(this,i,f)},pe.prototype.evaluate=function(i){return this.lhs.evaluate(i).number().mod(this.rhs.evaluate(i).number())},pe.prototype.toString=function(){return"("+this.lhs.toString()+" mod "+this.rhs.toString()+")"},oe.prototype=new V,oe.prototype.constructor=oe,oe.superclass=V.prototype;function oe(i,f){arguments.length>0&&this.init(i,f)}oe.prototype.init=function(i,f){oe.superclass.init.call(this,i,f)},oe.prototype.evaluate=function(i){return this.lhs.evaluate(i).nodeset().union(this.rhs.evaluate(i).nodeset())},oe.prototype.toString=function(){return s(h,[this.lhs,this.rhs]).join(" | ")},X.prototype=new N,X.prototype.constructor=X,X.superclass=N.prototype;function X(i,f,E){arguments.length>0&&this.init(i,f,E)}X.prototype.init=function(i,f,E){X.superclass.init.call(this),this.filter=i,this.filterPredicates=f,this.locationPath=E};function Ze(i){for(;i&&i.parentNode;)i=i.parentNode;return i}X.applyPredicates=function(i,f,E){if(i.length===0)return E;var D=f.extend({});return o(function(T,M){return D.contextSize=T.length,u(function(se,be){return D.contextNode=se,D.contextPosition=be+1,X.predicateMatches(M,D)},T)},E,i)},X.getRoot=function(i,f){var E=f[0];if(E.nodeType===9)return E;if(i.virtualRoot)return i.virtualRoot;var D=E.ownerDocument;if(D)return D;for(var T=E;T.parentNode!=null;)T=T.parentNode;return T},X.applyStep=function(i,f,E){var D=[];switch(f.contextNode=E,i.axis){case Q.ANCESTOR:if(f.contextNode===f.virtualRoot)break;var T;for(f.contextNode.nodeType==2?T=X.getOwnerElement(f.contextNode):T=f.contextNode.parentNode;T!=null&&(i.nodeTest.matches(T,f)&&D.push(T),T!==f.virtualRoot);)T=T.parentNode;break;case Q.ANCESTORORSELF:for(var T=f.contextNode;T!=null&&(i.nodeTest.matches(T,f)&&D.push(T),T!==f.virtualRoot);T=T.nodeType==2?X.getOwnerElement(T):T.parentNode);break;case Q.ATTRIBUTE:var M=f.contextNode.attributes;if(M!=null)for(var se=0;se<M.length;se++){var T=M.item(se);i.nodeTest.matches(T,f)&&D.push(T)}break;case Q.CHILD:for(var T=f.contextNode.firstChild;T!=null;T=T.nextSibling)i.nodeTest.matches(T,f)&&D.push(T);break;case Q.DESCENDANT:for(var Ve=[f.contextNode.firstChild];Ve.length>0;)for(var T=Ve.pop();T!=null;)i.nodeTest.matches(T,f)&&D.push(T),T.firstChild!=null?(Ve.push(T.nextSibling),T=T.firstChild):T=T.nextSibling;break;case Q.DESCENDANTORSELF:i.nodeTest.matches(f.contextNode,f)&&D.push(f.contextNode);for(var Ve=[f.contextNode.firstChild];Ve.length>0;)for(var T=Ve.pop();T!=null;)i.nodeTest.matches(T,f)&&D.push(T),T.firstChild!=null?(Ve.push(T.nextSibling),T=T.firstChild):T=T.nextSibling;break;case Q.FOLLOWING:if(f.contextNode===f.virtualRoot)break;var Ve=[];f.contextNode.firstChild!=null?Ve.unshift(f.contextNode.firstChild):Ve.unshift(f.contextNode.nextSibling);for(var T=f.contextNode.parentNode;T!=null&&T.nodeType!=9&&T!==f.virtualRoot;T=T.parentNode)Ve.unshift(T.nextSibling);do for(var T=Ve.pop();T!=null;)i.nodeTest.matches(T,f)&&D.push(T),T.firstChild!=null?(Ve.push(T.nextSibling),T=T.firstChild):T=T.nextSibling;while(Ve.length>0);break;case Q.FOLLOWINGSIBLING:if(f.contextNode===f.virtualRoot)break;for(var T=f.contextNode.nextSibling;T!=null;T=T.nextSibling)i.nodeTest.matches(T,f)&&D.push(T);break;case Q.NAMESPACE:var be={};if(f.contextNode.nodeType==1){be.xml=S.XML_NAMESPACE_URI,be.xmlns=S.XMLNS_NAMESPACE_URI;for(var T=f.contextNode;T!=null&&T.nodeType==1;T=T.parentNode)for(var se=0;se<T.attributes.length;se++){var Ie=T.attributes.item(se),ue=String(Ie.name);if(ue=="xmlns")be[""]==null&&(be[""]=Ie.value);else if(ue.length>6&&ue.substring(0,6)=="xmlns:"){var Oe=ue.substring(6,ue.length);be[Oe]==null&&(be[Oe]=Ie.value)}}for(var Oe in be){var ht=new k(Oe,be[Oe],f.contextNode);i.nodeTest.matches(ht,f)&&D.push(ht)}}break;case Q.PARENT:T=null,f.contextNode!==f.virtualRoot&&(f.contextNode.nodeType==2?T=X.getOwnerElement(f.contextNode):T=f.contextNode.parentNode),T!=null&&i.nodeTest.matches(T,f)&&D.push(T);break;case Q.PRECEDING:var Ve;f.virtualRoot!=null?Ve=[f.virtualRoot]:Ve=[Ze(f.contextNode)];e:for(;Ve.length>0;)for(var T=Ve.pop();T!=null;){if(T==f.contextNode)break e;i.nodeTest.matches(T,f)&&D.unshift(T),T.firstChild!=null?(Ve.push(T.nextSibling),T=T.firstChild):T=T.nextSibling}break;case Q.PRECEDINGSIBLING:if(f.contextNode===f.virtualRoot)break;for(var T=f.contextNode.previousSibling;T!=null;T=T.previousSibling)i.nodeTest.matches(T,f)&&D.push(T);break;case Q.SELF:i.nodeTest.matches(f.contextNode,f)&&D.push(f.contextNode);break}return D};function $e(i,f,E){return X.applyPredicates(i.predicates,f,X.applyStep(i,f,E))}function ze(i,f,E){return _(s($e.bind(null,E,i),f))}X.applySteps=function(i,f,E){return o(ze.bind(null,f),E,i)},X.prototype.applyFilter=function(i,f){if(!this.filter)return{nodes:[i.contextNode]};var E=this.filter.evaluate(i);if(!H.instance_of(E,x)){if(this.filterPredicates!=null&&this.filterPredicates.length>0||this.locationPath!=null)throw new Error("Path expression filter must evaluate to a nodeset if predicates or location path are used");return{nonNodes:E}}return{nodes:X.applyPredicates(this.filterPredicates||[],f,E.toUnsortedArray())}},X.applyLocationPath=function(i,f,E){if(!i)return E;var D=i.absolute?[X.getRoot(f,E)]:E;return X.applySteps(i.steps,f,D)},X.prototype.evaluate=function(i){var f=R(new W,i),E=this.applyFilter(i,f);if("nonNodes"in E)return E.nonNodes;var D=new x;return D.addArray(X.applyLocationPath(this.locationPath,f,E.nodes)),D},X.predicateMatches=function(i,f){var E=i.evaluate(f);return H.instance_of(E,ee)?f.contextPosition===E.numberValue():E.booleanValue()},X.predicateString=function(i){return O("[","]",i.toString())},X.predicatesString=function(i){return g("",s(X.predicateString,i))},X.prototype.toString=function(){if(this.filter!=null){var i=h(this.filter);return H.instance_of(this.filter,ne)?O("'","'",i):this.filterPredicates!=null&&this.filterPredicates.length?O("(",")",i)+X.predicatesString(this.filterPredicates):this.locationPath!=null?i+(this.locationPath.absolute?"":"/")+h(this.locationPath):i}return h(this.locationPath)},X.getOwnerElement=function(i){if(i.ownerElement)return i.ownerElement;try{if(i.selectSingleNode)return i.selectSingleNode("..")}catch{}for(var f=i.nodeType==9?i:i.ownerDocument,E=f.getElementsByTagName("*"),D=0;D<E.length;D++)for(var T=E.item(D),M=T.attributes,se=0;se<M.length;se++){var be=M.item(se);if(be===i)return T}return null},me.prototype=new Object,me.prototype.constructor=me,me.superclass=Object.prototype;function me(i,f){arguments.length>0&&this.init(i,f)}me.prototype.init=function(i,f){this.absolute=i,this.steps=f},me.prototype.toString=function(){return(this.absolute?"/":"")+s(h,this.steps).join("/")},Q.prototype=new Object,Q.prototype.constructor=Q,Q.superclass=Object.prototype;function Q(i,f,E){arguments.length>0&&this.init(i,f,E)}Q.prototype.init=function(i,f,E){this.axis=i,this.nodeTest=f,this.predicates=E},Q.prototype.toString=function(){return Q.STEPNAMES[this.axis]+"::"+this.nodeTest.toString()+X.predicatesString(this.predicates)},Q.ANCESTOR=0,Q.ANCESTORORSELF=1,Q.ATTRIBUTE=2,Q.CHILD=3,Q.DESCENDANT=4,Q.DESCENDANTORSELF=5,Q.FOLLOWING=6,Q.FOLLOWINGSIBLING=7,Q.NAMESPACE=8,Q.PARENT=9,Q.PRECEDING=10,Q.PRECEDINGSIBLING=11,Q.SELF=12,Q.STEPNAMES=o(function(i,f){return i[f[0]]=f[1],i},{},[[Q.ANCESTOR,"ancestor"],[Q.ANCESTORORSELF,"ancestor-or-self"],[Q.ATTRIBUTE,"attribute"],[Q.CHILD,"child"],[Q.DESCENDANT,"descendant"],[Q.DESCENDANTORSELF,"descendant-or-self"],[Q.FOLLOWING,"following"],[Q.FOLLOWINGSIBLING,"following-sibling"],[Q.NAMESPACE,"namespace"],[Q.PARENT,"parent"],[Q.PRECEDING,"preceding"],[Q.PRECEDINGSIBLING,"preceding-sibling"],[Q.SELF,"self"]]),Y.prototype=new Object,Y.prototype.constructor=Y,Y.superclass=Object.prototype;function Y(i,f){arguments.length>0&&this.init(i,f)}Y.prototype.init=function(i,f){this.type=i,this.value=f},Y.prototype.toString=function(){return"<unknown nodetest type>"},Y.prototype.matches=function(i,f){console.warn("unknown node test type")},Y.NAMETESTANY=0,Y.NAMETESTPREFIXANY=1,Y.NAMETESTQNAME=2,Y.COMMENT=3,Y.TEXT=4,Y.PI=5,Y.NODE=6,Y.isNodeType=function(i){return function(f){return c(i,f.nodeType)}},Y.makeNodeTestType=function(i,f,E){var D=E||function(){};return D.prototype=new Y(i),D.prototype.constructor=D,R(D.prototype,f),D},Y.makeNodeTypeTest=function(i,f,E){return new(Y.makeNodeTestType(i,{matches:Y.isNodeType(f),toString:l(E)}))},Y.hasPrefix=function(i){return i.prefix||(i.nodeName||i.tagName).indexOf(":")!==-1},Y.isElementOrAttribute=Y.isNodeType([1,2]),Y.nameSpaceMatches=function(i,f,E){var D=E.namespaceURI||"";if(!i)return!D||f.allowAnyNamespaceForNoPrefix&&!Y.hasPrefix(E);var T=f.namespaceResolver.getNamespace(i,f.expressionContextNode);if(T==null)throw new Error("Cannot resolve QName "+i);return T===D},Y.localNameMatches=function(i,f,E){var D=E.localName||E.nodeName;return f.caseInsensitive?i.toLowerCase()===D.toLowerCase():i===D},Y.NameTestPrefixAny=Y.makeNodeTestType(Y.NAMETESTPREFIXANY,{matches:function(i,f){return Y.isElementOrAttribute(i)&&Y.nameSpaceMatches(this.prefix,f,i)},toString:function(){return this.prefix+":*"}},function(f){this.prefix=f}),Y.NameTestQName=Y.makeNodeTestType(Y.NAMETESTQNAME,{matches:function(i,f){return Y.isNodeType([1,2,k.XPATH_NAMESPACE_NODE])(i)&&Y.nameSpaceMatches(this.prefix,f,i)&&Y.localNameMatches(this.localName,f,i)},toString:function(){return this.name}},function(f){var E=f.split(":");this.name=f,this.prefix=E.length>1?E[0]:null,this.localName=E[E.length>1?1:0]}),Y.PITest=Y.makeNodeTestType(Y.PI,{matches:function(i,f){return Y.isNodeType([7])(i)&&(i.target||i.nodeName)===this.name},toString:function(){return O('processing-instruction("','")',this.name)}},function(i){this.name=i}),Y.nameTestAny=Y.makeNodeTypeTest(Y.NAMETESTANY,[1,2,k.XPATH_NAMESPACE_NODE],"*"),Y.textTest=Y.makeNodeTypeTest(Y.TEXT,[3,4],"text()"),Y.commentTest=Y.makeNodeTypeTest(Y.COMMENT,[8],"comment()"),Y.nodeTest=Y.makeNodeTypeTest(Y.NODE,[1,2,3,4,7,8,9],"node()"),Y.anyPiTest=Y.makeNodeTypeTest(Y.PI,[7],"processing-instruction()"),re.prototype=new N,re.prototype.constructor=re,re.superclass=N.prototype;function re(i){arguments.length>0&&this.init(i)}re.prototype.init=function(i){this.variable=i},re.prototype.toString=function(){return"$"+this.variable},re.prototype.evaluate=function(i){var f=H.resolveQName(this.variable,i.namespaceResolver,i.contextNode,!1);if(f[0]==null)throw new Error("Cannot resolve QName "+fn);var E=i.variableResolver.getVariable(f[1],f[0]);if(!E)throw ie.fromMessage("Undeclared variable: "+this.toString());return E},Ae.prototype=new N,Ae.prototype.constructor=Ae,Ae.superclass=N.prototype;function Ae(i,f){arguments.length>0&&this.init(i,f)}Ae.prototype.init=function(i,f){this.functionName=i,this.arguments=f},Ae.prototype.toString=function(){for(var i=this.functionName+"(",f=0;f<this.arguments.length;f++)f>0&&(i+=", "),i+=this.arguments[f].toString();return i+")"},Ae.prototype.evaluate=function(i){var f=B.getFunctionFromContext(this.functionName,i);if(!f)throw new Error("Unknown function "+this.functionName);var E=[i].concat(this.arguments);return f.apply(i.functionResolver.thisArg,E)};var Te=new Object;Te.equals=function(i,f){return i.equals(f)},Te.notequal=function(i,f){return i.notequal(f)},Te.lessthan=function(i,f){return i.lessthan(f)},Te.greaterthan=function(i,f){return i.greaterthan(f)},Te.lessthanorequal=function(i,f){return i.lessthanorequal(f)},Te.greaterthanorequal=function(i,f){return i.greaterthanorequal(f)},ne.prototype=new N,ne.prototype.constructor=ne,ne.superclass=N.prototype;function ne(i){arguments.length>0&&this.init(i)}ne.prototype.init=function(i){this.str=String(i)},ne.prototype.toString=function(){return this.str},ne.prototype.evaluate=function(i){return this},ne.prototype.string=function(){return this},ne.prototype.number=function(){return new ee(this.str)},ne.prototype.bool=function(){return new b(this.str)},ne.prototype.nodeset=function(){throw new Error("Cannot convert string to nodeset")},ne.prototype.stringValue=function(){return this.str},ne.prototype.numberValue=function(){return this.number().numberValue()},ne.prototype.booleanValue=function(){return this.bool().booleanValue()},ne.prototype.equals=function(i){return H.instance_of(i,b)?this.bool().equals(i):H.instance_of(i,ee)?this.number().equals(i):H.instance_of(i,x)?i.compareWithString(this,Te.equals):new b(this.str==i.str)},ne.prototype.notequal=function(i){return H.instance_of(i,b)?this.bool().notequal(i):H.instance_of(i,ee)?this.number().notequal(i):H.instance_of(i,x)?i.compareWithString(this,Te.notequal):new b(this.str!=i.str)},ne.prototype.lessthan=function(i){return this.number().lessthan(i)},ne.prototype.greaterthan=function(i){return this.number().greaterthan(i)},ne.prototype.lessthanorequal=function(i){return this.number().lessthanorequal(i)},ne.prototype.greaterthanorequal=function(i){return this.number().greaterthanorequal(i)},ee.prototype=new N,ee.prototype.constructor=ee,ee.superclass=N.prototype;function ee(i){arguments.length>0&&this.init(i)}ee.prototype.init=function(i){this.num=typeof i=="string"?this.parse(i):Number(i)},ee.prototype.numberFormat=/^\s*-?[0-9]*\.?[0-9]+\s*$/,ee.prototype.parse=function(i){return this.numberFormat.test(i)?parseFloat(i):Number.NaN};function ft(i){for(var f=i.split("e-"),E=f[0].replace(".",""),D=Number(f[1]),T=0;T<D-1;T+=1)E="0"+E;return"0."+E}function Ct(i){for(var f=i.split("e"),E=f[0].replace(".",""),D=Number(f[1]),T=D+1-E.length,M=0;M<T;M+=1)E+="0";return E}ee.prototype.toString=function(){var i=this.num.toString();return i.indexOf("e-")!==-1?ft(i):i.indexOf("e")!==-1?Ct(i):i},ee.prototype.evaluate=function(i){return this},ee.prototype.string=function(){return new ne(this.toString())},ee.prototype.number=function(){return this},ee.prototype.bool=function(){return new b(this.num)},ee.prototype.nodeset=function(){throw new Error("Cannot convert number to nodeset")},ee.prototype.stringValue=function(){return this.string().stringValue()},ee.prototype.numberValue=function(){return this.num},ee.prototype.booleanValue=function(){return this.bool().booleanValue()},ee.prototype.negate=function(){return new ee(-this.num)},ee.prototype.equals=function(i){return H.instance_of(i,b)?this.bool().equals(i):H.instance_of(i,ne)?this.equals(i.number()):H.instance_of(i,x)?i.compareWithNumber(this,Te.equals):new b(this.num==i.num)},ee.prototype.notequal=function(i){return H.instance_of(i,b)?this.bool().notequal(i):H.instance_of(i,ne)?this.notequal(i.number()):H.instance_of(i,x)?i.compareWithNumber(this,Te.notequal):new b(this.num!=i.num)},ee.prototype.lessthan=function(i){return H.instance_of(i,x)?i.compareWithNumber(this,Te.greaterthan):H.instance_of(i,b)||H.instance_of(i,ne)?this.lessthan(i.number()):new b(this.num<i.num)},ee.prototype.greaterthan=function(i){return H.instance_of(i,x)?i.compareWithNumber(this,Te.lessthan):H.instance_of(i,b)||H.instance_of(i,ne)?this.greaterthan(i.number()):new b(this.num>i.num)},ee.prototype.lessthanorequal=function(i){return H.instance_of(i,x)?i.compareWithNumber(this,Te.greaterthanorequal):H.instance_of(i,b)||H.instance_of(i,ne)?this.lessthanorequal(i.number()):new b(this.num<=i.num)},ee.prototype.greaterthanorequal=function(i){return H.instance_of(i,x)?i.compareWithNumber(this,Te.lessthanorequal):H.instance_of(i,b)||H.instance_of(i,ne)?this.greaterthanorequal(i.number()):new b(this.num>=i.num)},ee.prototype.plus=function(i){return new ee(this.num+i.num)},ee.prototype.minus=function(i){return new ee(this.num-i.num)},ee.prototype.multiply=function(i){return new ee(this.num*i.num)},ee.prototype.div=function(i){return new ee(this.num/i.num)},ee.prototype.mod=function(i){return new ee(this.num%i.num)},b.prototype=new N,b.prototype.constructor=b,b.superclass=N.prototype;function b(i){arguments.length>0&&this.init(i)}b.prototype.init=function(i){this.b=Boolean(i)},b.prototype.toString=function(){return this.b.toString()},b.prototype.evaluate=function(i){return this},b.prototype.string=function(){return new ne(this.b)},b.prototype.number=function(){return new ee(this.b)},b.prototype.bool=function(){return this},b.prototype.nodeset=function(){throw new Error("Cannot convert boolean to nodeset")},b.prototype.stringValue=function(){return this.string().stringValue()},b.prototype.numberValue=function(){return this.number().numberValue()},b.prototype.booleanValue=function(){return this.b},b.prototype.not=function(){return new b(!this.b)},b.prototype.equals=function(i){return H.instance_of(i,ne)||H.instance_of(i,ee)?this.equals(i.bool()):H.instance_of(i,x)?i.compareWithBoolean(this,Te.equals):new b(this.b==i.b)},b.prototype.notequal=function(i){return H.instance_of(i,ne)||H.instance_of(i,ee)?this.notequal(i.bool()):H.instance_of(i,x)?i.compareWithBoolean(this,Te.notequal):new b(this.b!=i.b)},b.prototype.lessthan=function(i){return this.number().lessthan(i)},b.prototype.greaterthan=function(i){return this.number().greaterthan(i)},b.prototype.lessthanorequal=function(i){return this.number().lessthanorequal(i)},b.prototype.greaterthanorequal=function(i){return this.number().greaterthanorequal(i)},b.true_=new b(!0),b.false_=new b(!1),d.prototype=new Object,d.prototype.constructor=d,d.superclass=Object.prototype;function d(i){this.init(i)}d.prototype.init=function(i){this.left=null,this.right=null,this.node=i,this.depth=1},d.prototype.balance=function(){var i=this.left==null?0:this.left.depth,f=this.right==null?0:this.right.depth;if(i>f+1){var E=this.left.left==null?0:this.left.left.depth,D=this.left.right==null?0:this.left.right.depth;E<D&&this.left.rotateRR(),this.rotateLL()}else if(i+1<f){var T=this.right.right==null?0:this.right.right.depth,M=this.right.left==null?0:this.right.left.depth;M>T&&this.right.rotateLL(),this.rotateRR()}},d.prototype.rotateLL=function(){var i=this.node,f=this.right;this.node=this.left.node,this.right=this.left,this.left=this.left.left,this.right.left=this.right.right,this.right.right=f,this.right.node=i,this.right.updateInNewLocation(),this.updateInNewLocation()},d.prototype.rotateRR=function(){var i=this.node,f=this.left;this.node=this.right.node,this.left=this.right,this.right=this.right.right,this.left.right=this.left.left,this.left.left=f,this.left.node=i,this.left.updateInNewLocation(),this.updateInNewLocation()},d.prototype.updateInNewLocation=function(){this.getDepthFromChildren()},d.prototype.getDepthFromChildren=function(){this.depth=this.node==null?0:1,this.left!=null&&(this.depth=this.left.depth+1),this.right!=null&&this.depth<=this.right.depth&&(this.depth=this.right.depth+1)};function m(i,f){if(i===f)return 0;if(i.compareDocumentPosition){var E=i.compareDocumentPosition(f);return E&1||E&10?1:E&20?-1:0}for(var D=0,T=0,M=i;M!=null;M=M.parentNode||M.ownerElement)D++;for(var se=f;se!=null;se=se.parentNode||se.ownerElement)T++;if(D>T){for(;D>T;)i=i.parentNode||i.ownerElement,D--;if(i===f)return 1}else if(T>D){for(;T>D;)f=f.parentNode||f.ownerElement,T--;if(i===f)return-1}for(var be=i.parentNode||i.ownerElement,Ie=f.parentNode||f.ownerElement;be!==Ie;)i=be,f=Ie,be=i.parentNode||i.ownerElement,Ie=f.parentNode||f.ownerElement;var ue=H.isAttribute(i),Oe=H.isAttribute(f);if(ue&&!Oe)return-1;if(!ue&&Oe)return 1;if(be)for(var ht=ue?be.attributes:be.childNodes,Ve=ht.length,kt=0;kt<Ve;kt+=1){var Wt=ht[kt];if(Wt===i)return-1;if(Wt===f)return 1}throw new Error("Unexpected: could not determine node order")}d.prototype.add=function(i){if(i===this.node)return!1;var f=m(i,this.node),E=!1;return f==-1?this.left==null?(this.left=new d(i),E=!0):(E=this.left.add(i),E&&this.balance()):f==1&&(this.right==null?(this.right=new d(i),E=!0):(E=this.right.add(i),E&&this.balance())),E&&this.getDepthFromChildren(),E},x.prototype=new N,x.prototype.constructor=x,x.superclass=N.prototype;function x(){this.init()}x.prototype.init=function(){this.tree=null,this.nodes=[],this.size=0},x.prototype.toString=function(){var i=this.first();return i==null?"":this.stringForNode(i)},x.prototype.evaluate=function(i){return this},x.prototype.string=function(){return new ne(this.toString())},x.prototype.stringValue=function(){return this.toString()},x.prototype.number=function(){return new ee(this.string())},x.prototype.numberValue=function(){return Number(this.string())},x.prototype.bool=function(){return new b(this.booleanValue())},x.prototype.booleanValue=function(){return!!this.size},x.prototype.nodeset=function(){return this},x.prototype.stringForNode=function(i){return i.nodeType==9||i.nodeType==1||i.nodeType===11?this.stringForContainerNode(i):i.nodeType===2?i.value||i.nodeValue:i.isNamespaceNode?i.namespace:i.nodeValue},x.prototype.stringForContainerNode=function(i){for(var f="",E=i.firstChild;E!=null;E=E.nextSibling){var D=E.nodeType;(D===1||D===3||D===4||D===9||D===11)&&(f+=this.stringForNode(E))}return f},x.prototype.buildTree=function(){if(!this.tree&&this.nodes.length){this.tree=new d(this.nodes[0]);for(var i=1;i<this.nodes.length;i+=1)this.tree.add(this.nodes[i])}return this.tree},x.prototype.first=function(){var i=this.buildTree();if(i==null)return null;for(;i.left!=null;)i=i.left;return i.node},x.prototype.add=function(i){for(var f=0;f<this.nodes.length;f+=1)if(i===this.nodes[f])return;this.tree=null,this.nodes.push(i),this.size+=1},x.prototype.addArray=function(i){var f=this;a(function(E){f.add(E)},i)},x.prototype.toArray=function(){var i=[];return this.toArrayRec(this.buildTree(),i),i},x.prototype.toArrayRec=function(i,f){i!=null&&(this.toArrayRec(i.left,f),f.push(i.node),this.toArrayRec(i.right,f))},x.prototype.toUnsortedArray=function(){return this.nodes.slice()},x.prototype.compareWithString=function(i,f){for(var E=this.toUnsortedArray(),D=0;D<E.length;D++){var T=E[D],M=new ne(this.stringForNode(T)),se=f(M,i);if(se.booleanValue())return se}return new b(!1)},x.prototype.compareWithNumber=function(i,f){for(var E=this.toUnsortedArray(),D=0;D<E.length;D++){var T=E[D],M=new ee(this.stringForNode(T)),se=f(M,i);if(se.booleanValue())return se}return new b(!1)},x.prototype.compareWithBoolean=function(i,f){return f(this.bool(),i)},x.prototype.compareWithNodeSet=function(i,f){for(var E=this.toUnsortedArray(),D=function(be,Ie){return f(Ie,be)},T=0;T<E.length;T++){var M=new ne(this.stringForNode(E[T])),se=i.compareWithString(M,D);if(se.booleanValue())return se}return new b(!1)},x.compareWith=n(function(i,f){return H.instance_of(f,ne)?this.compareWithString(f,i):H.instance_of(f,ee)?this.compareWithNumber(f,i):H.instance_of(f,b)?this.compareWithBoolean(f,i):this.compareWithNodeSet(f,i)}),x.prototype.equals=x.compareWith(Te.equals),x.prototype.notequal=x.compareWith(Te.notequal),x.prototype.lessthan=x.compareWith(Te.lessthan),x.prototype.greaterthan=x.compareWith(Te.greaterthan),x.prototype.lessthanorequal=x.compareWith(Te.lessthanorequal),x.prototype.greaterthanorequal=x.compareWith(Te.greaterthanorequal),x.prototype.union=function(i){var f=new x;return f.addArray(this.toUnsortedArray()),f.addArray(i.toUnsortedArray()),f},k.prototype=new Object,k.prototype.constructor=k,k.superclass=Object.prototype;function k(i,f,E){this.isXPathNamespace=!0,this.ownerDocument=E.ownerDocument,this.nodeName="#namespace",this.prefix=i,this.localName=i,this.namespaceURI=f,this.nodeValue=f,this.ownerElement=E,this.nodeType=k.XPATH_NAMESPACE_NODE}k.prototype.toString=function(){return'{ "'+this.prefix+'", "'+this.namespaceURI+'" }'},W.prototype=new Object,W.prototype.constructor=W,W.superclass=Object.prototype;function W(i,f,E){this.variableResolver=i!=null?i:new Z,this.namespaceResolver=f!=null?f:new z,this.functionResolver=E!=null?E:new B}W.prototype.extend=function(i){return R(new W,this,i)},Z.prototype=new Object,Z.prototype.constructor=Z,Z.superclass=Object.prototype;function Z(){}Z.prototype.getVariable=function(i,f){return null},B.prototype=new Object,B.prototype.constructor=B,B.superclass=Object.prototype;function B(i){this.thisArg=i!=null?i:U,this.functions=new Object,this.addStandardFunctions()}B.prototype.addStandardFunctions=function(){this.functions["{}last"]=U.last,this.functions["{}position"]=U.position,this.functions["{}count"]=U.count,this.functions["{}id"]=U.id,this.functions["{}local-name"]=U.localName,this.functions["{}namespace-uri"]=U.namespaceURI,this.functions["{}name"]=U.name,this.functions["{}string"]=U.string,this.functions["{}concat"]=U.concat,this.functions["{}starts-with"]=U.startsWith,this.functions["{}contains"]=U.contains,this.functions["{}substring-before"]=U.substringBefore,this.functions["{}substring-after"]=U.substringAfter,this.functions["{}substring"]=U.substring,this.functions["{}string-length"]=U.stringLength,this.functions["{}normalize-space"]=U.normalizeSpace,this.functions["{}translate"]=U.translate,this.functions["{}boolean"]=U.boolean_,this.functions["{}not"]=U.not,this.functions["{}true"]=U.true_,this.functions["{}false"]=U.false_,this.functions["{}lang"]=U.lang,this.functions["{}number"]=U.number,this.functions["{}sum"]=U.sum,this.functions["{}floor"]=U.floor,this.functions["{}ceiling"]=U.ceiling,this.functions["{}round"]=U.round},B.prototype.addFunction=function(i,f,E){this.functions["{"+i+"}"+f]=E},B.getFunctionFromContext=function(i,f){var E=H.resolveQName(i,f.namespaceResolver,f.contextNode,!1);if(E[0]===null)throw new Error("Cannot resolve QName "+name);return f.functionResolver.getFunction(E[1],E[0])},B.prototype.getFunction=function(i,f){return this.functions["{"+f+"}"+i]},z.prototype=new Object,z.prototype.constructor=z,z.superclass=Object.prototype;function z(){}z.prototype.getNamespace=function(i,f){if(i=="xml")return S.XML_NAMESPACE_URI;if(i=="xmlns")return S.XMLNS_NAMESPACE_URI;for(f.nodeType==9?f=f.documentElement:f.nodeType==2?f=X.getOwnerElement(f):f.nodeType!=1&&(f=f.parentNode);f!=null&&f.nodeType==1;){for(var E=f.attributes,D=0;D<E.length;D++){var T=E.item(D),M=T.name||T.nodeName;if(M==="xmlns"&&i===""||M==="xmlns:"+i)return String(T.value||T.nodeValue)}f=f.parentNode}return null};var U=new Object;U.last=function(i){if(arguments.length!=1)throw new Error("Function last expects ()");return new ee(i.contextSize)},U.position=function(i){if(arguments.length!=1)throw new Error("Function position expects ()");return new ee(i.contextPosition)},U.count=function(){var i=arguments[0],f;if(arguments.length!=2||!H.instance_of(f=arguments[1].evaluate(i),x))throw new Error("Function count expects (node-set)");return new ee(f.size)},U.id=function(){var i=arguments[0],f;if(arguments.length!=2)throw new Error("Function id expects (object)");f=arguments[1].evaluate(i),H.instance_of(f,x)?f=f.toArray().join(" "):f=f.stringValue();for(var E=f.split(/[\x0d\x0a\x09\x20]+/),D=new x,T=i.contextNode.nodeType==9?i.contextNode:i.contextNode.ownerDocument,M=0;M<E.length;M++){var se;T.getElementById?se=T.getElementById(E[M]):se=H.getElementById(T,E[M]),se!=null&&D.add(se)}return D},U.localName=function(i,f){var E;if(arguments.length==1)E=i.contextNode;else if(arguments.length==2)E=f.evaluate(i).first();else throw new Error("Function local-name expects (node-set?)");return E==null?new ne(""):new ne(E.localName||E.baseName||E.target||E.nodeName||"")},U.namespaceURI=function(){var i=arguments[0],f;if(arguments.length==1)f=i.contextNode;else if(arguments.length==2)f=arguments[1].evaluate(i).first();else throw new Error("Function namespace-uri expects (node-set?)");return f==null?new ne(""):new ne(f.namespaceURI)},U.name=function(){var i=arguments[0],f;if(arguments.length==1)f=i.contextNode;else if(arguments.length==2)f=arguments[1].evaluate(i).first();else throw new Error("Function name expects (node-set?)");return f==null?new ne(""):f.nodeType==1?new ne(f.nodeName):f.nodeType==2?new ne(f.name||f.nodeName):f.nodeType===7?new ne(f.target||f.nodeName):f.localName==null?new ne(""):new ne(f.localName)},U.string=function(){var i=arguments[0];if(arguments.length==1)return new ne(x.prototype.stringForNode(i.contextNode));if(arguments.length==2)return arguments[1].evaluate(i).string();throw new Error("Function string expects (object?)")},U.concat=function(i){if(arguments.length<3)throw new Error("Function concat expects (string, string[, string]*)");for(var f="",E=1;E<arguments.length;E++)f+=arguments[E].evaluate(i).stringValue();return new ne(f)},U.startsWith=function(){var i=arguments[0];if(arguments.length!=3)throw new Error("Function startsWith expects (string, string)");var f=arguments[1].evaluate(i).stringValue(),E=arguments[2].evaluate(i).stringValue();return new b(f.substring(0,E.length)==E)},U.contains=function(){var i=arguments[0];if(arguments.length!=3)throw new Error("Function contains expects (string, string)");var f=arguments[1].evaluate(i).stringValue(),E=arguments[2].evaluate(i).stringValue();return new b(f.indexOf(E)!==-1)},U.substringBefore=function(){var i=arguments[0];if(arguments.length!=3)throw new Error("Function substring-before expects (string, string)");var f=arguments[1].evaluate(i).stringValue(),E=arguments[2].evaluate(i).stringValue();return new ne(f.substring(0,f.indexOf(E)))},U.substringAfter=function(){var i=arguments[0];if(arguments.length!=3)throw new Error("Function substring-after expects (string, string)");var f=arguments[1].evaluate(i).stringValue(),E=arguments[2].evaluate(i).stringValue();if(E.length==0)return new ne(f);var D=f.indexOf(E);return D==-1?new ne(""):new ne(f.substring(D+E.length))},U.substring=function(){var i=arguments[0];if(!(arguments.length==3||arguments.length==4))throw new Error("Function substring expects (string, number, number?)");var f=arguments[1].evaluate(i).stringValue(),E=Math.round(arguments[2].evaluate(i).numberValue())-1,D=arguments.length==4?E+Math.round(arguments[3].evaluate(i).numberValue()):void 0;return new ne(f.substring(E,D))},U.stringLength=function(){var i=arguments[0],f;if(arguments.length==1)f=x.prototype.stringForNode(i.contextNode);else if(arguments.length==2)f=arguments[1].evaluate(i).stringValue();else throw new Error("Function string-length expects (string?)");return new ee(f.length)},U.normalizeSpace=function(){var i=arguments[0],f;if(arguments.length==1)f=x.prototype.stringForNode(i.contextNode);else if(arguments.length==2)f=arguments[1].evaluate(i).stringValue();else throw new Error("Function normalize-space expects (string?)");for(var E=0,D=f.length-1;H.isSpace(f.charCodeAt(D));)D--;for(var T="";E<=D&&H.isSpace(f.charCodeAt(E));)E++;for(;E<=D;)if(H.isSpace(f.charCodeAt(E)))for(T+=" ";E<=D&&H.isSpace(f.charCodeAt(E));)E++;else T+=f.charAt(E),E++;return new ne(T)},U.translate=function(i,f,E,D){if(arguments.length!=4)throw new Error("Function translate expects (string, string, string)");var T=f.evaluate(i).stringValue(),M=E.evaluate(i).stringValue(),se=D.evaluate(i).stringValue(),be=o(function(ue,Oe,ht){return Oe in ue||(ue[Oe]=ht>se.length?"":se[ht]),ue},{},M),Ie=g("",s(function(ue){return ue in be?be[ue]:ue},T));return new ne(Ie)},U.boolean_=function(){var i=arguments[0];if(arguments.length!=2)throw new Error("Function boolean expects (object)");return arguments[1].evaluate(i).bool()},U.not=function(i,f){if(arguments.length!=2)throw new Error("Function not expects (object)");return f.evaluate(i).bool().not()},U.true_=function(){if(arguments.length!=1)throw new Error("Function true expects ()");return b.true_},U.false_=function(){if(arguments.length!=1)throw new Error("Function false expects ()");return b.false_},U.lang=function(){var i=arguments[0];if(arguments.length!=2)throw new Error("Function lang expects (string)");for(var f,E=i.contextNode;E!=null&&E.nodeType!=9;E=E.parentNode){var D=E.getAttributeNS(S.XML_NAMESPACE_URI,"lang");if(D!=null){f=String(D);break}}if(f==null)return b.false_;var T=arguments[1].evaluate(i).stringValue();return new b(f.substring(0,T.length)==T&&(f.length==T.length||f.charAt(T.length)=="-"))},U.number=function(){var i=arguments[0];if(!(arguments.length==1||arguments.length==2))throw new Error("Function number expects (object?)");return arguments.length==1?new ee(x.prototype.stringForNode(i.contextNode)):arguments[1].evaluate(i).number()},U.sum=function(){var i=arguments[0],f;if(arguments.length!=2||!H.instance_of(f=arguments[1].evaluate(i),x))throw new Error("Function sum expects (node-set)");f=f.toUnsortedArray();for(var E=0,D=0;D<f.length;D++)E+=new ee(x.prototype.stringForNode(f[D])).numberValue();return new ee(E)},U.floor=function(){var i=arguments[0];if(arguments.length!=2)throw new Error("Function floor expects (number)");return new ee(Math.floor(arguments[1].evaluate(i).numberValue()))},U.ceiling=function(){var i=arguments[0];if(arguments.length!=2)throw new Error("Function ceiling expects (number)");return new ee(Math.ceil(arguments[1].evaluate(i).numberValue()))},U.round=function(){var i=arguments[0];if(arguments.length!=2)throw new Error("Function round expects (number)");return new ee(Math.round(arguments[1].evaluate(i).numberValue()))};var H=new Object;H.isAttribute=function(i){return i&&(i.nodeType===2||i.ownerElement)},H.splitQName=function(i){var f=i.indexOf(":");return f==-1?[null,i]:[i.substring(0,f),i.substring(f+1)]},H.resolveQName=function(i,f,E,D){var T=H.splitQName(i);return T[0]!=null?T[0]=f.getNamespace(T[0],E):D?(T[0]=f.getNamespace("",E),T[0]==null&&(T[0]="")):T[0]="",T},H.isSpace=function(i){return i==9||i==13||i==10||i==32},H.isLetter=function(i){return i>=65&&i<=90||i>=97&&i<=122||i>=192&&i<=214||i>=216&&i<=246||i>=248&&i<=255||i>=256&&i<=305||i>=308&&i<=318||i>=321&&i<=328||i>=330&&i<=382||i>=384&&i<=451||i>=461&&i<=496||i>=500&&i<=501||i>=506&&i<=535||i>=592&&i<=680||i>=699&&i<=705||i==902||i>=904&&i<=906||i==908||i>=910&&i<=929||i>=931&&i<=974||i>=976&&i<=982||i==986||i==988||i==990||i==992||i>=994&&i<=1011||i>=1025&&i<=1036||i>=1038&&i<=1103||i>=1105&&i<=1116||i>=1118&&i<=1153||i>=1168&&i<=1220||i>=1223&&i<=1224||i>=1227&&i<=1228||i>=1232&&i<=1259||i>=1262&&i<=1269||i>=1272&&i<=1273||i>=1329&&i<=1366||i==1369||i>=1377&&i<=1414||i>=1488&&i<=1514||i>=1520&&i<=1522||i>=1569&&i<=1594||i>=1601&&i<=1610||i>=1649&&i<=1719||i>=1722&&i<=1726||i>=1728&&i<=1742||i>=1744&&i<=1747||i==1749||i>=1765&&i<=1766||i>=2309&&i<=2361||i==2365||i>=2392&&i<=2401||i>=2437&&i<=2444||i>=2447&&i<=2448||i>=2451&&i<=2472||i>=2474&&i<=2480||i==2482||i>=2486&&i<=2489||i>=2524&&i<=2525||i>=2527&&i<=2529||i>=2544&&i<=2545||i>=2565&&i<=2570||i>=2575&&i<=2576||i>=2579&&i<=2600||i>=2602&&i<=2608||i>=2610&&i<=2611||i>=2613&&i<=2614||i>=2616&&i<=2617||i>=2649&&i<=2652||i==2654||i>=2674&&i<=2676||i>=2693&&i<=2699||i==2701||i>=2703&&i<=2705||i>=2707&&i<=2728||i>=2730&&i<=2736||i>=2738&&i<=2739||i>=2741&&i<=2745||i==2749||i==2784||i>=2821&&i<=2828||i>=2831&&i<=2832||i>=2835&&i<=2856||i>=2858&&i<=2864||i>=2866&&i<=2867||i>=2870&&i<=2873||i==2877||i>=2908&&i<=2909||i>=2911&&i<=2913||i>=2949&&i<=2954||i>=2958&&i<=2960||i>=2962&&i<=2965||i>=2969&&i<=2970||i==2972||i>=2974&&i<=2975||i>=2979&&i<=2980||i>=2984&&i<=2986||i>=2990&&i<=2997||i>=2999&&i<=3001||i>=3077&&i<=3084||i>=3086&&i<=3088||i>=3090&&i<=3112||i>=3114&&i<=3123||i>=3125&&i<=3129||i>=3168&&i<=3169||i>=3205&&i<=3212||i>=3214&&i<=3216||i>=3218&&i<=3240||i>=3242&&i<=3251||i>=3253&&i<=3257||i==3294||i>=3296&&i<=3297||i>=3333&&i<=3340||i>=3342&&i<=3344||i>=3346&&i<=3368||i>=3370&&i<=3385||i>=3424&&i<=3425||i>=3585&&i<=3630||i==3632||i>=3634&&i<=3635||i>=3648&&i<=3653||i>=3713&&i<=3714||i==3716||i>=3719&&i<=3720||i==3722||i==3725||i>=3732&&i<=3735||i>=3737&&i<=3743||i>=3745&&i<=3747||i==3749||i==3751||i>=3754&&i<=3755||i>=3757&&i<=3758||i==3760||i>=3762&&i<=3763||i==3773||i>=3776&&i<=3780||i>=3904&&i<=3911||i>=3913&&i<=3945||i>=4256&&i<=4293||i>=4304&&i<=4342||i==4352||i>=4354&&i<=4355||i>=4357&&i<=4359||i==4361||i>=4363&&i<=4364||i>=4366&&i<=4370||i==4412||i==4414||i==4416||i==4428||i==4430||i==4432||i>=4436&&i<=4437||i==4441||i>=4447&&i<=4449||i==4451||i==4453||i==4455||i==4457||i>=4461&&i<=4462||i>=4466&&i<=4467||i==4469||i==4510||i==4520||i==4523||i>=4526&&i<=4527||i>=4535&&i<=4536||i==4538||i>=4540&&i<=4546||i==4587||i==4592||i==4601||i>=7680&&i<=7835||i>=7840&&i<=7929||i>=7936&&i<=7957||i>=7960&&i<=7965||i>=7968&&i<=8005||i>=8008&&i<=8013||i>=8016&&i<=8023||i==8025||i==8027||i==8029||i>=8031&&i<=8061||i>=8064&&i<=8116||i>=8118&&i<=8124||i==8126||i>=8130&&i<=8132||i>=8134&&i<=8140||i>=8144&&i<=8147||i>=8150&&i<=8155||i>=8160&&i<=8172||i>=8178&&i<=8180||i>=8182&&i<=8188||i==8486||i>=8490&&i<=8491||i==8494||i>=8576&&i<=8578||i>=12353&&i<=12436||i>=12449&&i<=12538||i>=12549&&i<=12588||i>=44032&&i<=55203||i>=19968&&i<=40869||i==12295||i>=12321&&i<=12329},H.isNCNameChar=function(i){return i>=48&&i<=57||i>=1632&&i<=1641||i>=1776&&i<=1785||i>=2406&&i<=2415||i>=2534&&i<=2543||i>=2662&&i<=2671||i>=2790&&i<=2799||i>=2918&&i<=2927||i>=3047&&i<=3055||i>=3174&&i<=3183||i>=3302&&i<=3311||i>=3430&&i<=3439||i>=3664&&i<=3673||i>=3792&&i<=3801||i>=3872&&i<=3881||i==46||i==45||i==95||H.isLetter(i)||i>=768&&i<=837||i>=864&&i<=865||i>=1155&&i<=1158||i>=1425&&i<=1441||i>=1443&&i<=1465||i>=1467&&i<=1469||i==1471||i>=1473&&i<=1474||i==1476||i>=1611&&i<=1618||i==1648||i>=1750&&i<=1756||i>=1757&&i<=1759||i>=1760&&i<=1764||i>=1767&&i<=1768||i>=1770&&i<=1773||i>=2305&&i<=2307||i==2364||i>=2366&&i<=2380||i==2381||i>=2385&&i<=2388||i>=2402&&i<=2403||i>=2433&&i<=2435||i==2492||i==2494||i==2495||i>=2496&&i<=2500||i>=2503&&i<=2504||i>=2507&&i<=2509||i==2519||i>=2530&&i<=2531||i==2562||i==2620||i==2622||i==2623||i>=2624&&i<=2626||i>=2631&&i<=2632||i>=2635&&i<=2637||i>=2672&&i<=2673||i>=2689&&i<=2691||i==2748||i>=2750&&i<=2757||i>=2759&&i<=2761||i>=2763&&i<=2765||i>=2817&&i<=2819||i==2876||i>=2878&&i<=2883||i>=2887&&i<=2888||i>=2891&&i<=2893||i>=2902&&i<=2903||i>=2946&&i<=2947||i>=3006&&i<=3010||i>=3014&&i<=3016||i>=3018&&i<=3021||i==3031||i>=3073&&i<=3075||i>=3134&&i<=3140||i>=3142&&i<=3144||i>=3146&&i<=3149||i>=3157&&i<=3158||i>=3202&&i<=3203||i>=3262&&i<=3268||i>=3270&&i<=3272||i>=3274&&i<=3277||i>=3285&&i<=3286||i>=3330&&i<=3331||i>=3390&&i<=3395||i>=3398&&i<=3400||i>=3402&&i<=3405||i==3415||i==3633||i>=3636&&i<=3642||i>=3655&&i<=3662||i==3761||i>=3764&&i<=3769||i>=3771&&i<=3772||i>=3784&&i<=3789||i>=3864&&i<=3865||i==3893||i==3895||i==3897||i==3902||i==3903||i>=3953&&i<=3972||i>=3974&&i<=3979||i>=3984&&i<=3989||i==3991||i>=3993&&i<=4013||i>=4017&&i<=4023||i==4025||i>=8400&&i<=8412||i==8417||i>=12330&&i<=12335||i==12441||i==12442||i==183||i==720||i==721||i==903||i==1600||i==3654||i==3782||i==12293||i>=12337&&i<=12341||i>=12445&&i<=12446||i>=12540&&i<=12542},H.coalesceText=function(i){for(var f=i.firstChild;f!=null;f=f.nextSibling)if(f.nodeType==3||f.nodeType==4){var E=f.nodeValue,D=f;for(f=f.nextSibling;f!=null&&(f.nodeType==3||f.nodeType==4);){E+=f.nodeValue;var T=f;f=f.nextSibling,T.parentNode.removeChild(T)}if(D.nodeType==4){var M=D.parentNode;if(D.nextSibling==null)M.removeChild(D),M.appendChild(M.ownerDocument.createTextNode(E));else{var se=D.nextSibling;M.removeChild(D),M.insertBefore(M.ownerDocument.createTextNode(E),se)}}else D.nodeValue=E;if(f==null)break}else f.nodeType==1&&H.coalesceText(f)},H.instance_of=function(i,f){for(;i!=null;){if(i.constructor===f)return!0;if(i===Object)return!1;i=i.constructor.superclass}return!1},H.getElementById=function(i,f){if(i.nodeType==1&&(i.getAttribute("id")==f||i.getAttributeNS(null,"id")==f))return i;for(var E=i.firstChild;E!=null;E=E.nextSibling){var D=H.getElementById(E,f);if(D!=null)return D}return null};var ie=function(){function i(E,D){var T=D?": "+D.toString():"";switch(E){case f.INVALID_EXPRESSION_ERR:return"Invalid expression"+T;case f.TYPE_ERR:return"Type error"+T}return null}function f(E,D,T){var M=Error.call(this,i(E,D)||T);return M.code=E,M.exception=D,M}return f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f.superclass=Error,f.prototype.toString=function(){return this.message},f.fromMessage=function(E,D){return new f(null,D,E)},f.INVALID_EXPRESSION_ERR=51,f.TYPE_ERR=52,f}();ve.prototype={},ve.prototype.constructor=ve,ve.superclass=Object.prototype;function ve(i,f,E){this.xpath=E.parse(i),this.context=new W,this.context.namespaceResolver=new Ue(f)}ve.getOwnerDocument=function(i){return i.nodeType===9?i:i.ownerDocument},ve.detectHtmlDom=function(i){if(!i)return!1;var f=ve.getOwnerDocument(i);try{return f.implementation.hasFeature("HTML","2.0")}catch{return!0}},ve.prototype.evaluate=function(i,f,E){this.context.expressionContextNode=i,this.context.caseInsensitive=ve.detectHtmlDom(i);var D=this.xpath.evaluate(this.context);return new Se(D,f)},Ue.prototype={},Ue.prototype.constructor=Ue,Ue.superclass=Object.prototype;function Ue(i){this.xpathNSResolver=i}Ue.prototype.getNamespace=function(i,f){return this.xpathNSResolver==null?null:this.xpathNSResolver.lookupNamespaceURI(i)},ut.prototype={},ut.prototype.constructor=ut,ut.superclass=Object.prototype;function ut(i){this.node=i,this.namespaceResolver=new z}ut.prototype.lookupNamespaceURI=function(i){return this.namespaceResolver.getNamespace(i,this.node)},Se.prototype={},Se.prototype.constructor=Se,Se.superclass=Object.prototype;function Se(i,f){switch(f==Se.ANY_TYPE&&(i.constructor===ne?f=Se.STRING_TYPE:i.constructor===ee?f=Se.NUMBER_TYPE:i.constructor===b?f=Se.BOOLEAN_TYPE:i.constructor===x&&(f=Se.UNORDERED_NODE_ITERATOR_TYPE)),this.resultType=f,f){case Se.NUMBER_TYPE:this.numberValue=i.numberValue();return;case Se.STRING_TYPE:this.stringValue=i.stringValue();return;case Se.BOOLEAN_TYPE:this.booleanValue=i.booleanValue();return;case Se.ANY_UNORDERED_NODE_TYPE:case Se.FIRST_ORDERED_NODE_TYPE:if(i.constructor===x){this.singleNodeValue=i.first();return}break;case Se.UNORDERED_NODE_ITERATOR_TYPE:case Se.ORDERED_NODE_ITERATOR_TYPE:if(i.constructor===x){this.invalidIteratorState=!1,this.nodes=i.toArray(),this.iteratorIndex=0;return}break;case Se.UNORDERED_NODE_SNAPSHOT_TYPE:case Se.ORDERED_NODE_SNAPSHOT_TYPE:if(i.constructor===x){this.nodes=i.toArray(),this.snapshotLength=this.nodes.length;return}break}throw new ie(ie.TYPE_ERR)}Se.prototype.iterateNext=function(){if(this.resultType!=Se.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=Se.ORDERED_NODE_ITERATOR_TYPE)throw new ie(ie.TYPE_ERR);return this.nodes[this.iteratorIndex++]},Se.prototype.snapshotItem=function(i){if(this.resultType!=Se.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=Se.ORDERED_NODE_SNAPSHOT_TYPE)throw new ie(ie.TYPE_ERR);return this.nodes[i]},Se.ANY_TYPE=0,Se.NUMBER_TYPE=1,Se.STRING_TYPE=2,Se.BOOLEAN_TYPE=3,Se.UNORDERED_NODE_ITERATOR_TYPE=4,Se.ORDERED_NODE_ITERATOR_TYPE=5,Se.UNORDERED_NODE_SNAPSHOT_TYPE=6,Se.ORDERED_NODE_SNAPSHOT_TYPE=7,Se.ANY_UNORDERED_NODE_TYPE=8,Se.FIRST_ORDERED_NODE_TYPE=9;function Ft(i,f){i.createExpression=function(E,D){try{return new ve(E,D,f)}catch(T){throw new ie(ie.INVALID_EXPRESSION_ERR,T)}},i.createNSResolver=function(E){return new ut(E)},i.evaluate=function(E,D,T,M,se){if(M<0||M>9)throw{code:0,toString:function(){return"Request type not supported"}};return i.createExpression(E,T,f).evaluate(D,M,se)}}try{var mt=!0;try{document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("XPath",null)&&(mt=!1)}catch{}mt&&Ft(document,new v)}catch{}Ft(r,new v),function(){var i=new v,f=new z,E=new B,D=new Z;function T(te){return{getNamespace:function(Fe,st){var ct=te(Fe,st);return ct||f.getNamespace(Fe,st)}}}function M(te){return T(te.getNamespace.bind(te))}function se(te){return T(function(Fe){return te[Fe]})}function be(te){return te&&typeof te.getNamespace=="function"?M(te):typeof te=="function"?T(te):typeof te=="object"?se(te):f}function Ie(te){if(te===null||typeof te>"u"||te instanceof ne||te instanceof b||te instanceof ee||te instanceof x)return te;switch(typeof te){case"string":return new ne(te);case"boolean":return new b(te);case"number":return new ee(te)}var Fe=new x;return Fe.addArray([].concat(te)),Fe}function ue(te){return function(Fe){var st=Array.prototype.slice.call(arguments,1).map(function(ta){return ta.evaluate(Fe)}),ct=te.apply(this,[].concat(Fe,st));return Ie(ct)}}function Oe(te){return{getFunction:function(Fe,st){var ct=te(Fe,st);return ct?ue(ct):E.getFunction(Fe,st)}}}function ht(te){return Oe(te.getFunction.bind(te))}function Ve(te){return Oe(function(Fe){return te[Fe]})}function kt(te){return te&&typeof te.getFunction=="function"?ht(te):typeof te=="function"?Oe(te):typeof te=="object"?Ve(te):E}function Wt(te){return{getVariable:function(Fe,st){var ct=te(Fe,st);return Ie(ct)}}}function jr(te){if(te){if(typeof te.getVariable=="function")return Wt(te.getVariable.bind(te));if(typeof te=="function")return Wt(te);if(typeof te=="object")return Wt(function(Fe){return te[Fe]})}return D}function Hr(te,Fe,st){te in st&&(Fe[te]=st[te])}function es(te){var Fe=new W;return te?(Fe.namespaceResolver=be(te.namespaces),Fe.functionResolver=kt(te.functions),Fe.variableResolver=jr(te.variables),Fe.expressionContextNode=te.node,Hr("allowAnyNamespaceForNoPrefix",Fe,te),Hr("isHtml",Fe,te)):Fe.namespaceResolver=f,Fe}function Bt(te,Fe){var st=es(Fe);return te.evaluate(st)}var bn={evaluate:function(te){return Bt(this.expression,te)},evaluateNumber:function(te){return this.evaluate(te).numberValue()},evaluateString:function(te){return this.evaluate(te).stringValue()},evaluateBoolean:function(te){return this.evaluate(te).booleanValue()},evaluateNodeSet:function(te){return this.evaluate(te).nodeset()},select:function(te){return this.evaluateNodeSet(te).toArray()},select1:function(te){return this.select(te)[0]}};function ea(te){var Fe=i.parse(te);return Object.create(bn,{expression:{value:Fe}})}r.parse=ea}(),R(r,{XPath:S,XPathParser:v,XPathResult:Se,Step:Q,PathExpr:X,NodeTest:Y,LocationPath:me,OrOperation:L,AndOperation:P,BarOperation:oe,EqualsOperation:j,NotEqualOperation:K,LessThanOperation:ce,GreaterThanOperation:ae,LessThanOrEqualOperation:le,GreaterThanOrEqualOperation:ge,PlusOperation:xe,MinusOperation:Ce,MultiplyOperation:ye,DivOperation:Re,ModOperation:pe,UnaryMinusOperation:I,FunctionCall:Ae,VariableReference:re,XPathContext:W,XNodeSet:x,XBoolean:b,XString:ne,XNumber:ee,NamespaceResolver:z,FunctionResolver:B,VariableResolver:Z,Utilities:H}),r.select=function(i,f,E){return r.selectWithResolver(i,f,null,E)},r.useNamespaces=function(i){var f={mappings:i||{},lookupNamespaceURI:function(E){return this.mappings[E]}};return function(E,D,T){return r.selectWithResolver(E,D,f,T)}},r.selectWithResolver=function(i,f,E,D){var T=new ve(i,E,new v),M=Se.ANY_TYPE,se=T.evaluate(f,M,null);return se.resultType==Se.STRING_TYPE?se=se.stringValue:se.resultType==Se.NUMBER_TYPE?se=se.numberValue:se.resultType==Se.BOOLEAN_TYPE?se=se.booleanValue:(se=se.nodes,D&&(se=se[0])),se},r.select1=function(i,f){return r.select(i,f,!0)}})(t)})(q);const Tc=({dataChunk:e,indexKey:t,chunkSize:r})=>{var o,s;if(!e[0].value&&!((o=e[1])!=null&&o.value)&&!((s=e[2])!=null&&s.value))return null;let n=null,a=e;return r===3&&(a=e.slice(0,2),[n]=e.slice(2)),p.createElement(p.Fragment,null,p.createElement("tr",null,a.map((u,c)=>{var h,g;if(!u.value)return null;let l=1;return(c===0&&(!a[c+1]||!a[c+1].value)||c===1&&(!a[c-1]||!a[c-1].value))&&(l=3),p.createElement(p.Fragment,{key:`${a[0].label}-${String(a[0].value)}-${c}-${t}-${((h=a[1])==null?void 0:h.label)||""}-${((g=a[1])==null?void 0:g.value)||""}`},p.createElement("td",{className:"ctw-ccda-common-td1",rowSpan:n&&n.value&&c===0?2:1},u.label.replace(/:/g,"")),p.createElement("td",{className:"ctw-ccda-common-td2",colSpan:l,rowSpan:n&&n.value&&c===0?2:1},u.value))})),n&&n.value&&p.createElement("tr",null,p.createElement("td",{className:"ctw-ccda-common-td1"},n.label.replace(/:/g,"")),p.createElement("td",{className:"ctw-ccda-common-td2"},n.value)))};try{Tc.displayName="BasicRow",Tc.__docgenInfo={description:"",displayName:"BasicRow",props:{dataChunk:{defaultValue:null,description:"",name:"dataChunk",required:!0,type:{name:"TableInfo[]"}},indexKey:{defaultValue:null,description:"",name:"indexKey",required:!0,type:{name:"number"}},chunkSize:{defaultValue:null,description:"",name:"chunkSize",required:!1,type:{name:"enum",value:[{value:"2"},{value:"3"}]}}}}}catch{}const Oc=({tuple:e,indexKey:t})=>!e[0].value&&!e[1].value?null:p.createElement("tr",null,e.map((r,n)=>{if(!r.value)return null;let a=1;return(n===0&&!e[1].value||n===1&&!e[0].value)&&(a=3),p.createElement(p.Fragment,{key:`${e[0].label}-${e[0].value}-${n}-${t}-${e[1].label||""}-${e[1].value}`},p.createElement("td",{className:"ctw-ccda-common-td1"},r.label.replace(/:/g,"")),p.createElement("td",{className:"ctw-ccda-common-td2",colSpan:a},r.value))}));try{Oc.displayName="TupleRow",Oc.__docgenInfo={description:"",displayName:"TupleRow",props:{tuple:{defaultValue:null,description:"",name:"tuple",required:!0,type:{name:"[TableInfo, TableInfo]"}},indexKey:{defaultValue:null,description:"",name:"indexKey",required:!0,type:{name:"number"}}}}}catch{}const gt=({data:e,chunkSize:t=2})=>{const[r,n]=G.exports.partition(e,o=>!G.exports.isArray(o)),a=G.exports.chunk(r,t);return p.createElement("table",{className:"ctw-ccda-common-table"},p.createElement("tbody",null,a.map((o,s)=>p.createElement(Tc,{key:`${o[0].label}-${s}`,dataChunk:o,chunkSize:t,indexKey:s})),n.map((o,s)=>p.createElement(Oc,{key:`${o[0].label}-${o[1].label}-${s}`,tuple:o,indexKey:s}))))};try{gt.displayName="Table",gt.__docgenInfo={description:"",displayName:"Table",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"(TableInfo | [TableInfo, TableInfo])[]"}},chunkSize:{defaultValue:{value:"2"},description:"",name:"chunkSize",required:!1,type:{name:"enum",value:[{value:"2"},{value:"3"}]}}}}}catch{}const Tp=e=>{var r;if(e.text)return e.text;let t="";return t+=e.use?`${G.exports.capitalize(e.use)}: `:"",t+=G.exports.isEmpty(e.line)?"":`${(r=e.line)==null?void 0:r.join(`
`)}
`,t+=e.city?`${e.city}, `:"",t+=e.state?`${e.state} `:"",t+=e.postalCode||"",t+=e.country?`
${e.country}`:"",t},bA=e=>G.exports.isEmpty(e)?"":G.exports.isArray(e)?e.map(Tp).join(`
`):Tp(e);function wA(e){return G.exports.isArray(e)&&e.every(t=>typeof t=="object")}function xA(e){return G.exports.isArray(e)&&e.every(t=>typeof t=="string")}const Op=e=>{if(e.text)return e.text;let t="";return e.given&&e.given.length>0&&(t=e.given.join(" "),e.family&&(t=`${t} ${e.family}`)),e.prefix&&e.prefix.length>0&&(t=`${e.prefix.join(" ")} ${t}`),t},_y=e=>G.exports.isEmpty(e)?"":typeof e=="string"?e:xA(e)?e.reduce((t,r,n)=>`${t}${n===0?"":`
`}${r}`,""):wA(e)?e.map(Op).join(", "):Op(e),Cp=({use:e,system:t,value:r})=>{const n=e?` (${e})`:"";return`${t?`${G.exports.capitalize(t)}${n}:`:""} ${r}`.trim()},_A=e=>G.exports.isEmpty(e)?"":G.exports.isArray(e)?e.map(Cp).join(`
`):Cp(e),EA={BAD:"bad",DIR:"direct",H:"home",HP:"primary home",HV:"vacation home",PHYS:"physical",PST:"postal",PUB:"public",TMP:"temporary",WP:"work",CONF:"confidential"},Ey=e=>{if(!e)return"";const t=r=>{const n=String(q.select1("string(@use)",r)),a={line:G.exports.map(q.select("*[name()='streetAddressLine']",r),o=>String(q.select("string(text())",o))).filter(Boolean),city:String(q.select("string(*[name()='city'])",r)),state:String(q.select("string(*[name()='state'])",r)),postalCode:String(q.select("string(*[name()='postalCode'])",r)),country:String(q.select("string(*[name()='country'])",r)),use:EA[n]};return bA(a)};return G.exports.isArray(e)?e.map(t).join(`
`):t(e)},SA={BAD:"bad",CONF:"confidential",OLD:"old",H:"home",HP:"primary home",HV:"vacation Home",TMP:"temporary",WP:"work",DIR:"direct",PUB:"public",AS:"answering service",EC:"emergency:",MC:"mobile",PG:"pager"},Ss={tel:"phone",mailto:"email"},TA=e=>{if(!e)return"";const t=r=>{const a=String(q.select1("string(@value)",r)).split(":");let o,s;if(a.length===2&&([o,s]=a),a.length===1&&([s]=a),!s)return"";const u=s.includes("@")?Ss.mailto:Ss.tel,l={system:Ss[o]||u,value:s,use:SA[String(q.select1("string(@use)",r))]};return _A(l)};return G.exports.isArray(e)?e.map(t).join(`
`):t(e)},Tt=(e,t)=>{const r=Ey(e),n=TA(t);return`${r||""}${r&&n?`
`:""}${n||""}`},OA={A:"Artist/Stage",ABC:"Alphabetic",ASGN:"Assigned",C:"License",I:"Indigenous/Tribal",IDE:"Ideographic",L:"Legal",P:"Pseudonym",PHON:"Phonetic",R:"Religious",SNDX:"Soundex",SRCH:"Search",SYL:"Syllabic"},jt=e=>{if(!e)return"";const t=r=>{const n={use:OA[String(q.select("string(@use)",r))],given:G.exports.map(q.select("(*[name()='given'])",r),a=>String(q.select1("string(text())",a))),family:String(q.select1("string(*[name()='family']/text())",r)),prefix:G.exports.map(q.select("(*[name()='prefix'])",r),a=>String(q.select1("string(text())",a))),suffix:G.exports.map(q.select("(*[name()='suffix'])",r),a=>String(q.select1("string(text())",a)))};return _y(n)};return G.exports.isArray(e)?e.map(t).join(`
`):t(e)},mr=e=>{if(!e)return"";const t=String(q.select1("string(@root)",e)),r=String(q.select1("string(@extension)",e));return`${r}${r?" (":""}${t}${r?")":""}`},CA=e=>{const t=e.replace(/:/g,""),r=t.lastIndexOf("+"),n=t.lastIndexOf("-");if(r>0)return{index:t.length-r-1,timezoneSign:"+"};if(n>0){const a=t[n-3];return G.exports.isFinite(Number(a))||a==="T"?{index:t.length-n-1,timezoneSign:"-"}:{index:-1}}return{index:-1}},br=e=>e&&e.length>1&&e.split("").every(t=>G.exports.isFinite(Number(t))),RA=({year:e,month:t,day:r,hour:n,minute:a,second:o,timezoneHour:s,timezoneMinute:u,timezoneSign:c})=>{let l="";return br(e)&&(l+=e,br(t)&&(l+=`-${t}`,br(r)&&(l+=`-${r}`,br(n)?(l+=`T${n}`,br(a)?l+=`:${a}`:l+=":00",br(o)?l+=`:${o}`:l+=":00",c&&br(s)?(l+=`${c}${s}`,br(u)?l+=`:${u}`:l+=":00"):l+="-00:00"):l+="T00:00:00-00:00"))),l},At=e=>{if(!e)return"";const{index:t,timezoneSign:r}=CA(e);let n=e.replace(/T/g,"").replace(/-/g,"").replace("+","").replace(/:/g,""),a="";(t===4||t===2)&&n.length>9&&(a=n.substring(n.length-t),n=n.substring(0,n.length-t));const o=n.slice(0,4),s=n.slice(4,6),u=n.slice(6,8),c=n.slice(8,10),l=n.slice(10,12),h=n.slice(12,14),g=a.slice(0,2),O=a.slice(2);return u?RA({year:o,month:s,day:u,hour:c,minute:l,second:h,timezoneHour:g,timezoneMinute:O,timezoneSign:r}):""},Yl=e=>{if(!e)return{};const t=String(q.select1("string(*[name()='low']/@value)",e)),r=String(q.select1("string(*[name()='high']/@value)",e));if(!t&&!r)return{};if(t&&!r)return{start:At(t)};if(!t&&r)return{end:At(r)};let n=At(t),a=At(r);return(n.includes("T")||a.includes("T"))&&(n=At(n),a=At(a)),TE(new Date(n),new Date(a))||OE(new Date(n),new Date(a))?{start:n,end:a}:{start:n}},Ni=(e,t,r,n=!0)=>{if(G.exports.isArray(t))return t.reduce((o,s)=>Ni(o,s,r),e);const a=n?G.exports.escapeRegExp:G.exports.identity;return e.replace(new RegExp(a(t),"g"),r)},Tn=(e,t,r)=>{const n=[`</${t}>`,`<${t}>`,`</${t}`,`<${t}`],a=[`</${r}>`,`<${r}>`,`</${r}`,`<${r}`];return n.reduce((o,s,u)=>Ni(o,n[u],a[u]),e)},NA=e=>{let t=e.toString();return t=Ni(t,["<list/>","<item/>","<content/>","<paragraph/>","<section/>","<br/>",'<text xmlns="urn:hl7-org:v3">',"<text />","<text/>"],""),t=Ni(t,' styleCode="(.*?)"',"",!1),t=Tn(t,"section","div"),t=Tn(t,"list","ul"),t=Tn(t,"item","li"),t=Tn(t,"content","div"),t=Tn(t,"paragraph","p"),t},qr=e=>{if(!e)return"";const[t,r]=e.split("T");return Zn(new Date(t),"MMMM dd, yyyy")+(r.split("").some(n=>Number(n)>0)?`, ${r}`:"")},AA=e=>!!e,Gl=e=>!!e,PA=e=>{const t=q.select("*[name()='ClinicalDocument']/*[name()='authenticator']",e);if(!G.exports.isEmpty(t))return t.map(r=>{const n=q.select1("*[name()='assignedEntity']",r);if(!n)return;const a=q.select1("*[name()='assignedPerson']",n),o=jt(q.select("*[name()='name']",a)),s=Tt(q.select("*[name()='addr']",n),q.select("*[name()='telecom']",n)),u=At(String(q.select1("string(*[name()='time']/@value)",r)));return{name:o,contactDetails:s,time:u}}).filter(Gl)},Cc=({document:e})=>{const t=PA(e);if(!t||G.exports.isEmpty(t))return null;const r=t.flatMap(n=>[{label:"Authenticator",value:`${n.name||"Unknown"}${n.time?` signed at ${n.time}`:""}`},{label:"Contact Details",value:n.contactDetails}]);return p.createElement(gt,{data:r})};try{Cc.displayName="Authenticator",Cc.__docgenInfo={description:"",displayName:"Authenticator",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Sy=e=>{const t=q.select("*[name()='ClinicalDocument']/*[name()='author']",e);return G.exports.isEmpty(t)?void 0:t.map(n=>{const a=q.select1("*[name()='assignedAuthor']/*[name()='assignedPerson']/*[name()='name']",n),o=q.select1("*[name()='assignedAuthor']/*[name()='assignedAuthoringDevice']",n);let s="";if(a)s=jt(a);else if(o){const l=String(q.select1("string(*[name()='manufacturerModelName'])",o)),h=String(q.select1("string(*[name()='softwareName'])",o));s=[l,h].filter(Boolean).join("; ")}const u=String(q.select1("string(*[name()='assignedAuthor']/*[name()='representedOrganization']/*[name()='name'])",n)),c=At(String(q.select1("string(*[name()='time'])",n)));return[{label:"Name:",value:s},{label:"Organization:",value:u},{label:"Authored on",value:c}]}).reduce((n,a,o)=>({...n,[`author${o+1}`]:a}),{})},DA=e=>{const t=q.select("*[name()='ClinicalDocument']/*[name()='author']",e);if(G.exports.isEmpty(t))return;const r=Sy(e);return t.map((n,a)=>{const o=q.select1("*[name()='assignedAuthor']",n),s=Tt(q.select("*[name()='addr']",o),q.select("*[name()='telecom']",o)),u=q.select1("*[name()='representedOrganization']",o),c={name:r[`author${a+1}`][0].value,contactDetails:s,organization:{name:r[`author${a+1}`][1].value,contactDetails:""}};if(u){const l=Tt(q.select("*[name()='addr']",u),q.select("*[name()='telecom']",u));return{...c,organization:{...c.organization,contactDetails:l}}}return c})},Rc=({document:e})=>{const t=DA(e);if(!t||G.exports.isEmpty(t))return null;const r=t.flatMap(n=>[{label:"Author",value:`${n.name||"Unknown"}${n.organization.name?`, Organization: ${n.organization.name}`:""}`},{label:"Contact Details",value:n.contactDetails},{label:"Contact Details (Organization)",value:n.organization.contactDetails}]);return p.createElement(gt,{data:r,chunkSize:3})};try{Rc.displayName="Author",Rc.__docgenInfo={description:"",displayName:"Author",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Ty=e=>{const t=q.select("*[name()='ClinicalDocument']/*[name()='authorization']/*[name()='consent']",e);return G.exports.isEmpty(t)?void 0:t.map(n=>{const a=mr(q.select1("*[name()='id']",n)),o=String(q.select1("string(*[name()='code']/@displayName)",n)),s=String(q.select1("string(*[name()='statusCode']/@code)",n));return[{label:"ID:",value:a},{label:"Code:",value:o},{label:"Status:",value:s}]}).reduce((n,a,o)=>({...n,[`consent${o+1}`]:a}),{})},$A=e=>{const t=Ty(e);return Object.values(t||{})},Nc=({document:e})=>{const t=$A(e);if(G.exports.isEmpty(t))return null;const r=t.flatMap(n=>[{label:"Consent",value:`Order: ${n[0].value||"Unknown"}, ${n[1].value||"Unknown"}, ${n[2].value||"Unknown"}`},{label:"",value:""}]);return p.createElement(gt,{data:r})};try{Nc.displayName="Authorization",Nc.__docgenInfo={description:"",displayName:"Authorization",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const IA=e=>{const t=q.select1("*[name()='ClinicalDocument']/*[name()='custodian']/*[name()='assignedCustodian']/*[name()='representedCustodianOrganization']",e);if(!t)return;const r=String(q.select1("string(*[name()='name'])",t)),n=Tt(q.select1("*[name()='ClinicalDocument']/*[name()='custodian']/*[name()='assignedCustodian']/*[name()='representedCustodianOrganization']/*[name()='addr']",e),q.select1("*[name()='ClinicalDocument']/*[name()='custodian']/*[name()='assignedCustodian']/*[name()='representedCustodianOrganization']/*[name()='telecom']",e));return{name:r,contactDetails:n}},Ac=({document:e})=>{const t=IA(e);if(!t)return null;const{name:r,contactDetails:n}=t,a=[{label:"Custodian",value:r},{label:"Contact Details",value:n}];return p.createElement(gt,{data:a})};try{Ac.displayName="Custodian",Ac.__docgenInfo={description:"",displayName:"Custodian",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const MA=e=>{const t=q.select1("*[name()='ClinicalDocument']/*[name()='dataEnterer']/*[name()='assignedEntity']",e);if(!t)return;const r=q.select1("*[name()='assignedPerson']",t),n=jt(q.select("*[name()='name']",r)),a=Tt(q.select("*[name()='addr']",t),q.select("*[name()='telecom']",t));return{name:n,contactDetails:a}},Pc=({document:e})=>{const t=MA(e);if(!t)return null;const{name:r,contactDetails:n}=t,a=[{label:"Data Enterer",value:r},{label:"Contact Details",value:n}];return p.createElement(gt,{data:a})};try{Pc.displayName="DataEnterer",Pc.__docgenInfo={description:"",displayName:"DataEnterer",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const FA={N:"normal",R:"restricted",V:"very restricted"},kA=e=>{const t=mr(q.select1("*[name()='ClinicalDocument']/*[name()='id']",e)),r=At(String(q.select1("string(*[name()='ClinicalDocument']/*[name()='effectiveTime']/@value)",e))),n=qr(r),a=String(q.select1("string(*[name()='ClinicalDocument']/*[name()='versionNumber']/@value)",e)),o=mr(q.select1("*[name()='ClinicalDocument']/*[name()='setId']",e)),s=FA[String(q.select1("string(*[name()='ClinicalDocument']/*[name()='confidentialityCode']/@code)",e))],u=String(q.select1("string(*[name()='ClinicalDocument']/*[name()='code']/@displayName)",e)),c=String(q.select1("string(*[name()='ClinicalDocument']/*[name()='languageCode']/@code)",e));return{id:t,createdOn:n,version:a,setId:o,confidentialityCode:s,code:u,languageCode:c}},Dc=({document:e})=>{const{id:t,createdOn:r,version:n,setId:a,confidentialityCode:o,code:s,languageCode:u}=kA(e),c=[{label:"Document",value:p.createElement(p.Fragment,null,p.createElement("b",null,"ID: "),t,a&&p.createElement(p.Fragment,null,p.createElement("br",null),p.createElement("b",null,"Set ID: "),a))},{label:"Created on",value:r},{label:"Version",value:n||"Unknown"},{label:"Confidentiality",value:o},{label:"Code",value:s},{label:"Language",value:u}];return p.createElement(gt,{data:c})};try{Dc.displayName="Document",Dc.__docgenInfo={description:"",displayName:"Document",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Oy=e=>{const t=q.select("//*[name()='documentationOf']/*[name()='serviceEvent']",e);return G.exports.isEmpty(t)?void 0:t.map(n=>{const a=q.select1("*[name()='effectiveTime']",n),o=Yl(a),u=q.select("*[name()='performer']/*[name()='assignedEntity']/*[name()='assignedPerson']/*[name()='name']",n).map(c=>jt(c));return[{label:"Date/Time:",value:o.start||o.end?`from ${qr(o.start)||"unknown"} to ${qr(o.end)||"unknown"}`:""},...u.map(c=>({label:"Performer:",value:c}))]}).reduce((n,a,o)=>({...n,[`documentationOf${o+1}`]:a}),{})},BA=e=>{const t=q.select("//*[name()='documentationOf']/*[name()='serviceEvent']",e);if(G.exports.isEmpty(t))return;const r=Oy(e);return t.map((n,a)=>{const s=q.select("*[name()='performer']",n).map((u,c)=>{const l=String(q.select1("string(*[name()='functionCode']/@displayName)",u)),h=G.exports.get(r,`documentationOf${a+1}[${c+1}].value`),g=Tt(q.select("*[name()='assignedEntity']/*[name()='addr']",u),q.select("*[name()='assignedEntity']/*[name()='telecom']",u));if(!(!h&&!l&&!g))return{functionCode:l,name:h,contactDetails:g}});return{dateTime:G.exports.get(r,`documentationOf${a+1}[0].value`),finalPerformers:s.filter(AA)}})},$c=({document:e})=>{const t=BA(e);if(!t||G.exports.isEmpty(t))return null;const r=t.flatMap(n=>[{label:"Documentation of - Date/Time",value:n.dateTime},{label:"",value:""},...n.finalPerformers.flatMap(a=>[{label:"Performer",value:`${a.name||"Unknown"}${a.functionCode?` - ${a.functionCode}`:""}`},{label:"Contact Details",value:a.contactDetails}])]);return p.createElement(gt,{data:r})};try{$c.displayName="DocumentationOf",$c.__docgenInfo={description:"",displayName:"DocumentationOf",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Cy=e=>{const t=q.select1("*[name()='ClinicalDocument']/*[name()='componentOf']/*[name()='encompassingEncounter']",e);if(!t)return;const r=mr(q.select1("*[name()='id']",t)),n=String(q.select1("string(*[name()='code']/@displayName)",t)),a=Yl(q.select1("*[name()='effectiveTime']",t));return[{label:"ID:",value:a.start||a.end||r?r||"Unknown":""},{label:"Type:",value:n},{label:"Date/Time:",value:a.start||a.end?`from ${qr(a.start)||"unknown"} to ${qr(a.end)||"unknown"}`:""}]},LA=e=>{const t=q.select1("*[name()='ClinicalDocument']/*[name()='componentOf']/*[name()='encompassingEncounter']",e);if(!t)return;const r=Cy(e),n=String(q.select1("string(*[name()='dischargeDispositionCode']/@displayName)",t)),a=mr(q.select1("*[name()='location']/*[name()='healthCareFacility']/*[name()='id']",t));return{id:r[0],type:r[1],dateTime:r[2],dischargeDisposition:n,encounterLocation:a?`ID: ${a}`:null}},Ic=({document:e})=>{const t=LA(e);if(!t)return null;const{dischargeDisposition:r,encounterLocation:n,id:a,type:o,dateTime:s}=t,u=[{label:"Encounter",value:s.value||r||n||a.value?p.createElement(p.Fragment,null,p.createElement("b",null,"ID: "),a.value||"Unknown",o.value&&p.createElement(p.Fragment,null,p.createElement("br",null),p.createElement("b",null,"Type: "),o.value)):null},{label:"Date/Time",value:s.value},{label:"Discharge Disposition",value:r},{label:"Encounter Location",value:n}];return p.createElement(gt,{data:u})};try{Ic.displayName="Encounter",Ic.__docgenInfo={description:"",displayName:"Encounter",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const UA=e=>{const t=q.select("*[name()='ClinicalDocument']/*[name()='informant']",e);if(!G.exports.isEmpty(t))return t.map(r=>{const n=q.select1("*[name()='assignedEntity']",r);if(n){const o=q.select1("*[name()='assignedPerson']",n),s=jt(q.select("*[name()='name']",o)),u=Tt(q.select("*[name()='addr']",n),q.select("*[name()='telecom']",n));return{name:s,contactDetails:u,relationship:""}}const a=q.select1("*[name()='relatedEntity']",r);if(a){const o=q.select1("*[name()='relatedPerson']",a),s=jt(q.select("*[name()='name']",o)),u=Tt(q.select("*[name()='addr']",a),q.select("*[name()='telecom']",a)),c=String(q.select1("string(*[name()='code']/@displayName)",a)).toLowerCase();return{name:s,contactDetails:u,relationship:c}}}).filter(Gl)},Mc=({document:e})=>{const t=UA(e);if(!t||G.exports.isEmpty(t))return null;const r=t.flatMap(n=>[{label:"Informant",value:`${n.name||"Unknown"}${n.relationship?` - ${n.relationship}`:""}`},{label:"Contact Details",value:n.contactDetails}]);return p.createElement(gt,{data:r})};try{Mc.displayName="Informant",Mc.__docgenInfo={description:"",displayName:"Informant",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const qA=e=>{const t=q.select("*[name()='ClinicalDocument']/*[name()='informationRecipient']/*[name()='intendedRecipient']",e);if(!G.exports.isEmpty(t))return t.map(r=>{const n=q.select1("*[name()='informationRecipient']",r),a=q.select1("*[name()='receivedOrganization']",r);if(n){const c=jt(q.select1("*[name()='name']",n)),l=String(q.select1("string(*[name()='name']/node())",a));return{name:c,contactDetails:"",organization:{name:l,contactDetails:""}}}const o=q.select("*[name()='id']",r).map(mr).join(", "),s=Tt(q.select("*[name()='addr']",r),q.select("*[name()='telecom']",r)),u={name:o,contactDetails:s,organization:{name:"",contactDetails:""}};if(a){const c=String(q.select1("string(*[name()='name']/node())",a)),l=Tt(q.select("*[name()='addr']",a),q.select("*[name()='telecom']",a));return{...u,organization:{name:c,contactDetails:l}}}return u})},Fc=({document:e})=>{const t=qA(e);if(!t||G.exports.isEmpty(t))return null;const r=t.flatMap(n=>[{label:"Information Recipient",value:n.name},{label:"Contact Details",value:n.contactDetails},{label:"Organization",value:n.organization.name},{label:"Contact Details (Organization)",value:n.organization.contactDetails}]);return p.createElement(gt,{data:r})};try{Fc.displayName="InformationRecipient",Fc.__docgenInfo={description:"",displayName:"InformationRecipient",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Ry=e=>{const t=q.select("*[name()='ClinicalDocument']/*[name()='inFulfillmentOf']/*[name()='order']",e);return G.exports.isEmpty(t)?void 0:t.map(n=>{const a=mr(q.select1("*[name()='id']",n)),o=String(q.select1("string(*[name()='code']/@displayName)",n));return[{label:"Order ID:",value:a},{label:"Code:",value:o}]}).reduce((n,a,o)=>({...n,[`inFulfillmentOf${o+1}`]:a}),{})},VA=e=>{const t=Ry(e);return Object.values(t||{})},kc=({document:e})=>{const t=VA(e);if(G.exports.isEmpty(t))return null;const r=t.flatMap(n=>[{label:"In Fulfillment Of",value:`Order: ${n[0].value||"Unknown"}, ${n[1].value||"Unknown"}`},{label:"",value:""}]);return p.createElement(gt,{data:r})};try{kc.displayName="InFulfillmentOf",kc.__docgenInfo={description:"",displayName:"InFulfillmentOf",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const jA=e=>{const t=q.select1("*[name()='ClinicalDocument']/*[name()='legalAuthenticator']",e);if(!t)return;const r=q.select1("*[name()='assignedEntity']",t),n=q.select1("*[name()='assignedPerson']",r),a=jt(q.select("*[name()='name']",n)),o=Tt(q.select("*[name()='addr']",r),q.select("*[name()='telecom']",r)),s=qr(At(String(q.select1("string(*[name()='time']/@value)",t))));return{name:a,contactDetails:o,time:s}},Bc=({document:e})=>{const t=jA(e);if(!t)return null;const{name:r,time:n,contactDetails:a}=t,o=n?` signed at ${n}`:"",s=[{label:"Legal Authenticator",value:`${r}${o}`},{label:"Contact Details",value:a}];return p.createElement(gt,{data:s})};try{Bc.displayName="LegalAuthenticator",Bc.__docgenInfo={description:"",displayName:"LegalAuthenticator",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const HA=e=>{const t=q.select("*[name()='ClinicalDocument']/*[name()='participant']",e);if(!G.exports.isEmpty(t))return t.map(r=>{const n=q.select1("*[name()='associatedEntity']",r);if(n){const a=q.select1("*[name()='associatedPerson']",n),o=jt(q.select("*[name()='name']",a)),s=Tt(q.select("*[name()='addr']",n),q.select("*[name()='telecom']",n)),u=q.select1("*[name()='time']",r),c=Yl(u),l=String(q.select1("string(*[name()='code']/@displayName)",n)).toLowerCase();return{name:o,contactDetails:s,time:`from ${c.start} to ${c.end}`,relationship:l}}}).filter(Gl)},Lc=({document:e})=>{const t=HA(e);if(!t||G.exports.isEmpty(t))return null;const r=t.flatMap(n=>[{label:"Participant",value:`${n.name}${n.relationship?` - ${n.relationship}`:""}`},{label:"Contact Details",value:n.contactDetails}]);return p.createElement(gt,{data:r})};try{Lc.displayName="Participant",Lc.__docgenInfo={description:"",displayName:"Participant",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const Ny=e=>{const t=q.select("*[name()='patient']/*[name()='guardian']",e);if(!G.exports.isEmpty(t))return t.map(r=>{const n=q.select1("*[name()='guardianPerson']",r),a=String(q.select1("string(*[name()='code']/@displayName)",r)),o=jt(q.select("*[name()='name']",n)),s=a?` - ${a}`:"";return{label:"",value:`${o}${s}`}})},Ay=e=>{const r=q.select("*[name()='ClinicalDocument']/*[name()='recordTarget']/*[name()='patientRole']",e).map(n=>{const a=q.select1("*[name()='patient']",n),o=jt(q.select1("*[name()='name']",a)),s=q.select("*[name()='id']",n).map(mr).join(", "),u=String(q.select1("string(*[name()='administrativeGenderCode']/@displayName)",a)),c=new Date(At(String(q.select1("string(*[name()='birthTime']/@value)",a)))),l=new Date(At(String(q.select1("string(*[name()='sdtc:deceasedTime']/@value)",a)))),h=String(q.select1("string(*[name()='sdtc:deceasedInd']/@value)",a))==="true",g=h?"deceased":nh(Eo(l)?l:new Date,c),O=`${Zn(c,"MMMM dd, yyyy")} (${g}${h?"":" yr"}${Eo(l)?" - deceased":""})`,C=Ny(n);return{patient:[{label:"Name:",value:o},{label:"ID:",value:s},{label:"Date of birth:",value:O},{label:"Gender:",value:u}],guardian:C}});return G.exports.map(r,n=>[n.patient,n.guardian]).reduce((n,a,o)=>({...n,[`patient${o+1}`]:a[0],[`guardian${o+1}`]:a[1]}),{})},zA=e=>{const t=q.select1("*[name()='birthplace']/*[name()='place']/*[name()='addr']",e);return t?Ey(t):""},WA=e=>{const t=q.select1("*[name()='ethnicGroupCode']",e);if(t)return String(q.select1("string(@displayName)",t));const r=q.select("*[name()='sdtc:ethnicGroupCode']",e);return G.exports.isEmpty(r)?"":String(q.select1("string(@displayName)",r[0]))},YA=e=>{const t=q.select("//*[name()='patientRole']/*[name()='patient']/*[name()='guardian']",document);if(!t||G.exports.isEmpty(t))return;const r=Ny(e);return t.map((n,a)=>{const o=Tt(q.select("*[name()='addr']",n),q.select("*[name()='telecom']",n));return{name:r[a].value,contactDetails:o}})},GA=e=>q.select("*[name()='languageCommunication']",e).reduce((r,n,a)=>{const o=String(q.select1("string(*[name()='languageCode']/@code)",n));if(!o)return r;const s=String(q.select1("string(*[name()='preferenceInd']/@value)",n)),u=a===0?"":`
`,c=s!==""?`, preferred: ${s}`:"";return`${r}${u}${o}${c}`},""),QA=e=>String(q.select1("string(*[name()='maritalStatusCode']/@displayName)",e)),ZA=e=>{const t=q.select1("*[name()='providerOrganization']",e),r=q.select1("//*[name()='custodian']/*[name()='assignedCustodian']/*[name()='representedCustodianOrganization']",e),n=t||r,a=q.select("*[name()='id']",n).map(mr).join(", "),o=_y(q.select("string(*[name()='name'])",n)),s=Tt(q.select("*[name()='addr']",n),q.select("*[name()='telecom']",n)),u=o?`
${o}`:"";return{name:`${a}${u}`,contactDetails:s}},XA=e=>{const t=q.select1("*[name()='raceCode']",e);if(t)return String(q.select1("string(@displayName)",t));const r=q.select("*[name()='sdtc:raceCode']",e);return G.exports.isEmpty(r)?"":String(q.select1("string(@displayName)",r[0]))},KA=e=>String(q.select1("string(*[name()='religiousAffiliationCode']/@displayName)",e)),JA=e=>{const t=q.select("//*[name()='patientRole']",e);if(!t||G.exports.isEmpty(t))return;const r=Ay(e),n=Object.entries(r).reduce((a,[o,s])=>({...a,[o]:s==null?void 0:s.reduce((u,c)=>({...u,[G.exports.camelCase(c.label)]:c.value}),{})}),{});return t.map((a,o)=>{const s=q.select1("*[name()='patient']",a),u=XA(s),c=WA(s),l=Tt(q.select("*[name()='addr']",a),q.select("*[name()='telecom']",a)),h=GA(s),g=ZA(a),O=YA(a),C=QA(s),w=KA(s),_=zA(s);return{name:n[`patient${o+1}`].name,contactDetails:l,dateOfBirth:n[`patient${o+1}`].dateOfBirth,gender:n[`patient${o+1}`].gender,race:u,ethnicity:c,patientId:n[`patient${o+1}`].id,language:h,maritalStatus:C,religion:w,birthPlace:_,guardian:O||[],providerOrganization:g.name,providerOrganizationContactDetails:g.contactDetails}})},Uc=({document:e})=>{const t=JA(e);return!t||G.exports.isEmpty(t)?null:p.createElement(p.Fragment,null,t.map(r=>{const n=[{label:"Patient",value:r.name},{label:"Contact Details",value:r.contactDetails},{label:"Date Of Birth",value:r.dateOfBirth},{label:"Gender",value:r.gender},{label:"Race",value:r.race},{label:"Ethnicity",value:r.ethnicity},{label:"Patient ID",value:r.patientId},{label:"Language",value:r.language},{label:"Marital Status",value:r.maritalStatus},{label:"Religion",value:r.religion},{label:"Birth Place",value:r.birthPlace},...r.guardian.map(a=>[{label:"Guardian",value:a.name},{label:"Contact Details",value:a.contactDetails}]),[{label:"Provider Organization",value:r.providerOrganization},{label:"Contact Details (Organization)",value:r.providerOrganizationContactDetails}]];return p.createElement(gt,{key:`${r.patientId}-${r.name}-${r.dateOfBirth}`,data:n.filter(a=>G.exports.isArray(a)||a.value)})}))};try{Uc.displayName="Patient",Uc.__docgenInfo={description:"",displayName:"Patient",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const qc=({document:e})=>p.createElement("div",{className:"ctw-ccda-document-details"},p.createElement(Dc,{document:e}),p.createElement(Ac,{document:e}),p.createElement(Uc,{document:e}),p.createElement(Rc,{document:e}),p.createElement(Pc,{document:e}),p.createElement(Mc,{document:e}),p.createElement(Fc,{document:e}),p.createElement(Bc,{document:e}),p.createElement(Cc,{document:e}),p.createElement(Lc,{document:e}),p.createElement($c,{document:e}),p.createElement(kc,{document:e}),p.createElement(Nc,{document:e}),p.createElement(Ic,{document:e}));try{qc.displayName="DocumentDetails",qc.__docgenInfo={description:"",displayName:"DocumentDetails",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const eP=e=>{const t=String(q.select1("string(*[name()='ClinicalDocument']/*[name()='title']/text())",e)),r=At(String(q.select1("string(*[name()='ClinicalDocument']/*[name()='effectiveTime']/@value)",e))),n=qr(r);return`${t} (${n})`},tP=e=>{const t=eP(e),r=Ay(e),n=Oy(e),a=Sy(e),o=Cy(e),s=Ry(e),u=Ty(e);return{title:t,labelTypeData:{...r,...u||{},...n||{},...a||{},encounter:o||[],...s||{}}}},Vc=({document:e})=>{const{title:t,labelTypeData:r}=tP(e);return p.createElement("div",{className:"ctw-ccda-header-container"},p.createElement("h2",{className:"ctw-ccda-header-title"},t),p.createElement("table",{className:"ctw-ccda-common-table"},p.createElement("tbody",null,G.exports.map(r,(n,a)=>{if(!n)return null;const o=n.filter(s=>s.value);return G.exports.isEmpty(o)?null:p.createElement("tr",{key:a},p.createElement("td",{className:"ctw-ccda-common-td1"},G.exports.startCase(a.replace(/\d/g,""))),p.createElement("td",{className:"ctw-ccda-common-td2"},o.map((s,u)=>p.createElement("span",{key:`${a}-${u}`},s.label&&p.createElement("b",null,s.label," "),s.value))))}))))};try{Vc.displayName="Header",Vc.__docgenInfo={description:"",displayName:"Header",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}/*! @license DOMPurify 2.4.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.1/LICENSE */function xr(e){return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xr(e)}function jc(e,t){return jc=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},jc(e,t)}function rP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uo(e,t,r){return rP()?uo=Reflect.construct:uo=function(a,o,s){var u=[null];u.push.apply(u,o);var c=Function.bind.apply(a,u),l=new c;return s&&jc(l,s.prototype),l},uo.apply(null,arguments)}function qt(e){return nP(e)||aP(e)||oP(e)||iP()}function nP(e){if(Array.isArray(e))return Hc(e)}function aP(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oP(e,t){if(!!e){if(typeof e=="string")return Hc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hc(e,t)}}function Hc(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sP=Object.hasOwnProperty,Rp=Object.setPrototypeOf,uP=Object.isFrozen,cP=Object.getPrototypeOf,lP=Object.getOwnPropertyDescriptor,Ot=Object.freeze,Ht=Object.seal,fP=Object.create,Py=typeof Reflect<"u"&&Reflect,Ai=Py.apply,zc=Py.construct;Ai||(Ai=function(t,r,n){return t.apply(r,n)});Ot||(Ot=function(t){return t});Ht||(Ht=function(t){return t});zc||(zc=function(t,r){return uo(t,qt(r))});var dP=Mt(Array.prototype.forEach),Np=Mt(Array.prototype.pop),On=Mt(Array.prototype.push),co=Mt(String.prototype.toLowerCase),Ts=Mt(String.prototype.toString),pP=Mt(String.prototype.match),Lt=Mt(String.prototype.replace),mP=Mt(String.prototype.indexOf),hP=Mt(String.prototype.trim),bt=Mt(RegExp.prototype.test),Os=yP(TypeError);function Mt(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return Ai(e,t,n)}}function yP(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return zc(e,r)}}function De(e,t,r){r=r||co,Rp&&Rp(e,null);for(var n=t.length;n--;){var a=t[n];if(typeof a=="string"){var o=r(a);o!==a&&(uP(t)||(t[n]=o),a=o)}e[a]=!0}return e}function Nr(e){var t=fP(null),r;for(r in e)Ai(sP,e,[r])&&(t[r]=e[r]);return t}function va(e,t){for(;e!==null;){var r=lP(e,t);if(r){if(r.get)return Mt(r.get);if(typeof r.value=="function")return Mt(r.value)}e=cP(e)}function n(a){return console.warn("fallback value for",a),null}return n}var Ap=Ot(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Cs=Ot(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Rs=Ot(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),vP=Ot(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ns=Ot(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),gP=Ot(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Pp=Ot(["#text"]),Dp=Ot(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),As=Ot(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$p=Ot(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ga=Ot(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),bP=Ht(/\{\{[\w\W]*|[\w\W]*\}\}/gm),wP=Ht(/<%[\w\W]*|[\w\W]*%>/gm),xP=Ht(/\${[\w\W]*}/gm),_P=Ht(/^data-[\-\w.\u00B7-\uFFFF]/),EP=Ht(/^aria-[\-\w]+$/),SP=Ht(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),TP=Ht(/^(?:\w+script|data):/i),OP=Ht(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),CP=Ht(/^html$/i),RP=function(){return typeof window>"u"?null:window},NP=function(t,r){if(xr(t)!=="object"||typeof t.createPolicy!="function")return null;var n=null,a="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(a)&&(n=r.currentScript.getAttribute(a));var o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML:function(u){return u},createScriptURL:function(u){return u}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function Dy(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:RP(),t=function(F){return Dy(F)};if(t.version="2.4.1",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;var r=e.document,n=e.document,a=e.DocumentFragment,o=e.HTMLTemplateElement,s=e.Node,u=e.Element,c=e.NodeFilter,l=e.NamedNodeMap,h=l===void 0?e.NamedNodeMap||e.MozNamedAttrMap:l,g=e.HTMLFormElement,O=e.DOMParser,C=e.trustedTypes,w=u.prototype,_=va(w,"cloneNode"),R=va(w,"nextSibling"),v=va(w,"childNodes"),S=va(w,"parentNode");if(typeof o=="function"){var A=n.createElement("template");A.content&&A.content.ownerDocument&&(n=A.content.ownerDocument)}var N=NP(C,r),$=N?N.createHTML(""):"",I=n,V=I.implementation,L=I.createNodeIterator,P=I.createDocumentFragment,j=I.getElementsByTagName,K=r.importNode,ce={};try{ce=Nr(n).documentMode?n.documentMode:{}}catch{}var ae={};t.isSupported=typeof S=="function"&&V&&typeof V.createHTMLDocument<"u"&&ce!==9;var le=bP,ge=wP,xe=xP,Ce=_P,ye=EP,Re=TP,pe=OP,oe=SP,X=null,Ze=De({},[].concat(qt(Ap),qt(Cs),qt(Rs),qt(Ns),qt(Pp))),$e=null,ze=De({},[].concat(qt(Dp),qt(As),qt($p),qt(ga))),me=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Q=null,Y=null,re=!0,Ae=!0,Te=!1,ne=!1,ee=!1,ft=!1,Ct=!1,b=!1,d=!1,m=!1,x=!0,k=!1,W="user-content-",Z=!0,B=!1,z={},U=null,H=De({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ie=null,ve=De({},["audio","video","img","source","image","track"]),Ue=null,ut=De({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Se="http://www.w3.org/1998/Math/MathML",Ft="http://www.w3.org/2000/svg",mt="http://www.w3.org/1999/xhtml",i=mt,f=!1,E=null,D=De({},[Se,Ft,mt],Ts),T,M=["application/xhtml+xml","text/html"],se="text/html",be,Ie=null,ue=n.createElement("form"),Oe=function(F){return F instanceof RegExp||F instanceof Function},ht=function(F){Ie&&Ie===F||((!F||xr(F)!=="object")&&(F={}),F=Nr(F),T=M.indexOf(F.PARSER_MEDIA_TYPE)===-1?T=se:T=F.PARSER_MEDIA_TYPE,be=T==="application/xhtml+xml"?Ts:co,X="ALLOWED_TAGS"in F?De({},F.ALLOWED_TAGS,be):Ze,$e="ALLOWED_ATTR"in F?De({},F.ALLOWED_ATTR,be):ze,E="ALLOWED_NAMESPACES"in F?De({},F.ALLOWED_NAMESPACES,Ts):D,Ue="ADD_URI_SAFE_ATTR"in F?De(Nr(ut),F.ADD_URI_SAFE_ATTR,be):ut,ie="ADD_DATA_URI_TAGS"in F?De(Nr(ve),F.ADD_DATA_URI_TAGS,be):ve,U="FORBID_CONTENTS"in F?De({},F.FORBID_CONTENTS,be):H,Q="FORBID_TAGS"in F?De({},F.FORBID_TAGS,be):{},Y="FORBID_ATTR"in F?De({},F.FORBID_ATTR,be):{},z="USE_PROFILES"in F?F.USE_PROFILES:!1,re=F.ALLOW_ARIA_ATTR!==!1,Ae=F.ALLOW_DATA_ATTR!==!1,Te=F.ALLOW_UNKNOWN_PROTOCOLS||!1,ne=F.SAFE_FOR_TEMPLATES||!1,ee=F.WHOLE_DOCUMENT||!1,b=F.RETURN_DOM||!1,d=F.RETURN_DOM_FRAGMENT||!1,m=F.RETURN_TRUSTED_TYPE||!1,Ct=F.FORCE_BODY||!1,x=F.SANITIZE_DOM!==!1,k=F.SANITIZE_NAMED_PROPS||!1,Z=F.KEEP_CONTENT!==!1,B=F.IN_PLACE||!1,oe=F.ALLOWED_URI_REGEXP||oe,i=F.NAMESPACE||mt,F.CUSTOM_ELEMENT_HANDLING&&Oe(F.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(me.tagNameCheck=F.CUSTOM_ELEMENT_HANDLING.tagNameCheck),F.CUSTOM_ELEMENT_HANDLING&&Oe(F.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(me.attributeNameCheck=F.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),F.CUSTOM_ELEMENT_HANDLING&&typeof F.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(me.allowCustomizedBuiltInElements=F.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ne&&(Ae=!1),d&&(b=!0),z&&(X=De({},qt(Pp)),$e=[],z.html===!0&&(De(X,Ap),De($e,Dp)),z.svg===!0&&(De(X,Cs),De($e,As),De($e,ga)),z.svgFilters===!0&&(De(X,Rs),De($e,As),De($e,ga)),z.mathMl===!0&&(De(X,Ns),De($e,$p),De($e,ga))),F.ADD_TAGS&&(X===Ze&&(X=Nr(X)),De(X,F.ADD_TAGS,be)),F.ADD_ATTR&&($e===ze&&($e=Nr($e)),De($e,F.ADD_ATTR,be)),F.ADD_URI_SAFE_ATTR&&De(Ue,F.ADD_URI_SAFE_ATTR,be),F.FORBID_CONTENTS&&(U===H&&(U=Nr(U)),De(U,F.FORBID_CONTENTS,be)),Z&&(X["#text"]=!0),ee&&De(X,["html","head","body"]),X.table&&(De(X,["tbody"]),delete Q.tbody),Ot&&Ot(F),Ie=F)},Ve=De({},["mi","mo","mn","ms","mtext"]),kt=De({},["foreignobject","desc","title","annotation-xml"]),Wt=De({},["title","style","font","a","script"]),jr=De({},Cs);De(jr,Rs),De(jr,vP);var Hr=De({},Ns);De(Hr,gP);var es=function(F){var J=S(F);(!J||!J.tagName)&&(J={namespaceURI:i,tagName:"template"});var fe=co(F.tagName),je=co(J.tagName);return E[F.namespaceURI]?F.namespaceURI===Ft?J.namespaceURI===mt?fe==="svg":J.namespaceURI===Se?fe==="svg"&&(je==="annotation-xml"||Ve[je]):Boolean(jr[fe]):F.namespaceURI===Se?J.namespaceURI===mt?fe==="math":J.namespaceURI===Ft?fe==="math"&&kt[je]:Boolean(Hr[fe]):F.namespaceURI===mt?J.namespaceURI===Ft&&!kt[je]||J.namespaceURI===Se&&!Ve[je]?!1:!Hr[fe]&&(Wt[fe]||!jr[fe]):!!(T==="application/xhtml+xml"&&E[F.namespaceURI]):!1},Bt=function(F){On(t.removed,{element:F});try{F.parentNode.removeChild(F)}catch{try{F.outerHTML=$}catch{F.remove()}}},bn=function(F,J){try{On(t.removed,{attribute:J.getAttributeNode(F),from:J})}catch{On(t.removed,{attribute:null,from:J})}if(J.removeAttribute(F),F==="is"&&!$e[F])if(b||d)try{Bt(J)}catch{}else try{J.setAttribute(F,"")}catch{}},ea=function(F){var J,fe;if(Ct)F="<remove></remove>"+F;else{var je=pP(F,/^[\r\n\t ]+/);fe=je&&je[0]}T==="application/xhtml+xml"&&i===mt&&(F='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+F+"</body></html>");var Rt=N?N.createHTML(F):F;if(i===mt)try{J=new O().parseFromString(Rt,T)}catch{}if(!J||!J.documentElement){J=V.createDocument(i,"template",null);try{J.documentElement.innerHTML=f?"":Rt}catch{}}var yt=J.body||J.documentElement;return F&&fe&&yt.insertBefore(n.createTextNode(fe),yt.childNodes[0]||null),i===mt?j.call(J,ee?"html":"body")[0]:ee?J.documentElement:yt},te=function(F){return L.call(F.ownerDocument||F,F,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Fe=function(F){return F instanceof g&&(typeof F.nodeName!="string"||typeof F.textContent!="string"||typeof F.removeChild!="function"||!(F.attributes instanceof h)||typeof F.removeAttribute!="function"||typeof F.setAttribute!="function"||typeof F.namespaceURI!="string"||typeof F.insertBefore!="function"||typeof F.hasChildNodes!="function")},st=function(F){return xr(s)==="object"?F instanceof s:F&&xr(F)==="object"&&typeof F.nodeType=="number"&&typeof F.nodeName=="string"},ct=function(F,J,fe){!ae[F]||dP(ae[F],function(je){je.call(t,J,fe,Ie)})},ta=function(F){var J;if(ct("beforeSanitizeElements",F,null),Fe(F)||bt(/[\u0080-\uFFFF]/,F.nodeName))return Bt(F),!0;var fe=be(F.nodeName);if(ct("uponSanitizeElement",F,{tagName:fe,allowedTags:X}),F.hasChildNodes()&&!st(F.firstElementChild)&&(!st(F.content)||!st(F.content.firstElementChild))&&bt(/<[/\w]/g,F.innerHTML)&&bt(/<[/\w]/g,F.textContent)||fe==="select"&&bt(/<template/i,F.innerHTML))return Bt(F),!0;if(!X[fe]||Q[fe]){if(!Q[fe]&&Zl(fe)&&(me.tagNameCheck instanceof RegExp&&bt(me.tagNameCheck,fe)||me.tagNameCheck instanceof Function&&me.tagNameCheck(fe)))return!1;if(Z&&!U[fe]){var je=S(F)||F.parentNode,Rt=v(F)||F.childNodes;if(Rt&&je)for(var yt=Rt.length,dt=yt-1;dt>=0;--dt)je.insertBefore(_(Rt[dt],!0),R(F))}return Bt(F),!0}return F instanceof u&&!es(F)||(fe==="noscript"||fe==="noembed")&&bt(/<\/no(script|embed)/i,F.innerHTML)?(Bt(F),!0):(ne&&F.nodeType===3&&(J=F.textContent,J=Lt(J,le," "),J=Lt(J,ge," "),J=Lt(J,xe," "),F.textContent!==J&&(On(t.removed,{element:F.cloneNode()}),F.textContent=J)),ct("afterSanitizeElements",F,null),!1)},Ql=function(F,J,fe){if(x&&(J==="id"||J==="name")&&(fe in n||fe in ue))return!1;if(!(Ae&&!Y[J]&&bt(Ce,J))){if(!(re&&bt(ye,J))){if(!$e[J]||Y[J]){if(!(Zl(F)&&(me.tagNameCheck instanceof RegExp&&bt(me.tagNameCheck,F)||me.tagNameCheck instanceof Function&&me.tagNameCheck(F))&&(me.attributeNameCheck instanceof RegExp&&bt(me.attributeNameCheck,J)||me.attributeNameCheck instanceof Function&&me.attributeNameCheck(J))||J==="is"&&me.allowCustomizedBuiltInElements&&(me.tagNameCheck instanceof RegExp&&bt(me.tagNameCheck,fe)||me.tagNameCheck instanceof Function&&me.tagNameCheck(fe))))return!1}else if(!Ue[J]){if(!bt(oe,Lt(fe,pe,""))){if(!((J==="src"||J==="xlink:href"||J==="href")&&F!=="script"&&mP(fe,"data:")===0&&ie[F])){if(!(Te&&!bt(Re,Lt(fe,pe,"")))){if(fe)return!1}}}}}}return!0},Zl=function(F){return F.indexOf("-")>0},Xl=function(F){var J,fe,je,Rt;ct("beforeSanitizeAttributes",F,null);var yt=F.attributes;if(!!yt){var dt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:$e};for(Rt=yt.length;Rt--;){J=yt[Rt];var ra=J,lt=ra.name,ts=ra.namespaceURI;if(fe=lt==="value"?J.value:hP(J.value),je=be(lt),dt.attrName=je,dt.attrValue=fe,dt.keepAttr=!0,dt.forceKeepAttr=void 0,ct("uponSanitizeAttribute",F,dt),fe=dt.attrValue,!dt.forceKeepAttr&&(bn(lt,F),!!dt.keepAttr)){if(bt(/\/>/i,fe)){bn(lt,F);continue}ne&&(fe=Lt(fe,le," "),fe=Lt(fe,ge," "),fe=Lt(fe,xe," "));var Kl=be(F.nodeName);if(!!Ql(Kl,je,fe)){if(k&&(je==="id"||je==="name")&&(bn(lt,F),fe=W+fe),N&&xr(C)==="object"&&typeof C.getAttributeType=="function"&&!ts)switch(C.getAttributeType(Kl,je)){case"TrustedHTML":fe=N.createHTML(fe);break;case"TrustedScriptURL":fe=N.createScriptURL(fe);break}try{ts?F.setAttributeNS(ts,lt,fe):F.setAttribute(lt,fe),Np(t.removed)}catch{}}}}ct("afterSanitizeAttributes",F,null)}},Fy=function we(F){var J,fe=te(F);for(ct("beforeSanitizeShadowDOM",F,null);J=fe.nextNode();)ct("uponSanitizeShadowNode",J,null),!ta(J)&&(J.content instanceof a&&we(J.content),Xl(J));ct("afterSanitizeShadowDOM",F,null)};return t.sanitize=function(we){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J,fe,je,Rt,yt;if(f=!we,f&&(we="<!-->"),typeof we!="string"&&!st(we)){if(typeof we.toString!="function")throw Os("toString is not a function");if(we=we.toString(),typeof we!="string")throw Os("dirty is not a string, aborting")}if(!t.isSupported){if(xr(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof we=="string")return e.toStaticHTML(we);if(st(we))return e.toStaticHTML(we.outerHTML)}return we}if(ft||ht(F),t.removed=[],typeof we=="string"&&(B=!1),B){if(we.nodeName){var dt=be(we.nodeName);if(!X[dt]||Q[dt])throw Os("root node is forbidden and cannot be sanitized in-place")}}else if(we instanceof s)J=ea("<!---->"),fe=J.ownerDocument.importNode(we,!0),fe.nodeType===1&&fe.nodeName==="BODY"||fe.nodeName==="HTML"?J=fe:J.appendChild(fe);else{if(!b&&!ne&&!ee&&we.indexOf("<")===-1)return N&&m?N.createHTML(we):we;if(J=ea(we),!J)return b?null:m?$:""}J&&Ct&&Bt(J.firstChild);for(var ra=te(B?we:J);je=ra.nextNode();)je.nodeType===3&&je===Rt||ta(je)||(je.content instanceof a&&Fy(je.content),Xl(je),Rt=je);if(Rt=null,B)return we;if(b){if(d)for(yt=P.call(J.ownerDocument);J.firstChild;)yt.appendChild(J.firstChild);else yt=J;return $e.shadowroot&&(yt=K.call(r,yt,!0)),yt}var lt=ee?J.outerHTML:J.innerHTML;return ee&&X["!doctype"]&&J.ownerDocument&&J.ownerDocument.doctype&&J.ownerDocument.doctype.name&&bt(CP,J.ownerDocument.doctype.name)&&(lt="<!DOCTYPE "+J.ownerDocument.doctype.name+`>
`+lt),ne&&(lt=Lt(lt,le," "),lt=Lt(lt,ge," "),lt=Lt(lt,xe," ")),N&&m?N.createHTML(lt):lt},t.setConfig=function(we){ht(we),ft=!0},t.clearConfig=function(){Ie=null,ft=!1},t.isValidAttribute=function(we,F,J){Ie||ht({});var fe=be(we),je=be(F);return Ql(fe,je,J)},t.addHook=function(we,F){typeof F=="function"&&(ae[we]=ae[we]||[],On(ae[we],F))},t.removeHook=function(we){if(ae[we])return Np(ae[we])},t.removeHooks=function(we){ae[we]&&(ae[we]=[])},t.removeAllHooks=function(){ae={}},t}var AP=Dy();const Wc=({title:e,humanReadable:t})=>{const[r,n]=y.exports.useState(!0);if(!t)return null;const a=()=>n(!r);return p.createElement("div",{className:"ctw-ccda-section-container"},p.createElement("div",{className:"ctw-ccda-section-header-wrapper"},p.createElement("button",{type:"button",className:"ctw-ccda-section-arrow",onClick:a},r?"\u25BC":"\u25B6"),p.createElement("h3",null,e)),r&&p.createElement("div",{className:"ctw-ccda-section-wrapper"},p.createElement("div",{dangerouslySetInnerHTML:{__html:AP.sanitize(NA(t))}})))};try{Wc.displayName="Section",Wc.__docgenInfo={description:"",displayName:"Section",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},humanReadable:{defaultValue:null,description:"",name:"humanReadable",required:!1,type:{name:"Document"}}}}}catch{}const Yc=({document:e})=>{const r=q.select("//*[name()='component']/*[name()='section']",e).map(n=>{const a=String(q.select1("string(*[name()='title'])",n)),o=q.select1("*[name()='text']",n),s=String(q.select1("string(*[name()='code']/@code)",n));return{title:a,humanReadable:o,code:s}});return p.createElement("div",{className:it({width:"calc(100vw - 200px - 24px - 24px - 16px - 16px - 2px)"})},p.createElement(Vc,{document:e}),p.createElement(qc,{document:e}),r.map(({title:n,humanReadable:a,code:o})=>p.createElement(Wc,{key:`el-text-${o}`,title:n,humanReadable:a})))};try{Yc.displayName="CcdaViewer",Yc.__docgenInfo={description:"",displayName:"CcdaViewer",props:{document:{defaultValue:null,description:"",name:"document",required:!0,type:{name:"Document"}}}}}catch{}const PP=["/xml","/xhtml+xml","application/xml"],DP=(e,t)=>e.some(r=>t.includes(r)),Gc=({value:e,contentType:t})=>{const[n,a]=y.exports.useState(!0),o=h=>a(h.target.checked),s=y.exports.useMemo(()=>{if(!DP(PP,t))return;const h=new lA.DOMParser({locator:{},errorHandler:g=>null}).parseFromString(wy.Buffer.from(e,"base64").toString("utf8"),t);if(q.select1("//*[name()='patientRole']",h))return h},[t,e]),u=[{label:"Parsed",value:n,event:o,disabled:!1,display:Boolean(s)}],c=n?s:void 0,l=()=>c?p.createElement(Yc,{document:c}):p.createElement("div",{className:"ctw-ccda-base64-binary-text"},e);return p.createElement("div",{className:"ctw-ccda-container"},p.createElement("div",{className:"ctw-ccda-switch-container"},u.map(h=>h.display&&p.createElement("div",{key:h.label,className:"ctw-cda-switch-wrapper"},p.createElement("span",{className:"ctw-flex"},p.createElement(Si,{inputProps:{value:h.label,checked:h.value,disabled:h.disabled},name:h.label,text:h.label,onChange:h.event}))))),l())};try{Gc.displayName="Base64BinaryField",Gc.__docgenInfo={description:"",displayName:"Base64BinaryField",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},contentType:{defaultValue:null,description:"",name:"contentType",required:!0,type:{name:"string"}}}}}catch{}const Qc=({rawBinary:e,onClose:t,...r})=>{var o;const[n,a]=y.exports.useState(!1);return y.exports.useEffect(()=>{e.isBinary&&a(!0)},[n,e.isBinary]),p.createElement(Oi,{...r},n&&((o=e.xmlBinary)==null?void 0:o.data)&&p.createElement("div",{className:"ctw-flex ctw-w-full ctw-space-x-4"},p.createElement(Gc,{value:e.xmlBinary.data,contentType:e.xmlBinary.contentType}),p.createElement("div",{className:"ctw-ml-3 ctw-flex ctw-h-7 ctw-items-center"},p.createElement("button",{type:"button","aria-label":"close",onClick:t,className:"ctw-btn-clear"},p.createElement("span",{className:"ctw-sr-only"},"Close panel"),p.createElement(sv,{className:"ctw-h-6 ctw-w-6","aria-hidden":"true"})))))};try{Qc.displayName="CCDAModal",Qc.__docgenInfo={description:"",displayName:"CCDAModal",props:{rawBinary:{defaultValue:null,description:"",name:"rawBinary",required:!0,type:{name:"BinaryDocumentData"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}}}}}catch{}const Zc=({onClick:e})=>p.createElement("button",{type:"button",className:"ctw-btn-default ctw-flex ctw-space-x-2 ctw-align-middle",onClick:e},p.createElement("div",null," Source Document"),p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:12,className:"ctw-mt-1 ctw-fill-content-light"},p.createElement("path",{d:"M352 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h50.7L297.4 169.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V160c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32H352zM214.6 297.4c-12.5-12.5-32.8-12.5-45.3 0L64 402.7V352c0-17.7-14.3-32-32-32s-32 14.3-32 32V480c0 17.7 14.3 32 32 32H160c17.7 0 32-14.3 32-32s-14.3-32-32-32H109.3L214.6 342.6c12.5-12.5 12.5-32.8 0-45.3z"})));try{Zc.displayName="DocumentButton",Zc.__docgenInfo={description:"",displayName:"DocumentButton",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}}}}}catch{}const Pi=({idMap:e,entry:t,updateBinaryDocumentState:r})=>{var n;return p.createElement(p.Fragment,null,e.get(t.id)&&((n=e.get(t.id))==null?void 0:n.isBinary)&&p.createElement(Zc,{onClick:()=>{r({isModalOpen:!0,rawBinary:e.get(t.id)})}}))};try{Pi.displayName="RenderDocumentButton",Pi.__docgenInfo={description:"",displayName:"RenderDocumentButton",props:{idMap:{defaultValue:null,description:"",name:"idMap",required:!0,type:{name:"SourceDocumentMap"}},entry:{defaultValue:null,description:"",name:"entry",required:!0,type:{name:"CollapsibleDataListProps"}},updateBinaryDocumentState:{defaultValue:null,description:"",name:"updateBinaryDocumentState",required:!0,type:{name:"Dispatch<Partial<BinaryDocument>>"}}}}}catch{}const Xc=({codings:e})=>p.createElement("div",{className:"ctw-flex ctw-flex-col ctw-space-y-4"},e.map(t=>p.createElement("div",{key:`${t.id}-${t.code}`},t.display,p.createElement("div",null,t.code),p.createElement("div",null,t.system))));try{Xc.displayName="CodingList",Xc.__docgenInfo={description:"",displayName:"CodingList",props:{codings:{defaultValue:null,description:"",name:"codings",required:!0,type:{name:"Coding[]"}}}}}catch{}const Di=({notes:e})=>p.createElement("div",{className:"ctw-flex ctw-flex-col ctw-space-y-4"},e.map(t=>p.createElement("div",{key:t},p.createElement("div",null,t))));try{Di.displayName="NotesList",Di.__docgenInfo={description:"",displayName:"NotesList",props:{notes:{defaultValue:null,description:"",name:"notes",required:!0,type:{name:"string[]"}}}}}catch{}function $i(e){var r,n;const t=[{label:"Recorder",value:e.recorder},{label:"Clinical Status",value:G.exports.capitalize(e.clinicalStatus)},{label:"Verification Status",value:G.exports.capitalize(e.verificationStatus)},{label:"Recorded Date",value:e.recordedDate},{label:"Category",value:G.exports.startCase(e.categories[0])},{label:"Note",value:e.notes.length!==0&&p.createElement(Di,{notes:e.notes})},{label:"Code",value:p.createElement(Xc,{codings:e.knownCodings})},{label:"Onset Date",value:e.onset},{label:"Abatement Date",value:e.abatement},{label:"Encounter",value:e.encounter}];return{id:e.id,date:e.recordedDate,title:G.exports.startCase(e.categories[0]),subtitle:(n=(r=e.patient)==null?void 0:r.organization)==null?void 0:n.name,data:t}}const Kc=e=>{var t,r;return[{label:"Recorder",value:e.recorder},{label:"Recorded Date",value:e.recordedDate},{label:"Provider Organization",value:(r=(t=e.patient)==null?void 0:t.organization)==null?void 0:r.name},{label:"Clinical Status",value:G.exports.capitalize(e.clinicalStatus)},{label:"Verification Status",value:G.exports.capitalize(e.verificationStatus)},{label:"Onset Date",value:e.onset},{label:"Abatement Date",value:e.abatement},{label:"Note",value:e.notes.length!==0&&p.createElement(Di,{notes:e.notes})}]};try{$i.displayName="setupData",$i.__docgenInfo={description:"",displayName:"setupData",props:{abatement:{defaultValue:null,description:"",name:"abatement",required:!0,type:{name:"string | undefined"}},active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean"}},isArchived:{defaultValue:null,description:"",name:"isArchived",required:!0,type:{name:"boolean"}},asserter:{defaultValue:null,description:"",name:"asserter",required:!0,type:{name:"string | undefined"}},bodySites:{defaultValue:null,description:"",name:"bodySites",required:!0,type:{name:"string[]"}},categories:{defaultValue:null,description:"",name:"categories",required:!0,type:{name:"string[]"}},ccsChapter:{defaultValue:null,description:"",name:"ccsChapter",required:!0,type:{name:"string | undefined"}},ccsChapterCode:{defaultValue:null,description:"",name:"ccsChapterCode",required:!0,type:{name:"string | undefined"}},ccsGrouping:{defaultValue:null,description:"",name:"ccsGrouping",required:!0,type:{name:"string | undefined"}},clinicalStatus:{defaultValue:null,description:"",name:"clinicalStatus",required:!0,type:{name:"string"}},clinicalStatusCode:{defaultValue:null,description:"",name:"clinicalStatusCode",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"active"'},{value:'"recurrence"'},{value:'"relapse"'},{value:'"inactive"'},{value:'"remission"'},{value:'"resolved"'}]}},codings:{defaultValue:null,description:"",name:"codings",required:!0,type:{name:"CodeableConcept | undefined"}},display:{defaultValue:null,description:"",name:"display",required:!0,type:{name:"string | undefined"}},encounter:{defaultValue:null,description:"",name:"encounter",required:!0,type:{name:"string | undefined"}},evidences:{defaultValue:null,description:"",name:"evidences",required:!0,type:{name:"string[]"}},icd10Code:{defaultValue:null,description:"",name:"icd10Code",required:!0,type:{name:"string | undefined"}},icd10System:{defaultValue:null,description:"",name:"icd10System",required:!0,type:{name:"string | undefined"}},icd10Display:{defaultValue:null,description:"",name:"icd10Display",required:!0,type:{name:"string | undefined"}},knownCodings:{defaultValue:null,description:"",name:"knownCodings",required:!0,type:{name:"Coding[]"}},knownCodingsMatch:{defaultValue:null,description:"",name:"knownCodingsMatch",required:!0,type:{name:"(condition: ConditionModel) => boolean"}},notes:{defaultValue:null,description:"",name:"notes",required:!0,type:{name:"string[]"}},onset:{defaultValue:null,description:"",name:"onset",required:!0,type:{name:"string | undefined"}},patient:{defaultValue:null,description:"",name:"patient",required:!0,type:{name:"PatientModel | undefined"}},preferredCoding:{defaultValue:null,description:"",name:"preferredCoding",required:!0,type:{name:"Coding | undefined"}},recordedDate:{defaultValue:null,description:"",name:"recordedDate",required:!0,type:{name:"string | undefined"}},recorded:{defaultValue:null,description:"",name:"recorded",required:!0,type:{name:"string | undefined"}},recorder:{defaultValue:null,description:"",name:"recorder",required:!0,type:{name:"string | undefined"}},severity:{defaultValue:null,description:"",name:"severity",required:!0,type:{name:"string"}},snomedCoding:{defaultValue:null,description:"",name:"snomedCoding",required:!0,type:{name:"Coding | undefined"}},snomedCode:{defaultValue:null,description:"",name:"snomedCode",required:!0,type:{name:"string | undefined"}},snomedDisplay:{defaultValue:null,description:"",name:"snomedDisplay",required:!0,type:{name:"string | undefined"}},snomedSystem:{defaultValue:null,description:"",name:"snomedSystem",required:!0,type:{name:"string | undefined"}},stages:{defaultValue:null,description:"",name:"stages",required:!0,type:{name:"string[]"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},subjectID:{defaultValue:null,description:"",name:"subjectID",required:!0,type:{name:"string"}},verificationStatus:{defaultValue:null,description:"",name:"verificationStatus",required:!0,type:{name:"string"}},verificationStatusCode:{defaultValue:null,description:"",name:"verificationStatusCode",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"entered-in-error"'},{value:'"unconfirmed"'},{value:'"provisional"'},{value:'"differential"'},{value:'"confirmed"'},{value:'"refuted"'}]}},resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"Condition"}},includedResources:{defaultValue:null,description:"",name:"includedResources",required:!1,type:{name:"ResourceMap"}},revIncludes:{defaultValue:null,description:"",name:"revIncludes",required:!1,type:{name:"Resource[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isSummaryResource:{defaultValue:null,description:"",name:"isSummaryResource",required:!0,type:{name:"boolean"}},resourceType:{defaultValue:null,description:"",name:"resourceType",required:!0,type:{name:"string"}},getBasicResourceByAction:{defaultValue:null,description:"",name:"getBasicResourceByAction",required:!0,type:{name:"(profileAction: string) => Basic | undefined"}},toString:{defaultValue:null,description:"",name:"toString",required:!1,type:{name:"() => string"}}}}}catch{}try{Kc.displayName="conditionData",Kc.__docgenInfo={description:"",displayName:"conditionData",props:{abatement:{defaultValue:null,description:"",name:"abatement",required:!0,type:{name:"string | undefined"}},active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean"}},isArchived:{defaultValue:null,description:"",name:"isArchived",required:!0,type:{name:"boolean"}},asserter:{defaultValue:null,description:"",name:"asserter",required:!0,type:{name:"string | undefined"}},bodySites:{defaultValue:null,description:"",name:"bodySites",required:!0,type:{name:"string[]"}},categories:{defaultValue:null,description:"",name:"categories",required:!0,type:{name:"string[]"}},ccsChapter:{defaultValue:null,description:"",name:"ccsChapter",required:!0,type:{name:"string | undefined"}},ccsChapterCode:{defaultValue:null,description:"",name:"ccsChapterCode",required:!0,type:{name:"string | undefined"}},ccsGrouping:{defaultValue:null,description:"",name:"ccsGrouping",required:!0,type:{name:"string | undefined"}},clinicalStatus:{defaultValue:null,description:"",name:"clinicalStatus",required:!0,type:{name:"string"}},clinicalStatusCode:{defaultValue:null,description:"",name:"clinicalStatusCode",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"active"'},{value:'"recurrence"'},{value:'"relapse"'},{value:'"inactive"'},{value:'"remission"'},{value:'"resolved"'}]}},codings:{defaultValue:null,description:"",name:"codings",required:!0,type:{name:"CodeableConcept | undefined"}},display:{defaultValue:null,description:"",name:"display",required:!0,type:{name:"string | undefined"}},encounter:{defaultValue:null,description:"",name:"encounter",required:!0,type:{name:"string | undefined"}},evidences:{defaultValue:null,description:"",name:"evidences",required:!0,type:{name:"string[]"}},icd10Code:{defaultValue:null,description:"",name:"icd10Code",required:!0,type:{name:"string | undefined"}},icd10System:{defaultValue:null,description:"",name:"icd10System",required:!0,type:{name:"string | undefined"}},icd10Display:{defaultValue:null,description:"",name:"icd10Display",required:!0,type:{name:"string | undefined"}},knownCodings:{defaultValue:null,description:"",name:"knownCodings",required:!0,type:{name:"Coding[]"}},knownCodingsMatch:{defaultValue:null,description:"",name:"knownCodingsMatch",required:!0,type:{name:"(condition: ConditionModel) => boolean"}},notes:{defaultValue:null,description:"",name:"notes",required:!0,type:{name:"string[]"}},onset:{defaultValue:null,description:"",name:"onset",required:!0,type:{name:"string | undefined"}},patient:{defaultValue:null,description:"",name:"patient",required:!0,type:{name:"PatientModel | undefined"}},preferredCoding:{defaultValue:null,description:"",name:"preferredCoding",required:!0,type:{name:"Coding | undefined"}},recordedDate:{defaultValue:null,description:"",name:"recordedDate",required:!0,type:{name:"string | undefined"}},recorded:{defaultValue:null,description:"",name:"recorded",required:!0,type:{name:"string | undefined"}},recorder:{defaultValue:null,description:"",name:"recorder",required:!0,type:{name:"string | undefined"}},severity:{defaultValue:null,description:"",name:"severity",required:!0,type:{name:"string"}},snomedCoding:{defaultValue:null,description:"",name:"snomedCoding",required:!0,type:{name:"Coding | undefined"}},snomedCode:{defaultValue:null,description:"",name:"snomedCode",required:!0,type:{name:"string | undefined"}},snomedDisplay:{defaultValue:null,description:"",name:"snomedDisplay",required:!0,type:{name:"string | undefined"}},snomedSystem:{defaultValue:null,description:"",name:"snomedSystem",required:!0,type:{name:"string | undefined"}},stages:{defaultValue:null,description:"",name:"stages",required:!0,type:{name:"string[]"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"string"}},subjectID:{defaultValue:null,description:"",name:"subjectID",required:!0,type:{name:"string"}},verificationStatus:{defaultValue:null,description:"",name:"verificationStatus",required:!0,type:{name:"string"}},verificationStatusCode:{defaultValue:null,description:"",name:"verificationStatusCode",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"entered-in-error"'},{value:'"unconfirmed"'},{value:'"provisional"'},{value:'"differential"'},{value:'"confirmed"'},{value:'"refuted"'}]}},resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"Condition"}},includedResources:{defaultValue:null,description:"",name:"includedResources",required:!1,type:{name:"ResourceMap"}},revIncludes:{defaultValue:null,description:"",name:"revIncludes",required:!1,type:{name:"Resource[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isSummaryResource:{defaultValue:null,description:"",name:"isSummaryResource",required:!0,type:{name:"boolean"}},resourceType:{defaultValue:null,description:"",name:"resourceType",required:!0,type:{name:"string"}},getBasicResourceByAction:{defaultValue:null,description:"",name:"getBasicResourceByAction",required:!0,type:{name:"(profileAction: string) => Basic | undefined"}},toString:{defaultValue:null,description:"",name:"toString",required:!1,type:{name:"() => string"}}}}}catch{}const Ip=10,$P={isModalOpen:!1,rawBinary:void 0};function Jc({condition:e,onClose:t,onEdit:r}){const[n,a]=y.exports.useState([]),[o,s]=y.exports.useState([]),[u,c]=y.exports.useState(!0),[l,h]=y.exports.useReducer((R,v)=>({...R,...v}),$P),[g,O]=y.exports.useState(new Map),{getRequestContext:C}=zt(),w=rA(e);y.exports.useEffect(()=>{let R=[];async function v(){if(w.data){const A=$l(w.data.bundle),N=w.data.conditions.map(V=>new Ci(V,A)),I=G.exports.orderBy(N,V=>{var L;return(L=V.resource.recordedDate)!=null?L:""},"desc").filter(V=>V.verificationStatus!=="entered-in-error");R=G.exports.uniqWith(I.map(V=>$i(V)),(V,L)=>G.exports.isEqual(V.data,L.data)),a(R.filter(V=>V.date)),s(R.filter(V=>!V.date)),c(!1)}}async function S(){var V;const A=await C(),$=[$i(e),...R],I=await nA(A,$);O(I),(V=I.get(e.id))!=null&&V.isBinary&&h({rawBinary:I.get(e.id)})}return v(),S(),function(){a([]),s([]),c(!0)}},[e,C,w.data,r]);function _(){return n.length===0&&o.length===0&&!u?p.createElement("div",null,"No history found."):u?p.createElement(Fr,{message:"Loading condition history..."}):p.createElement(p.Fragment,null,l.rawBinary&&p.createElement(Qc,{isOpen:l.isModalOpen,rawBinary:l.rawBinary,onClose:()=>h({isModalOpen:!1})}),p.createElement("div",{className:"ctw-space-y-6"},p.createElement(Ri,{condition:e}),r&&p.createElement(ai,{data:Kc(e),readOnly:!r,onEdit:()=>{t(),setTimeout(r,400)}}),p.createElement(Mn,{entries:n.map(R=>({...R,documentButton:p.createElement(Pi,{idMap:g,entry:R,updateBinaryDocumentState:h})})),limit:Ip}),o.length!==0&&p.createElement("div",{className:"ctw-space-y-2"},p.createElement("div",{className:"ctw-font-medium"},"Records with no date:"),p.createElement(Mn,{entries:o.map(R=>({...R,documentButton:p.createElement(Pi,{idMap:g,entry:R,updateBinaryDocumentState:h})})),limit:Ip}))))}return _()}try{Jc.displayName="ConditionHistory",Jc.__docgenInfo={description:"",displayName:"ConditionHistory",props:{condition:{defaultValue:null,description:"",name:"condition",required:!0,type:{name:"ConditionModel"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"(() => void)"}}}}}catch{}function el({className:e,condition:t,isOpen:r,onClose:n,onEdit:a}){const o="Condition History";return p.createElement(or,{className:e,title:o,isOpen:r,onClose:n},p.createElement(or.Body,null,t&&p.createElement(Jc,{condition:t,onClose:n,onEdit:a})),p.createElement(or.Footer,null,p.createElement("div",{className:"ctw-flex ctw-justify-end ctw-space-x-3 ctw-text-black "},p.createElement("button",{type:"button",className:"ctw-btn-default ctw-font-semibold ctw-outline-bg-light",onClick:n},"Close"))))}try{el.displayName="ConditionHistoryDrawer",el.__docgenInfo={description:"",displayName:"ConditionHistoryDrawer",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},condition:{defaultValue:null,description:"",name:"condition",required:!1,type:{name:"ConditionModel"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},onEdit:{defaultValue:null,description:"",name:"onEdit",required:!1,type:{name:"(() => void)"}}}}}catch{}const IP=async(e,t)=>{if(!e.id)throw new Error("Tried to edit a resource that hasn't been created yet.");const r=G.exports.cloneDeep(e);if(r.verificationStatus={coding:[{code:"entered-in-error",system:Il}]},delete r.clinicalStatus,!(await Qi(r,t)).id)throw new Error(`Failed to edit resource with id of ${e.id}`);await Mr.invalidateQueries([Bl])};function tl({className:e}){return p.createElement("div",{className:it("ctw-conditions",e)},p.createElement("div",{className:"ctw-heading-container"},p.createElement("div",{className:"ctw-title"},"Conditions")),p.createElement("div",{className:"ctw-p-5"},p.createElement(ks,{header:"Conditions Unavailable"},p.createElement("div",null,"We are unable to access Condition information for this patient."),p.createElement("div",null,"Contact your system administrator or customer service for assistance."))))}try{tl.displayName="ConditionsNoPatient",tl.__docgenInfo={description:"",displayName:"ConditionsNoPatient",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const MP=(e,t,r)=>e.filter(n=>{var a;return n.isArchived&&!r||["FAC","XXX"].includes((a=n.ccsChapterCode)!=null?a:"")?!1:!t.some(o=>{const s=n.resource.recordedDate,u=o.resource.recordedDate,c=n.knownCodingsMatch(o),l=o.verificationStatus==="entered-in-error",h=!s||u&&s<=u,g=n.clinicalStatus===o.clinicalStatus;return c&&!l&&(h||g)})}),FP=async(e,t)=>{const{authToken:r,contextBuilderId:n}=e;return(await(await Mi(`${LN(e.env)}?display=${t}`,{headers:{Authorization:`Bearer ${r}`,...n&&{"Zus-Account":n}}})).json()).conditionsList},rl=({defaultCoding:e,readonly:t,...r})=>{const{getRequestContext:n}=zt(),[a,o]=y.exports.useState(!1),[s,u]=y.exports.useState(),c=async l=>{o(!0);const h=await n(),g=await FP(h,l);g&&u(g.map(O=>({value:O,label:O.display}))),o(!1)};return p.createElement(bi,{options:s||[],isLoading:a,name:`${r.name}`,defaultSearchTerm:r.defaultValue,readonly:t,onSearchChange:c,defaultValue:e})};try{rl.displayName="ConditionsAutoComplete",rl.__docgenInfo={description:"",displayName:"ConditionsAutoComplete",props:{defaultCoding:{defaultValue:null,description:"",name:"defaultCoding",required:!1,type:{name:"Coding"}},readonly:{defaultValue:null,description:"",name:"readonly",required:!0,type:{name:"boolean | undefined"}}}}}catch{}const Ii=({condition:e})=>[{label:"Condition",field:"condition",value:e.display,readonly:!1,render:(t,r)=>{var n;return p.createElement(rl,{readonly:t,...r,defaultCoding:(n=e.preferredCoding)!=null?n:{}})}},...$y(e)],nl=({condition:e})=>[{label:"id",value:e.id,field:"id",readonly:!0,hidden:!0},...$y(e)],$y=e=>[{label:"subject",value:e.subjectID,field:"subjectID",readonly:!0,hidden:!0},{label:"Status",value:e.status==="Unknown"?"Select One":e.status,field:"status"},{label:"Onset",value:e.onset,field:"onset"},{label:"Abatement",value:e.abatement,field:"abatement"},{label:"Note",value:e.notes,lines:3,field:"note"}],Iy=ke.object({id:ke.string().optional(),subjectID:ke.string({required_error:"Condition subjectID must be specified."}),status:ke.enum(["Active","Pending","Inactive","Refuted","Entered In Error"]),onset:ke.date().max(new Date,{message:"Onset cannot be a future date."}).optional(),abatement:ke.date().max(new Date,{message:"Abatement cannot be a future date."}).optional(),note:ke.string().optional()}),My=(e,t)=>{e.abatement&&e.status!=="Inactive"&&t.addIssue({code:ke.ZodIssueCode.custom,message:"Status must be inactive.",path:["abatement"]}),e.abatement&&e.onset&&e.abatement<e.onset&&t.addIssue({code:ke.ZodIssueCode.custom,message:"Abatement date must be after onset date.",path:["abatement"]})},kP=Iy.superRefine((e,t)=>My(e,t)),Ps=Iy.extend({condition:ke.object({code:ke.string({required_error:"Please choose a condition."}),display:ke.string().optional(),system:ke.string().optional()})}).superRefine((e,t)=>My(e,t));try{Ii.displayName="getAddConditionData",Ii.__docgenInfo={description:"",displayName:"getAddConditionData",props:{condition:{defaultValue:null,description:"",name:"condition",required:!0,type:{name:"ConditionModel"}}}}}catch{}try{nl.displayName="getEditingPatientConditionData",nl.__docgenInfo={description:"",displayName:"getEditingPatientConditionData",props:{condition:{defaultValue:null,description:"",name:"condition",required:!0,type:{name:"ConditionModel"}}}}}catch{}const al=e=>{var t,r,n,a,o;return[{label:"treating-provider",render:()=>p.createElement("div",{className:"ctw-font-medium"},"Who is the treating provider for this patient?")},{label:"Practitioner Name",field:"name",value:"",readonly:!1},[{label:"NPI",field:"npi",value:"",readonly:!1},{label:"Role",field:"role",value:"",readonly:!1}],{label:"patient-information",render:()=>p.createElement("div",null,p.createElement("div",{className:"ctw-font-medium"},"Is the patient information below correct and up-to-date?"),p.createElement("div",null,"Complete as many fields as possible to increase matching results."))},{label:"First Name",field:"firstName",value:e.firstName,readonly:!1},{label:"Last Name",field:"lastName",value:e.lastName,readonly:!1},[{label:"Date of Birth",field:"dateOfBirth",value:e.dob,readonly:!1},{label:"Gender",field:"gender",value:e.gender,readonly:!1}],{label:"Address",field:"address",value:(r=(t=e.homeAddress)==null?void 0:t.line)==null?void 0:r.join(", "),readonly:!1},{label:"City",field:"city",value:(n=e.homeAddress)==null?void 0:n.city,readonly:!1},[{label:"State",field:"state",value:(a=e.homeAddress)==null?void 0:a.state,readonly:!1},{label:"Zip",field:"zipCode",value:(o=e.homeAddress)==null?void 0:o.postalCode,readonly:!1}],{label:"Phone",field:"phone",value:e.phoneNumber,readonly:!1},{label:"Email",field:"email",value:e.email,readonly:!1}]},BP=ke.object({name:ke.string({required_error:"Practitioner name must be specified."}),npi:ke.string({required_error:"NPI must be specified."}).length(10),role:ke.enum(["Doctor","Nurse","Other"]),firstName:ke.string({required_error:"First name must be specified."}),lastName:ke.string({required_error:"Last name must be specified."}),dateOfBirth:ke.date().max(new Date,{message:"Date of birth cannot be a future date."}),gender:ke.enum(["-","male","female","other","unknown"]),address:ke.string({required_error:"Address must be specified."}),city:ke.string({required_error:"City must be specified."}),state:ke.string({required_error:"State must be specified."}),zipCode:ke.string({required_error:"Zip code must be specified."}),phone:ke.string().optional(),email:ke.string().optional()});try{al.displayName="getRequestData",al.__docgenInfo={description:"",displayName:"getRequestData",props:{active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean | undefined"}},contact:{defaultValue:null,description:"",name:"contact",required:!0,type:{name:"PatientContact[] | undefined"}},dob:{defaultValue:null,description:"",name:"dob",required:!0,type:{name:"string | undefined"}},age:{defaultValue:null,description:"",name:"age",required:!0,type:{name:"number | undefined"}},gender:{defaultValue:null,description:"",name:"gender",required:!0,type:{name:"string | undefined"}},maritalStatus:{defaultValue:null,description:"",name:"maritalStatus",required:!0,type:{name:"string | undefined"}},organization:{defaultValue:null,description:"",name:"organization",required:!0,type:{name:"OrganizationModel | undefined"}},use:{defaultValue:null,description:"",name:"use",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"usual"'},{value:'"official"'},{value:'"temp"'},{value:'"nickname"'},{value:'"anonymous"'},{value:'"old"'},{value:'"maiden"'}]}},UPID:{defaultValue:null,description:"",name:"UPID",required:!0,type:{name:"string"}},getPhoneNumber:{defaultValue:null,description:"",name:"getPhoneNumber",required:!0,type:{name:'(use?: "temp" | "old" | "home" | "work" | "mobile" | undefined) => string | undefined'}},phoneNumber:{defaultValue:null,description:"",name:"phoneNumber",required:!0,type:{name:"string | undefined"}},email:{defaultValue:null,description:"",name:"email",required:!0,type:{name:"string | undefined"}},bestHomeAddress:{defaultValue:null,description:"",name:"bestHomeAddress",required:!0,type:{name:"Address | undefined"}},homeAddress:{defaultValue:null,description:"",name:"homeAddress",required:!0,type:{name:"Address | undefined"}},bestName:{defaultValue:null,description:"",name:"bestName",required:!0,type:{name:"HumanName"}},additionalNames:{defaultValue:null,description:"",name:"additionalNames",required:!0,type:{name:"string | undefined"}},display:{defaultValue:null,description:"",name:"display",required:!0,type:{name:"string"}},firstName:{defaultValue:null,description:"",name:"firstName",required:!0,type:{name:"string"}},fullName:{defaultValue:null,description:"",name:"fullName",required:!0,type:{name:"string"}},lastName:{defaultValue:null,description:"",name:"lastName",required:!0,type:{name:"string | undefined"}},nickname:{defaultValue:null,description:"",name:"nickname",required:!0,type:{name:"string | undefined"}},prefix:{defaultValue:null,description:"",name:"prefix",required:!0,type:{name:"string | undefined"}},suffix:{defaultValue:null,description:"",name:"suffix",required:!0,type:{name:"string | undefined"}},resource:{defaultValue:null,description:"",name:"resource",required:!0,type:{name:"Patient"}},includedResources:{defaultValue:null,description:"",name:"includedResources",required:!1,type:{name:"ResourceMap"}},revIncludes:{defaultValue:null,description:"",name:"revIncludes",required:!1,type:{name:"Resource[]"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isSummaryResource:{defaultValue:null,description:"",name:"isSummaryResource",required:!0,type:{name:"boolean"}},resourceType:{defaultValue:null,description:"",name:"resourceType",required:!0,type:{name:"string"}},getBasicResourceByAction:{defaultValue:null,description:"",name:"getBasicResourceByAction",required:!0,type:{name:"(profileAction: string) => Basic | undefined"}},toString:{defaultValue:null,description:"",name:"toString",required:!1,type:{name:"() => string"}}}}}catch{}const LP=async(e,t,r)=>{const n=`${ln(e.env)}/patient-history/patient/${t}/refresh?consent=1`;try{return await(await Mi(n,{method:"POST",headers:{Authorization:`Bearer ${e.authToken}`,"practitioner-npi":r.npi,"practitioner-role":r.role.toLocaleLowerCase(),"practitioner-name":r.name,...e.contextBuilderId&&{"Zus-Account":e.contextBuilderId}}})).json()}catch{throw Error(`Error scheduling patient history job with id of ${t}`)}},ol=({patient:e,header:t,isOpen:r,onClose:n,setClinicalHistoryExists:a})=>{const o=lc(e),s=async(u,c)=>{try{await o(u)}catch(g){const{requestErrors:O,responseIsSuccess:C}=hy(g);return C?new Error("Failed to save patient data."):new Error(O.join(","))}const l=await c(),h=await LP(l,e.id,u);if("errors"in h){const g=[h.errors.map(O=>O.details)];return new Error(g.join(","))}return a(!0),h};return p.createElement(zn,{header:t,title:"Request Records",action:s,data:al(e),schema:BP,isOpen:r,onClose:n})};try{ol.displayName="PatientHistoryRequestDrawer",ol.__docgenInfo={description:"",displayName:"PatientHistoryRequestDrawer",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}},header:{defaultValue:null,description:"",name:"header",required:!1,type:{name:"ReactNode"}},patient:{defaultValue:null,description:"",name:"patient",required:!0,type:{name:"PatientModel"}},setClinicalHistoryExists:{defaultValue:null,description:"",name:"setClinicalHistoryExists",required:!0,type:{name:"Dispatch<SetStateAction<boolean | undefined>>"}}}}}catch{}const il=({onClick:e})=>p.createElement("div",{className:"ctw-flex ctw-justify-center ctw-space-x-2 ctw-border ctw-border-solid ctw-border-divider-light ctw-p-5"},p.createElement("div",{className:"ctw-flex ctw-justify-center ctw-text-icon-default"},"Retrieve patient clinical history."),p.createElement("button",{type:"button",className:"ctw-btn-clear ctw-link",onClick:e},"Request Records"));try{il.displayName="PatientHistoryMessage",il.__docgenInfo={description:"",displayName:"PatientHistoryMessage",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLButtonElement>"}}}}}catch{}async function UP(e,t,r,n){var s;if(!t.id)throw new Error(`Tried to ${n} a resource that hasn't been created yet.`);if(!t.isSummaryResource)throw new Error(`Tried to ${n} a patient record resource.`);if(e){const u=G.exports.filter((s=e.meta)==null?void 0:s.tag,{system:cc});try{await QC(e,r,u)}catch{throw new Error(`There was an error setting ${n} for a resource.`)}}const a={resourceType:"Basic",id:e==null?void 0:e.id,meta:{tag:[{system:cc,code:n}]},code:{coding:[{system:SC,code:"adminact",display:"Administrative Activity"}],text:"Administrative Activity"},subject:{reference:`${t.resourceType}/${t.id}`,type:t.resourceType},author:await Gi(r)};if(!(await Qi(a,r)).id)throw new Error(`Failed to ${n} resource with id of ${t.id}`)}async function qP(e,t){const r=`${ln(e.env)}/patient-history/messages?patient-id=${t}`;try{const a=await(await Mi(r,{headers:{Authorization:`Bearer ${e.authToken}`,...e.contextBuilderId&&{"Zus-Account":e.contextBuilderId}}})).json();return Object.values(a.data)}catch(n){throw dn("Failed fetching patient refresh history messages",n)}}async function VP(e,t){return(await qP(e,t)).length!==0}const jP="There are no conditions in this patient's record.",HP="There are no conditions available.",Mp="There was an error fetching conditions for this patient. Refresh the page or contact your organization's technical support if this issue persists.";function Fp({className:e,readOnly:t=!1}){const r=y.exports.useRef(null),n=zl(r),[a,o]=y.exports.useState(!1),[s,u]=y.exports.useState(!1),[c,l]=y.exports.useState(!1),[h,g]=y.exports.useState(!1),[O,C]=y.exports.useState([]),[w,_]=y.exports.useState([]),[R,v]=y.exports.useState(!1),[S,A]=y.exports.useState("Add"),[N,$]=y.exports.useState(Ps),[I,V]=y.exports.useState(),[L,P]=y.exports.useState(),j=Vl(),K=eA(),ce=tA(),{getRequestContext:ae}=zt(),[le,ge]=y.exports.useState(),[xe,Ce]=y.exports.useState(),ye=K.isError?Mp:jP,Re=ce.isError?Mp:HP,pe=()=>{if(L&&O.some(re=>re.id===L.id))return()=>oe(L)},oe=re=>{j.data&&(o(!0),A("Edit"),$(kP),V(nl({condition:re})),P(re))},X=re=>{u(!0),P(re)},Ze=async re=>{const Ae=await ae(),Te=re.getBasicResourceByAction("archive")||re.getBasicResourceByAction("unarchive"),ne=re.isArchived?"unarchive":"archive";await UP(Te,re,Ae,ne),await Mr.invalidateQueries([Ll])},$e=re=>{const Ae=dy(re.resource);j.data&&($(Ps),o(!0),A("Add"),V(Ii({condition:new Ci(Ae)})))},ze=()=>{if(!j.data)return;const re=JN(j.data.id);o(!0),$(Ps),V(Ii({condition:new Ci(re)}))},me=p.createElement("button",{className:"ctw-btn-primary",type:"button",onClick:ze},"Add Condition"),Q=xe||ce.data&&ce.data.length>0,Y=async re=>{const Ae=await ae(),Te=await VP(Ae,re);Ce(Te)};return y.exports.useEffect(()=>{var Ae;async function re(){const Te=K.data,ne=ce.data;Te&&(C(Te.filter(ee=>ee.active||R)),_(ne?MP(ne,Te,R):[])),K.error&&(C([]),_([]))}re(),((Ae=j.data)==null?void 0:Ae.id)&&xe===void 0&&Y(j.data.id)},[R,j.data,K.data,ce.data,xe,K.error]),j.isError?p.createElement(tl,{className:e}):p.createElement("div",{ref:r,className:it("ctw-conditions",e,{"ctw-conditions-stacked":n.sm})},!t&&p.createElement("div",{className:"ctw-conditions-heading-container"},p.createElement("div",{className:"ctw-title"},"Conditions"),p.createElement("button",{type:"button",className:"ctw-btn-clear ctw-link",onClick:ze},"+ Add Condition")),p.createElement("div",{className:"ctw-conditions-body-container"},p.createElement("div",{className:"ctw-space-y-3"},p.createElement("div",{className:"ctw-conditions-title-container"},p.createElement("div",{className:"ctw-title"},"Patient Record"),p.createElement(Ti,{onFormChange:()=>v(!R),toggleProps:{name:"conditions",text:"Include Inactive"}})),p.createElement(_o,{stacked:n.sm,conditions:O,isLoading:K.isLoading,hideMenu:t,sort:le,onSort:re=>ge(re),message:p.createElement(p.Fragment,null,p.createElement("div",null,ye),!K.isError&&!t&&p.createElement("div",{className:"ctw-mt-5"},me)),rowMenuActions:re=>[{name:"Edit",action:async()=>{oe(re)}},{name:"View History",action:async()=>{l(!0),P(re)}},{name:"Delete",className:"dangerous",action:async()=>{X(re)}}]})),p.createElement("div",{className:"ctw-space-y-3"},p.createElement("div",{className:"ctw-conditions-title-container"},p.createElement("div",{className:"ctw-title"},"Other Provider Records"),Q&&p.createElement("button",{type:"button",className:"ctw-btn-clear ctw-link",onClick:()=>g(!0)},"Request Records")),Q?p.createElement(_o,{className:"ctw-conditions-not-reviewed",stacked:n.sm,conditions:w,sort:le,onSort:re=>ge(re),isLoading:ce.isLoading||K.isLoading,hideMenu:t,message:Re,rowMenuActions:re=>[{name:"Add",action:async()=>{$e(re)}},{name:"View History",action:async()=>{l(!0),P(re)}},{name:re.isArchived?"Un-Archive":"Archive",action:async()=>{await Ze(re)}}]}):p.createElement(il,{onClick:()=>g(!0)}))),j.data&&p.createElement(zn,{title:`${S} Condition`,header:S==="Edit"&&L&&p.createElement(Ri,{condition:L}),action:G.exports.curry(KN)(L,j.data.id),data:I,schema:N,isOpen:a,onClose:()=>o(!1)}),j.data&&p.createElement(ol,{header:p.createElement("div",{className:"ctw-pt-0 ctw-text-base"},"Request patient clinical history from 70K+ providers across the nation. No changes will be made to your patient record."),patient:j.data,isOpen:h,onClose:()=>g(!1),setClinicalHistoryExists:Ce}),p.createElement(el,{isOpen:c,onClose:()=>l(!1),condition:L,onEdit:pe()}),L&&j.data&&p.createElement(Sc,{resource:L,resourceName:L.display||"unnamed condition",onClose:()=>u(!1),isOpen:s,onDelete:async()=>{const re=await ae();await IP(L.resource,re)}}))}try{Fp.displayName="Conditions",Fp.__docgenInfo={description:"",displayName:"Conditions",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},readOnly:{defaultValue:{value:"false"},description:"",name:"readOnly",required:!1,type:{name:"boolean"}}}}}catch{}var oD=Zy();export{Ep as A,Sp as B,Fp as C,zn as D,Sc as M,bc as O,up as P,Ll as Q,Wi as S,Si as T,_f as a,Eh as b,Ci as c,Ii as d,KN as e,Ps as f,JN as g,dy as h,kP as i,nl as j,zl as k,oD as l,eA as m,tA as n,zt as o,MP as p,el as q,UP as r,Ri as s,IP as t,Vl as u,ip as v,fc as w,Br as x,_p as y,wc as z};
//# sourceMappingURL=index.3aa11147.js.map
