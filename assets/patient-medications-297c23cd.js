import{r as m,R as i}from"./index-6f814c40.js";import{c as N}from"./index-74f03c09.js";import{O as Ke,a as We}from"./other-provider-meds-table-b03355fb.js";import{D as Xe,c as ge,F as Q,d as Ve,e as Ye,M as De,g as Je,h as Ze,i as et,u as tt,j as rt,k as at,b as Me,S as qe,m as $e,l as J,P as nt}from"./provider-meds-table-9276b14f.js";import"./_baseToString-ba0098b0.js";import{c as lt}from"./sortBy-64fcb484.js";import"./_baseClone-0c3bfcab.js";import"./sortBy-3860efd7.js";import{i as ot}from"./_equalByTag-3aa7c076.js";import"./_baseForOwn-56487e0e.js";import"./_createSet-3c80ad01.js";import{u as it,a as Le,M as st}from"./use-medications-720d32ae.js";import{s as Ie,i as Z,b as ct,p as Ne,e as Fe,o as Pe,f as ut,g as dt,t as pt}from"./values-4e3b2a32.js";import{s as mt}from"./medication-history-6eca3ec4.js";import{w as ft,S as bt}from"./error-boundary-9d806ecc.js";import{i as U}from"./isString-b8ede3fb.js";import{C as M,y as q,o as F,a as C,u as D,L as yt,q as vt,p as oe,h as xe,c as Be,F as wt,$,I as z,l as ie,S as ee,i as ht,e as He,k as se,v as gt,N as xt,j as R,r as Tt,w as ce,s as re,M as X,O as B,T as A,t as St}from"./use-watch-c090a07f.js";import{p as Rt,e as kt,i as ze}from"./combobox-field-391497a2.js";import{s as je,a as V,x as Et}from"./calculate-active-index-dd804c80.js";import{u as _t}from"./use-breakpoints-582ef4c1.js";var Ot=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ot||{}),It=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(It||{}),Nt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Nt||{}),Ft=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.SetDisabled=2]="SetDisabled",e[e.SetOrientation=3]="SetOrientation",e[e.GoToOption=4]="GoToOption",e[e.Search=5]="Search",e[e.ClearSearch=6]="ClearSearch",e[e.RegisterOption=7]="RegisterOption",e[e.UnregisterOption=8]="UnregisterOption",e))(Ft||{});function ae(e,r=a=>a){let a=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,t=ce(r(e.options.slice()),l=>l.dataRef.current.domRef.current),n=a?t.indexOf(a):null;return n===-1&&(n=null),{options:t,activeOptionIndex:n}}let Pt={[1](e){return e.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},[0](e){if(e.disabled||e.listboxState===0)return e;let r=e.activeOptionIndex,{value:a,mode:t,compare:n}=e.propsRef.current,l=e.options.findIndex(o=>{let c=o.dataRef.current.value;return D(t,{[1]:()=>a.some(s=>n(s,c)),[0]:()=>n(a,c)})});return l!==-1&&(r=l),{...e,listboxState:0,activeOptionIndex:r}},[2](e,r){return e.disabled===r.disabled?e:{...e,disabled:r.disabled}},[3](e,r){return e.orientation===r.orientation?e:{...e,orientation:r.orientation}},[4](e,r){var a;if(e.disabled||e.listboxState===1)return e;let t=ae(e),n=Et(r,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});return{...e,...t,searchQuery:"",activeOptionIndex:n,activationTrigger:(a=r.trigger)!=null?a:1}},[5]:(e,r)=>{if(e.disabled||e.listboxState===1)return e;let a=e.searchQuery!==""?0:1,t=e.searchQuery+r.value.toLowerCase(),n=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+a).concat(e.options.slice(0,e.activeOptionIndex+a)):e.options).find(o=>{var c;return!o.dataRef.current.disabled&&((c=o.dataRef.current.textValue)==null?void 0:c.startsWith(t))}),l=n?e.options.indexOf(n):-1;return l===-1||l===e.activeOptionIndex?{...e,searchQuery:t}:{...e,searchQuery:t,activeOptionIndex:l,activationTrigger:1}},[6](e){return e.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},[7]:(e,r)=>{let a={id:r.id,dataRef:r.dataRef},t=ae(e,n=>[...n,a]);if(e.activeOptionIndex===null){let{value:n,mode:l,compare:o}=e.propsRef.current,c=r.dataRef.current.value;D(l,{[1]:()=>n.some(s=>o(s,c)),[0]:()=>o(n,c)})&&(t.activeOptionIndex=t.options.indexOf(a))}return{...e,...t}},[8]:(e,r)=>{let a=ae(e,t=>{let n=t.findIndex(l=>l.id===r.id);return n!==-1&&t.splice(n,1),t});return{...e,...a,activationTrigger:1}}},Te=m.createContext(null);Te.displayName="ListboxContext";function W(e){let r=m.useContext(Te);if(r===null){let a=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,W),a}return r}function Ct(e,r){return D(r.type,Pt,e,r)}let At=m.Fragment,Vt=M(function(e,r){let{value:a,defaultValue:t,name:n,onChange:l,by:o=(d,h)=>d===h,disabled:c=!1,horizontal:s=!1,multiple:g=!1,...f}=e;const S=s?"horizontal":"vertical";let b=q(r),[p,x]=Rt(a,l,t),v=m.useReducer(Ct,{listboxState:1,propsRef:{current:{value:p,onChange:x,mode:g?1:0,compare:F(typeof o=="string"?(d,h)=>{let I=o;return(d==null?void 0:d[I])===(h==null?void 0:h[I])}:o)}},labelRef:m.createRef(),buttonRef:m.createRef(),optionsRef:m.createRef(),disabled:c,orientation:S,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1}),[{listboxState:u,propsRef:y,optionsRef:k,buttonRef:P},E]=v;y.current.value=p,y.current.mode=g?1:0,C(()=>{y.current.onChange=d=>D(y.current.mode,{[0](){return x(d)},[1](){let h=y.current.value.slice(),{compare:I}=y.current,w=h.findIndex(O=>I(O,d));return w===-1?h.push(d):h.splice(w,1),x(h)}})},[x,y]),C(()=>E({type:2,disabled:c}),[c]),C(()=>E({type:3,orientation:S}),[S]),yt([P,k],(d,h)=>{var I;E({type:1}),gt(h,xt.Loose)||(d.preventDefault(),(I=P.current)==null||I.focus())},u===0);let _=m.useMemo(()=>({open:u===0,disabled:c,value:p}),[u,c,p]),T={ref:b};return i.createElement(Te.Provider,{value:v},i.createElement(vt,{value:D(u,{[0]:oe.Open,[1]:oe.Closed})},n!=null&&p!=null&&kt({[n]:p}).map(([d,h])=>i.createElement(xe,{features:Be.Hidden,...wt({key:d,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:d,value:h})})),$({ourProps:T,theirProps:f,slot:_,defaultTag:At,name:"Listbox"})))}),Dt="button",Mt=M(function(e,r){var a;let[t,n]=W("Listbox.Button"),l=q(t.buttonRef,r),o=`headlessui-listbox-button-${z()}`,c=ie(),s=F(v=>{switch(v.key){case R.Space:case R.Enter:case R.ArrowDown:v.preventDefault(),n({type:0}),c.nextFrame(()=>{t.propsRef.current.value||n({type:4,focus:V.First})});break;case R.ArrowUp:v.preventDefault(),n({type:0}),c.nextFrame(()=>{t.propsRef.current.value||n({type:4,focus:V.Last})});break}}),g=F(v=>{switch(v.key){case R.Space:v.preventDefault();break}}),f=F(v=>{if(Tt(v.currentTarget))return v.preventDefault();t.listboxState===0?(n({type:1}),c.nextFrame(()=>{var u;return(u=t.buttonRef.current)==null?void 0:u.focus({preventScroll:!0})})):(v.preventDefault(),n({type:0}))}),S=ze(()=>{if(t.labelRef.current)return[t.labelRef.current.id,o].join(" ")},[t.labelRef.current,o]),b=m.useMemo(()=>({open:t.listboxState===0,disabled:t.disabled,value:t.propsRef.current.value}),[t]),p=e,x={ref:l,id:o,type:je(e,t.buttonRef),"aria-haspopup":!0,"aria-controls":(a=t.optionsRef.current)==null?void 0:a.id,"aria-expanded":t.disabled?void 0:t.listboxState===0,"aria-labelledby":S,disabled:t.disabled,onKeyDown:s,onKeyUp:g,onClick:f};return $({ourProps:x,theirProps:p,slot:b,defaultTag:Dt,name:"Listbox.Button"})}),qt="label",$t=M(function(e,r){let[a]=W("Listbox.Label"),t=`headlessui-listbox-label-${z()}`,n=q(a.labelRef,r),l=F(()=>{var c;return(c=a.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})}),o=m.useMemo(()=>({open:a.listboxState===0,disabled:a.disabled}),[a]);return $({ourProps:{ref:n,id:t,onClick:l},theirProps:e,slot:o,defaultTag:qt,name:"Listbox.Label"})}),Lt="ul",Bt=ee.RenderStrategy|ee.Static,Ht=M(function(e,r){var a;let[t,n]=W("Listbox.Options"),l=q(t.optionsRef,r),o=`headlessui-listbox-options-${z()}`,c=ie(),s=ie(),g=ht(),f=(()=>g!==null?g===oe.Open:t.listboxState===0)();m.useEffect(()=>{var u;let y=t.optionsRef.current;!y||t.listboxState===0&&y!==((u=He(y))==null?void 0:u.activeElement)&&y.focus({preventScroll:!0})},[t.listboxState,t.optionsRef]);let S=F(u=>{switch(s.dispose(),u.key){case R.Space:if(t.searchQuery!=="")return u.preventDefault(),u.stopPropagation(),n({type:5,value:u.key});case R.Enter:if(u.preventDefault(),u.stopPropagation(),t.activeOptionIndex!==null){let{dataRef:y}=t.options[t.activeOptionIndex];t.propsRef.current.onChange(y.current.value)}t.propsRef.current.mode===0&&(n({type:1}),se().nextFrame(()=>{var y;return(y=t.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})}));break;case D(t.orientation,{vertical:R.ArrowDown,horizontal:R.ArrowRight}):return u.preventDefault(),u.stopPropagation(),n({type:4,focus:V.Next});case D(t.orientation,{vertical:R.ArrowUp,horizontal:R.ArrowLeft}):return u.preventDefault(),u.stopPropagation(),n({type:4,focus:V.Previous});case R.Home:case R.PageUp:return u.preventDefault(),u.stopPropagation(),n({type:4,focus:V.First});case R.End:case R.PageDown:return u.preventDefault(),u.stopPropagation(),n({type:4,focus:V.Last});case R.Escape:return u.preventDefault(),u.stopPropagation(),n({type:1}),c.nextFrame(()=>{var y;return(y=t.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})});case R.Tab:u.preventDefault(),u.stopPropagation();break;default:u.key.length===1&&(n({type:5,value:u.key}),s.setTimeout(()=>n({type:6}),350));break}}),b=ze(()=>{var u,y,k;return(k=(u=t.labelRef.current)==null?void 0:u.id)!=null?k:(y=t.buttonRef.current)==null?void 0:y.id},[t.labelRef.current,t.buttonRef.current]),p=m.useMemo(()=>({open:t.listboxState===0}),[t]),x=e,v={"aria-activedescendant":t.activeOptionIndex===null||(a=t.options[t.activeOptionIndex])==null?void 0:a.id,"aria-multiselectable":t.propsRef.current.mode===1?!0:void 0,"aria-labelledby":b,"aria-orientation":t.orientation,id:o,onKeyDown:S,role:"listbox",tabIndex:0,ref:l};return $({ourProps:v,theirProps:x,slot:p,defaultTag:Lt,features:Bt,visible:f,name:"Listbox.Options"})}),zt="li",jt=M(function(e,r){let{disabled:a=!1,value:t,...n}=e,[l,o]=W("Listbox.Option"),c=`headlessui-listbox-option-${z()}`,s=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===c:!1,{value:g,compare:f}=l.propsRef.current,S=D(l.propsRef.current.mode,{[1]:()=>g.some(_=>f(_,t)),[0]:()=>f(g,t)}),b=m.useRef(null),p=q(r,b);C(()=>{if(l.listboxState!==0||!s||l.activationTrigger===0)return;let _=se();return _.requestAnimationFrame(()=>{var T,d;(d=(T=b.current)==null?void 0:T.scrollIntoView)==null||d.call(T,{block:"nearest"})}),_.dispose},[b,s,l.listboxState,l.activationTrigger,l.activeOptionIndex]);let x=m.useRef({disabled:a,value:t,domRef:b});C(()=>{x.current.disabled=a},[x,a]),C(()=>{x.current.value=t},[x,t]),C(()=>{var _,T;x.current.textValue=(T=(_=b.current)==null?void 0:_.textContent)==null?void 0:T.toLowerCase()},[x,b]);let v=F(()=>l.propsRef.current.onChange(t));C(()=>(o({type:7,id:c,dataRef:x}),()=>o({type:8,id:c})),[x,c]);let u=F(_=>{if(a)return _.preventDefault();v(),l.propsRef.current.mode===0&&(o({type:1}),se().nextFrame(()=>{var T;return(T=l.buttonRef.current)==null?void 0:T.focus({preventScroll:!0})}))}),y=F(()=>{if(a)return o({type:4,focus:V.Nothing});o({type:4,focus:V.Specific,id:c})}),k=F(()=>{a||s||o({type:4,focus:V.Specific,id:c,trigger:0})}),P=F(()=>{a||!s||o({type:4,focus:V.Nothing})}),E=m.useMemo(()=>({active:s,selected:S,disabled:a}),[s,S,a]);return $({ourProps:{id:c,ref:p,role:"option",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-selected":S,disabled:void 0,onClick:u,onFocus:y,onPointerMove:k,onMouseMove:k,onPointerLeave:P,onMouseLeave:P},theirProps:n,slot:E,defaultTag:zt,name:"Listbox.Option"})}),Y=Object.assign(Vt,{Button:Mt,Label:$t,Options:Ht,Option:jt});function Gt({onFocus:e}){let[r,a]=m.useState(!0);return r?i.createElement(xe,{as:"button",type:"button",features:Be.Focusable,onFocus:t=>{t.preventDefault();let n,l=50;function o(){if(l--<=0){n&&cancelAnimationFrame(n);return}if(e()){a(!1),cancelAnimationFrame(n);return}n=requestAnimationFrame(o)}n=requestAnimationFrame(o)}}):null}var Ut=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Ut||{});let Qt={[0](e,r){let a=e.tabs.filter(l=>{var o;return!((o=l.current)!=null&&o.hasAttribute("disabled"))});if(r.index<0)return{...e,selectedIndex:e.tabs.indexOf(a[0])};if(r.index>e.tabs.length)return{...e,selectedIndex:e.tabs.indexOf(a[a.length-1])};let t=e.tabs.slice(0,r.index),n=[...e.tabs.slice(r.index),...t].find(l=>a.includes(l));return n?{...e,selectedIndex:e.tabs.indexOf(n)}:e},[1](e,r){var a;if(e.tabs.includes(r.tab))return e;let t=e.tabs[e.selectedIndex],n=ce([...e.tabs,r.tab],o=>o.current),l=(a=n.indexOf(t))!=null?a:e.selectedIndex;return l===-1&&(l=e.selectedIndex),{...e,tabs:n,selectedIndex:l}},[2](e,r){return{...e,tabs:e.tabs.filter(a=>a!==r.tab)}},[3](e,r){return e.panels.includes(r.panel)?e:{...e,panels:ce([...e.panels,r.panel],a=>a.current)}},[4](e,r){return{...e,panels:e.panels.filter(a=>a!==r.panel)}}},Se=m.createContext(null);Se.displayName="TabsSSRContext";function Re(e){let r=m.useContext(Se);if(r===null){let a=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,Re),a}return r}let ke=m.createContext(null);ke.displayName="TabsDataContext";function H(e){let r=m.useContext(ke);if(r===null){let a=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,H),a}return r}let Ee=m.createContext(null);Ee.displayName="TabsActionsContext";function _e(e){let r=m.useContext(Ee);if(r===null){let a=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,_e),a}return r}function Kt(e,r){return D(r.type,Qt,e,r)}let Wt=m.Fragment,Xt=M(function(e,r){let{defaultIndex:a=0,vertical:t=!1,manual:n=!1,onChange:l,selectedIndex:o=null,...c}=e;const s=t?"vertical":"horizontal",g=n?"manual":"auto";let f=o!==null,S=q(r),[b,p]=m.useReducer(Kt,{selectedIndex:o??a,tabs:[],panels:[]}),x=m.useMemo(()=>({selectedIndex:b.selectedIndex}),[b.selectedIndex]),v=re(l||(()=>{})),u=re(b.tabs),y=m.useMemo(()=>({orientation:s,activation:g,...b}),[s,g,b]),k=re(f?e.selectedIndex:b.selectedIndex),P=m.useMemo(()=>({registerTab(T){return p({type:1,tab:T}),()=>p({type:2,tab:T})},registerPanel(T){return p({type:3,panel:T}),()=>p({type:4,panel:T})},change(T){k.current!==T&&v.current(T),f||p({type:0,index:T})}}),[p,f]);C(()=>{p({type:0,index:o??a})},[o]);let E=m.useRef({tabs:[],panels:[]}),_={ref:S};return i.createElement(Se.Provider,{value:E},i.createElement(Ee.Provider,{value:P},i.createElement(ke.Provider,{value:y},y.tabs.length<=0&&i.createElement(Gt,{onFocus:()=>{var T,d;for(let h of u.current)if(((T=h.current)==null?void 0:T.tabIndex)===0)return(d=h.current)==null||d.focus(),!0;return!1}}),$({ourProps:_,theirProps:c,slot:x,defaultTag:Wt,name:"Tabs"}))))}),Yt="div",Jt=M(function(e,r){let{orientation:a,selectedIndex:t}=H("Tab.List"),n=q(r);return $({ourProps:{ref:n,role:"tablist","aria-orientation":a},theirProps:e,slot:{selectedIndex:t},defaultTag:Yt,name:"Tabs.List"})}),Zt="button",er=M(function(e,r){var a,t;let n=`headlessui-tabs-tab-${z()}`,{orientation:l,activation:o,selectedIndex:c,tabs:s,panels:g}=H("Tab"),f=_e("Tab"),S=H("Tab"),b=Re("Tab"),p=m.useRef(null),x=q(p,r);C(()=>f.registerTab(p),[f,p]);let v=b.current.tabs.indexOf(n);v===-1&&(v=b.current.tabs.push(n)-1);let u=s.indexOf(p);u===-1&&(u=v);let y=u===c,k=F(w=>{var O;let L=w();if(L===X.Success&&o==="auto"){let j=(O=He(p))==null?void 0:O.activeElement,Oe=S.tabs.findIndex(Qe=>Qe.current===j);Oe!==-1&&f.change(Oe)}return L}),P=F(w=>{let O=s.map(L=>L.current).filter(Boolean);if(w.key===R.Space||w.key===R.Enter){w.preventDefault(),w.stopPropagation(),f.change(u);return}switch(w.key){case R.Home:case R.PageUp:return w.preventDefault(),w.stopPropagation(),k(()=>B(O,A.First));case R.End:case R.PageDown:return w.preventDefault(),w.stopPropagation(),k(()=>B(O,A.Last))}if(k(()=>D(l,{vertical(){return w.key===R.ArrowUp?B(O,A.Previous|A.WrapAround):w.key===R.ArrowDown?B(O,A.Next|A.WrapAround):X.Error},horizontal(){return w.key===R.ArrowLeft?B(O,A.Previous|A.WrapAround):w.key===R.ArrowRight?B(O,A.Next|A.WrapAround):X.Error}}))===X.Success)return w.preventDefault()}),E=m.useRef(!1),_=F(()=>{var w;E.current||(E.current=!0,(w=p.current)==null||w.focus(),f.change(u),St(()=>{E.current=!1}))}),T=F(w=>{w.preventDefault()}),d=m.useMemo(()=>({selected:y}),[y]),h=e,I={ref:x,onKeyDown:P,onMouseDown:T,onClick:_,id:n,role:"tab",type:je(e,p),"aria-controls":(t=(a=g[u])==null?void 0:a.current)==null?void 0:t.id,"aria-selected":y,tabIndex:y?0:-1};return $({ourProps:I,theirProps:h,slot:d,defaultTag:Zt,name:"Tabs.Tab"})}),tr="div",rr=M(function(e,r){let{selectedIndex:a}=H("Tab.Panels"),t=q(r),n=m.useMemo(()=>({selectedIndex:a}),[a]);return $({ourProps:{ref:t},theirProps:e,slot:n,defaultTag:tr,name:"Tabs.Panels"})}),ar="div",nr=ee.RenderStrategy|ee.Static,lr=M(function(e,r){var a,t,n,l;let{selectedIndex:o,tabs:c,panels:s}=H("Tab.Panel"),g=_e("Tab.Panel"),f=Re("Tab.Panel"),S=`headlessui-tabs-panel-${z()}`,b=m.useRef(null),p=q(b,r);C(()=>g.registerPanel(b),[g,b]);let x=f.current.panels.indexOf(S);x===-1&&(x=f.current.panels.push(S)-1);let v=s.indexOf(b);v===-1&&(v=x);let u=v===o,y=m.useMemo(()=>({selected:u}),[u]),k=e,P={ref:p,id:S,role:"tabpanel","aria-labelledby":(t=(a=c[v])==null?void 0:a.current)==null?void 0:t.id,tabIndex:u?0:-1};return!u&&((n=e.unmount)==null||n)&&!((l=e.static)!=null&&l)?i.createElement(xe,{as:"span",...P}):$({ourProps:P,theirProps:k,slot:y,defaultTag:ar,features:nr,visible:u,name:"Tabs.Panel"})}),G=Object.assign(er,{Group:Xt,List:Jt,Panels:rr,Panel:lr});function Ge({display:e},r){return i.createElement(i.Fragment,null,Z(e)?e(r):e)}function ne(e,r,a){return r.reduce((t,n)=>{const l=e.find(o=>o.key===n);return{...t,[l.key]:{key:l.key,type:l.type,selected:l.type==="tag"?!0:a[l.key]}}},{})}function te(e){return Object.keys(e).reduce((r,a)=>{const t=e[a];if(typeof t<"u"){const{type:n}=t;return n==="tag"?Ie(a,[],r):Ie(a,t.selected,r)}return r},{})}try{te.displayName="filterChangeEventToValuesRecord",te.__docgenInfo={description:"",displayName:"filterChangeEventToValuesRecord",props:{}}}catch{}const or="ctw-flex ctw-items-center ctw-max-w-[15rem] ctw-space-x-2 ctw-capitalize ctw-text-content-black ctw-bg-bg-dark ctw-text-sm ctw-rounded ctw-py-2 ctw-px-3 ctw-relative ctw-cursor-pointer ctw-border-0 ctw-border-transparent  ctw-whitespace-nowrap";function ue({filter:e,filterValues:r,isOpen:a,onRemove:t,onChange:n}){const l=e.key in r?r[e.key]:[],o=e.values.map(s=>({key:U(s)?s:s.key,name:U(s)?s:s.display,isSelected:l.includes(U(s)?s:s.key)})),c=o.filter(s=>s.isSelected).map(s=>s.key);return i.createElement(Xe,{isOpen:a,items:o,type:"checkbox",pinnedActions:ct([t?{icon:ge,name:"Remove Filter",action:t}:null]),buttonClassName:N(e.className,or),onItemSelect:s=>n(s.key,s.value)},i.createElement("div",{className:"ctw-truncate ctw-font-medium ctw-text-content-black"},Ge(e,{active:!0}),c.length>0&&i.createElement("span",{className:"ctw-font-normal"},": ",c.join(", "))),i.createElement(Q,{icon:Ve,className:"ctw-w-2"}))}try{ue.displayName="FilterBarCheckboxPill",ue.__docgenInfo={description:"",displayName:"FilterBarCheckboxPill",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterOptionCheckbox"}},filterValues:{defaultValue:null,description:"",name:"filterValues",required:!0,type:{name:"FilterValuesRecord"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(key: string, isSelected: boolean) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"(() => void)"}}}}}catch{}function K({useBasicStyles:e=!1,btnClassName:r,children:a,optionsClassName:t,items:n,defaultIndex:l=0,onChange:o}){const[c,s]=m.useState(l),g=n[c]??{display:"Choose a selection"};return i.createElement("div",{className:"ctw-relative ctw-inline-block"},i.createElement(Y,{value:c,onChange:f=>{o(f,n[f]),s(f)}},i.createElement(Y.Button,{className:N(r,!e&&"after:ctw-bg-content-black",!e&&"focus-visible:ctw-outline-primary-dark","ctw-relative ctw-cursor-pointer ctw-justify-between ctw-space-x-2 ctw-border-0 ctw-border-transparent")},a||Ce(g,{listView:!1}),!e&&i.createElement(Q,{icon:Ve,className:"ctw-w-2"})),i.createElement(Y.Options,{className:N(t,"ctw-list-box")},n.map((f,S)=>i.createElement(Y.Option,{key:f.key,value:S,as:m.Fragment},({active:b,selected:p})=>i.createElement("li",{className:N("ctw-flex ctw-cursor-pointer ctw-justify-between ctw-px-3 ctw-py-2","hover:ctw-bg-bg-lighter",f.className,{"ctw-text-medium":b||p,"ctw-text-content-black":!(b||p),"ctw-bg-bg-lighter":b})},i.createElement("span",{className:N("ctw-inline-flex ctw-align-middle",{"ctw-font-semibold":p&&!e})},Ce(f,{active:b,selected:p,listView:!0})),!e&&p&&!f.key.startsWith("_")&&i.createElement("span",{className:"ctw-inline-flex ctw-pb-0.5"},i.createElement(Q,{icon:Ye,className:"ctw-inline-block ctw-h-4 ctw-stroke-0 ctw-align-middle ctw-text-primary-dark"}))))))))}function Ce(e,r){return i.createElement(De,{icon:e.icon},ot(e.display)?e.display(r):e.display)}try{K.displayName="ListBox",K.__docgenInfo={description:"",displayName:"ListBox",props:{btnClassName:{defaultValue:null,description:"",name:"btnClassName",required:!1,type:{name:"Argument"}},defaultIndex:{defaultValue:{value:"0"},description:"",name:"defaultIndex",required:!1,type:{name:"number"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"T[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(index: number, item: T) => void"}},optionsClassName:{defaultValue:null,description:"",name:"optionsClassName",required:!1,type:{name:"Argument"}},useBasicStyles:{defaultValue:{value:"false"},description:"",name:"useBasicStyles",required:!1,type:{name:"boolean"}}}}}catch{}const ir="ctw-flex ctw-items-center ctw-capitalize ctw-text-content-black ctw-bg-bg-dark ctw-text-sm ctw-rounded ctw-py-2 ctw-px-3 ctw-relative ctw-cursor-pointer ctw-border-0 ctw-border-transparent",Ue=e=>Z(e)?e({active:!1}):e,sr=(e,r,a)=>({key:r,display:({listView:t,filter:n})=>t?i.createElement(De,{icon:a},e):n&&Ue(n.display)}),le=sr("remove filter","_remove",ge);function de({filter:e,onChange:r,onRemove:a}){const n=[...e.values.map(l=>U(l)?l:l.display),le];return i.createElement(K,{defaultIndex:n.length-1,btnClassName:ir,optionsClassName:"ctw-capitalize",items:n.map(l=>({display:({listView:o})=>l===le?l.display({listView:o,filter:e}):o?i.createElement("span",{className:"ctw-whitespace-nowrap"},l):i.createElement("div",{className:"ctw-truncate ctw-font-medium ctw-text-content-black"},Ue(e.display),i.createElement("span",{className:"ctw-font-normal"},": ",l)),key:U(l)?l:l.key,className:N("ctw-capitalize",{"ctw-border ctw-capitalize ctw-border-solid ctw-border-divider-light ctw-border-0 ctw-border-t":l===le})})),onChange:(l,o)=>{o.key==="_remove"?a():o.key==="_reset"?r("",!1):r(o.key,!0)}})}try{de.displayName="FilterBarSelectPill",de.__docgenInfo={description:"",displayName:"FilterBarSelectPill",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterOptionSelect"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(key: string, isSelected: boolean) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"() => void"}}}}}catch{}const cr="ctw-flex ctw-items-center ctw-max-w-[15rem] ctw-capitalize ctw-text-content-black ctw-bg-bg-dark ctw-text-sm ctw-rounded ctw-py-2 ctw-px-3 ctw-relative ctw-cursor-pointer ctw-border-0 ctw-border-transparent";function pe({filter:e,onRemove:r}){return i.createElement("button",{key:e.key,type:"button",className:N(cr,e.className,"ctw-space-x-2"),onClick:r},i.createElement("div",null,Ge(e,{active:!0})),i.createElement(Q,{icon:Je,className:"ctw-w-2 ctw-text-content-light"}))}try{pe.displayName="FilterBarTagPill",pe.__docgenInfo={description:"",displayName:"FilterBarTagPill",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterItem"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"() => void"}}}}}catch{}function me({handleAddOrRemoveFilter:e,filter:r,filterValues:a,isOpen:t,updateSelectedFilterValues:n}){const l=()=>e(r.key,!0);switch(r.type){case"tag":return i.createElement(pe,{filter:r,onRemove:l});case"select":return i.createElement(de,{filter:r,onRemove:l,onChange:n});case"checkbox":return i.createElement(ue,{isOpen:t,filter:r,filterValues:a,onRemove:l,onChange:n});default:throw new Error("ActiveFilterItem has invalid filter type")}}try{me.displayName="FilterBarPill",me.__docgenInfo={description:`Filter pill component that can render any pill type. It abstracts the various
pill types (located in ./filter-bar-pills folder). In practice this component
will only be used by the FilterBar component.`,displayName:"FilterBarPill",props:{handleAddOrRemoveFilter:{defaultValue:null,description:"",name:"handleAddOrRemoveFilter",required:!0,type:{name:"(key: string, remove: boolean) => void"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterItem"}},filterValues:{defaultValue:null,description:"",name:"filterValues",required:!0,type:{name:"FilterValuesRecord"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},updateSelectedFilterValues:{defaultValue:null,description:"",name:"updateSelectedFilterValues",required:!0,type:{name:"(valueKey: string, isSelected: boolean) => void"}}}}}catch{}const fe=["_remove","_reset"],ur=e=>e.filter(r=>!fe.includes(r)),be=({className:e,onChange:r,filters:a,defaultState:t={}})=>{const[n,l]=m.useState(),[o,c]=m.useState(Object.keys(t)),[s,g]=m.useState(te(t)),[f,S]=m.useState(te(t)),[b,p]=Ne(({key:d})=>o.includes(d),a);m.useEffect(()=>{if(a.some(({key:d})=>fe.includes(d)))throw new Error(`Filters should not use keys ${fe.join(", ")}`)},[a]);const x=()=>{c([]),g({}),r({})},v=()=>{g(f),c(Object.keys(f)),r(ne(a,Object.keys(f),f))},u=(d,h=!1)=>{h||l(d);const I=ur(h?o.filter(O=>O!==d):Fe(o.concat(d)));c(I);let w;h&&d in s&&(w=Pe(d,s),g(w)),h||d in s||(w={...s,[d]:[]},g(w)),r(ne(a,I,s))},y=(d,h,I)=>{let w;const O=a.find(j=>j.key===d),L=s[d];I?w={...s,[d]:(O==null?void 0:O.type)==="checkbox"?Fe(L.concat(h)):h}:Array.isArray(L)?w={...s,[d]:L.filter(j=>j!==h)}:w=Pe(d,s),g(w),r(ne(a,o,w))},k=d=>({display:d.display,icon:d.icon,key:d.key,className:N("ctw-capitalize",d.className)}),[P,E]=Ne(d=>!d.belowTheFold,p),_=E.length>0;_&&(E[0]={...E[0],className:N(E[0].className,"ctw-border-solid ctw-border-divider-light ctw-border-b-0")});const T=[...P.map(k),...E.slice(0,1).map(k),...E.slice(1).map(k),{display:"remove all filters",icon:ge,key:"_remove",className:"ctw-capitalize"}];return[f].filter(d=>d.type!=="tag").length>0&&T.splice(-1,0,{display:"reset filters",icon:Ze,key:"_reset",className:N("ctw-capitalize",{"ctw-border-top first-of-type:ctw-border-none":!_})}),i.createElement("div",{className:N(e,"ctw-relative ctw-flex ctw-items-center ctw-space-x-2")},b.map(d=>i.createElement(me,{isOpen:n===d.key,key:d.key,filter:d,filterValues:s,handleAddOrRemoveFilter:u,updateSelectedFilterValues:(h,I)=>y(d.key,h,I)})),i.createElement(K,{useBasicStyles:!0,btnClassName:"!ctw-text-content-light ctw-btn-clear !ctw-font-normal !ctw-py-2",items:T,onChange:(d,h)=>{switch(h.key){case"_remove":return x();case"_reset":return v();default:return u(h.key,!1)}}},i.createElement("div",{className:"ctw-space-x-1"},i.createElement(Q,{icon:et,className:"ctw-w-4"}),i.createElement("span",null,"Add Filters"))))};try{be.displayName="FilterBar",be.__docgenInfo={description:`FilterBar - A configurable filter bar with base menu and pills to control
which filters are active.

Use the defaultState param to pre-set filters on mount.

example:
\`\`\`
<FilterBar
  defaultState={{
    "furry-things": {
      type: "checkbox",
      selected: ["cats", "dogs", "dice"],
    },
   "who-called-shotgun": {
      type: "select",
      selected: "Kristen",
    },
    dismissed: {
      type: "tag",
      selected: true,
    },
  }}
  filters={filters}
  onChange={handleOnChange}
/>
\`\`\``,displayName:"FilterBar",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(filters: FilterChangeEvent) => void"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterItem[]"}},defaultState:{defaultValue:{value:"{}"},description:"",name:"defaultState",required:!1,type:{name:"FilterChangeEvent"}}}}}catch{}function ye(e){const r=tt(e,"lastPrescriber");return lt([{key:"isArchived",type:"tag",icon:rt,display:({listView:a})=>a?"show dismissed records":"dismissed records"},r.length<2?null:{key:"lastPrescriber",type:"checkbox",icon:at,values:r,display:"prescriber"}])}try{ye.displayName="medicationFilters",ye.__docgenInfo={description:"",displayName:"medicationFilters",props:{}}}catch{}function ve({className:e,onAfterOpenHistoryDrawer:r,onOpenHistoryDrawer:a}){const[t,n]=m.useState([]),l=it(),{builderMedications:o,isLoading:c}=Le(),{data:s,setSort:g}=Me({defaultFilters:{},defaultSort:J,records:o});function f(S){Z(a)&&a(),l({medication:S}),setTimeout(()=>{Z(r)&&r()},0)}return m.useEffect(()=>{n(mt(s.filter(S=>S.displayStatus!=="Active"),ut(dt("display"),pt),"asc"))},[s]),i.createElement(i.Fragment,null,i.createElement("div",{className:"ctw-flex ctw-flex-wrap ctw-gap-x-2"},i.createElement(qe,{className:"ctw-my-2",options:$e,onChange:g,defaultSort:J})),i.createElement(st,{className:e,medicationStatements:t,isLoading:c,handleRowClick:f}))}try{ve.displayName="ProviderInactiveMedicationsTable",ve.__docgenInfo={description:`Displays a table of inactive medication records. These are builder-owned medications
that have a status other than "active". These are not to be confused with "dismissed" or "archived"
medication records pulled from the network of other providers.`,displayName:"ProviderInactiveMedicationsTable",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onOpenHistoryDrawer:{defaultValue:null,description:"",name:"onOpenHistoryDrawer",required:!1,type:{name:"(() => void)"}},onAfterOpenHistoryDrawer:{defaultValue:null,description:"",name:"onAfterOpenHistoryDrawer",required:!1,type:{name:"(() => void)"}}}}}catch{}function dr({children:e,className:r,forceHorizontalTabs:a=!1,content:t,onChange:n}){const[l,o]=m.useState(0),c=m.useRef(null),s=_t(c),g=!a&&s.sm,[f,S]=m.useState({0:!0}),b=p=>{o(p),S({...f,[p]:!0}),n&&n(p)};return i.createElement("div",{ref:c,className:N(r,"ctw-tab-group ctw-relative ctw-w-full")},i.createElement(G.Group,{selectedIndex:l,onChange:b},g&&i.createElement(K,{btnClassName:"ctw-tab ctw-capitalize",optionsClassName:"ctw-tab-list ctw-capitalize",onChange:b,items:t}),i.createElement(G.List,{className:N("ctw-border-default ctw-flex ctw-justify-start ctw-border-b ctw-border-divider-light",{"ctw-hidden":g})},t.map(({key:p,display:x})=>i.createElement(G,{key:p,"data-zus-telemetry-click":`Tab[${p}]`,onClick:pr,className:({selected:v})=>N(["ctw-tab ctw-text-sm ctw-capitalize","hover:after:ctw-bg-content-black","focus-visible:ctw-outline-primary-dark focus-visible:after:ctw-bg-transparent"],{"after:ctw-bg-content-black":v,"ctw-text-content-light":!v})},x()))),e,i.createElement(G.Panels,null,t.map((p,x)=>{var v;return i.createElement(G.Panel,{key:p.key,className:N((v=p.getPanelClassName)==null?void 0:v.call(p,s.sm)),unmount:!1},f[x]&&p.render(s.sm))}))))}const we=ft(dr,"TabGroup",!1);function pr(){typeof document<"u"&&requestAnimationFrame(()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur()})}try{we.displayName="TabGroup",we.__docgenInfo={description:"",displayName:"TabGroup",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"TabGroupItem[]"}},forceHorizontalTabs:{defaultValue:null,description:"",name:"forceHorizontalTabs",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((index: number) => void)"}}}}}catch{}const mr=e=>[{key:"medication-list",display:()=>"medication list",render:()=>i.createElement(nt,{onOpenHistoryDrawer:e.onOpenHistoryDrawer,onAfterOpenHistoryDrawer:e.onAfterOpenHistoryDrawer})},{key:"inactive-provider-records",display:()=>"inactive",render:()=>i.createElement(ve,{onOpenHistoryDrawer:e.onOpenHistoryDrawer,onAfterOpenHistoryDrawer:e.onAfterOpenHistoryDrawer})},{key:"other-provider-records",display:()=>i.createElement(i.Fragment,null,i.createElement("span",{className:"ctw-pr-2 ctw-capitalize"},"other provider records"),i.createElement(We,null)),render:()=>i.createElement(he,{...e})}];function he({handleAddToRecord:e,hideAddToRecord:r,onOpenHistoryDrawer:a,onAfterOpenHistoryDrawer:t}){const{otherProviderMedications:n}=Le(),{data:l,filters:o,setFilters:c,setSort:s}=Me({defaultFilters:{},defaultSort:J,records:n});return i.createElement(i.Fragment,null,i.createElement("div",{className:"ctw-flex ctw-flex-wrap ctw-gap-x-2"},i.createElement(qe,{className:"ctw-my-2",options:$e,onChange:s,defaultSort:J}),i.createElement(be,{filters:ye(n??[]),onChange:c,defaultState:{}})),i.createElement(Ke,{records:l,showDismissed:!!o.isArchived,handleAddToRecord:e,hideAddToRecord:r,onOpenHistoryDrawer:a,onAfterOpenHistoryDrawer:t}))}function Ae({className:e,forceHorizontalTabs:r=!1,...a}){const t=mr(a);return i.createElement(bt,{className:N("ctw-patient-medications ctw-space-y-3 ctw-bg-white",e)},i.createElement(we,{content:t,forceHorizontalTabs:r,className:e}))}try{he.displayName="OtherProviderMedsTableTab",he.__docgenInfo={description:"",displayName:"OtherProviderMedsTableTab",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},forceHorizontalTabs:{defaultValue:null,description:"",name:"forceHorizontalTabs",required:!1,type:{name:"boolean"}},hideAddToRecord:{defaultValue:null,description:"",name:"hideAddToRecord",required:!1,type:{name:"boolean"}},handleAddToRecord:{defaultValue:null,description:"",name:"handleAddToRecord",required:!1,type:{name:"((m: MedicationStatementModel) => void)"}},onOpenHistoryDrawer:{defaultValue:null,description:"",name:"onOpenHistoryDrawer",required:!1,type:{name:"(() => void)"}},onAfterOpenHistoryDrawer:{defaultValue:null,description:"",name:"onAfterOpenHistoryDrawer",required:!1,type:{name:"(() => void)"}}}}}catch{}try{Ae.displayName="PatientMedications",Ae.__docgenInfo={description:`This component is a tabbed view of patient medications from the current
provider, other providers and historical. When rendered in a small breakpoint
the component will change from horizontal tabs to a vertical dropdown menu.
If this is undesired, you may set the property \`forceHorizontalTabs\` to true
and the tabs will remain visible and horizontal. The \`forceHorizontalTabs\`
prop will not prevent the medication tables from switching to their stacked
view when viewed on smaller screens.`,displayName:"PatientMedications",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},forceHorizontalTabs:{defaultValue:{value:"false"},description:"",name:"forceHorizontalTabs",required:!1,type:{name:"boolean"}},hideAddToRecord:{defaultValue:null,description:"",name:"hideAddToRecord",required:!1,type:{name:"boolean"}},handleAddToRecord:{defaultValue:null,description:"",name:"handleAddToRecord",required:!1,type:{name:"((m: MedicationStatementModel) => void)"}},onOpenHistoryDrawer:{defaultValue:null,description:"",name:"onOpenHistoryDrawer",required:!1,type:{name:"(() => void)"}},onAfterOpenHistoryDrawer:{defaultValue:null,description:"",name:"onAfterOpenHistoryDrawer",required:!1,type:{name:"(() => void)"}}}}}catch{}export{be as F,he as O,Ae as P,we as T};
