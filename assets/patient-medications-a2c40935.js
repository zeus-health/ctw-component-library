import{r as f,R as i}from"./index-6f814c40.js";import{c as N}from"./index-74f03c09.js";import{O as Ye,a as Je}from"./other-provider-meds-table-69517139.js";import{D as Ze,c as xe,d as Te,F as K,e as Me,g as et,M as qe,h as tt,i as rt,u as at,j as nt,k as lt,b as $e,S as Le,m as Be,l as Z,P as ot}from"./provider-meds-table-68a65c54.js";import"./_baseToString-ba0098b0.js";import{c as it}from"./sortBy-64fcb484.js";import"./_baseClone-0c3bfcab.js";import"./sortBy-3860efd7.js";import{i as st}from"./_equalByTag-3aa7c076.js";import"./_baseForOwn-56487e0e.js";import"./_createSet-3c80ad01.js";import{u as ct,a as He,M as ut}from"./use-medications-1cb4f897.js";import{s as Ne,i as ee,b as dt,p as Fe,e as Pe,o as Ce,f as pt,g as mt,t as ft}from"./values-4e3b2a32.js";import{s as bt}from"./medication-history-c53f21d0.js";import{w as yt,S as vt}from"./error-boundary-4d330a54.js";import{i as Q}from"./isString-b8ede3fb.js";import{C as q,y as $,o as F,a as C,u as M,L as wt,q as ht,p as ie,h as Se,c as ze,F as gt,$ as L,I as j,l as se,S as te,i as xt,e as je,k as ce,v as Tt,N as St,j as S,r as Rt,w as ue,s as ae,M as Y,O as H,T as V,t as kt}from"./use-watch-c090a07f.js";import{p as _t,e as Et,i as Ge}from"./combobox-field-b5afb015.js";import{s as Ue,a as D,x as Ot}from"./calculate-active-index-dd804c80.js";import{u as It}from"./use-breakpoints-6d7ff947.js";var Nt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Nt||{}),Ft=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ft||{}),Pt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Pt||{}),Ct=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.SetDisabled=2]="SetDisabled",e[e.SetOrientation=3]="SetOrientation",e[e.GoToOption=4]="GoToOption",e[e.Search=5]="Search",e[e.ClearSearch=6]="ClearSearch",e[e.RegisterOption=7]="RegisterOption",e[e.UnregisterOption=8]="UnregisterOption",e))(Ct||{});function ne(e,a=t=>t){let t=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=ue(a(e.options.slice()),l=>l.dataRef.current.domRef.current),n=t?r.indexOf(t):null;return n===-1&&(n=null),{options:r,activeOptionIndex:n}}let At={[1](e){return e.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},[0](e){if(e.disabled||e.listboxState===0)return e;let a=e.activeOptionIndex,{value:t,mode:r,compare:n}=e.propsRef.current,l=e.options.findIndex(o=>{let s=o.dataRef.current.value;return M(r,{[1]:()=>t.some(d=>n(d,s)),[0]:()=>n(t,s)})});return l!==-1&&(a=l),{...e,listboxState:0,activeOptionIndex:a}},[2](e,a){return e.disabled===a.disabled?e:{...e,disabled:a.disabled}},[3](e,a){return e.orientation===a.orientation?e:{...e,orientation:a.orientation}},[4](e,a){var t;if(e.disabled||e.listboxState===1)return e;let r=ne(e),n=Ot(a,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:n,activationTrigger:(t=a.trigger)!=null?t:1}},[5]:(e,a)=>{if(e.disabled||e.listboxState===1)return e;let t=e.searchQuery!==""?0:1,r=e.searchQuery+a.value.toLowerCase(),n=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+t).concat(e.options.slice(0,e.activeOptionIndex+t)):e.options).find(o=>{var s;return!o.dataRef.current.disabled&&((s=o.dataRef.current.textValue)==null?void 0:s.startsWith(r))}),l=n?e.options.indexOf(n):-1;return l===-1||l===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:l,activationTrigger:1}},[6](e){return e.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},[7]:(e,a)=>{let t={id:a.id,dataRef:a.dataRef},r=ne(e,n=>[...n,t]);if(e.activeOptionIndex===null){let{value:n,mode:l,compare:o}=e.propsRef.current,s=a.dataRef.current.value;M(l,{[1]:()=>n.some(d=>o(d,s)),[0]:()=>o(n,s)})&&(r.activeOptionIndex=r.options.indexOf(t))}return{...e,...r}},[8]:(e,a)=>{let t=ne(e,r=>{let n=r.findIndex(l=>l.id===a.id);return n!==-1&&r.splice(n,1),r});return{...e,...t,activationTrigger:1}}},Re=f.createContext(null);Re.displayName="ListboxContext";function X(e){let a=f.useContext(Re);if(a===null){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,X),t}return a}function Vt(e,a){return M(a.type,At,e,a)}let Dt=f.Fragment,Mt=q(function(e,a){let{value:t,defaultValue:r,name:n,onChange:l,by:o=(R,u)=>R===u,disabled:s=!1,horizontal:d=!1,multiple:m=!1,...b}=e;const T=d?"horizontal":"vertical";let v=$(a),[p,h]=_t(t,l,r),w=f.useReducer(Vt,{listboxState:1,propsRef:{current:{value:p,onChange:h,mode:m?1:0,compare:F(typeof o=="string"?(R,u)=>{let k=o;return(R==null?void 0:R[k])===(u==null?void 0:u[k])}:o)}},labelRef:f.createRef(),buttonRef:f.createRef(),optionsRef:f.createRef(),disabled:s,orientation:T,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1}),[{listboxState:c,propsRef:y,optionsRef:O,buttonRef:I},P]=w;y.current.value=p,y.current.mode=m?1:0,C(()=>{y.current.onChange=R=>M(y.current.mode,{[0](){return h(R)},[1](){let u=y.current.value.slice(),{compare:k}=y.current,g=u.findIndex(E=>k(E,R));return g===-1?u.push(R):u.splice(g,1),h(u)}})},[h,y]),C(()=>P({type:2,disabled:s}),[s]),C(()=>P({type:3,orientation:T}),[T]),wt([I,O],(R,u)=>{var k;P({type:1}),Tt(u,St.Loose)||(R.preventDefault(),(k=I.current)==null||k.focus())},c===0);let _=f.useMemo(()=>({open:c===0,disabled:s,value:p}),[c,s,p]),x={ref:v};return i.createElement(Re.Provider,{value:w},i.createElement(ht,{value:M(c,{[0]:ie.Open,[1]:ie.Closed})},n!=null&&p!=null&&Et({[n]:p}).map(([R,u])=>i.createElement(Se,{features:ze.Hidden,...gt({key:R,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:R,value:u})})),L({ourProps:x,theirProps:b,slot:_,defaultTag:Dt,name:"Listbox"})))}),qt="button",$t=q(function(e,a){var t;let[r,n]=X("Listbox.Button"),l=$(r.buttonRef,a),o=`headlessui-listbox-button-${j()}`,s=se(),d=F(w=>{switch(w.key){case S.Space:case S.Enter:case S.ArrowDown:w.preventDefault(),n({type:0}),s.nextFrame(()=>{r.propsRef.current.value||n({type:4,focus:D.First})});break;case S.ArrowUp:w.preventDefault(),n({type:0}),s.nextFrame(()=>{r.propsRef.current.value||n({type:4,focus:D.Last})});break}}),m=F(w=>{switch(w.key){case S.Space:w.preventDefault();break}}),b=F(w=>{if(Rt(w.currentTarget))return w.preventDefault();r.listboxState===0?(n({type:1}),s.nextFrame(()=>{var c;return(c=r.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})})):(w.preventDefault(),n({type:0}))}),T=Ge(()=>{if(r.labelRef.current)return[r.labelRef.current.id,o].join(" ")},[r.labelRef.current,o]),v=f.useMemo(()=>({open:r.listboxState===0,disabled:r.disabled,value:r.propsRef.current.value}),[r]),p=e,h={ref:l,id:o,type:Ue(e,r.buttonRef),"aria-haspopup":!0,"aria-controls":(t=r.optionsRef.current)==null?void 0:t.id,"aria-expanded":r.disabled?void 0:r.listboxState===0,"aria-labelledby":T,disabled:r.disabled,onKeyDown:d,onKeyUp:m,onClick:b};return L({ourProps:h,theirProps:p,slot:v,defaultTag:qt,name:"Listbox.Button"})}),Lt="label",Bt=q(function(e,a){let[t]=X("Listbox.Label"),r=`headlessui-listbox-label-${j()}`,n=$(t.labelRef,a),l=F(()=>{var s;return(s=t.buttonRef.current)==null?void 0:s.focus({preventScroll:!0})}),o=f.useMemo(()=>({open:t.listboxState===0,disabled:t.disabled}),[t]);return L({ourProps:{ref:n,id:r,onClick:l},theirProps:e,slot:o,defaultTag:Lt,name:"Listbox.Label"})}),Ht="ul",zt=te.RenderStrategy|te.Static,jt=q(function(e,a){var t;let[r,n]=X("Listbox.Options"),l=$(r.optionsRef,a),o=`headlessui-listbox-options-${j()}`,s=se(),d=se(),m=xt(),b=(()=>m!==null?m===ie.Open:r.listboxState===0)();f.useEffect(()=>{var c;let y=r.optionsRef.current;!y||r.listboxState===0&&y!==((c=je(y))==null?void 0:c.activeElement)&&y.focus({preventScroll:!0})},[r.listboxState,r.optionsRef]);let T=F(c=>{switch(d.dispose(),c.key){case S.Space:if(r.searchQuery!=="")return c.preventDefault(),c.stopPropagation(),n({type:5,value:c.key});case S.Enter:if(c.preventDefault(),c.stopPropagation(),r.activeOptionIndex!==null){let{dataRef:y}=r.options[r.activeOptionIndex];r.propsRef.current.onChange(y.current.value)}r.propsRef.current.mode===0&&(n({type:1}),ce().nextFrame(()=>{var y;return(y=r.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})}));break;case M(r.orientation,{vertical:S.ArrowDown,horizontal:S.ArrowRight}):return c.preventDefault(),c.stopPropagation(),n({type:4,focus:D.Next});case M(r.orientation,{vertical:S.ArrowUp,horizontal:S.ArrowLeft}):return c.preventDefault(),c.stopPropagation(),n({type:4,focus:D.Previous});case S.Home:case S.PageUp:return c.preventDefault(),c.stopPropagation(),n({type:4,focus:D.First});case S.End:case S.PageDown:return c.preventDefault(),c.stopPropagation(),n({type:4,focus:D.Last});case S.Escape:return c.preventDefault(),c.stopPropagation(),n({type:1}),s.nextFrame(()=>{var y;return(y=r.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})});case S.Tab:c.preventDefault(),c.stopPropagation();break;default:c.key.length===1&&(n({type:5,value:c.key}),d.setTimeout(()=>n({type:6}),350));break}}),v=Ge(()=>{var c,y,O;return(O=(c=r.labelRef.current)==null?void 0:c.id)!=null?O:(y=r.buttonRef.current)==null?void 0:y.id},[r.labelRef.current,r.buttonRef.current]),p=f.useMemo(()=>({open:r.listboxState===0}),[r]),h=e,w={"aria-activedescendant":r.activeOptionIndex===null||(t=r.options[r.activeOptionIndex])==null?void 0:t.id,"aria-multiselectable":r.propsRef.current.mode===1?!0:void 0,"aria-labelledby":v,"aria-orientation":r.orientation,id:o,onKeyDown:T,role:"listbox",tabIndex:0,ref:l};return L({ourProps:w,theirProps:h,slot:p,defaultTag:Ht,features:zt,visible:b,name:"Listbox.Options"})}),Gt="li",Ut=q(function(e,a){let{disabled:t=!1,value:r,...n}=e,[l,o]=X("Listbox.Option"),s=`headlessui-listbox-option-${j()}`,d=l.activeOptionIndex!==null?l.options[l.activeOptionIndex].id===s:!1,{value:m,compare:b}=l.propsRef.current,T=M(l.propsRef.current.mode,{[1]:()=>m.some(_=>b(_,r)),[0]:()=>b(m,r)}),v=f.useRef(null),p=$(a,v);C(()=>{if(l.listboxState!==0||!d||l.activationTrigger===0)return;let _=ce();return _.requestAnimationFrame(()=>{var x,R;(R=(x=v.current)==null?void 0:x.scrollIntoView)==null||R.call(x,{block:"nearest"})}),_.dispose},[v,d,l.listboxState,l.activationTrigger,l.activeOptionIndex]);let h=f.useRef({disabled:t,value:r,domRef:v});C(()=>{h.current.disabled=t},[h,t]),C(()=>{h.current.value=r},[h,r]),C(()=>{var _,x;h.current.textValue=(x=(_=v.current)==null?void 0:_.textContent)==null?void 0:x.toLowerCase()},[h,v]);let w=F(()=>l.propsRef.current.onChange(r));C(()=>(o({type:7,id:s,dataRef:h}),()=>o({type:8,id:s})),[h,s]);let c=F(_=>{if(t)return _.preventDefault();w(),l.propsRef.current.mode===0&&(o({type:1}),ce().nextFrame(()=>{var x;return(x=l.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})}))}),y=F(()=>{if(t)return o({type:4,focus:D.Nothing});o({type:4,focus:D.Specific,id:s})}),O=F(()=>{t||d||o({type:4,focus:D.Specific,id:s,trigger:0})}),I=F(()=>{t||!d||o({type:4,focus:D.Nothing})}),P=f.useMemo(()=>({active:d,selected:T,disabled:t}),[d,T,t]);return L({ourProps:{id:s,ref:p,role:"option",tabIndex:t===!0?void 0:-1,"aria-disabled":t===!0?!0:void 0,"aria-selected":T,disabled:void 0,onClick:c,onFocus:y,onPointerMove:O,onMouseMove:O,onPointerLeave:I,onMouseLeave:I},theirProps:n,slot:P,defaultTag:Gt,name:"Listbox.Option"})}),J=Object.assign(Mt,{Button:$t,Label:Bt,Options:jt,Option:Ut});function Qt({onFocus:e}){let[a,t]=f.useState(!0);return a?i.createElement(Se,{as:"button",type:"button",features:ze.Focusable,onFocus:r=>{r.preventDefault();let n,l=50;function o(){if(l--<=0){n&&cancelAnimationFrame(n);return}if(e()){t(!1),cancelAnimationFrame(n);return}n=requestAnimationFrame(o)}n=requestAnimationFrame(o)}}):null}var Kt=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Kt||{});let Wt={[0](e,a){let t=e.tabs.filter(l=>{var o;return!((o=l.current)!=null&&o.hasAttribute("disabled"))});if(a.index<0)return{...e,selectedIndex:e.tabs.indexOf(t[0])};if(a.index>e.tabs.length)return{...e,selectedIndex:e.tabs.indexOf(t[t.length-1])};let r=e.tabs.slice(0,a.index),n=[...e.tabs.slice(a.index),...r].find(l=>t.includes(l));return n?{...e,selectedIndex:e.tabs.indexOf(n)}:e},[1](e,a){var t;if(e.tabs.includes(a.tab))return e;let r=e.tabs[e.selectedIndex],n=ue([...e.tabs,a.tab],o=>o.current),l=(t=n.indexOf(r))!=null?t:e.selectedIndex;return l===-1&&(l=e.selectedIndex),{...e,tabs:n,selectedIndex:l}},[2](e,a){return{...e,tabs:e.tabs.filter(t=>t!==a.tab)}},[3](e,a){return e.panels.includes(a.panel)?e:{...e,panels:ue([...e.panels,a.panel],t=>t.current)}},[4](e,a){return{...e,panels:e.panels.filter(t=>t!==a.panel)}}},ke=f.createContext(null);ke.displayName="TabsSSRContext";function _e(e){let a=f.useContext(ke);if(a===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,_e),t}return a}let Ee=f.createContext(null);Ee.displayName="TabsDataContext";function z(e){let a=f.useContext(Ee);if(a===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,z),t}return a}let Oe=f.createContext(null);Oe.displayName="TabsActionsContext";function Ie(e){let a=f.useContext(Oe);if(a===null){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ie),t}return a}function Xt(e,a){return M(a.type,Wt,e,a)}let Yt=f.Fragment,Jt=q(function(e,a){let{defaultIndex:t=0,vertical:r=!1,manual:n=!1,onChange:l,selectedIndex:o=null,...s}=e;const d=r?"vertical":"horizontal",m=n?"manual":"auto";let b=o!==null,T=$(a),[v,p]=f.useReducer(Xt,{selectedIndex:o??t,tabs:[],panels:[]}),h=f.useMemo(()=>({selectedIndex:v.selectedIndex}),[v.selectedIndex]),w=ae(l||(()=>{})),c=ae(v.tabs),y=f.useMemo(()=>({orientation:d,activation:m,...v}),[d,m,v]),O=ae(b?e.selectedIndex:v.selectedIndex),I=f.useMemo(()=>({registerTab(x){return p({type:1,tab:x}),()=>p({type:2,tab:x})},registerPanel(x){return p({type:3,panel:x}),()=>p({type:4,panel:x})},change(x){O.current!==x&&w.current(x),b||p({type:0,index:x})}}),[p,b]);C(()=>{p({type:0,index:o??t})},[o]);let P=f.useRef({tabs:[],panels:[]}),_={ref:T};return i.createElement(ke.Provider,{value:P},i.createElement(Oe.Provider,{value:I},i.createElement(Ee.Provider,{value:y},y.tabs.length<=0&&i.createElement(Qt,{onFocus:()=>{var x,R;for(let u of c.current)if(((x=u.current)==null?void 0:x.tabIndex)===0)return(R=u.current)==null||R.focus(),!0;return!1}}),L({ourProps:_,theirProps:s,slot:h,defaultTag:Yt,name:"Tabs"}))))}),Zt="div",er=q(function(e,a){let{orientation:t,selectedIndex:r}=z("Tab.List"),n=$(a);return L({ourProps:{ref:n,role:"tablist","aria-orientation":t},theirProps:e,slot:{selectedIndex:r},defaultTag:Zt,name:"Tabs.List"})}),tr="button",rr=q(function(e,a){var t,r;let n=`headlessui-tabs-tab-${j()}`,{orientation:l,activation:o,selectedIndex:s,tabs:d,panels:m}=z("Tab"),b=Ie("Tab"),T=z("Tab"),v=_e("Tab"),p=f.useRef(null),h=$(p,a);C(()=>b.registerTab(p),[b,p]);let w=v.current.tabs.indexOf(n);w===-1&&(w=v.current.tabs.push(n)-1);let c=d.indexOf(p);c===-1&&(c=w);let y=c===s,O=F(g=>{var E;let A=g();if(A===Y.Success&&o==="auto"){let G=(E=je(p))==null?void 0:E.activeElement,B=T.tabs.findIndex(Xe=>Xe.current===G);B!==-1&&b.change(B)}return A}),I=F(g=>{let E=d.map(A=>A.current).filter(Boolean);if(g.key===S.Space||g.key===S.Enter){g.preventDefault(),g.stopPropagation(),b.change(c);return}switch(g.key){case S.Home:case S.PageUp:return g.preventDefault(),g.stopPropagation(),O(()=>H(E,V.First));case S.End:case S.PageDown:return g.preventDefault(),g.stopPropagation(),O(()=>H(E,V.Last))}if(O(()=>M(l,{vertical(){return g.key===S.ArrowUp?H(E,V.Previous|V.WrapAround):g.key===S.ArrowDown?H(E,V.Next|V.WrapAround):Y.Error},horizontal(){return g.key===S.ArrowLeft?H(E,V.Previous|V.WrapAround):g.key===S.ArrowRight?H(E,V.Next|V.WrapAround):Y.Error}}))===Y.Success)return g.preventDefault()}),P=f.useRef(!1),_=F(()=>{var g;P.current||(P.current=!0,(g=p.current)==null||g.focus(),b.change(c),kt(()=>{P.current=!1}))}),x=F(g=>{g.preventDefault()}),R=f.useMemo(()=>({selected:y}),[y]),u=e,k={ref:h,onKeyDown:I,onMouseDown:x,onClick:_,id:n,role:"tab",type:Ue(e,p),"aria-controls":(r=(t=m[c])==null?void 0:t.current)==null?void 0:r.id,"aria-selected":y,tabIndex:y?0:-1};return L({ourProps:k,theirProps:u,slot:R,defaultTag:tr,name:"Tabs.Tab"})}),ar="div",nr=q(function(e,a){let{selectedIndex:t}=z("Tab.Panels"),r=$(a),n=f.useMemo(()=>({selectedIndex:t}),[t]);return L({ourProps:{ref:r},theirProps:e,slot:n,defaultTag:ar,name:"Tabs.Panels"})}),lr="div",or=te.RenderStrategy|te.Static,ir=q(function(e,a){var t,r,n,l;let{selectedIndex:o,tabs:s,panels:d}=z("Tab.Panel"),m=Ie("Tab.Panel"),b=_e("Tab.Panel"),T=`headlessui-tabs-panel-${j()}`,v=f.useRef(null),p=$(v,a);C(()=>m.registerPanel(v),[m,v]);let h=b.current.panels.indexOf(T);h===-1&&(h=b.current.panels.push(T)-1);let w=d.indexOf(v);w===-1&&(w=h);let c=w===o,y=f.useMemo(()=>({selected:c}),[c]),O=e,I={ref:p,id:T,role:"tabpanel","aria-labelledby":(r=(t=s[w])==null?void 0:t.current)==null?void 0:r.id,tabIndex:c?0:-1};return!c&&((n=e.unmount)==null||n)&&!((l=e.static)!=null&&l)?i.createElement(Se,{as:"span",...I}):L({ourProps:I,theirProps:O,slot:y,defaultTag:lr,features:or,visible:c,name:"Tabs.Panel"})}),U=Object.assign(rr,{Group:Jt,List:er,Panels:nr,Panel:ir});function Qe({display:e},a){return i.createElement(i.Fragment,null,ee(e)?e(a):e)}function le(e,a,t){return a.reduce((r,n)=>{const l=e.find(o=>o.key===n);return{...r,[l.key]:{key:l.key,type:l.type,selected:l.type==="tag"?!0:t[l.key]}}},{})}function re(e){return Object.keys(e).reduce((a,t)=>{const r=e[t];if(typeof r<"u"){const{type:n}=r;return n==="tag"?Ne(t,[],a):Ne(t,r.selected,a)}return a},{})}try{re.displayName="filterChangeEventToValuesRecord",re.__docgenInfo={description:"",displayName:"filterChangeEventToValuesRecord",props:{}}}catch{}const sr="ctw-flex ctw-items-center ctw-max-w-[15rem] ctw-space-x-2 ctw-capitalize ctw-text-content-black ctw-bg-bg-dark ctw-text-sm ctw-rounded ctw-py-2 ctw-px-3 ctw-relative ctw-cursor-pointer ctw-border-0 ctw-border-transparent  ctw-whitespace-nowrap";function de({filter:e,filterValues:a,isOpen:t,onRemove:r,onChange:n,onReset:l}){const o=e.key in a?a[e.key]:[],s=e.values.map(m=>({key:Q(m)?m:m.key,name:Q(m)?m:m.display,isSelected:o.includes(Q(m)?m:m.key)})),d=s.filter(m=>m.isSelected).map(m=>m.key);return i.createElement(Ze,{isOpen:t,items:s,type:"checkbox",pinnedActions:dt([l?{icon:xe,name:"Reset Filter",action:l}:null,r?{icon:Te,name:"Remove Filter",action:r}:null]),buttonClassName:N(e.className,sr),onItemSelect:m=>n(m.key,m.value)},i.createElement("div",{className:"ctw-truncate ctw-font-medium ctw-text-content-black"},Qe(e,{active:!0}),d.length>0&&i.createElement("span",{className:"ctw-font-normal"},": ",d.join(","))),i.createElement(K,{icon:Me,className:"ctw-w-2"}))}try{de.displayName="FilterBarCheckboxPill",de.__docgenInfo={description:"",displayName:"FilterBarCheckboxPill",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterOptionCheckbox"}},filterValues:{defaultValue:null,description:"",name:"filterValues",required:!0,type:{name:"FilterValuesRecord"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(key: string, isSelected: boolean) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!1,type:{name:"(() => void)"}},onReset:{defaultValue:null,description:"",name:"onReset",required:!1,type:{name:"(() => void)"}}}}}catch{}function W({useBasicStyles:e=!1,btnClassName:a,children:t,optionsClassName:r,items:n,defaultIndex:l=0,onChange:o}){const[s,d]=f.useState(l),m=n[s]??{display:"Choose a selection"};return i.createElement("div",{className:"ctw-relative ctw-inline-block"},i.createElement(J,{value:s,onChange:b=>{o(b,n[b]),d(b)}},i.createElement(J.Button,{className:N(a,!e&&"after:ctw-bg-content-black",!e&&"focus-visible:ctw-outline-primary-dark","ctw-relative ctw-cursor-pointer ctw-justify-between ctw-space-x-2 ctw-border-0 ctw-border-transparent")},t||Ae(m,{listView:!1}),!e&&i.createElement(K,{icon:Me,className:"ctw-w-2"})),i.createElement(J.Options,{className:N(r,"ctw-list-box")},n.map((b,T)=>i.createElement(J.Option,{key:b.key,value:T,as:f.Fragment},({active:v,selected:p})=>i.createElement("li",{className:N("ctw-flex ctw-cursor-pointer ctw-justify-between ctw-px-3 ctw-py-2","first:ctw-pt-3 last:ctw-pb-3","hover:ctw-bg-bg-lighter",b.className,{"ctw-text-medium":v||p,"ctw-text-content-black":!(v||p),"ctw-bg-bg-lighter":v})},i.createElement("span",{className:N("ctw-inline-flex ctw-align-middle",{"ctw-font-semibold":p&&!e})},Ae(b,{active:v,selected:p,listView:!0})),!e&&p&&!b.key.startsWith("_")&&i.createElement("span",{className:"ctw-inline-flex ctw-pb-0.5"},i.createElement(K,{icon:et,className:"ctw-inline-block ctw-h-4 ctw-stroke-0 ctw-align-middle ctw-text-primary-dark"}))))))))}function Ae(e,a){return i.createElement(qe,{icon:e.icon},st(e.display)?e.display(a):e.display)}try{W.displayName="ListBox",W.__docgenInfo={description:"",displayName:"ListBox",props:{btnClassName:{defaultValue:null,description:"",name:"btnClassName",required:!1,type:{name:"Argument"}},defaultIndex:{defaultValue:{value:"0"},description:"",name:"defaultIndex",required:!1,type:{name:"number"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"T[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(index: number, item: T) => void"}},optionsClassName:{defaultValue:null,description:"",name:"optionsClassName",required:!1,type:{name:"Argument"}},useBasicStyles:{defaultValue:{value:"false"},description:"",name:"useBasicStyles",required:!1,type:{name:"boolean"}}}}}catch{}const cr="ctw-flex ctw-items-center ctw-capitalize ctw-text-content-black ctw-bg-bg-dark ctw-text-sm ctw-rounded ctw-py-2 ctw-px-3 ctw-relative ctw-cursor-pointer ctw-border-0 ctw-border-transparent",Ke=e=>ee(e)?e({active:!1}):e,We=(e,a,t)=>({key:a,display:({listView:r,filter:n})=>r?i.createElement(qe,{icon:t},e):n&&Ke(n.display)}),oe=We("reset filter","_reset",xe),Ve=We("remove filter","_remove",Te);function pe({filter:e,onChange:a,onRemove:t}){const n=[...e.values.map(l=>Q(l)?l:l.display),oe,Ve];return i.createElement(W,{defaultIndex:n.length-1,btnClassName:cr,optionsClassName:"ctw-capitalize",items:n.map(l=>({display:({listView:o})=>l===oe||l===Ve?l.display({listView:o,filter:e}):o?i.createElement("span",{className:"ctw-whitespace-nowrap"},l):i.createElement("div",{className:"ctw-truncate ctw-font-medium ctw-text-content-black"},Ke(e.display),i.createElement("span",{className:"ctw-font-normal"},": ",l)),key:Q(l)?l:l.key,className:N("ctw-capitalize",{"ctw-border ctw-capitalize ctw-border-solid ctw-border-divider-light ctw-border-0 ctw-border-t":l===oe})})),onChange:(l,o)=>{o.key==="_remove"?t():o.key==="_reset"?a("",!1):a(o.key,!0)}})}try{pe.displayName="FilterBarSelectPill",pe.__docgenInfo={description:"",displayName:"FilterBarSelectPill",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterOptionSelect"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(key: string, isSelected: boolean) => void"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"() => void"}}}}}catch{}const ur="ctw-flex ctw-items-center ctw-max-w-[15rem] ctw-capitalize ctw-text-content-black ctw-bg-bg-dark ctw-text-sm ctw-rounded ctw-py-2 ctw-px-3 ctw-relative ctw-cursor-pointer ctw-border-0 ctw-border-transparent";function me({filter:e,onRemove:a}){return i.createElement("button",{key:e.key,type:"button",className:N(ur,e.className,"ctw-space-x-2"),onClick:a},i.createElement("div",null,Qe(e,{active:!0})),i.createElement(K,{icon:tt,className:"ctw-w-2 ctw-text-content-light"}))}try{me.displayName="FilterBarTagPill",me.__docgenInfo={description:"",displayName:"FilterBarTagPill",props:{filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterItem"}},onRemove:{defaultValue:null,description:"",name:"onRemove",required:!0,type:{name:"() => void"}}}}}catch{}function fe({handleAddOrRemoveFilter:e,handleClearFilter:a,filter:t,filterValues:r,isOpen:n,updateSelectedFilterValues:l}){const o=()=>e(t.key,!0);switch(t.type){case"tag":return i.createElement(me,{filter:t,onRemove:o});case"select":return i.createElement(pe,{filter:t,onRemove:o,onChange:l});case"checkbox":return i.createElement(de,{isOpen:n,filter:t,filterValues:r,onRemove:o,onChange:l,onReset:()=>a(t.key)});default:throw new Error("ActiveFilterItem has invalid filter type")}}try{fe.displayName="FilterBarPill",fe.__docgenInfo={description:`Filter pill component that can render any pill type. It abstracts the various
pill types (located in ./filter-bar-pills folder). In practice this component
will only be used by the FilterBar component.`,displayName:"FilterBarPill",props:{handleAddOrRemoveFilter:{defaultValue:null,description:"",name:"handleAddOrRemoveFilter",required:!0,type:{name:"(key: string, remove: boolean) => void"}},filter:{defaultValue:null,description:"",name:"filter",required:!0,type:{name:"FilterItem"}},filterValues:{defaultValue:null,description:"",name:"filterValues",required:!0,type:{name:"FilterValuesRecord"}},handleClearFilter:{defaultValue:null,description:"",name:"handleClearFilter",required:!0,type:{name:"(key: string) => void"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},updateSelectedFilterValues:{defaultValue:null,description:"",name:"updateSelectedFilterValues",required:!0,type:{name:"(valueKey: string, isSelected: boolean) => void"}}}}}catch{}const be=["_remove","_reset"],dr=e=>e.filter(a=>!be.includes(a)),ye=({className:e,onChange:a,filters:t,defaultState:r={}})=>{const[n,l]=f.useState(),[o,s]=f.useState(Object.keys(r)),[d,m]=f.useState(re(r)),[b,T]=f.useState(re(r)),[v,p]=Fe(({key:u})=>o.includes(u),t);f.useEffect(()=>{if(t.some(({key:u})=>be.includes(u)))throw new Error(`Filters should not use keys ${be.join(", ")}`)},[t]);const h=()=>{s([]),m({}),a({})},w=()=>{m(b),s(Object.keys(b)),a(le(t,Object.keys(b),b))},c=f.useCallback(u=>{m({...d,[u]:[]})},[d]),y=(u,k=!1)=>{k||l(u);const g=dr(k?o.filter(A=>A!==u):Pe(o.concat(u)));s(g);let E;k&&u in d&&(E=Ce(u,d),m(E)),k||u in d||(E={...d,[u]:[]},m(E)),a(le(t,g,d))},O=(u,k,g)=>{let E;const A=t.find(B=>B.key===u),G=d[u];g?E={...d,[u]:(A==null?void 0:A.type)==="checkbox"?Pe(G.concat(k)):k}:Array.isArray(G)?E={...d,[u]:G.filter(B=>B!==k)}:E=Ce(u,d),m(E),a(le(t,o,E))},I=u=>({display:u.display,icon:u.icon,key:u.key,className:N("ctw-capitalize",u.className)}),[P,_]=Fe(u=>!u.belowTheFold,p),x=_.length>0;x&&(_[0]={..._[0],className:N(_[0].className,"ctw-border-solid ctw-border-divider-light ctw-border-b-0")});const R=[...P.map(I),..._.slice(0,1).map(I),..._.slice(1).map(I),{display:"remove all filters",icon:Te,key:"_remove",className:"ctw-capitalize"}];return[b].filter(u=>u.type!=="tag").length>0&&R.splice(-1,0,{display:"reset filters",icon:xe,key:"_reset",className:N("ctw-capitalize",{"ctw-border-top first-of-type:ctw-border-none":!x})}),i.createElement("div",{className:N(e,"ctw-flex ctw-items-center")},i.createElement("div",{className:"ctw-relative ctw-flex ctw-space-x-2"},v.map(u=>i.createElement(fe,{isOpen:n===u.key,key:u.key,filter:u,filterValues:d,handleAddOrRemoveFilter:y,handleClearFilter:c,updateSelectedFilterValues:(k,g)=>O(u.key,k,g)}))),i.createElement(W,{useBasicStyles:!0,btnClassName:"ctw-bg-transparent ctw-text-content-light ctw-flex ctw-items-center",items:R,onChange:(u,k)=>{switch(k.key){case"_remove":return h();case"_reset":return w();default:return y(k.key,!1)}}},i.createElement(K,{icon:rt,className:"ctw-w-4"})," Add Filters"))};try{ye.displayName="FilterBar",ye.__docgenInfo={description:`FilterBar - A configurable filter bar with base menu and pills to control
which filters are active.

Use the defaultState param to pre-set filters on mount.

example:
\`\`\`
<FilterBar
  defaultState={{
    "furry-things": {
      type: "checkbox",
      selected: ["cats", "dogs", "dice"],
    },
   "who-called-shotgun": {
      type: "select",
      selected: "Kristen",
    },
    dismissed: {
      type: "tag",
      selected: true,
    },
  }}
  filters={filters}
  onChange={handleOnChange}
/>
\`\`\``,displayName:"FilterBar",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(filters: FilterChangeEvent) => void"}},filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterItem[]"}},defaultState:{defaultValue:{value:"{}"},description:"",name:"defaultState",required:!1,type:{name:"FilterChangeEvent"}}}}}catch{}function ve(e){const a=at(e,"lastPrescriber");return it([{key:"isArchived",type:"tag",icon:nt,display:({listView:t})=>t?"show dismissed records":"dismissed records"},a.length<2?null:{key:"lastPrescriber",type:"checkbox",icon:lt,values:a,display:"prescriber"}])}try{ve.displayName="medicationFilters",ve.__docgenInfo={description:"",displayName:"medicationFilters",props:{}}}catch{}function we({className:e,onAfterOpenHistoryDrawer:a,onOpenHistoryDrawer:t}){const[r,n]=f.useState([]),l=ct(),{builderMedications:o,isLoading:s}=He(),{data:d,setSort:m}=$e({defaultFilters:{},defaultSort:Z,records:o});function b(T){ee(t)&&t(),l({medication:T}),setTimeout(()=>{ee(a)&&a()},0)}return f.useEffect(()=>{n(bt(d.filter(T=>T.displayStatus!=="Active"),pt(mt("display"),ft),"asc"))},[d]),i.createElement(i.Fragment,null,i.createElement("div",{className:"ctw-flex ctw-flex-wrap ctw-gap-x-2"},i.createElement(Le,{className:"ctw-my-2",options:Be,onChange:m,defaultSort:Z})),i.createElement(ut,{className:e,medicationStatements:r,isLoading:s,handleRowClick:b}))}try{we.displayName="ProviderInactiveMedicationsTable",we.__docgenInfo={description:`Displays a table of inactive medication records. These are builder-owned medications
that have a status other than "active". These are not to be confused with "dismissed" or "archived"
medication records pulled from the network of other providers.`,displayName:"ProviderInactiveMedicationsTable",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},onOpenHistoryDrawer:{defaultValue:null,description:"",name:"onOpenHistoryDrawer",required:!1,type:{name:"(() => void)"}},onAfterOpenHistoryDrawer:{defaultValue:null,description:"",name:"onAfterOpenHistoryDrawer",required:!1,type:{name:"(() => void)"}}}}}catch{}function pr({children:e,className:a,forceHorizontalTabs:t=!1,content:r,onChange:n}){const[l,o]=f.useState(0),s=f.useRef(null),d=It(s),m=!t&&d.sm,[b,T]=f.useState({0:!0}),v=p=>{o(p),T({...b,[p]:!0}),n&&n(p)};return i.createElement("div",{ref:s,className:N(a,"ctw-tab-group ctw-relative ctw-w-full")},i.createElement(U.Group,{selectedIndex:l,onChange:v},m&&i.createElement(W,{btnClassName:"ctw-tab ctw-capitalize",optionsClassName:"ctw-tab-list ctw-capitalize",onChange:v,items:r}),i.createElement(U.List,{className:N("ctw-border-default ctw-flex ctw-justify-start ctw-border-b ctw-border-divider-light",{"ctw-hidden":m})},r.map(({key:p,display:h})=>i.createElement(U,{key:p,"data-zus-telemetry-click":`Tab[${p}]`,onClick:mr,className:({selected:w})=>N(["ctw-tab ctw-text-sm ctw-capitalize","hover:after:ctw-bg-content-black","focus-visible:ctw-outline-primary-dark focus-visible:after:ctw-bg-transparent"],{"after:ctw-bg-content-black":w,"ctw-text-content-light":!w})},h()))),e,i.createElement(U.Panels,null,r.map((p,h)=>{var w;return i.createElement(U.Panel,{key:p.key,className:N((w=p.getPanelClassName)==null?void 0:w.call(p,d.sm)),unmount:!1},b[h]&&p.render(d.sm))}))))}const he=yt(pr,"TabGroup",!1);function mr(){typeof document<"u"&&requestAnimationFrame(()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur()})}try{he.displayName="TabGroup",he.__docgenInfo={description:"",displayName:"TabGroup",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"TabGroupItem[]"}},forceHorizontalTabs:{defaultValue:null,description:"",name:"forceHorizontalTabs",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((index: number) => void)"}}}}}catch{}const fr=e=>[{key:"medication-list",display:()=>"medication list",render:()=>i.createElement(ot,{onOpenHistoryDrawer:e.onOpenHistoryDrawer,onAfterOpenHistoryDrawer:e.onAfterOpenHistoryDrawer})},{key:"inactive-provider-records",display:()=>"inactive",render:()=>i.createElement(we,{onOpenHistoryDrawer:e.onOpenHistoryDrawer,onAfterOpenHistoryDrawer:e.onAfterOpenHistoryDrawer})},{key:"other-provider-records",display:()=>i.createElement(i.Fragment,null,i.createElement("span",{className:"ctw-pr-2 ctw-capitalize"},"other provider records"),i.createElement(Je,null)),render:()=>i.createElement(ge,{...e})}];function ge({handleAddToRecord:e,hideAddToRecord:a,onOpenHistoryDrawer:t,onAfterOpenHistoryDrawer:r}){const{otherProviderMedications:n}=He(),{data:l,filters:o,setFilters:s,setSort:d}=$e({defaultFilters:{},defaultSort:Z,records:n});return i.createElement(i.Fragment,null,i.createElement("div",{className:"ctw-flex ctw-flex-wrap ctw-gap-x-2"},i.createElement(Le,{className:"ctw-my-2",options:Be,onChange:d,defaultSort:Z}),i.createElement(ye,{filters:ve(n??[]),onChange:s,defaultState:{}})),i.createElement(Ye,{records:l,showDismissed:!!o.isArchived,handleAddToRecord:e,hideAddToRecord:a,onOpenHistoryDrawer:t,onAfterOpenHistoryDrawer:r}))}function De({className:e,forceHorizontalTabs:a=!1,...t}){const r=fr(t);return i.createElement(vt,{className:N("ctw-patient-medications ctw-space-y-3 ctw-bg-white",e)},i.createElement(he,{content:r,forceHorizontalTabs:a,className:e}))}try{ge.displayName="OtherProviderMedsTableTab",ge.__docgenInfo={description:"",displayName:"OtherProviderMedsTableTab",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},forceHorizontalTabs:{defaultValue:null,description:"",name:"forceHorizontalTabs",required:!1,type:{name:"boolean"}},hideAddToRecord:{defaultValue:null,description:"",name:"hideAddToRecord",required:!1,type:{name:"boolean"}},handleAddToRecord:{defaultValue:null,description:"",name:"handleAddToRecord",required:!1,type:{name:"((m: MedicationStatementModel) => void)"}},onOpenHistoryDrawer:{defaultValue:null,description:"",name:"onOpenHistoryDrawer",required:!1,type:{name:"(() => void)"}},onAfterOpenHistoryDrawer:{defaultValue:null,description:"",name:"onAfterOpenHistoryDrawer",required:!1,type:{name:"(() => void)"}}}}}catch{}try{De.displayName="PatientMedications",De.__docgenInfo={description:`This component is a tabbed view of patient medications from the current
provider, other providers and historical. When rendered in a small breakpoint
the component will change from horizontal tabs to a vertical dropdown menu.
If this is undesired, you may set the property \`forceHorizontalTabs\` to true
and the tabs will remain visible and horizontal. The \`forceHorizontalTabs\`
prop will not prevent the medication tables from switching to their stacked
view when viewed on smaller screens.`,displayName:"PatientMedications",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},forceHorizontalTabs:{defaultValue:{value:"false"},description:"",name:"forceHorizontalTabs",required:!1,type:{name:"boolean"}},hideAddToRecord:{defaultValue:null,description:"",name:"hideAddToRecord",required:!1,type:{name:"boolean"}},handleAddToRecord:{defaultValue:null,description:"",name:"handleAddToRecord",required:!1,type:{name:"((m: MedicationStatementModel) => void)"}},onOpenHistoryDrawer:{defaultValue:null,description:"",name:"onOpenHistoryDrawer",required:!1,type:{name:"(() => void)"}},onAfterOpenHistoryDrawer:{defaultValue:null,description:"",name:"onAfterOpenHistoryDrawer",required:!1,type:{name:"(() => void)"}}}}}catch{}export{ye as F,ge as O,De as P,he as T};
