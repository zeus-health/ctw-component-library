import{r as f,R as r}from"./index-6f814c40.js";import{c as w}from"./index-74f03c09.js";import{a as F}from"./_baseToString-5e23e5e6.js";import{g as v}from"./_commonjsHelpers-042e6b4d.js";import{f as ne,g as re,i as ie,t as D,l as se,j as le,s as ce,k as oe,q as de}from"./sortBy-7530ff7d.js";import{f as ue,k as P,g as me,h as pe,c as fe,i as ge}from"./_baseClone-59dfd81b.js";import{u as he,t as ye,w as we,a as _e,q as be,p as ve,g as Ee,b as Te,j as Ce,i as W,e as B,k as Ne,d as qe}from"./_equalByTag-2573c09c.js";import{c as Ie,k as Le}from"./_baseForOwn-0b302854.js";import{a as Se,b as Ve}from"./_createSet-00935424.js";import{i as ke}from"./_baseIsEqual-4482d138.js";import{i as xe}from"./isPlainObject-d68c8411.js";import{S as Ae}from"./spinner-66aa4ba7.js";function Re(e,t){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"}))}const Me=f.forwardRef(Re),Oe=Me;function $e(e,t){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"}))}const je=f.forwardRef($e),x=je,C=10,N=({total:e,count:t,changeCount:a})=>{const n=t>=e||e===0,i=e>C;return r.createElement("div",{className:"ctw-pagination"},r.createElement("div",{className:"ctw-text-gray-600 ctw-text-sm"},"Showing"," ",r.createElement("span",{className:"ctw-font-medium"},Math.min(t,e))," of"," ",r.createElement("span",{className:"ctw-font-medium"},e)," results"),(!n||i)&&r.createElement("div",{className:"ctw-leading-5"},!n&&r.createElement("button",{type:"button",className:"ctw-btn-clear ctw-link ctw-whitespace-nowrap",onClick:()=>a(e)},"Show All"),n&&i&&r.createElement("button",{type:"button",className:"ctw-btn-clear ctw-link ctw-whitespace-nowrap",onClick:()=>a(C)},"Clear")))};try{N.displayName="PaginationList",N.__docgenInfo={description:"",displayName:"PaginationList",props:{total:{defaultValue:null,description:"",name:"total",required:!0,type:{name:"number"}},count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},changeCount:{defaultValue:null,description:"",name:"changeCount",required:!0,type:{name:"(amount: number) => void"}}}}}catch{}const q=({columns:e})=>r.createElement("colgroup",null,e.map((t,a)=>r.createElement("col",{key:t.title??a,className:t.className,style:{minWidth:t.minWidth,width:`${t.widthPercent}%`}})));try{q.displayName="TableColGroup",q.__docgenInfo={description:"",displayName:"TableColGroup",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}}}}}catch{}const Fe=({sortOrder:e})=>{const t="ctw-text-gray-900 ctw-h-4",a=w(t,"ctw-opacity-100");switch(e){case"desc":return r.createElement(Oe,{className:a});case"asc":return r.createElement(x,{className:a});default:return r.createElement(x,{className:w(t,"ctw-opacity-0 group-hover:ctw-opacity-100")})}},I=({columns:e,sort:t,onSort:a})=>r.createElement("thead",null,r.createElement("tr",null,e.map((n,i)=>r.createElement("th",{className:w("ctw-group",n.sortIndices&&"ctw-cursor-pointer"),key:n.title??i,scope:"col",onClick:()=>n.sortIndices&&a&&a(n.title||"")},r.createElement("div",{className:"ctw-flex ctw-items-center ctw-space-x-2"},r.createElement("div",null,n.title),n.sortIndices&&r.createElement(Fe,{sortOrder:(t==null?void 0:t.columnTitle)===n.title?t==null?void 0:t.dir:void 0}))))));try{I.displayName="TableHead",I.__docgenInfo={description:"",displayName:"TableHead",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}},sort:{defaultValue:null,description:"",name:"sort",required:!1,type:{name:"TableSort"}},onSort:{defaultValue:null,description:"",name:"onSort",required:!1,type:{name:"((sortColumn: string) => void)"}}}}}catch{}var De=ne();const pa=v(De);var Pe=re();const fa=v(Pe);var We=ie();const ga=v(We);var Be=he,Ge=Se,He=Ve,Ue=F,Je=ye,A=we,Xe=Math.min;function Ze(e,t,a){for(var n=a?He:Ge,i=e[0].length,c=e.length,l=c,s=Array(c),o=1/0,y=[];l--;){var d=e[l];l&&t&&(d=Ue(d,Je(t))),o=Xe(d.length,o),s[l]=!a&&(t||i>=120&&d.length>=120)?new Be(l&&d):void 0}d=e[0];var g=-1,h=s[0];e:for(;++g<i&&y.length<o;){var m=d[g],p=t?t(m):m;if(m=a||m!==0?m:0,!(h?A(h,p):n(y,p,a))){for(l=c;--l;){var E=s[l];if(!(E?A(E,p):n(e[l],p,a)))continue e}h&&h.push(p),y.push(m)}}return y}var Ke=Ze,Qe=ke,Ye=_e;function ze(e){return Ye(e)&&Qe(e)}var G=ze,et=G;function tt(e){return et(e)?e:[]}var at=tt,nt=F,rt=Ke,it=D,st=at,lt=se,ct=it(function(e){var t=lt(e),a=nt(e,st);return t=typeof t=="function"?t:void 0,t&&a.pop(),a.length&&a[0]===e[0]?rt(a,void 0,t):[]}),ha=ct,ot=be,dt=ot.isFinite;function ut(e){return typeof e=="number"&&dt(e)}var ya=ut,mt=le();const wa=v(mt);var pt=Ie,ft=ve;function gt(e,t,a){(a!==void 0&&!ft(e[t],a)||a===void 0&&!(t in e))&&pt(e,t,a)}var H=gt;function ht(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var U=ht,yt=ue,wt=P;function _t(e){return yt(e,wt(e))}var bt=_t,R=H,vt=me,Et=pe,Tt=fe,Ct=ge,M=Ee,O=Te,Nt=G,qt=Ce,It=W,Lt=B,St=xe,Vt=Ne,$=U,kt=bt;function xt(e,t,a,n,i,c,l){var s=$(e,a),o=$(t,a),y=l.get(o);if(y){R(e,a,y);return}var d=c?c(s,o,a+"",e,t,l):void 0,g=d===void 0;if(g){var h=O(o),m=!h&&qt(o),p=!h&&!m&&Vt(o);d=o,h||m||p?O(s)?d=s:Nt(s)?d=Tt(s):m?(g=!1,d=vt(o,!0)):p?(g=!1,d=Et(o,!0)):d=[]:St(o)||M(o)?(d=s,M(s)?d=kt(s):(!Lt(s)||It(s))&&(d=Ct(o))):g=!1}g&&(l.set(o,d),i(d,o,n,c,l),l.delete(o)),R(e,a,d)}var At=xt,Rt=qe,Mt=H,Ot=Le,$t=At,jt=B,Ft=P,Dt=U;function J(e,t,a,n,i){e!==t&&Ot(t,function(c,l){if(i||(i=new Rt),jt(c))$t(e,t,l,a,J,n,i);else{var s=n?n(Dt(e,l),c,l+"",e,t,i):void 0;s===void 0&&(s=c),Mt(e,l,s)}},Ft)}var X=J,Pt=D,Wt=ce;function Bt(e){return Pt(function(t,a){var n=-1,i=a.length,c=i>1?a[i-1]:void 0,l=i>2?a[2]:void 0;for(c=e.length>3&&typeof c=="function"?(i--,c):void 0,l&&Wt(a[0],a[1],l)&&(c=i<3?void 0:c,i=1),t=Object(t);++n<i;){var s=a[n];s&&e(t,s,n,c)}return t})}var Z=Bt,Gt=X,Ht=Z,Ut=Ht(function(e,t,a){Gt(e,t,a)}),_a=Ut,Jt=X,Xt=Z,Zt=Xt(function(e,t,a,n){Jt(e,t,a,n)}),ba=Zt,Kt=oe();const Qt=v(Kt);de();function va(e){return!!(e&&typeof e=="object"&&"preventDefault"in e)}const Yt=e=>e==null||Number.isNaN(e)||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0;function zt(e,t,a){const n=t.find(i=>i.title===(a==null?void 0:a.columnTitle));return a&&(n!=null&&n.sortIndices)?(n.sortIndices=n.sortIndices.map(i=>i.dir?i:{index:i.index,dir:a.dir}),ea(e,n.sortIndices)):e}function ea(e,t){let a=[],n=[];return t.forEach(i=>{const{index:c,dir:l}=i;a=a.concat([s=>Yt(s[c]),c]),n=n.concat(["asc",l||"asc"])}),Qt(e,a,n)}const L=({column:e,record:t,index:a})=>{const n=e.dataIndex?t[e.dataIndex]:void 0;return r.createElement("td",{key:e.title??a,className:w({"ctw-font-medium ctw-text-content-black":a===0},e.className,"ctw-hyphens-auto ctw-break-words")},e.render?e.render(t):n)};try{L.displayName="TableDataCell",L.__docgenInfo={description:"",displayName:"TableDataCell",props:{column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"TableColumn<T>"}},record:{defaultValue:null,description:"",name:"record",required:!0,type:{name:"MinRecordItem"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}}}}}catch{}const T=({children:e,colSpan:t})=>r.createElement("tr",null,r.createElement("td",{className:"ctw-table-full-length-row",colSpan:t},e));try{T.displayName="TableFullLengthRow",T.__docgenInfo={description:"",displayName:"TableFullLengthRow",props:{colSpan:{defaultValue:null,description:"",name:"colSpan",required:!0,type:{name:"number"}}}}}catch{}const S=({records:e,columns:t,isLoading:a,emptyMessage:n,handleRowClick:i,RowActions:c})=>a?r.createElement(T,{colSpan:t.length},r.createElement("div",{className:"ctw-flex ctw-justify-center ctw-space-x-2"},r.createElement("span",null,"Loading..."),r.createElement(Ae,null))):e.length===0?r.createElement(T,{colSpan:t.length},n):r.createElement(r.Fragment,null,e.map(l=>r.createElement("tr",{className:w("ctw-group ctw-relative ctw-mx-px",{"ctw-cursor-pointer hover:ctw-bg-bg-lighter":W(i)}),key:l.id,onClick:({target:s})=>{s instanceof HTMLElement&&s.querySelectorAll("button").length||i&&i(l)}},t.map((s,o)=>r.createElement(L,{key:s.title??o,column:s,record:l,index:o})),c&&r.createElement("td",{className:"ctw-table-row-actions group-hover:ctw-visible"},r.createElement(c,{record:l})))));try{S.displayName="TableRows",S.__docgenInfo={description:"",displayName:"TableRows",props:{records:{defaultValue:null,description:"",name:"records",required:!0,type:{name:"T[]"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},emptyMessage:{defaultValue:null,description:"",name:"emptyMessage",required:!0,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},handleRowClick:{defaultValue:null,description:"",name:"handleRowClick",required:!1,type:{name:"((record: T) => void)"}},RowActions:{defaultValue:null,description:"",name:"RowActions",required:!1,type:{name:"ComponentType<{ record: T; }>"}}}}}catch{}const j=({className:e,columns:t,records:a,isLoading:n=!1,emptyMessage:i="No records found",showTableHead:c=!0,stacked:l,sort:s,onSort:o,handleRowClick:y,RowActions:d,hidePagination:g=!1,children:h})=>{const m=f.useRef(null),p=f.useRef(null),[E,K]=f.useState(!1),[Q,Y]=f.useState(!1),[V,z]=f.useState(C),ee=zt(a,t,s),_=()=>{const u=p.current,b=m.current;if(u&&b){K(u.scrollLeft>0);const ae=u.scrollLeft+u.clientWidth;Y(ae<b.clientWidth)}},te=u=>{const b={columnTitle:u,dir:"asc"};u===(s==null?void 0:s.columnTitle)&&(b.dir=s.dir==="asc"?"desc":"asc"),o&&o(b)};f.useEffect(()=>{const u=p.current;return _(),u==null||u.addEventListener("scroll",_),window.addEventListener("resize",_),()=>{u==null||u.removeEventListener("scroll",_),window.removeEventListener("resize",_)}},[p,n]);const k=!n&&a.length>0;return r.createElement("div",{className:w("ctw-space-y-4",{"ctw-table-stacked":l})},r.createElement("div",{className:w("ctw-table-container",e,{"ctw-table-scroll-left-shadow":E,"ctw-table-scroll-right-shadow":Q})},r.createElement("div",{className:"ctw-scrollbar",ref:p},r.createElement("table",{ref:m},k&&r.createElement(q,{columns:t}),c&&k&&r.createElement(I,{columns:t,sort:s,onSort:te}),r.createElement("tbody",null,r.createElement(S,{records:ee.slice(0,V),handleRowClick:y,RowActions:d,columns:t,isLoading:n,emptyMessage:i}))))),!g&&a.length>0&&!n&&r.createElement(N,{total:a.length,count:V,changeCount:z}),h)};try{j.displayName="Table",j.__docgenInfo={description:"",displayName:"Table",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}},records:{defaultValue:null,description:"",name:"records",required:!0,type:{name:"T[]"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},emptyMessage:{defaultValue:null,description:"Displayed when we have 0 records.",name:"emptyMessage",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},showTableHead:{defaultValue:{value:"true"},description:"",name:"showTableHead",required:!1,type:{name:"boolean"}},stacked:{defaultValue:null,description:"",name:"stacked",required:!1,type:{name:"boolean"}},sort:{defaultValue:null,description:"",name:"sort",required:!1,type:{name:"TableSort"}},onSort:{defaultValue:null,description:"",name:"onSort",required:!1,type:{name:"((sort: TableSort) => void)"}},hidePagination:{defaultValue:{value:"false"},description:"",name:"hidePagination",required:!1,type:{name:"boolean"}},handleRowClick:{defaultValue:null,description:"",name:"handleRowClick",required:!1,type:{name:"((record: T) => void)"}},RowActions:{defaultValue:null,description:"",name:"RowActions",required:!1,type:{name:"ComponentType<{ record: T; }>"}}}}}catch{}export{j as T,ya as _,_a as a,ha as b,fa as c,pa as d,wa as e,ga as f,va as i,ba as m,Qt as o};
//# sourceMappingURL=table-f396f8bf.js.map
