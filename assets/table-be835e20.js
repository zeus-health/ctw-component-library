import{R as e,r as i}from"./index-6f814c40.js";import{c as m}from"./index-74f03c09.js";import{S as H}from"./spinner-66aa4ba7.js";import"./_baseToString-4993715b.js";import"./sortBy-be5f7eb4.js";import"./_baseClone-25b1595e.js";import"./sortBy-919d7262.js";import{i as V}from"./_equalByTag-aaf39779.js";import"./_baseForOwn-d8306f34.js";import"./_createSet-12ef9b81.js";const g=10,h=({total:t,count:a,changeCount:l})=>{const n=a>=t||t===0,c=t>g;return e.createElement("div",{className:"ctw-pagination !ctw-mt-1 sm:!ctw-mt-2"},e.createElement("div",{className:"ctw-text-gray-600 ctw-text-sm"},"Showing"," ",e.createElement("span",{className:"ctw-font-medium"},Math.min(a,t))," of"," ",e.createElement("span",{className:"ctw-font-medium"},t)," records"),(!n||c)&&e.createElement("div",{className:"ctw-leading-5"},!n&&e.createElement("button",{type:"button",className:"ctw-btn-clear ctw-link ctw-whitespace-nowrap",onClick:()=>l(t)},"Show All"),n&&c&&e.createElement("button",{type:"button",className:"ctw-btn-clear ctw-link ctw-whitespace-nowrap",onClick:()=>l(g)},"Clear")))};try{h.displayName="PaginationList",h.__docgenInfo={description:"",displayName:"PaginationList",props:{total:{defaultValue:null,description:"",name:"total",required:!0,type:{name:"number"}},count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},changeCount:{defaultValue:null,description:"",name:"changeCount",required:!0,type:{name:"(amount: number) => void"}}}}}catch{}const b=({columns:t})=>e.createElement("colgroup",null,t.map((a,l)=>e.createElement("col",{key:a.title??l,className:a.className,width:a.widthPercent?`${a.widthPercent}%`:"0*",style:{minWidth:a.minWidth}})));try{b.displayName="TableColGroup",b.__docgenInfo={description:"",displayName:"TableColGroup",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}}}}}catch{}const _=({columns:t})=>e.createElement("thead",{"data-zus-telemetry-namespace":"TableHead"},e.createElement("tr",null,t.map((a,l)=>e.createElement("th",{className:"ctw-group",key:a.title??l,scope:"col"},e.createElement("div",{className:"ctw-flex ctw-items-center ctw-space-x-2"},e.createElement("div",null,a.title))))));try{_.displayName="TableHead",_.__docgenInfo={description:"",displayName:"TableHead",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}}}}}catch{}const E=({column:t,record:a,index:l})=>{const n=t.dataIndex?a[t.dataIndex]:void 0;return e.createElement("td",{key:t.title??l,className:m({"ctw-font-medium ctw-text-content-black":l===0},t.className,"ctw-hyphens-auto ctw-break-words")},t.render?t.render(a):n)};try{E.displayName="TableDataCell",E.__docgenInfo={description:"",displayName:"TableDataCell",props:{column:{defaultValue:null,description:"",name:"column",required:!0,type:{name:"TableColumn<T>"}},record:{defaultValue:null,description:"",name:"record",required:!0,type:{name:"MinRecordItem"}},index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}}}}}catch{}const f=({children:t,colSpan:a})=>e.createElement("tr",null,e.createElement("td",{className:"ctw-table-full-length-row",colSpan:a},t));try{f.displayName="TableFullLengthRow",f.__docgenInfo={description:"",displayName:"TableFullLengthRow",props:{colSpan:{defaultValue:null,description:"",name:"colSpan",required:!0,type:{name:"number"}}}}}catch{}const T=({records:t,columns:a,isLoading:l,emptyMessage:n,handleRowClick:c,RowActions:u,getRowClassName:p})=>l?e.createElement(f,{colSpan:a.length},e.createElement("div",{className:"ctw-flex ctw-justify-center ctw-space-x-2"},e.createElement("span",null,"Loading..."),e.createElement(H,null))):t.length===0?e.createElement(f,{colSpan:a.length},e.createElement("span",{className:"ctw-empty-message -ctw-mt-3.5 sm:ctw-mt-0"},n)):e.createElement(e.Fragment,null,t.map(o=>e.createElement("tr",{"data-zus-telemetry-click":c?"Table row":null,className:m("ctw-group ctw-relative ctw-mx-px",V(p)?p(o):"",{"ctw-cursor-pointer hover:ctw-bg-bg-lighter":V(c)}),key:o.id,onClick:({target:s})=>{s instanceof HTMLElement&&s.querySelectorAll("button").length||c&&c(o)}},a.map((s,w)=>e.createElement(E,{key:s.title??w,column:s,record:o,index:w})),u&&e.createElement("td",{className:"ctw-table-row-actions group-hover:ctw-visible",onClick:s=>s.stopPropagation()},e.createElement(u,{record:o})))));try{T.displayName="TableRows",T.__docgenInfo={description:"",displayName:"TableRows",props:{RowActions:{defaultValue:null,description:"",name:"RowActions",required:!1,type:{name:"ComponentType<{ record: T; }>"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}},emptyMessage:{defaultValue:null,description:"",name:"emptyMessage",required:!0,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},getRowClassName:{defaultValue:null,description:"",name:"getRowClassName",required:!1,type:{name:"((record: T) => Argument)"}},handleRowClick:{defaultValue:null,description:"",name:"handleRowClick",required:!1,type:{name:"((record: T) => void)"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},records:{defaultValue:null,description:"",name:"records",required:!0,type:{name:"T[]"}}}}}catch{}const S=({className:t,columns:a,records:l,isLoading:n=!1,emptyMessage:c="No records found",showTableHead:u=!0,stacked:p,handleRowClick:o,RowActions:s,getRowClassName:w,hidePagination:R=!1,pageSize:k=g,children:L})=>{const N=i.useRef(null),y=i.useRef(null),[x,I]=i.useState(!1),[A,P]=i.useState(!1),[q,M]=i.useState(k),d=()=>{const r=y.current,C=N.current;if(r&&C){I(r.scrollLeft>0);const z=r.scrollLeft+r.clientWidth;P(z<C.clientWidth)}};i.useEffect(()=>{const r=y.current;return d(),r==null||r.addEventListener("scroll",d),window.addEventListener("resize",d),()=>{r==null||r.removeEventListener("scroll",d),window.removeEventListener("resize",d)}},[y,n]);const v=!n&&l.length>0;return e.createElement("div",{"data-zus-telemetry-namespace":"Table",className:m("ctw-space-y-4",{"ctw-table-stacked":p})},e.createElement("div",{className:m("ctw-table-container",t,{"ctw-table-scroll-left-shadow":x,"ctw-table-scroll-right-shadow":A})},e.createElement("div",{className:"ctw-scrollbar",ref:y},e.createElement("table",{ref:N},v&&e.createElement(b,{columns:a}),u&&v&&e.createElement(_,{columns:a}),e.createElement("tbody",{className:m({"ctw-h-[7rem]":l.length===0})},e.createElement(T,{getRowClassName:w,records:l.slice(0,q),handleRowClick:o,RowActions:s,columns:a,isLoading:n,emptyMessage:c}))))),!R&&!n&&e.createElement(h,{total:l.length,count:q,changeCount:M}),L)};try{S.displayName="Table",S.__docgenInfo={description:"",displayName:"Table",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"Argument"}},records:{defaultValue:null,description:"",name:"records",required:!0,type:{name:"T[]"}},columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"TableColumn<T>[]"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},emptyMessage:{defaultValue:null,description:"Displayed when we have 0 records.",name:"emptyMessage",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},showTableHead:{defaultValue:{value:"true"},description:"",name:"showTableHead",required:!1,type:{name:"boolean"}},stacked:{defaultValue:null,description:"",name:"stacked",required:!1,type:{name:"boolean"}},hidePagination:{defaultValue:{value:"false"},description:"",name:"hidePagination",required:!1,type:{name:"boolean"}},pageSize:{defaultValue:{value:"10"},description:"",name:"pageSize",required:!1,type:{name:"number"}},handleRowClick:{defaultValue:null,description:"",name:"handleRowClick",required:!1,type:{name:"((record: T) => void)"}},RowActions:{defaultValue:null,description:"",name:"RowActions",required:!1,type:{name:"ComponentType<{ record: T; }>"}},getRowClassName:{defaultValue:null,description:"",name:"getRowClassName",required:!1,type:{name:"((record: T) => Argument)"}}}}}catch{}export{S as T};
